(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23474,e=>{"use strict";e.i(931605);var t=e.i(92702);e.s(["z",0,t])},86079,e=>{"use strict";let t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n}};e.s(["customAlphabet",()=>t])},254471,(e,t,r)=>{"use strict";var n=e.i(386496);let a=void 0!==n.Buffer,i=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,o=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function s(e,t,r){null==r&&null!==t&&"object"==typeof t&&(r=t,t=void 0),a&&n.Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let s=JSON.parse(e,t);if(null===s||"object"!=typeof s)return s;let c=r&&r.protoAction||"error",z=r&&r.constructorAction||"error";if("ignore"===c&&"ignore"===z)return s;if("ignore"!==c&&"ignore"!==z){if(!1===i.test(e)&&!1===o.test(e))return s}else if("ignore"!==c&&"ignore"===z){if(!1===i.test(e))return s}else if(!1===o.test(e))return s;return l(s,{protoAction:c,constructorAction:z,safe:r&&r.safe})}function l(e){let{protoAction:t="error",constructorAction:r="error",safe:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[e];for(;a.length;){let e=a;for(let i of(a=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(!0===n)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(i,"constructor")&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(!0===n)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(let e in i){let t=i[e];t&&"object"==typeof t&&a.push(t)}}}return e}function c(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return s(e,t,r)}finally{Error.stackTraceLimit=n}}t.exports=c,t.exports.default=c,t.exports.parse=c,t.exports.safeParse=function(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return s(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}},t.exports.scan=l},639038,e=>{"use strict";e.i(643908);var t,r,n="vercel.ai.error",a=Symbol.for(n),i=class e extends Error{static isInstance(t){return e.hasMarker(t,n)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}constructor({name:e,message:r,cause:n}){super(r),this[t]=!0,this.name=e,this.cause=n}};t=a;var o=i,s=(Symbol.for("vercel.ai.error.".concat("AI_APICallError")),Symbol.for("vercel.ai.error.".concat("AI_EmptyResponseBodyError")),"AI_InvalidArgumentError"),l="vercel.ai.error.".concat(s),c=Symbol.for(l),z=class extends o{static isInstance(e){return o.hasMarker(e,l)}constructor({message:e,cause:t,argument:n}){super({name:s,message:e,cause:t}),this[r]=!0,this.argument=n}};r=c,Symbol.for("vercel.ai.error.".concat("AI_InvalidPromptError")),Symbol.for("vercel.ai.error.".concat("AI_InvalidResponseDataError")),Symbol.for("vercel.ai.error.".concat("AI_JSONParseError")),Symbol.for("vercel.ai.error.".concat("AI_LoadAPIKeyError")),Symbol.for("vercel.ai.error.".concat("AI_LoadSettingError")),Symbol.for("vercel.ai.error.".concat("AI_NoContentGeneratedError")),Symbol.for("vercel.ai.error.".concat("AI_NoSuchModelError")),Symbol.for("vercel.ai.error.".concat("AI_TooManyEmbeddingValuesForCallError")),Symbol.for("vercel.ai.error.".concat("AI_TypeValidationError")),Symbol.for("vercel.ai.error.".concat("AI_UnsupportedFunctionalityError"));var p=e.i(86079);e.i(254471);var u=function(){let{prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,p.customAlphabet)(r,t);if(null==e)return a;if(r.includes(n))throw new z({argument:"separator",message:'The separator "'.concat(n,'" must not be part of the alphabet "').concat(r,'".')});return t=>"".concat(e).concat(n).concat(a(t))}();Symbol.for("vercel.ai.validator");var{btoa:d,atob:g}=globalThis;e.s(["generateId",()=>u],639038)},168204,44337,225695,e=>{"use strict";var t=e.i(386496);e.i(639038),e.i(541536);var r=e.i(23474);let n=new Map([["Supabase",["POSTGRES_URL","POSTGRES_PRISMA_URL","SUPABASE_URL","NEXT_PUBLIC_SUPABASE_URL","POSTGRES_URL_NON_POOLING","SUPABASE_JWT_SECRET","POSTGRES_USER","NEXT_PUBLIC_SUPABASE_ANON_KEY","POSTGRES_PASSWORD","POSTGRES_DATABASE","SUPABASE_SERVICE_ROLE_KEY","POSTGRES_HOST","SUPABASE_ANON_KEY"]],["Neon",["POSTGRES_URL","POSTGRES_PRISMA_URL","DATABASE_URL_UNPOOLED","POSTGRES_URL_NON_POOLING","PGHOST","POSTGRES_USER","STACK_SECRET_SERVER_KEY","DATABASE_URL","POSTGRES_PASSWORD","POSTGRES_DATABASE","PGPASSWORD","PGDATABASE","PGHOST_UNPOOLED","NEXT_PUBLIC_STACK_PROJECT_ID","PGUSER","POSTGRES_URL_NO_SSL","POSTGRES_HOST","NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY","NEON_PROJECT_ID"]],["Upstash Search",["UPSTASH_SEARCH_REST_READONLY_TOKEN","UPSTASH_SEARCH_REST_TOKEN","UPSTASH_SEARCH_REST_URL"]],["Upstash for Redis",["KV_URL","KV_REST_API_READ_ONLY_TOKEN","REDIS_URL","KV_REST_API_TOKEN","KV_REST_API_URL"]],["Blob",["BLOB_READ_WRITE_TOKEN"]],["Groq",["GROQ_API_KEY"]],["Grok",["XAI_API_KEY"]],["fal",["FAL_KEY"]],["Deep Infra",["DEEPINFRA_API_KEY"]]]),a=["Supabase","Neon"],i=new Map([["Supabase",["POSTGRES_URL","DATABASE_URL","SUPABASE_URL"]],["Neon",["POSTGRES_URL","DATABASE_URL"]]]);r.z.object({type:r.z.enum(["add-integration","run-script","add-env-var","run-action"]),stepName:r.z.string()}),r.z.object({type:r.z.enum(["add-integration","add-env-var"]),stepName:r.z.string()});let o=r.z.object({name:r.z.string(),instanceName:r.z.string(),status:r.z.enum(["connected","not_connected"]),schema:r.z.object({type:r.z.literal("database"),tableCount:r.z.number(),tables:r.z.array(r.z.object({schema:r.z.string(),name:r.z.string(),columns:r.z.array(r.z.object({name:r.z.string(),type:r.z.string()}))}))}).optional(),otherInfo:r.z.array(r.z.string()).optional()}),s=new Map([["Supabase",["@supabase/supabase-js","@supabase/ssr"]],["Neon",["@neondatabase/serverless"]],["Upstash for Redis",["@upstash/redis"]],["Blob",["@vercel/blob"]],["Groq",["@ai-sdk/groq"]],["Grok",["@ai-sdk/xai"]],["fal",["@ai-sdk/fal","@fal-ai/serverless-client"]],["Deep Infra",["@ai-sdk/deepinfra"]]]),l=r.z.array(r.z.object({id:r.z.string(),isConnected:r.z.boolean(),name:r.z.enum(["Supabase","Neon","Upstash for Redis","Upstash Search","Blob","Groq","Grok","fal","Deep Infra"]),pendingRedirect:r.z.object({url:r.z.string().url(),expiresAt:r.z.number()}).optional(),lightIconUrl:r.z.string().url(),darkIconUrl:r.z.string().url(),description:r.z.string(),existingInstances:r.z.array(r.z.object({isConnected:r.z.boolean(),name:r.z.string(),id:r.z.string()}))}));function c(e){return{integrationName:"product"in e?e.product.name:e.integrationName,instanceName:e.name}}r.z.object({environmentVariables:r.z.array(r.z.object({key:r.z.string()})),integrations:l,scripts:r.z.array(r.z.object({fileName:r.z.string()})),actions:r.z.array(r.z.object({action:r.z.enum(["supabase-chat-url"]),title:r.z.string(),info:r.z.string().optional()})),canShowWizard:r.z.boolean(),shouldPrompt:r.z.boolean()}),e.s(["INTEGRATION_NAME_TO_ENV_VARS",0,n,"INTEGRATION_NAME_TO_SOURCE_TEXT",0,s,"IntegrationStatusSchema",0,o,"SQL_EXEC_PROVIDERS_TO_EXECUTION_ENV",0,i,"getIntegrationAndInstanceName",()=>c,"isSqlExecProviderName",0,e=>a.includes(e)],44337);let z=r.z.object({type:r.z.literal("mdx"),content:r.z.string()}),p=r.z.object({type:r.z.literal("parse-error")}),u=r.z.array(r.z.object({status:r.z.enum(["todo","in-progress","done"]).describe("The status of the todo item"),task:r.z.string().describe("The task description")})),d=r.z.object({url:r.z.string().describe("The URL of the citation"),favicon:r.z.string().nullable().describe("The favicon of the citation"),image:r.z.string().nullable().describe("An image associated with the citation"),title:r.z.string().nullable().describe("The title of the citation"),publishedDate:r.z.string().nullable().describe("The published date of the citation")}),g={createdAt:r.z.number(),finishedAt:r.z.number().nullable(),lastPartSentAt:r.z.number().nullable(),taskNameActive:r.z.string().nullish(),taskNameComplete:r.z.string().nullish(),toolCallId:r.z.string().nullish(),error:r.z.discriminatedUnion("type",[r.z.object({type:r.z.literal("INPUT_SCHEMA_ERROR"),flattenedError:r.z.record(r.z.string(),r.z.any())}),r.z.object({type:r.z.literal("HANDLED_EXECUTION_ERROR"),message:r.z.string(),code:r.z.enum(["GENERIC_ERROR"])}),r.z.object({type:r.z.literal("UNHANDLED_EXECUTION_ERROR")})]).optional(),id:r.z.string(),llmContent:r.z.array(r.z.discriminatedUnion("type",[r.z.object({type:r.z.literal("text"),text:r.z.string()}),r.z.object({type:r.z.literal("image"),url:r.z.string()})])).nullish()};function b(e){let{taskName:t,version:n,parts:a}=e;return r.z.object({...g,type:r.z.literal("task-".concat(t,"-").concat(n)),parts:r.z.array(r.z.discriminatedUnion("type",[...a,p]).catch({type:"parse-error"}))})}let y=r.z.discriminatedUnion("type",[b({taskName:"thinking",version:"v1",parts:[r.z.object({type:r.z.literal("thinking-end"),duration:r.z.number(),thought:r.z.string()})]}),b({taskName:"start",version:"v1",parts:[r.z.object({type:r.z.literal("launch-tasks")})]}),b({taskName:"repaired-parser-content",version:"v1",parts:[r.z.object({type:r.z.literal("bad-thinking-content"),content:r.z.string()}),r.z.object({type:r.z.literal("bad-text-content"),content:r.z.string()})]}),b({taskName:"stopped",version:"v1",parts:[r.z.object({type:r.z.literal("manually-stopped-on-client")}),r.z.object({type:r.z.literal("out-of-credits")}),r.z.object({type:r.z.literal("orchestrator-invocations-exhausted"),invocations:r.z.number()}),r.z.object({type:r.z.literal("subagent-invocations-exhausted"),invocations:r.z.number()}),r.z.object({type:r.z.literal("agent-timeout")}),r.z.object({type:r.z.literal("orchestrator-error")})]}),b({taskName:"diagnostics",version:"v1",parts:[r.z.object({type:r.z.literal("diagnostic-invocations-exhausted")}),r.z.object({type:r.z.literal("fetching-diagnostics")}),r.z.object({type:r.z.literal("diagnostics-passed")}),r.z.object({type:r.z.literal("diagnostics-found-issues"),summaries:r.z.array(r.z.string())})]}),b({taskName:"coding",version:"v1",parts:[r.z.object({type:r.z.literal("code-project"),isVersioned:r.z.boolean(),changedFiles:r.z.array(r.z.object({fileName:r.z.string(),baseName:r.z.string(),isActive:r.z.boolean(),isTerminated:r.z.boolean(),isDeleted:r.z.boolean(),isMoved:r.z.boolean()})),latestDeploymentInfo:r.z.any(),sourceVersionKey:r.z.string().optional(),lastDeployedAt:r.z.string().optional(),lastEditedAt:r.z.string().optional(),needsBlockSource:r.z.boolean(),blockId:r.z.string(),meta:r.z.record(r.z.string(),r.z.any()),closed:r.z.boolean(),lang:r.z.string(),source:r.z.string()})]}),b({taskName:"fetch-from-web",version:"v1",parts:[r.z.object({type:r.z.literal("starting-fetch-from-web"),url:r.z.string()}),r.z.object({type:r.z.literal("finished-fetch-from-web"),url:r.z.string(),favicon:r.z.string().nullable(),image:r.z.string().nullable(),title:r.z.string().nullable(),publishedDate:r.z.string().nullable()})]}),b({taskName:"inspect-site",version:"v1",parts:[r.z.object({type:r.z.literal("starting-inspect-site"),url:r.z.string()}),r.z.object({type:r.z.literal("skipping-inspect-site"),reason:r.z.string()}),r.z.object({type:r.z.literal("screenshot"),screenshotUrl:r.z.string().nullish(),url:r.z.string(),path:r.z.string().nullish(),pageTitle:r.z.string().nullish(),logoUrl:r.z.string().nullish()}),r.z.object({type:r.z.literal("inspect-site-complete"),screenshotResults:r.z.array(r.z.object({type:r.z.literal("screenshot"),screenshotUrl:r.z.string().nullish(),height:r.z.number().nullish(),width:r.z.number().nullish(),title:r.z.string().nullish()}))})]}),b({taskName:"search-web",version:"v1",parts:[r.z.object({type:r.z.literal("starting-web-search"),query:r.z.string()}),r.z.object({type:r.z.literal("got-results"),count:r.z.number()}),r.z.object({type:r.z.literal("failed-web-search")}),r.z.object({type:r.z.literal("finished-web-search"),answer:r.z.string(),citations:r.z.array(d)})]}),b({taskName:"manage-todos",version:"v1",parts:[r.z.object({type:r.z.literal("starting-todo-manager")}),r.z.object({type:r.z.literal("updated-todo-list"),updatedList:u}),r.z.object({type:r.z.literal("read-todo-list")}),r.z.object({type:r.z.literal("generated-technical-plan"),plan:r.z.string()})]}),b({taskName:"read-file",version:"v1",parts:[r.z.object({type:r.z.literal("starting-search-in-file"),query:r.z.string()}),r.z.object({type:r.z.literal("grepping-file"),pattern:r.z.string()}),r.z.object({type:r.z.literal("selected-chunks"),chunks:r.z.array(r.z.object({filePath:r.z.string(),offset:r.z.number(),limit:r.z.number()}))}),r.z.object({type:r.z.literal("grep-results"),numMatches:r.z.number(),pattern:r.z.string(),isInvalidPattern:r.z.boolean().optional()}),r.z.object({type:r.z.literal("reading-file"),filePath:r.z.string(),offset:r.z.number().nullish(),limit:r.z.number().nullish()})]}),b({taskName:"search-repo",version:"v1",parts:[r.z.object({type:r.z.literal("starting-repo-search"),query:r.z.string()}),r.z.object({type:r.z.literal("ls"),path:r.z.string().optional()}),r.z.object({type:r.z.literal("ls-results"),numFiles:r.z.number()}),r.z.object({type:r.z.literal("grepping-repo"),pattern:r.z.string(),path:r.z.string().optional(),globPattern:r.z.string().optional()}),r.z.object({type:r.z.literal("grep-results"),numMatches:r.z.number(),pattern:r.z.string()}),r.z.object({type:r.z.literal("grep-file-results"),numFileMatches:r.z.number(),isInvalidPattern:r.z.boolean().optional()}),r.z.object({type:r.z.literal("select-files"),filePaths:r.z.array(r.z.string())}),r.z.object({type:r.z.literal("reading-file"),filePath:r.z.string(),offset:r.z.number().nullish(),limit:r.z.number().nullish()}),r.z.object({type:r.z.literal("repo-search-result"),query:r.z.string(),result:r.z.string()})]}),b({taskName:"run-shell-command",version:"v1",parts:[r.z.object({type:r.z.literal("starting-shell-command"),command:r.z.string(),directory:r.z.string().nullish(),description:r.z.string().nullish()}),r.z.object({type:r.z.literal("finished-shell-command"),output:r.z.string(),exitCode:r.z.number(),backgroundPids:r.z.array(r.z.number()),directory:r.z.string().nullish(),command:r.z.string()})]}),b({taskName:"read-files",version:"v1",parts:[r.z.object({type:r.z.literal("starting-read-files"),filePaths:r.z.array(r.z.string())}),r.z.object({type:r.z.literal("finished-read-files"),fileContents:r.z.record(r.z.string(),r.z.string())})]}),b({taskName:"generate-design-inspiration",version:"v1",parts:[r.z.object({type:r.z.literal("starting-design-inspiration"),prompt:r.z.string()}),r.z.object({type:r.z.literal("finished-design-inspiration"),enhancedPrompt:r.z.string().optional()})]}),b({taskName:"get-or-request-integration",version:"v1",parts:[r.z.object({type:r.z.literal("starting-integration-status-check")}),r.z.object({type:r.z.literal("request-install-integration"),steps:r.z.array(r.z.object({type:r.z.enum(["add-integration"]),stepName:r.z.string()}))}),r.z.object({type:r.z.literal("finished-integration-status-check"),integrations:r.z.array(o),envVars:r.z.array(r.z.string())})]})]),m=r.z.object({type:r.z.literal("launch-tasks"),tasks:r.z.array(r.z.object({name:r.z.string(),taskNameActive:r.z.string().nullish(),taskNameComplete:r.z.string().nullish(),inputRaw:r.z.string(),toolCallId:r.z.string().nullish()}))}),h=[r.z.object({type:r.z.literal("turn-start")}),r.z.object({type:r.z.literal("turn-reset")}),r.z.object({type:r.z.literal("turn-finish")}),r.z.object({type:r.z.literal("agent-finish")})],f=r.z.discriminatedUnion("type",[z,p,m,...h,...y.options]),_=y.options.map(e=>e.shape.type.value),S=r.z.object({type:r.z.literal("refinement-element"),file:r.z.string(),componentName:r.z.string().optional(),sourceContext:r.z.string(),line:r.z.number(),column:r.z.number()}),E=r.z.discriminatedUnion("type",[p,S,r.z.object({type:r.z.literal("mention-file"),filePath:r.z.string()}),r.z.object({type:r.z.literal("mention-url"),url:r.z.string()}),r.z.object({type:r.z.literal("hidden-context"),context:r.z.string()}),r.z.object({type:r.z.literal("confirmed-steps"),connectedIntegrationNames:r.z.array(r.z.string()),appliedScripts:r.z.array(r.z.string()),addedEnvVars:r.z.array(r.z.string())}),r.z.object({type:r.z.literal("mention-directory"),directoryPath:r.z.string()})]),v=r.z.discriminatedUnion("type",[z,...E.options]),A=v.options.map(e=>e.shape.type.value),j=E.options.map(e=>e.shape.type.value);function R(e){return A.includes(e.type)}function T(e){return j.includes(e)}let P=r.z.discriminatedUnion("type",[...f.options,...v.options.filter(e=>"mdx"!==e.shape.type.value&&"parse-error"!==e.shape.type.value)]),N=r.z.object({version:r.z.literal(1),parts:r.z.array(P.catch({type:"parse-error"}))}),O="AssistantMessageContentPart";e.s(["AssistantMessagePartTagName",0,O,"MessageContentServer",0,N,"UserMessageContentRichPart",0,E,"createMDXMessageContent",0,e=>({version:1,parts:[{type:"mdx",content:e}]}),"isUserMessageContentPart",()=>R,"isUserMessageContentRichPartType",()=>T,"stringifyMessageContent",0,(e,r)=>{let n="";for(let a of(null==e?void 0:e.parts)||[]){let e=a.type;if(null==r||!r.filterTypes||r.filterTypes.includes(e))switch(e){case"confirmed-steps":let i=a.connectedIntegrationNames.length>0||a.appliedScripts.length>0||a.addedEnvVars.length>0;for(let e of a.connectedIntegrationNames)n+=" @connected-integration(".concat(e,") ");for(let e of a.appliedScripts)n+=" @applied-script(".concat(e,") ");for(let e of a.addedEnvVars)n+=" @added-env-var(".concat(e,") ");i?n+="\n\nPlease check the integration status to understand the setup. Then continue.":n+="I have chosen to not add any integrations or env vars, as well as not applying any scripts. Please continue.";break;case"mdx":n+=a.content;break;case"parse-error":case"turn-start":case"turn-reset":case"turn-finish":case"launch-tasks":case"agent-finish":break;case"mention-file":n+="@file(".concat(a.filePath,")");break;case"hidden-context":n+="<v0_system_context>".concat(a.context,"</v0_system_context>");break;case"refinement-element":let{file:o,componentName:s,sourceContext:l}=a;n+="<user_request_context>\n\nUser's request is specifically about the file \"".concat(o,'" and the ').concat(s?'"'.concat(s,'" element'):"element"," at this specific position (including its inner content, too):\n\n```\n").concat(l,"\n```\n\nPlease apply a Quick Edit to this file and make the necessary changes.\n\n</user_request_context>");break;case"mention-directory":n+="@directory(".concat(a.directoryPath,")");break;case"mention-url":n+="@web-fetch(".concat(a.url,")");break;default:if(_.includes(e)){if(!(null==r?void 0:r.isParsing))break;let{llmContent:e,...i}=a,o=t.Buffer.from(JSON.stringify(i)).toString("base64");n+="\n\n<".concat(O,' partEncoded="').concat(o,'" />\n\n');break}return e}}return!n&&(null==r?void 0:r.defaultValue)&&(n=r.defaultValue),n}],225695),e.s([],168204)}]);