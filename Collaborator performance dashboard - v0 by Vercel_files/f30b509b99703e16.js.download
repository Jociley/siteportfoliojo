(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,440420,e=>{"use strict";var t=e.i(308165),i=e.i(211023),o=e.i(436120),n=e.i(247921),r=e.i(910207),s=e.i(581793),a=e.i(116086),l=e.i(232204),d=e.i(8114),c=e.i(785310),u=e.i(836387),h=e.i(619223),p=e.i(166253),g=e.i(756970),m=e.i(545731),v=e.i(693655),_=e.i(352700),f=e.i(633921),y=e.i(272117),C=e.i(180997),b=e.i(588624),S=e.i(68174),w=e.i(982534),E=e.i(323235),I=e.i(657170),x=e.i(87211),D=e.i(320152),k=e.i(720274),A=e.i(544421),M=e.i(901485),L=e.i(886202),T=e.i(6423),R=e.i(120337),N=e.i(73351),P=e.i(357790),O=e.i(630903);let F=0,K=!1,W=class extends r.CodeEditorWidget{addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let o="DYNAMIC_"+ ++F,n=p.ContextKeyExpr.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(o,e,t,n),o}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){var t=this;if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),o.Disposable.None;let i=e.id,n=e.label,r=p.ContextKeyExpr.and(p.ContextKeyExpr.equals("editorId",this.getId()),p.ContextKeyExpr.deserialize(e.precondition)),a=e.keybindings,l=p.ContextKeyExpr.and(r,p.ContextKeyExpr.deserialize(e.keybindingContext)),u=e.contextMenuGroupId||null,h=e.contextMenuOrder||0,g=function(i){for(var o=arguments.length,n=Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return Promise.resolve(e.run(t,...n))},m=new o.DisposableStore,v=this.getId()+":"+i;if(m.add(c.CommandsRegistry.registerCommand(v,g)),u&&m.add(d.MenuRegistry.appendMenuItem(d.MenuId.EditorContext,{command:{id:v,title:n},when:r,group:u,order:h})),Array.isArray(a))for(let e of a)m.add(this._standaloneKeybindingService.addDynamicKeybinding(v,e,g,l));let _=new s.InternalEditorAction(v,n,n,void 0,r,function(){for(var i=arguments.length,o=Array(i),n=0;n<i;n++)o[n]=arguments[n];return Promise.resolve(e.run(t,...o))},this._contextKeyService);return this._actions.set(i,_),m.add((0,o.toDisposable)(()=>{this._actions.delete(i)})),m}_triggerCommand(e,t){if(this._codeEditorService instanceof x.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}constructor(e,t,o,n,r,s,l,d,c,u,h,p,g){let m={...t};m.ariaLabel=m.ariaLabel||b.StandaloneCodeEditorNLS.editorViewAccessibleLabel,super(e,m,{isStandaloneEditor:!0},o,n,r,s,c,u,h,p,g),d instanceof a.StandaloneKeybindingService?this._standaloneKeybindingService=d:this._standaloneKeybindingService=null,function(e){if(!e){if(K)return;K=!0}(0,i.setARIAContainer)(e||T.mainWindow.document.body)}(m.ariaContainerElement),(0,R.setHoverDelegateFactory)((e,t)=>o.createInstance(N.WorkbenchHoverDelegate,e,t,{})),(0,O.setBaseLayerHoverDelegate)(l)}};W=(0,t.__decorate)([(0,t.__param)(2,v.IInstantiationService),(0,t.__param)(3,n.ICodeEditorService),(0,t.__param)(4,u.ICommandService),(0,t.__param)(5,g.IContextKeyService),(0,t.__param)(6,P.IHoverService),(0,t.__param)(7,_.IKeybindingService),(0,t.__param)(8,y.IThemeService),(0,t.__param)(9,f.INotificationService),(0,t.__param)(10,C.IAccessibilityService),(0,t.__param)(11,k.ILanguageConfigurationService),(0,t.__param)(12,A.ILanguageFeaturesService)],W);let z=class extends W{dispose(){super.dispose()}updateOptions(e){(0,a.updateConfigurationService)(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}constructor(e,t,i,o,n,r,s,l,d,c,u,h,p,g,m,v){let _,f={...t};(0,a.updateConfigurationService)(u,f,!1);let y=d.registerEditorContainer(e);"string"==typeof f.theme&&d.setTheme(f.theme),void 0!==f.autoDetectHighContrast&&d.setAutoDetectHighContrast(!!f.autoDetectHighContrast);let C=f.model;if(delete f.model,super(e,f,i,o,n,r,s,l,d,c,h,m,v),this._configurationService=u,this._standaloneThemeService=d,this._register(y),void 0===C){let e=g.getLanguageIdByMimeType(f.language)||f.language||D.PLAINTEXT_LANGUAGE_ID;_=B(p,g,f.value||"",e,void 0),this._ownsModel=!0}else _=C,this._ownsModel=!1;if(this._attachModel(_),_){let e={oldModelUrl:null,newModelUrl:_.uri};this._onDidChangeModel.fire(e)}}};z=(0,t.__decorate)([(0,t.__param)(2,v.IInstantiationService),(0,t.__param)(3,n.ICodeEditorService),(0,t.__param)(4,u.ICommandService),(0,t.__param)(5,g.IContextKeyService),(0,t.__param)(6,P.IHoverService),(0,t.__param)(7,_.IKeybindingService),(0,t.__param)(8,l.IStandaloneThemeService),(0,t.__param)(9,f.INotificationService),(0,t.__param)(10,h.IConfigurationService),(0,t.__param)(11,C.IAccessibilityService),(0,t.__param)(12,E.IModelService),(0,t.__param)(13,I.ILanguageService),(0,t.__param)(14,k.ILanguageConfigurationService),(0,t.__param)(15,A.ILanguageFeaturesService)],z);let V=class extends M.DiffEditorWidget{dispose(){super.dispose()}updateOptions(e){(0,a.updateConfigurationService)(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(W,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}constructor(e,t,i,o,n,r,s,l,d,c,u,h){let p={...t};(0,a.updateConfigurationService)(l,p,!0);let g=r.registerEditorContainer(e);"string"==typeof p.theme&&r.setTheme(p.theme),void 0!==p.autoDetectHighContrast&&r.setAutoDetectHighContrast(!!p.autoDetectHighContrast),super(e,p,{isStandaloneEditor:!0},o,i,n,h,c),this._configurationService=l,this._standaloneThemeService=r,this._register(g)}};function B(e,t,i,o,n){if(i=i||"",!o){let o=i.indexOf("\n"),r=i;return -1!==o&&(r=i.substring(0,o)),H(e,i,t.createByFilepathOrFirstLine(n||null,r),n)}return H(e,i,t.createById(o),n)}function H(e,t,i,o){return e.createModel(t,i,o)}V=(0,t.__decorate)([(0,t.__param)(2,v.IInstantiationService),(0,t.__param)(3,g.IContextKeyService),(0,t.__param)(4,n.ICodeEditorService),(0,t.__param)(5,l.IStandaloneThemeService),(0,t.__param)(6,f.INotificationService),(0,t.__param)(7,h.IConfigurationService),(0,t.__param)(8,m.IContextMenuService),(0,t.__param)(9,w.IEditorProgressService),(0,t.__param)(10,S.IClipboardService),(0,t.__param)(11,L.IAccessibilitySignalService)],V),e.s(["StandaloneCodeEditor",()=>W,"StandaloneDiffEditor2",()=>V,"StandaloneEditor",()=>z,"createTextModel",()=>B])},240043,147031,e=>{"use strict";var t,i,o=e.i(68858),n=e.i(760837),r=e.i(394839),s=e.i(371305),a=e.i(450332),l=e.i(839435),d=e.i(292473),c=e.i(857798),u=e.i(309187),h=e.i(747053),p=e.i(475424),g=e.i(91418),m=e.i(236924),v=e.i(279691),_=e.i(490582),f=e.i(224961),y=e.i(116185);class C{static _handleEolEdits(e,t){let i,o=[];for(let e of t)"number"==typeof e.eol&&(i=e.eol),e.range&&"string"==typeof e.text&&o.push(e);return"number"==typeof i&&e.hasModel()&&e.getModel().pushEOL(i),o}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;let i=e.getModel(),o=i.validateRange(t.range);return i.getFullModelRange().equalsRange(o)}static execute(e,t,i){i&&e.pushUndoStop();let o=y.StableEditorScrollState.capture(e),n=C._handleEolEdits(e,t);1===n.length&&C._isFullModelReplaceEdit(e,n[0])?e.executeEdits("formatEditsCommand",n.map(e=>f.EditOperation.replace(p.Range.lift(e.range),e.text))):e.executeEdits("formatEditsCommand",n.map(e=>f.EditOperation.replaceMove(p.Range.lift(e.range),e.text))),i&&e.pushUndoStop(),o.restoreRelativeVerticalPositionOfCursor(e)}}e.s(["FormattingEdit",()=>C],147031);var b=e.i(785310),S=e.i(883333),w=e.i(693655),E=e.i(544421),I=e.i(322549),x=e.i(450569),D=e.i(886202);function k(e,t,i){let o=[],n=new S.ExtensionIdentifierSet;for(let t of e.ordered(i))o.push(t),t.extensionId&&n.add(t.extensionId);for(let e of t.ordered(i)){if(e.extensionId){if(n.has(e.extensionId))continue;n.add(e.extensionId)}o.push({displayName:e.displayName,extensionId:e.extensionId,provideDocumentFormattingEdits:(t,i,o)=>e.provideDocumentRangeFormattingEdits(t,t.getFullModelRange(),i,o)})}return o}!function(e){e[e.File=1]="File",e[e.Selection=2]="Selection"}(t||(t={})),function(e){e[e.Explicit=1]="Explicit",e[e.Silent=2]="Silent"}(i||(i={}));class A{static setFormatterSelector(e){return{dispose:A._selectors.unshift(e)}}static async select(e,t,i,o){if(0===e.length)return;let n=s.Iterable.first(A._selectors);if(n)return await n(e,t,i,o)}}async function M(e,i,o,n,r,s,a){let l=e.get(w.IInstantiationService),{documentRangeFormattingEditProvider:d}=e.get(E.ILanguageFeaturesService),c=(0,u.isCodeEditor)(i)?i.getModel():i,h=d.ordered(c),p=await A.select(h,c,n,t.Selection);p&&(r.report(p),await l.invokeFunction(L,p,i,o,s,a))}async function L(e,t,i,n,r,s){let a,l,d=e.get(v.IEditorWorkerService),h=e.get(I.ILogService),_=e.get(D.IAccessibilitySignalService);(0,u.isCodeEditor)(i)?(a=i.getModel(),l=new c.EditorStateCancellationTokenSource(i,c.CodeEditorStateFlag.Value|c.CodeEditorStateFlag.Position,void 0,r)):(a=i,l=new c.TextModelCancellationTokenSource(i,r));let f=[],y=0;for(let e of(0,o.asArray)(n).sort(p.Range.compareRangesUsingStarts))y>0&&p.Range.areIntersectingOrTouching(f[y-1],e)?f[y-1]=p.Range.fromPositions(f[y-1].getStartPosition(),e.getEndPosition()):y=f.push(e);let b=async e=>{var i,o;h.trace("[format][provideDocumentRangeFormattingEdits] (request)",null==(i=t.extensionId)?void 0:i.value,e);let n=await t.provideDocumentRangeFormattingEdits(a,e,a.getFormattingOptions(),l.token)||[];return h.trace("[format][provideDocumentRangeFormattingEdits] (response)",null==(o=t.extensionId)?void 0:o.value,n),n},S=(e,t)=>{if(!e.length||!t.length)return!1;let i=e.reduce((e,t)=>p.Range.plusRange(e,t.range),e[0].range);if(!t.some(e=>p.Range.intersectRanges(i,e.range)))return!1;for(let i of e)for(let e of t)if(p.Range.intersectRanges(i.range,e.range))return!0;return!1},w=[],E=[];try{if("function"==typeof t.provideDocumentRangesFormattingEdits){var k,A;h.trace("[format][provideDocumentRangeFormattingEdits] (request)",null==(k=t.extensionId)?void 0:k.value,f);let e=await t.provideDocumentRangesFormattingEdits(a,f,a.getFormattingOptions(),l.token)||[];h.trace("[format][provideDocumentRangeFormattingEdits] (response)",null==(A=t.extensionId)?void 0:A.value,e),E.push(e)}else{for(let e of f){if(l.token.isCancellationRequested)return!0;E.push(await b(e))}for(let e=0;e<f.length;++e)for(let t=e+1;t<f.length;++t){if(l.token.isCancellationRequested)return!0;if(S(E[e],E[t])){let i=p.Range.plusRange(f[e],f[t]),o=await b(i);f.splice(t,1),f.splice(e,1),f.push(i),E.splice(t,1),E.splice(e,1),E.push(o),e=0,t=0}}}for(let e of E){if(l.token.isCancellationRequested)return!0;let t=await d.computeMoreMinimalEdits(a.uri,e);t&&w.push(...t)}}finally{l.dispose()}if(0===w.length)return!1;if((0,u.isCodeEditor)(i))C.execute(i,w,!0),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),m.ScrollType.Immediate);else{let[{range:e}]=w,t=new g.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);a.pushEditOperations([t],w.map(e=>({text:e.text,range:p.Range.lift(e.range),forceMoveMarkers:!0})),e=>{for(let{range:i}of e)if(p.Range.areIntersectingOrTouching(i,t))return[new g.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null})}return _.playSignal(x.AccessibilitySignal.format,{userGesture:s}),!0}async function T(e,i,o,n,r,s){let a=e.get(w.IInstantiationService),l=e.get(E.ILanguageFeaturesService),d=(0,u.isCodeEditor)(i)?i.getModel():i,c=k(l.documentFormattingEditProvider,l.documentRangeFormattingEditProvider,d),h=await A.select(c,d,o,t.File);h&&(n.report(h),await a.invokeFunction(R,h,i,o,r,s))}async function R(e,t,o,n,r,s){let a,l,d,h=e.get(v.IEditorWorkerService),_=e.get(D.IAccessibilitySignalService);(0,u.isCodeEditor)(o)?(a=o.getModel(),l=new c.EditorStateCancellationTokenSource(o,c.CodeEditorStateFlag.Value|c.CodeEditorStateFlag.Position,void 0,r)):(a=o,l=new c.TextModelCancellationTokenSource(o,r));try{let e=await t.provideDocumentFormattingEdits(a,a.getFormattingOptions(),l.token);if(d=await h.computeMoreMinimalEdits(a.uri,e),l.token.isCancellationRequested)return!0}finally{l.dispose()}if(!d||0===d.length)return!1;if((0,u.isCodeEditor)(o))C.execute(o,d,n!==i.Silent),n!==i.Silent&&o.revealPositionInCenterIfOutsideViewport(o.getPosition(),m.ScrollType.Immediate);else{let[{range:e}]=d,t=new g.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);a.pushEditOperations([t],d.map(e=>({text:e.text,range:p.Range.lift(e.range),forceMoveMarkers:!0})),e=>{for(let{range:i}of e)if(p.Range.areIntersectingOrTouching(i,t))return[new g.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null})}return _.playSignal(x.AccessibilitySignal.format,{userGesture:s}),!0}async function N(e,t,i,n,s,a){for(let l of t.documentRangeFormattingEditProvider.ordered(i)){let t=await Promise.resolve(l.provideDocumentRangeFormattingEdits(i,n,s,a)).catch(r.onUnexpectedExternalError);if((0,o.isNonEmptyArray)(t))return await e.computeMoreMinimalEdits(i.uri,t)}}async function P(e,t,i,n,s){for(let a of k(t.documentFormattingEditProvider,t.documentRangeFormattingEditProvider,i)){let t=await Promise.resolve(a.provideDocumentFormattingEdits(i,n,s)).catch(r.onUnexpectedExternalError);if((0,o.isNonEmptyArray)(t))return await e.computeMoreMinimalEdits(i.uri,t)}}function O(e,t,i,o,n,s,a){let l=t.onTypeFormattingEditProvider.ordered(i);return 0===l.length||0>l[0].autoFormatTriggerCharacters.indexOf(n)?Promise.resolve(void 0):Promise.resolve(l[0].provideOnTypeFormattingEdits(i,o,n,s,a)).catch(r.onUnexpectedExternalError).then(t=>e.computeMoreMinimalEdits(i.uri,t))}A._selectors=new a.LinkedList,b.CommandsRegistry.registerCommand("_executeFormatRangeProvider",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[r,s,a]=i;(0,l.assertType)(d.URI.isUri(r)),(0,l.assertType)(p.Range.isIRange(s));let c=e.get(_.ITextModelService),u=e.get(v.IEditorWorkerService),h=e.get(E.ILanguageFeaturesService),g=await c.createModelReference(r);try{return N(u,h,g.object.textEditorModel,p.Range.lift(s),a,n.CancellationToken.None)}finally{g.dispose()}}),b.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[r,s]=i;(0,l.assertType)(d.URI.isUri(r));let a=e.get(_.ITextModelService),c=e.get(v.IEditorWorkerService),u=e.get(E.ILanguageFeaturesService),h=await a.createModelReference(r);try{return P(c,u,h.object.textEditorModel,s,n.CancellationToken.None)}finally{h.dispose()}}),b.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[r,s,a,c]=i;(0,l.assertType)(d.URI.isUri(r)),(0,l.assertType)(h.Position.isIPosition(s)),(0,l.assertType)("string"==typeof a);let u=e.get(_.ITextModelService),p=e.get(v.IEditorWorkerService),g=e.get(E.ILanguageFeaturesService),m=await u.createModelReference(r);try{return O(p,g,m.object.textEditorModel,h.Position.lift(s),a,c,n.CancellationToken.None)}finally{m.dispose()}}),e.s(["FormattingConflicts",()=>A,"FormattingKind",()=>t,"FormattingMode",()=>i,"formatDocumentRangesWithProvider",()=>L,"formatDocumentRangesWithSelectedProvider",()=>M,"formatDocumentWithProvider",()=>R,"formatDocumentWithSelectedProvider",()=>T,"getOnTypeFormattingEdits",()=>O,"getRealAndSyntheticDocumentFormattersOrdered",()=>k],240043)},364359,e=>{"use strict";var t=e.i(145384),i=e.i(645304),o=e.i(547158);class n{get regions(){return this._regions}get textModel(){return this._textModel}get decorationProvider(){return this._decorationProvider}toggleCollapseState(e){if(!e.length)return;e=e.sort((e,t)=>e.regionIndex-t.regionIndex);let t={};this._decorationProvider.changeDecorations(o=>{let n=0,r=-1,s=-1,a=e=>{for(;n<e;){let e=this._regions.getEndLineNumber(n),t=this._regions.isCollapsed(n);if(e<=r){let r=this.regions.getSource(n)!==i.FoldSource.provider;o.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(t,e<=s,r))}t&&e>s&&(s=e),n++}};for(let i of e){let e=i.regionIndex,o=this._editorDecorationIds[e];if(o&&!t[o]){t[o]=!0,a(e);let i=!this._regions.isCollapsed(e);this._regions.setCollapsed(e,i),r=Math.max(r,this._regions.getEndLineNumber(e))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){let t=[],o=t=>{for(let i of e)if(!(i.startLineNumber>t.endLineNumber||t.startLineNumber>i.endLineNumber))return!0;return!1};for(let e=0;e<this._regions.length;e++){let n=this._regions.toFoldRange(e);n.source!==i.FoldSource.provider&&o(n)||t.push(n)}this.updatePost(i.FoldingRegions.fromFoldRanges(t))}update(e,t){let o=this._currentFoldedOrManualRanges(t),n=i.FoldingRegions.sanitizeAndMerge(e,o,this._textModel.getLineCount(),t);this.updatePost(i.FoldingRegions.fromFoldRanges(n))}updatePost(e){let t=[],o=-1;for(let n=0,r=e.length;n<r;n++){let r=e.getStartLineNumber(n),s=e.getEndLineNumber(n),a=e.isCollapsed(n),l=e.getSource(n)!==i.FoldSource.provider,d={startLineNumber:r,startColumn:this._textModel.getLineMaxColumn(r),endLineNumber:s,endColumn:this._textModel.getLineMaxColumn(s)+1};t.push({range:d,options:this._decorationProvider.getDecorationOption(a,s<=o,l)}),a&&s>o&&(o=s)}this._decorationProvider.changeDecorations(e=>this._editorDecorationIds=e.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e){let t=[];for(let o=0,n=this._regions.length;o<n;o++){let n=this.regions.isCollapsed(o),r=this.regions.getSource(o);if(n||r!==i.FoldSource.provider){let i=this._regions.toFoldRange(o),s=this._textModel.getDecorationRange(this._editorDecorationIds[o]);s&&(n&&(null==e?void 0:e.startsInside(s.startLineNumber+1,s.endLineNumber))&&(n=!1),t.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,type:i.type,isCollapsed:n,source:r}))}}return t}getMemento(){let e=this._currentFoldedOrManualRanges(),t=[],i=this._textModel.getLineCount();for(let o=0,n=e.length;o<n;o++){let n=e[o];if(n.startLineNumber>=n.endLineNumber||n.startLineNumber<1||n.endLineNumber>i)continue;let r=this._getLinesChecksum(n.startLineNumber+1,n.endLineNumber);t.push({startLineNumber:n.startLineNumber,endLineNumber:n.endLineNumber,isCollapsed:n.isCollapsed,source:n.source,checksum:r})}return t.length>0?t:void 0}applyMemento(e){if(!Array.isArray(e))return;let t=[],o=this._textModel.getLineCount();for(let s of e){if(s.startLineNumber>=s.endLineNumber||s.startLineNumber<1||s.endLineNumber>o)continue;let e=this._getLinesChecksum(s.startLineNumber+1,s.endLineNumber);if(!s.checksum||e===s.checksum){var n,r;t.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,type:void 0,isCollapsed:null==(n=s.isCollapsed)||n,source:null!=(r=s.source)?r:i.FoldSource.provider})}}let s=i.FoldingRegions.sanitizeAndMerge(this._regions,t,o);this.updatePost(i.FoldingRegions.fromFoldRanges(s))}_getLinesChecksum(e,t){return(0,o.hash)(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){let i=[];if(this._regions){let o=this._regions.findRange(e),n=1;for(;o>=0;){let e=this._regions.toRegion(o);(!t||t(e,n))&&i.push(e),n++,o=e.parentIndex}}return i}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let i=[],o=e?e.regionIndex+1:0,n=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){let e=[];for(let r=o,s=this._regions.length;r<s;r++){let o=this._regions.toRegion(r);if(this._regions.getStartLineNumber(r)<n){for(;e.length>0&&!o.containedBy(e[e.length-1]);)e.pop();e.push(o),t(o,e.length)&&i.push(o)}else break}}else for(let e=o,r=this._regions.length;e<r;e++){let o=this._regions.toRegion(e);if(this._regions.getStartLineNumber(e)<n)(!t||t(o))&&i.push(o);else break}return i}constructor(e,o){this._updateEventEmitter=new t.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=o,this._regions=new i.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}}function r(e,t,i){let o=[];for(let n of i){let i=e.getRegionAtLine(n);if(i){let n=!i.isCollapsed;if(o.push(i),t>1){let r=e.getRegionsInside(i,(e,i)=>e.isCollapsed!==n&&i<t);o.push(...r)}}}e.toggleCollapseState(o)}function s(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE,o=arguments.length>3?arguments[3]:void 0,n=[];if(o&&o.length>0)for(let r of o){let o=e.getRegionAtLine(r);if(o&&(o.isCollapsed!==t&&n.push(o),i>1)){let r=e.getRegionsInside(o,(e,o)=>e.isCollapsed!==t&&o<i);n.push(...r)}}else{let o=e.getRegionsInside(null,(e,o)=>e.isCollapsed!==t&&o<i);n.push(...o)}e.toggleCollapseState(n)}function a(e,t,i,o){let n=[];for(let r of o){let o=e.getAllRegionsAtLine(r,(e,o)=>e.isCollapsed!==t&&o<=i);n.push(...o)}e.toggleCollapseState(n)}function l(e,t,i){let o=[];for(let n of i){let i=e.getAllRegionsAtLine(n,e=>e.isCollapsed!==t);i.length>0&&o.push(i[0])}e.toggleCollapseState(o)}function d(e,t,i,o){let n=e.getRegionsInside(null,(e,n)=>n===t&&e.isCollapsed!==i&&!o.some(t=>e.containsLine(t)));e.toggleCollapseState(n)}function c(e,t,i){let o=[];for(let t of i){let i=e.getAllRegionsAtLine(t,void 0);i.length>0&&o.push(i[0])}let n=e.getRegionsInside(null,e=>o.every(t=>!t.containedBy(e)&&!e.containedBy(t))&&e.isCollapsed!==t);e.toggleCollapseState(n)}function u(e,t,i){let o=e.textModel,n=e.regions,r=[];for(let e=n.length-1;e>=0;e--)if(i!==n.isCollapsed(e)){let i=n.getStartLineNumber(e);t.test(o.getLineContent(i))&&r.push(n.toRegion(e))}e.toggleCollapseState(r)}function h(e,t,i){let o=e.regions,n=[];for(let e=o.length-1;e>=0;e--)i!==o.isCollapsed(e)&&t===o.getType(e)&&n.push(o.toRegion(e));e.toggleCollapseState(n)}function p(e,t){let i=null,o=t.getRegionAtLine(e);if(null!==o&&e===(i=o.startLineNumber)){let e=o.parentIndex;i=-1!==e?t.regions.getStartLineNumber(e):null}return i}function g(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e)if(e!==i.startLineNumber)return i.startLineNumber;else{let e=i.parentIndex,o=0;for(-1!==e&&(o=t.regions.getStartLineNumber(i.parentIndex));null!==i;)if(i.regionIndex>0){if((i=t.regions.toRegion(i.regionIndex-1)).startLineNumber<=o)break;if(i.parentIndex===e)return i.startLineNumber}else break}else if(t.regions.length>0)for(i=t.regions.toRegion(t.regions.length-1);null!==i;){if(i.startLineNumber<e)return i.startLineNumber;i=i.regionIndex>0?t.regions.toRegion(i.regionIndex-1):null}return null}function m(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e){let e=i.parentIndex,o=0;if(-1!==e)o=t.regions.getEndLineNumber(i.parentIndex);else{if(0===t.regions.length)return null;o=t.regions.getEndLineNumber(t.regions.length-1)}for(;null!==i;)if(i.regionIndex<t.regions.length){if((i=t.regions.toRegion(i.regionIndex+1)).startLineNumber>=o)break;if(i.parentIndex===e)return i.startLineNumber}else break}else if(t.regions.length>0)for(i=t.regions.toRegion(0);null!==i;){if(i.startLineNumber>e)return i.startLineNumber;i=i.regionIndex<t.regions.length?t.regions.toRegion(i.regionIndex+1):null}return null}e.s(["FoldingModel",()=>n,"getNextFoldLine",()=>m,"getParentFoldLine",()=>p,"getPreviousFoldLine",()=>g,"setCollapseStateAtLevel",()=>d,"setCollapseStateForMatchingLines",()=>u,"setCollapseStateForRest",()=>c,"setCollapseStateForType",()=>h,"setCollapseStateLevelsDown",()=>s,"setCollapseStateLevelsUp",()=>a,"setCollapseStateUp",()=>l,"toggleCollapseState",()=>r])},68363,e=>{"use strict";(0,e.i(521549).default)('.monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded{align-items:center;cursor:pointer;display:flex;font-size:140%;justify-content:center;margin-left:2px;opacity:0;transition:opacity .5s}.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded{transition:initial}.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays:hover .codicon{opacity:1}.monaco-editor .inline-folded:after{color:var(--vscode-editor-foldPlaceholderForeground);content:"\\22EF";cursor:pointer;display:inline;line-height:1em;margin:.1em .2em 0}.monaco-editor .folded-background{background-color:var(--vscode-editor-foldBackground)}.monaco-editor .cldr.codicon.codicon-folding-collapsed,.monaco-editor .cldr.codicon.codicon-folding-expanded,.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed,.monaco-editor .cldr.codicon.codicon-folding-manual-expanded{color:var(--vscode-editorGutter-foldingControlForeground)!important}',{}),e.s([])},645304,482999,591563,e=>{"use strict";!function(e){e[e.provider=0]="provider",e[e.userDefined=1]="userDefined",e[e.recovered=2]="recovered"}(r||(r={}));let t={[r.provider]:" ",[r.userDefined]:"u",[r.recovered]:"r"};class i{get(e){return(this._states[e/32|0]&1<<e%32)!=0}set(e,t){let i=e/32|0,o=e%32,n=this._states[i];t?this._states[i]=n|1<<o:this._states[i]=n&~(1<<o)}constructor(e){let t=Math.ceil(e/32);this._states=new Uint32Array(t)}}class o{ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(t,i)=>{let o=e[e.length-1];return this.getStartLineNumber(o)<=t&&this.getEndLineNumber(o)>=i};for(let i=0,o=this._startIndexes.length;i<o;i++){let o=this._startIndexes[i],n=this._endIndexes[i];if(o>0xffffff||n>0xffffff)throw Error("startLineNumber or endLineNumber must not exceed 16777215");for(;e.length>0&&!t(o,n);)e.pop();let r=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=o+((255&r)<<24),this._endIndexes[i]=n+((65280&r)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return 0xffffff&this._startIndexes[e]}getEndLineNumber(e){return 0xffffff&this._endIndexes[e]}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?r.userDefined:this.isRecovered(e)?r.recovered:r.provider}setSource(e,t){t===r.userDefined?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===r.recovered?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let o=0;o<this._types.length;o++)this._types[o]===e&&(this.setCollapsed(o,t),i=!0);return i}toRegion(e){return new n(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((0xff000000&this._startIndexes[e])>>>24)+((0xff000000&this._endIndexes[e])>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(0===i)return -1;for(;t<i;){let o=Math.floor((t+i)/2);e<this.getStartLineNumber(o)?i=o:t=o+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return -1}toString(){let e=[];for(let i=0;i<this.length;i++)e[i]="[".concat(t[this.getSource(i)]).concat(this.isCollapsed(i)?"+":"-","] ").concat(this.getStartLineNumber(i),"/").concat(this.getEndLineNumber(i));return e.join(", ")}toFoldRange(e){return{startLineNumber:0xffffff&this._startIndexes[e],endLineNumber:0xffffff&this._endIndexes[e],type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){let t=e.length,i=new Uint32Array(t),n=new Uint32Array(t),r=[],s=!1;for(let o=0;o<t;o++){let t=e[o];i[o]=t.startLineNumber,n[o]=t.endLineNumber,r.push(t.type),t.type&&(s=!0)}s||(r=void 0);let a=new o(i,n,r);for(let i=0;i<t;i++)e[i].isCollapsed&&a.setCollapsed(i,!0),a.setSource(i,e[i].source);return a}static sanitizeAndMerge(e,t,i,o){let n;i=null!=i?i:Number.MAX_VALUE;let s=(e,t)=>Array.isArray(e)?i=>i<t?e[i]:void 0:i=>i<t?e.toFoldRange(i):void 0,a=s(e,e.length),l=s(t,t.length),d=0,c=0,u=a(0),h=l(0),p=[],g=0,m=[];for(;u||h;){let e;if(h&&(!u||u.startLineNumber>=h.startLineNumber))u&&u.startLineNumber===h.startLineNumber?(h.source===r.userDefined?e=h:((e=u).isCollapsed=h.isCollapsed&&(u.endLineNumber===h.endLineNumber||!(null==o?void 0:o.startsInside(u.startLineNumber+1,u.endLineNumber+1))),e.source=r.provider),u=a(++d)):(e=h,h.isCollapsed&&h.source===r.provider&&(e.source=r.recovered)),h=l(++c);else{let t=c,i=h;for(;;){if(!i||i.startLineNumber>u.endLineNumber){e=u;break}if(i.source===r.userDefined&&i.endLineNumber>u.endLineNumber)break;i=l(++t)}u=a(++d)}if(e){for(;n&&n.endLineNumber<e.startLineNumber;)n=p.pop();e.endLineNumber>e.startLineNumber&&e.startLineNumber>g&&e.endLineNumber<=i&&(!n||n.endLineNumber>=e.endLineNumber)&&(m.push(e),g=e.startLineNumber,n&&p.push(n),n=e)}}return m}constructor(e,t,o){if(e.length!==t.length||e.length>65535)throw Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new i(e.length),this._userDefinedStates=new i(e.length),this._recoveredStates=new i(e.length),this._types=o,this._parentsComputed=!1}}class n{get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}hidesLine(e){return this.startLineNumber<e&&e<=this.endLineNumber}constructor(e,t){this.ranges=e,this.index=t}}e.s(["FoldSource",()=>r,"FoldingRegions",()=>o,"MAX_LINE_NUMBER",()=>0xffffff],645304);var r,s=e.i(304729),a=e.i(13310),l=e.i(341541),d=e.i(383962),c=e.i(945588),u=e.i(786480);e.i(184765);var h=e.i(537397);e.i(765809),e.i(491481),e.i(827678),e.i(789672),e.i(847307),e.i(491120),e.i(165071);var p=e.i(358764),g=e.i(307955),m=e.i(610620);let v=(0,c.registerColor)("editor.foldBackground",{light:(0,c.transparent)(h.editorSelectionBackground,.3),dark:(0,c.transparent)(h.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,d.localize)(1017,"Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,c.registerColor)("editor.foldPlaceholderForeground",{light:"#808080",dark:"#808080",hcDark:null,hcLight:null},(0,d.localize)(1018,"Color of the collapsed text after the first line of a folded range.")),(0,c.registerColor)("editorGutter.foldingControlForeground",u.iconForeground,(0,d.localize)(1019,"Color of the folding control in the editor gutter."));let _=(0,p.registerIcon)("folding-expanded",s.Codicon.chevronDown,(0,d.localize)(1020,"Icon for expanded ranges in the editor glyph margin.")),f=(0,p.registerIcon)("folding-collapsed",s.Codicon.chevronRight,(0,d.localize)(1021,"Icon for collapsed ranges in the editor glyph margin.")),y=(0,p.registerIcon)("folding-manual-collapsed",f,(0,d.localize)(1022,"Icon for manually collapsed ranges in the editor glyph margin.")),C=(0,p.registerIcon)("folding-manual-expanded",_,(0,d.localize)(1023,"Icon for manually expanded ranges in the editor glyph margin.")),b={color:(0,g.themeColorFromId)(v),position:a.MinimapPosition.Inline},S=(0,d.localize)(1024,"Click to expand the range."),w=(0,d.localize)(1025,"Click to collapse the range.");class E{getDecorationOption(e,t,i){return t?E.HIDDEN_RANGE_DECORATION:"never"===this.showFoldingControls?e?this.showFoldingHighlights?E.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:E.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:E.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?i?this.showFoldingHighlights?E.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:E.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?E.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:E.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?i?E.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:E.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?E.MANUALLY_EXPANDED_VISUAL_DECORATION:E.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}}E.COLLAPSED_VISUAL_DECORATION=l.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:a.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:S,firstLineDecorationClassName:m.ThemeIcon.asClassName(f)}),E.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=l.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:a.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",className:"folded-background",minimap:b,isWholeLine:!0,linesDecorationsTooltip:S,firstLineDecorationClassName:m.ThemeIcon.asClassName(f)}),E.MANUALLY_COLLAPSED_VISUAL_DECORATION=l.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:a.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:S,firstLineDecorationClassName:m.ThemeIcon.asClassName(y)}),E.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=l.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:a.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",className:"folded-background",minimap:b,isWholeLine:!0,linesDecorationsTooltip:S,firstLineDecorationClassName:m.ThemeIcon.asClassName(y)}),E.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=l.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:a.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:S}),E.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=l.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:a.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",className:"folded-background",minimap:b,isWholeLine:!0,linesDecorationsTooltip:S}),E.EXPANDED_VISUAL_DECORATION=l.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+m.ThemeIcon.asClassName(_),linesDecorationsTooltip:w}),E.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=l.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isWholeLine:!0,firstLineDecorationClassName:m.ThemeIcon.asClassName(_),linesDecorationsTooltip:w}),E.MANUALLY_EXPANDED_VISUAL_DECORATION=l.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:a.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+m.ThemeIcon.asClassName(C),linesDecorationsTooltip:w}),E.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=l.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:a.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,isWholeLine:!0,firstLineDecorationClassName:m.ThemeIcon.asClassName(C),linesDecorationsTooltip:w}),E.NO_CONTROLS_EXPANDED_RANGE_DECORATION=l.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:a.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,isWholeLine:!0}),E.HIDDEN_RANGE_DECORATION=l.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}),e.s(["FoldingDecorationProvider",()=>E,"foldingCollapsedIcon",()=>f,"foldingExpandedIcon",()=>_],482999);var I=e.i(394839),x=e.i(436120);let D={};class k{compute(e){var t,i,o;let n;return(t=this.providers,i=this.editorModel,o=e,n=null,Promise.all(t.map((e,t)=>Promise.resolve(e.provideFoldingRanges(i,D,o)).then(e=>{if(!o.isCancellationRequested&&Array.isArray(e)){Array.isArray(n)||(n=[]);let o=i.getLineCount();for(let i of e)i.start>0&&i.end>i.start&&i.end<=o&&n.push({start:i.start,end:i.end,rank:t,kind:i.kind})}},I.onUnexpectedExternalError))).then(e=>n)).then(t=>{var i,o;return t?M(t,this.foldingRangesLimit):null!=(o=null==(i=this.fallbackRangeProvider)?void 0:i.compute(e))?o:null})}dispose(){this.disposables.dispose()}constructor(e,t,i,o,n){for(let r of(this.editorModel=e,this.providers=t,this.handleFoldingRangesChange=i,this.foldingRangesLimit=o,this.fallbackRangeProvider=n,this.id="syntax",this.disposables=new x.DisposableStore,n&&this.disposables.add(n),t))"function"==typeof r.onDidChange&&this.disposables.add(r.onDidChange(i))}}class A{add(e,t,i,o){if(e>0xffffff||t>0xffffff)return;let n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._nestingLevels[n]=o,this._types[n]=i,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){let e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new o(e,t,this._types)}{this._foldingRangesLimit.update(this._length,e);let t=0,i=this._nestingLevelCounts.length;for(let o=0;o<this._nestingLevelCounts.length;o++){let n=this._nestingLevelCounts[o];if(n){if(n+t>e){i=o;break}t+=n}}let n=new Uint32Array(e),r=new Uint32Array(e),s=[];for(let o=0,a=0;o<this._length;o++){let l=this._nestingLevels[o];(l<i||l===i&&t++<e)&&(n[a]=this._startIndexes[o],r[a]=this._endIndexes[o],s[a]=this._types[o],a++)}return new o(n,r,s)}}constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}}function M(e,t){let i,o=e.sort((e,t)=>{let i=e.start-t.start;return 0===i&&(i=e.rank-t.rank),i}),n=new A(t),r=[];for(let e of o)if(i){if(e.start>i.start)if(e.end<=i.end)r.push(i),i=e,n.add(e.start,e.end,e.kind&&e.kind.value,r.length);else{if(e.start>i.end){do i=r.pop();while(i&&e.start>i.end)i&&r.push(i),i=e}n.add(e.start,e.end,e.kind&&e.kind.value,r.length)}}else i=e,n.add(e.start,e.end,e.kind&&e.kind.value,r.length);return n.toIndentRanges()}e.s(["SyntaxRangeProvider",()=>k,"sanitizeRanges",()=>M],591563)},64803,479213,e=>{"use strict";var t,i,o=e.i(308165),n=e.i(395806),r=e.i(760837),s=e.i(394839),a=e.i(332217),l=e.i(436120),d=e.i(448493),c=e.i(839435);e.i(68363);var u=e.i(116185),h=e.i(309187),p=e.i(710252),g=e.i(918299),m=e.i(236924),v=e.i(716526),_=e.i(418964),f=e.i(720274),y=e.i(364359),C=e.i(374267),b=e.i(145384),S=e.i(475424),w=e.i(137630);class E{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(e=>e.range.endLineNumber!==e.range.startLineNumber||0!==(0,w.countEOL)(e.text)[0]))}updateHiddenRanges(){let e=!1,t=[],i=0,o=0,n=Number.MAX_VALUE,r=-1,s=this._foldingModel.regions;for(;i<s.length;i++){if(!s.isCollapsed(i))continue;let a=s.getStartLineNumber(i)+1,l=s.getEndLineNumber(i);n<=a&&l<=r||(!e&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===a&&this._hiddenRanges[o].endLineNumber===l?(t.push(this._hiddenRanges[o]),o++):(e=!0,t.push(new S.Range(a,1,l,1))),n=a,r=l)}(this._hasLineChanges||e||o<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==I(this._hiddenRanges,e)}adjustSelections(e){let t=!1,i=this._foldingModel.textModel,o=null,n=e=>{var t,i;return(o&&(t=e)>=(i=o).startLineNumber&&t<=i.endLineNumber||(o=I(this._hiddenRanges,e)),o)?o.startLineNumber-1:null};for(let o=0,r=e.length;o<r;o++){let r=e[o],s=n(r.startLineNumber);s&&(r=r.setStartPosition(s,i.getLineMaxColumn(s)),t=!0);let a=n(r.endLineNumber);a&&(r=r.setEndPosition(a,i.getLineMaxColumn(a)),t=!0),e[o]=r}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}constructor(e){this._updateEventEmitter=new b.Emitter,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(e=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}}function I(e,t){let i=(0,C.findFirstIdxMonotonousOrArrLen)(e,e=>t<e.startLineNumber)-1;return i>=0&&e[i].endLineNumber>=t?e[i]:null}var x=e.i(89500),D=e.i(645304);class k{dispose(){}compute(e){let t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,o=t&&t.markers;return Promise.resolve(function(e,t,i){let o,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M,r=e.getOptions().tabSize,s=new A(n);i&&(o=new RegExp("(".concat(i.start.source,")|(?:").concat(i.end.source,")")));let a=[],l=e.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let i=e.getLineCount();i>0;i--){let n,l=e.getLineContent(i),d=(0,x.computeIndentLevel)(l,r),c=a[a.length-1];if(-1===d){t&&(c.endAbove=i);continue}if(o&&(n=l.match(o)))if(n[1]){let e=a.length-1;for(;e>0&&-2!==a[e].indent;)e--;if(e>0){a.length=e+1,c=a[e],s.insertFirst(i,c.line,d),c.line=i,c.indent=d,c.endAbove=i;continue}}else{a.push({indent:-2,endAbove:i,line:i});continue}if(c.indent>d){do a.pop(),c=a[a.length-1];while(c.indent>d)let e=c.endAbove-1;e-i>=1&&s.insertFirst(i,e,d)}c.indent===d?c.endAbove=i:a.push({indent:d,endAbove:i,line:i})}return s.toIndentRanges(e)}(this.editorModel,i,o,this.foldingRangesLimit))}constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.foldingRangesLimit=i,this.id="indent"}}class A{insertFirst(e,t,i){if(e>D.MAX_LINE_NUMBER||t>D.MAX_LINE_NUMBER)return;let o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){let t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=this._length-1,o=0;i>=0;i--,o++)e[o]=this._startIndexes[i],t[o]=this._endIndexes[i];return new D.FoldingRegions(e,t)}{this._foldingRangesLimit.update(this._length,t);let i=0,o=this._indentOccurrences.length;for(let e=0;e<this._indentOccurrences.length;e++){let n=this._indentOccurrences[e];if(n){if(n+i>t){o=e;break}i+=n}}let n=e.getOptions().tabSize,r=new Uint32Array(t),s=new Uint32Array(t);for(let a=this._length-1,l=0;a>=0;a--){let d=this._startIndexes[a],c=e.getLineContent(d),u=(0,x.computeIndentLevel)(c,n);(u<o||u===o&&i++<t)&&(r[l]=d,s[l]=this._endIndexes[a],l++)}return new D.FoldingRegions(r,s)}}constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}}let M={limit:5e3,update:()=>{}};e.s(["IndentRangeProvider",()=>k],479213);var L=e.i(383962),T=e.i(166253),R=e.i(756970),N=e.i(564485),P=e.i(482999),O=e.i(591563),F=e.i(633921),K=e.i(555690),W=e.i(225696),z=e.i(544421),V=e.i(785310),B=e.i(292473),H=e.i(323235),U=e.i(619223);let G=new T.RawContextKey("foldingEnabled",!1),q=(i=t=class extends l.Disposable{static get(e){return e.getContribution(i.ID)}static getFoldingRangeProviders(e,t){var o,n;let r=e.foldingRangeProvider.ordered(t);return null!=(n=null==(o=i._foldingRangeSelector)?void 0:o.call(i,r,t))?n:r}static setFoldingRangeProviderSelector(e){return i._foldingRangeSelector=e,{dispose:()=>{i._foldingRangeSelector=void 0}}}get limitReporter(){return this._foldingLimitReporter}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!(!t||!this._isEnabled||t.isTooLargeForTokenization())&&this.hiddenRangeModel&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new y.FoldingModel(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new E(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(e=>this.onHiddenRangesChanges(e))),this.updateScheduler=new n.Delayer(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new n.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(e=>this.onDidChangeModelContent(e))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(e=>this.onEditorMouseDown(e))),this.localToDispose.add(this.editor.onMouseUp(e=>this.onEditorMouseUp(e))),this.localToDispose.add({dispose:()=>{var e,t;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),null==(e=this.updateScheduler)||e.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,null==(t=this.rangeProvider)||t.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var e;null==(e=this.rangeProvider)||e.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;let t=new k(e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=t,this._useFoldingProviders&&this.foldingModel){let o=i.getFoldingRangeProviders(this.languageFeaturesService,e);o.length>0&&(this.rangeProvider=new O.SyntaxRangeProvider(e,o,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,t))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;null==(t=this.hiddenRangeModel)||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{let e=this.foldingModel;if(!e)return null;let t=new W.StopWatch,i=this.getRangeProvider(e.textModel),o=this.foldingRegionPromise=(0,n.createCancelablePromise)(e=>i.compute(e));return o.then(i=>{if(i&&o===this.foldingRegionPromise){var n;let o;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){let e=i.setCollapsedAllOfType(_.FoldingRangeKind.Imports.value,!0);e&&(o=u.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=e)}let r=this.editor.getSelections();e.update(i,(n=r)&&0!==n.length?{startsInside(e,t){for(let i of n){let o=i.startLineNumber;if(o>=e&&o<=t)return!0}return!1}}:{startsInside:()=>!1}),null==o||o.restore(this.editor);let s=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=s)}return e})}).then(void 0,e=>((0,s.onUnexpectedError)(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){let e=this.getFoldingModel();e&&e.then(e=>{if(e){let t=this.editor.getSelections();if(t&&t.length>0){let i=[];for(let o of t){let t=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(t)&&i.push(...e.getAllRegionsAtLine(t,e=>e.isCollapsed&&t>e.startLineNumber))}i.length&&(e.toggleCollapseState(i),this.reveal(t[0].getPosition()))}}}).then(void 0,s.onUnexpectedError)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;let t=e.target.range,i=!1;switch(e.target.type){case h.MouseTargetType.GUTTER_LINE_DECORATIONS:{let t=e.target.detail,o=e.target.element.offsetLeft;if(t.offsetX-o<4)return;i=!0;break}case h.MouseTargetType.CONTENT_EMPTY:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return;case h.MouseTargetType.CONTENT_TEXT:if(this.hiddenRangeModel.hasRanges()){let e=this.editor.getModel();if(e&&t.startColumn===e.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){let t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;let i=this.mouseDownInfo.lineNumber,o=this.mouseDownInfo.iconClicked,n=e.target.range;if(!n||n.startLineNumber!==i)return;if(o){if(e.target.type!==h.MouseTargetType.GUTTER_LINE_DECORATIONS)return}else{let e=this.editor.getModel();if(!e||n.startColumn!==e.getLineMaxColumn(i))return}let r=t.getRegionAtLine(i);if(r&&r.startLineNumber===i){let n=r.isCollapsed;if(o||n){let o=e.event.altKey,s=[];if(o){let e=t.getRegionsInside(null,e=>!e.containedBy(r)&&!r.containedBy(e));for(let t of e)t.isCollapsed&&s.push(t);0===s.length&&(s=e)}else{let i=e.event.middleButton||e.event.shiftKey;if(i)for(let e of t.getRegionsInside(r))e.isCollapsed===n&&s.push(e);(n||!i||0===s.length)&&s.push(r)}t.toggleCollapseState(s),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,m.ScrollType.Smooth)}constructor(e,t,i,o,n,r){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=r,this.localToDispose=this._register(new l.DisposableStore),this.editor=e,this._foldingLimitReporter=new j(e);let s=this.editor.getOptions();this._isEnabled=s.get(g.EditorOption.folding),this._useFoldingProviders="indentation"!==s.get(g.EditorOption.foldingStrategy),this._unfoldOnClickAfterEndOfLine=s.get(g.EditorOption.unfoldOnClickAfterEndOfLine),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=s.get(g.EditorOption.foldingImportsByDefault),this.updateDebounceInfo=n.for(r.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new P.FoldingDecorationProvider(e),this.foldingDecorationProvider.showFoldingControls=s.get(g.EditorOption.showFoldingControls),this.foldingDecorationProvider.showFoldingHighlights=s.get(g.EditorOption.foldingHighlight),this.foldingEnabled=G.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(e=>{if(e.hasChanged(g.EditorOption.folding)&&(this._isEnabled=this.editor.getOptions().get(g.EditorOption.folding),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(g.EditorOption.foldingMaximumRegions)&&this.onModelChanged(),e.hasChanged(g.EditorOption.showFoldingControls)||e.hasChanged(g.EditorOption.foldingHighlight)){let e=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=e.get(g.EditorOption.showFoldingControls),this.foldingDecorationProvider.showFoldingHighlights=e.get(g.EditorOption.foldingHighlight),this.triggerFoldingModelChanged()}e.hasChanged(g.EditorOption.foldingStrategy)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(g.EditorOption.foldingStrategy),this.onFoldingStrategyChanged()),e.hasChanged(g.EditorOption.unfoldOnClickAfterEndOfLine)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(g.EditorOption.unfoldOnClickAfterEndOfLine)),e.hasChanged(g.EditorOption.foldingImportsByDefault)&&(this._foldingImportsByDefault=this.editor.getOptions().get(g.EditorOption.foldingImportsByDefault))})),this.onModelChanged()}},t.ID="editor.contrib.folding",t);q=i=(0,o.__decorate)([(0,o.__param)(1,R.IContextKeyService),(0,o.__param)(2,f.ILanguageConfigurationService),(0,o.__param)(3,F.INotificationService),(0,o.__param)(4,K.ILanguageFeatureDebounceService),(0,o.__param)(5,z.ILanguageFeaturesService)],q);class j{get limit(){return this.editor.getOptions().get(g.EditorOption.foldingMaximumRegions)}get computed(){return this._computed}get limited(){return this._limited}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}constructor(e){this.editor=e,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._computed=0,this._limited=!1}}class Q extends p.EditorAction{runEditorCommand(e,t,i){let o=e.get(f.ILanguageConfigurationService),n=q.get(t);if(!n)return;let r=n.getFoldingModel();if(r)return this.reportTelemetry(e,t),r.then(e=>{if(e){this.invoke(n,e,t,i,o);let r=t.getSelection();r&&n.reveal(r.getStartPosition())}})}getSelectedLines(e){let t=e.getSelections();return t?t.map(e=>e.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(e=>e+1):this.getSelectedLines(t)}run(e,t){}}function Y(e){if(!(0,c.isUndefined)(e)&&(!(0,c.isObject)(e)||!(0,c.isUndefined)(e.levels)&&!(0,c.isNumber)(e.levels)||!(0,c.isUndefined)(e.direction)&&!(0,c.isString)(e.direction)||!(0,c.isUndefined)(e.selectionLines)&&(!Array.isArray(e.selectionLines)||!e.selectionLines.every(c.isNumber))))return!1;return!0}class Z extends Q{getFoldingLevel(){return parseInt(this.id.substr(Z.ID_PREFIX.length))}invoke(e,t,i){(0,y.setCollapseStateAtLevel)(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}Z.ID_PREFIX="editor.foldLevel",Z.ID=e=>Z.ID_PREFIX+e,(0,p.registerEditorContribution)(q.ID,q,p.EditorContributionInstantiation.Eager),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i,o){let n=o&&o.levels||1,r=this.getLineNumbers(o,i);o&&"up"===o.direction?(0,y.setCollapseStateLevelsUp)(t,!1,n,r):(0,y.setCollapseStateLevelsDown)(t,!1,n,r)}constructor(){super({id:"editor.unfold",label:(0,L.localize2)(997,"Unfold"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:a.KeyMod.CtrlCmd|a.KeyMod.Shift|a.KeyCode.BracketRight,mac:{primary:a.KeyMod.CtrlCmd|a.KeyMod.Alt|a.KeyCode.BracketRight},weight:N.KeybindingWeight.EditorContrib},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n						* 'levels': Number of levels to unfold. If not set, defaults to 1.\n						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n						",constraint:Y,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i,o){(0,y.setCollapseStateLevelsDown)(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}constructor(){super({id:"editor.unfoldRecursively",label:(0,L.localize2)(998,"Unfold Recursively"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.BracketRight),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i,o){let n=this.getLineNumbers(o,i),r=o&&o.levels,s=o&&o.direction;"number"!=typeof r&&"string"!=typeof s?(0,y.setCollapseStateUp)(t,!0,n):"up"===s?(0,y.setCollapseStateLevelsUp)(t,!0,r||1,n):(0,y.setCollapseStateLevelsDown)(t,!0,r||1,n)}constructor(){super({id:"editor.fold",label:(0,L.localize2)(999,"Fold"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:a.KeyMod.CtrlCmd|a.KeyMod.Shift|a.KeyCode.BracketLeft,mac:{primary:a.KeyMod.CtrlCmd|a.KeyMod.Alt|a.KeyCode.BracketLeft},weight:N.KeybindingWeight.EditorContrib},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n							* 'levels': Number of levels to fold.\n							* 'direction': If 'up', folds given number of levels up otherwise folds down.\n							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n						",constraint:Y,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){let o=this.getSelectedLines(i);(0,y.setCollapseStateLevelsDown)(t,!0,Number.MAX_VALUE,o)}constructor(){super({id:"editor.foldRecursively",label:(0,L.localize2)(1001,"Fold Recursively"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.BracketLeft),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){let o=this.getSelectedLines(i);(0,y.toggleCollapseState)(t,Number.MAX_VALUE,o)}constructor(){super({id:"editor.toggleFoldRecursively",label:(0,L.localize2)(1002,"Toggle Fold Recursively"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyMod.Shift|a.KeyCode.KeyL),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){(0,y.setCollapseStateLevelsDown)(t,!0)}constructor(){super({id:"editor.foldAll",label:(0,L.localize2)(1008,"Fold All"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.Digit0),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){(0,y.setCollapseStateLevelsDown)(t,!1)}constructor(){super({id:"editor.unfoldAll",label:(0,L.localize2)(1009,"Unfold All"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.KeyJ),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i,o,n){if(t.regions.hasTypes())(0,y.setCollapseStateForType)(t,_.FoldingRangeKind.Comment.value,!0);else{let e=i.getModel();if(!e)return;let o=n.getLanguageConfiguration(e.getLanguageId()).comments;if(o&&o.blockCommentStartToken){let e=RegExp("^\\s*"+(0,d.escapeRegExpCharacters)(o.blockCommentStartToken));(0,y.setCollapseStateForMatchingLines)(t,e,!0)}}}constructor(){super({id:"editor.foldAllBlockComments",label:(0,L.localize2)(1003,"Fold All Block Comments"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.Slash),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i,o,n){if(t.regions.hasTypes())(0,y.setCollapseStateForType)(t,_.FoldingRangeKind.Region.value,!0);else{let e=i.getModel();if(!e)return;let o=n.getLanguageConfiguration(e.getLanguageId()).foldingRules;if(o&&o.markers&&o.markers.start){let e=new RegExp(o.markers.start);(0,y.setCollapseStateForMatchingLines)(t,e,!0)}}}constructor(){super({id:"editor.foldAllMarkerRegions",label:(0,L.localize2)(1004,"Fold All Regions"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.Digit8),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i,o,n){if(t.regions.hasTypes())(0,y.setCollapseStateForType)(t,_.FoldingRangeKind.Region.value,!1);else{let e=i.getModel();if(!e)return;let o=n.getLanguageConfiguration(e.getLanguageId()).foldingRules;if(o&&o.markers&&o.markers.start){let e=new RegExp(o.markers.start);(0,y.setCollapseStateForMatchingLines)(t,e,!1)}}}constructor(){super({id:"editor.unfoldAllMarkerRegions",label:(0,L.localize2)(1005,"Unfold All Regions"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.Digit9),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){let o=this.getSelectedLines(i);(0,y.setCollapseStateForRest)(t,!0,o)}constructor(){super({id:"editor.foldAllExcept",label:(0,L.localize2)(1006,"Fold All Except Selected"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.Minus),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){let o=this.getSelectedLines(i);(0,y.setCollapseStateForRest)(t,!1,o)}constructor(){super({id:"editor.unfoldAllExcept",label:(0,L.localize2)(1007,"Unfold All Except Selected"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.Equal),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){let o=this.getSelectedLines(i);(0,y.toggleCollapseState)(t,1,o)}constructor(){super({id:"editor.toggleFold",label:(0,L.localize2)(1e3,"Toggle Fold"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.KeyL),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){let o=this.getSelectedLines(i);if(o.length>0){let e=(0,y.getParentFoldLine)(o[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}constructor(){super({id:"editor.gotoParentFold",label:(0,L.localize2)(1010,"Go to Parent Fold"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){let o=this.getSelectedLines(i);if(o.length>0){let e=(0,y.getPreviousFoldLine)(o[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}constructor(){super({id:"editor.gotoPreviousFold",label:(0,L.localize2)(1011,"Go to Previous Folding Range"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){let o=this.getSelectedLines(i);if(o.length>0){let e=(0,y.getNextFoldLine)(o[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}constructor(){super({id:"editor.gotoNextFold",label:(0,L.localize2)(1012,"Go to Next Folding Range"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){let o=[],n=i.getSelections();if(n){for(let e of n){let t=e.endLineNumber;1===e.endColumn&&--t,t>e.startLineNumber&&(o.push({startLineNumber:e.startLineNumber,endLineNumber:t,type:void 0,isCollapsed:!0,source:D.FoldSource.userDefined}),i.setSelection({startLineNumber:e.startLineNumber,startColumn:1,endLineNumber:e.startLineNumber,endColumn:1}))}if(o.length>0){var r;o.sort((e,t)=>e.startLineNumber-t.startLineNumber);let e=D.FoldingRegions.sanitizeAndMerge(t.regions,o,null==(r=i.getModel())?void 0:r.getLineCount());t.updatePost(D.FoldingRegions.fromFoldRanges(e))}}}constructor(){super({id:"editor.createFoldingRangeFromSelection",label:(0,L.localize2)(1013,"Create Folding Range from Selection"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.Comma),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{invoke(e,t,i){let o=i.getSelections();if(o){let i=[];for(let e of o){let{startLineNumber:t,endLineNumber:o}=e;i.push(o>=t?{startLineNumber:t,endLineNumber:o}:{endLineNumber:o,startLineNumber:t})}t.removeManualRanges(i),e.triggerFoldingModelChanged()}}constructor(){super({id:"editor.removeManualFoldingRanges",label:(0,L.localize2)(1014,"Remove Manual Folding Ranges"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.Period),weight:N.KeybindingWeight.EditorContrib}})}}),(0,p.registerEditorAction)(class extends Q{async invoke(e,t){let i=[],o=t.regions;for(let e=o.length-1;e>=0;e--)o.getType(e)===_.FoldingRangeKind.Imports.value&&i.push(o.toRegion(e));t.toggleCollapseState(i),e.triggerFoldingModelChanged()}constructor(){super({id:"editor.toggleImportFold",label:(0,L.localize2)(1015,"Toggle Import Fold"),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,weight:N.KeybindingWeight.EditorContrib}})}});for(let e=1;e<=7;e++)(0,p.registerInstantiatedEditorAction)(new Z({id:Z.ID(e),label:(0,L.localize2)(1016,"Fold Level {0}",e),precondition:G,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(a.KeyMod.CtrlCmd|a.KeyCode.KeyK,a.KeyMod.CtrlCmd|a.KeyCode.Digit0+e),weight:N.KeybindingWeight.EditorContrib}}));V.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n]=i;if(!(n instanceof B.URI))throw(0,s.illegalArgument)();let a=e.get(z.ILanguageFeaturesService),l=e.get(H.IModelService).getModel(n);if(!l)throw(0,s.illegalArgument)();let d=e.get(U.IConfigurationService);if(!d.getValue("editor.folding",{resource:n}))return[];let c=e.get(f.ILanguageConfigurationService),u=d.getValue("editor.foldingStrategy",{resource:n}),h={get limit(){return d.getValue("editor.foldingMaximumRegions",{resource:n})},update:(e,t)=>{}},p=new k(l,c,h),g=p;if("indentation"!==u){let e=q.getFoldingRangeProviders(a,l);e.length&&(g=new O.SyntaxRangeProvider(l,e,()=>{},h,p))}let m=await g.compute(r.CancellationToken.None),v=[];try{if(m)for(let e=0;e<m.length;e++){let t=m.getType(e);v.push({start:m.getStartLineNumber(e),end:m.getEndLineNumber(e),kind:t?_.FoldingRangeKind.fromValue(t):void 0})}return v}finally{g.dispose()}}),e.s(["FoldingController",()=>q,"RangesLimitReporter",()=>j],64803)},82678,485060,249137,603312,44050,731069,891147,e=>{"use strict";var t=e.i(693655);let i="diagnosticsService";class o{async getPerformanceInfo(e,t){return{}}async getSystemInfo(e,t){return{processArgs:"nullProcessArgs",gpuStatus:"nullGpuStatus",screenReader:"nullScreenReader",remoteData:[],os:"nullOs",memory:"nullMemory",vmHint:"nullVmHint"}}async getDiagnostics(e,t){return""}async getWorkspaceFileExtensions(e){return{extensions:[]}}async reportWorkspaceStats(e){}}e.s(["ID",()=>i,"NullDiagnosticsService",()=>o],485060);let n=(0,t.createDecorator)(i);e.s(["IDiagnosticsService",()=>n],82678);let r=(0,t.createDecorator)("encryptionService");e.s(["IEncryptionService",()=>r],249137);let s=(0,t.createDecorator)("IExtensionsScannerService");e.s(["IExtensionsScannerService",()=>s],603312);let a=(0,t.createDecorator)("IExtensionRecommendationNotificationService");e.s(["IExtensionRecommendationNotificationService",()=>a],44050);let l=(0,t.createDecorator)("IBuiltinExtensionsScannerService");e.s(["IBuiltinExtensionsScannerService",()=>l],731069);let d=(0,t.createDecorator)("keyboardLayoutService");e.s(["IKeyboardLayoutService",()=>d],891147)},856945,e=>{"use strict";var t=e.i(145384);e.i(371305),e.i(436120);class i{async updatePolicyDefinitions(){return{}}getPolicyValue(){}serialize(){}constructor(){this.onDidChange=t.Event.None}}e.s(["NullPolicyService",()=>i])},950745,e=>{"use strict";var t=e.i(693655);let i=(0,t.createDecorator)("IUserDataSyncStoreManagementService"),o=(0,t.createDecorator)("IUserDataSyncStoreService"),n=(0,t.createDecorator)("IUserDataSyncLocalStoreService"),r=(0,t.createDecorator)("IUserDataSyncEnablementService"),s=(0,t.createDecorator)("IUserDataSyncService"),a=(0,t.createDecorator)("IUserDataSyncResourceProviderService"),l=(0,t.createDecorator)("IUserDataAutoSyncService"),d=(0,t.createDecorator)("IUserDataSyncUtilService"),c=(0,t.createDecorator)("IUserDataSyncLogService");e.s(["IUserDataAutoSyncService",()=>l,"IUserDataSyncEnablementService",()=>r,"IUserDataSyncLocalStoreService",()=>n,"IUserDataSyncLogService",()=>c,"IUserDataSyncResourceProviderService",()=>a,"IUserDataSyncService",()=>s,"IUserDataSyncStoreManagementService",()=>i,"IUserDataSyncStoreService",()=>o,"IUserDataSyncUtilService",()=>d])},18640,467802,511095,383771,685487,762621,261320,548742,905831,e=>{"use strict";var t=e.i(693655);let i=(0,t.createDecorator)("updateService");e.s(["IUpdateService",()=>i],18640);let o=(0,t.createDecorator)("IInlineChatSavingService	");e.s(["IInlineChatSavingService",()=>o],467802);let n=(0,t.createDecorator)("IInlineChatSessionService");e.s(["IInlineChatSessionService",()=>n],511095);let r=(0,t.createDecorator)("INotebookExecutionService");e.s(["INotebookExecutionService",()=>r],383771);let s=(0,t.createDecorator)("notebookEditorWorkerService");e.s(["INotebookEditorWorkerService",()=>s],685487);let a=(0,t.createDecorator)("replaceService");e.s(["IReplaceService",()=>a],762621);let l=(0,t.createDecorator)("searchViewModelWorkbenchService");e.s(["ISearchViewModelWorkbenchService",()=>l],261320);let d=(0,t.createDecorator)("notebookSearchService");e.s(["INotebookSearchService",()=>d],548742);let c=(0,t.createDecorator)("searchHistoryService");e.s(["ISearchHistoryService",()=>c],905831)},928546,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("activityService");e.s(["IActivityService",()=>t])},420365,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("WorkbenchAssignmentService");e.s(["IWorkbenchAssignmentService",()=>t])},577289,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("jsonEditingService");e.s(["IJSONEditingService",()=>t])},189595,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("textMateTokenizationFeature");e.s(["ITextMateTokenizationService",()=>t])},71190,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("textEditorService");e.s(["ITextEditorService",()=>t])},464627,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("hostColorSchemeService");e.s(["IHostColorSchemeService",()=>t])},48717,918496,782024,347195,e=>{"use strict";var t,i,o,n,r,s=e.i(68858),a=e.i(839435);e.i(383962);var l=e.i(206605);e.i(403340),e.i(782353);var d=e.i(569038);function c(){let e=d.Registry.as(l.Extensions.Configuration).getConfigurationProperties();return Object.keys(e).filter(t=>!!e[t].disallowSyncIgnore)}function u(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function(e,t){let i=new Set;for(let o in e){if(t&&e[o].source)continue;let n=(0,a.isString)(e[o].scope)?(0,l.parseScope)(e[o].scope):e[o].scope;(e[o].ignoreSync||n===l.ConfigurationScope.MACHINE||n===l.ConfigurationScope.MACHINE_OVERRIDABLE)&&i.add(o)}return[...i.values()]}(d.Registry.as(l.Extensions.Configuration).getConfigurationProperties(),e),i=c();return(0,s.distinct)([...t,...i])}!function(e){e.Settings="settings",e.Keybindings="keybindings",e.Snippets="snippets",e.Tasks="tasks",e.Extensions="extensions",e.GlobalState="globalState",e.Profiles="profiles",e.WorkspaceState="workspaceState"}(t||(t={})),t.Settings,t.Keybindings,t.Snippets,t.Tasks,t.Extensions,t.GlobalState,t.Profiles,function(e){e.Unauthorized="Unauthorized",e.Forbidden="Forbidden",e.NotFound="NotFound",e.MethodNotFound="MethodNotFound",e.Conflict="Conflict",e.Gone="Gone",e.PreconditionFailed="PreconditionFailed",e.TooLarge="TooLarge",e.UpgradeRequired="UpgradeRequired",e.PreconditionRequired="PreconditionRequired",e.TooManyRequests="RemoteTooManyRequests",e.TooManyRequestsAndRetryAfter="TooManyRequestsAndRetryAfter",e.RequestFailed="RequestFailed",e.RequestCanceled="RequestCanceled",e.RequestTimeout="RequestTimeout",e.RequestProtocolNotSupported="RequestProtocolNotSupported",e.RequestPathNotEscaped="RequestPathNotEscaped",e.RequestHeadersNotObject="RequestHeadersNotObject",e.NoCollection="NoCollection",e.NoRef="NoRef",e.EmptyResponse="EmptyResponse",e.TurnedOff="TurnedOff",e.SessionExpired="SessionExpired",e.ServiceChanged="ServiceChanged",e.DefaultServiceChanged="DefaultServiceChanged",e.LocalTooManyProfiles="LocalTooManyProfiles",e.LocalTooManyRequests="LocalTooManyRequests",e.LocalPreconditionFailed="LocalPreconditionFailed",e.LocalInvalidContent="LocalInvalidContent",e.LocalError="LocalError",e.IncompatibleLocalContent="IncompatibleLocalContent",e.IncompatibleRemoteContent="IncompatibleRemoteContent",e.Unknown="Unknown"}(i||(i={})),!function(e){e.toUserDataSyncError=function(t){if(t instanceof e)return t;let o=/^(.+) \(UserDataSyncError\) syncResource:(.+) operationId:(.+)$/.exec(t.name);if(o&&o[1]){let i="unknown"===o[2]?void 0:o[2],n="unknown"===o[3]?void 0:o[3];return new e(t.message,o[1],i,n)}return new e(t.message,i.Unknown)}}(class extends Error{constructor(e,t,i,o){super(e),this.code=t,this.resource=i,this.operationId=o,this.name="".concat(this.code," (UserDataSyncError) syncResource:").concat(this.resource||"unknown"," operationId:").concat(this.operationId||"unknown")}}),function(e){e.Uninitialized="uninitialized",e.Idle="idle",e.Syncing="syncing",e.HasConflicts="hasConflicts"}(o||(o={})),function(e){e[e.None=0]="None",e[e.Added=1]="Added",e[e.Modified=2]="Modified",e[e.Deleted=3]="Deleted"}(n||(n={})),function(e){e.Preview="preview",e.Conflict="conflict",e.Accepted="accepted"}(r||(r={})),e.s(["SyncResource",()=>t,"SyncStatus",()=>o,"getDefaultIgnoredSettings",()=>u,"getDisallowedIgnoredSettings",()=>c],48717);var h=e.i(693655);let p=(0,h.createDecorator)("preferencesSearchService");e.s(["IPreferencesSearchService",()=>p],918496);let g=(0,h.createDecorator)("keybindingEditingService");e.s(["IKeybindingEditingService",()=>g],782024);let m=(0,h.createDecorator)("IUserDataSyncWorkbenchService");e.s(["IUserDataSyncWorkbenchService",()=>m],347195)},339953,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("treeSitterTokenizationFeature");e.s(["ITreeSitterTokenizationFeature",()=>t])},199007,957583,614535,736758,987430,383566,227497,e=>{"use strict";var t=e.i(693655);let i=(0,t.createDecorator)("extensionRecommendationsService"),o=(0,t.createDecorator)("IExtensionIgnoredRecommendationsService");e.s(["IExtensionIgnoredRecommendationsService",()=>o,"IExtensionRecommendationsService",()=>i],199007);let n=(0,t.createDecorator)("issueFormService"),r=(0,t.createDecorator)("workbenchIssueService");e.s(["IIssueFormService",()=>n,"IWorkbenchIssueService",()=>r],957583);let s=(0,t.createDecorator)("localizationService"),a=(0,t.createDecorator)("activeLanguageService");e.s(["IActiveLanguagePackService",()=>a,"ILocaleService",()=>s],614535);let l=(0,t.createDecorator)("ITrustedDomainService");e.s(["ITrustedDomainService",()=>l],736758);let d=(0,t.createDecorator)("INotebookOriginalCellModelFactory");e.s(["INotebookOriginalCellModelFactory",()=>d],987430);let c=(0,t.createDecorator)("INotebookOriginalModelReferenceFactory");e.s(["INotebookOriginalModelReferenceFactory",()=>c],383566);let u=(0,t.createDecorator)("INotebookModelSynchronizerFactory");e.s(["INotebookModelSynchronizerFactory",()=>u],227497)},225911,153397,370769,852656,355860,52848,864067,e=>{"use strict";var t,i,o,n,r,s,a,l=e.i(308165),d=e.i(6423),c=e.i(145384),u=e.i(436120),h=e.i(441900),p=e.i(509592),g=e.i(678417),m=e.i(292473),v=e.i(247921),_=e.i(323235),f=e.i(74944),y=e.i(116086),C=e.i(756970),b=e.i(657943),S=e.i(82678),w=e.i(485060),E=e.i(749351),I=e.i(260263),x=e.i(249137),D=e.i(313587),k=e.i(430504),A=e.i(13236),M=e.i(822398),L=e.i(603312),T=e.i(44050),R=e.i(996912),N=e.i(731069),P=e.i(911694),O=e.i(777700),F=e.i(891147),K=e.i(395882),W=e.i(790728),z=e.i(322549),V=e.i(856945),B=e.i(354345),H=e.i(576549),U=e.i(390457),G=e.i(365110),q=e.i(557260),j=e.i(364045),Q=e.i(796635),Y=e.i(138495),Z=e.i(261583),X=e.i(936953),$=e.i(834166),J=e.i(693655);let ee=(0,J.createDecorator)("terminalLogService");var et=e.i(562462),ei=e.i(839435);!function(e){e.Uninitialized="uninitialized",e.Idle="idle",e.Disabled="disabled",e.CheckingForUpdates="checking for updates",e.AvailableForDownload="available for download",e.Downloading="downloading",e.Downloaded="downloaded",e.Updating="updating",e.Ready="ready"}(t||(t={})),function(e){e[e.Setup=0]="Setup",e[e.Archive=1]="Archive",e[e.Snap=2]="Snap"}(i||(i={})),function(e){e[e.NotBuilt=0]="NotBuilt",e[e.DisabledByEnvironment=1]="DisabledByEnvironment",e[e.ManuallyDisabled=2]="ManuallyDisabled",e[e.MissingConfiguration=3]="MissingConfiguration",e[e.InvalidConfiguration=4]="InvalidConfiguration",e[e.RunningAsAdmin=5]="RunningAsAdmin"}(o||(o={}));let eo={Uninitialized:(0,ei.upcast)({type:t.Uninitialized}),Disabled:e=>({type:t.Disabled,reason:e}),Idle:(e,i)=>({type:t.Idle,updateType:e,error:i}),CheckingForUpdates:e=>({type:t.CheckingForUpdates,explicit:e}),AvailableForDownload:e=>({type:t.AvailableForDownload,update:e}),Downloading:(0,ei.upcast)({type:t.Downloading}),Downloaded:e=>({type:t.Downloaded,update:e}),Updating:e=>({type:t.Updating,update:e}),Ready:e=>({type:t.Ready,update:e})};e.s(["State",()=>eo,"StateType",()=>t],153397);var en=e.i(18640),er=e.i(625092),es=e.i(520303);class ea{constructor(e,t,i){this.level=e,this.key=t,this.value=i,this.forward=[]}}let el=void 0;class ed{get size(){return this._size}clear(){this._header=new ea(this._maxLevel,el,el),this._size=0}has(e){return!!ed._search(this,e,this.comparator)}get(e){var t;return null==(t=ed._search(this,e,this.comparator))?void 0:t.value}set(e,t){return ed._insert(this,e,t,this.comparator)&&(this._size+=1),this}delete(e){let t=ed._delete(this,e,this.comparator);return t&&(this._size-=1),t}forEach(e,t){let i=this._header.forward[0];for(;i;)e.call(t,i.value,i.key,this),i=i.forward[0]}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*entries(){let e=this._header.forward[0];for(;e;)yield[e.key,e.value],e=e.forward[0]}*keys(){let e=this._header.forward[0];for(;e;)yield e.key,e=e.forward[0]}*values(){let e=this._header.forward[0];for(;e;)yield e.value,e=e.forward[0]}toString(){let e="[SkipList]:",t=this._header.forward[0];for(;t;)e+="node(".concat(t.key,", ").concat(t.value,", lvl:").concat(t.level,")"),t=t.forward[0];return e}static _search(e,t,i){let o=e._header;for(let n=e._level-1;n>=0;n--)for(;o.forward[n]&&0>i(o.forward[n].key,t);)o=o.forward[n];if((o=o.forward[0])&&0===i(o.key,t))return o}static _insert(e,t,i,o){let n=[],r=e._header;for(let i=e._level-1;i>=0;i--){for(;r.forward[i]&&0>o(r.forward[i].key,t);)r=r.forward[i];n[i]=r}if((r=r.forward[0])&&0===o(r.key,t))return r.value=i,!1;{let o=ed._randomLevel(e);if(o>e._level){for(let t=e._level;t<o;t++)n[t]=e._header;e._level=o}r=new ea(o,t,i);for(let e=0;e<o;e++)r.forward[e]=n[e].forward[e],n[e].forward[e]=r;return!0}}static _randomLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=1;for(;Math.random()<t&&i<e._maxLevel;)i+=1;return i}static _delete(e,t,i){let o=[],n=e._header;for(let r=e._level-1;r>=0;r--){for(;n.forward[r]&&0>i(n.forward[r].key,t);)n=n.forward[r];o[r]=n}if(!(n=n.forward[0])||0!==i(n.key,t))return!1;for(let t=0;t<e._level&&o[t].forward[t]===n;t++)o[t].forward[t]=n.forward[t];for(;e._level>0&&e._header.forward[e._level-1]===el;)e._level-=1;return!0}constructor(e,t=65536){this.comparator=e,this[n]="SkipList",this._level=0,this._size=0,this._maxLevel=Math.max(1,0|Math.log2(t)),this._header=new ea(this._maxLevel,el,el)}}class ec{touch(){return this.time=ec._clock++,this}constructor(e){this.uri=e,this.time=ec._clock++}}ec._clock=0;let eu=class{dispose(){this._dispooables.dispose(),this._canonicalUris.clear()}asCanonicalUri(e){this._fileService.hasProvider(e)&&(e=(0,g.normalizePath)(e));let t=this._canonicalUris.get(e);return t?t.touch().uri.with({fragment:e.fragment}):(this._canonicalUris.set(e,new ec(e)),this._checkTrim(),e)}_checkTrim(){if(this._canonicalUris.size<this._limit)return;let e=[...this._canonicalUris.entries()].sort((e,t)=>e[1].time<t[1].time?1:e[1].time>t[1].time?-1:0);ec._clock=0,this._canonicalUris.clear();let t=.5*this._limit;for(let i=0;i<t;i++)this._canonicalUris.set(e[i][0],e[i][1].touch())}constructor(e){this._fileService=e,this._dispooables=new u.DisposableStore,this._limit=65536;let t=new Map,i=i=>{let o=t.get(i.scheme);return void 0===o&&(o=e.hasProvider(i)&&!this._fileService.hasCapability(i,es.FileSystemProviderCapabilities.PathCaseSensitive),t.set(i.scheme,o)),o};this._dispooables.add(c.Event.any(e.onDidChangeFileSystemProviderRegistrations,e.onDidChangeFileSystemProviderCapabilities)(e=>{t.delete(e.scheme)})),this.extUri=new g.ExtUri(i),this._canonicalUris=new ed((e,t)=>this.extUri.compare(e,t,!0),this._limit)}};eu=(0,l.__decorate)([(0,l.__param)(0,P.IFileService)],eu);var eh=e.i(797837),ep=e.i(708251);let eg=(0,J.createDecorator)("IIgnoredExtensionsManagementService");var em=e.i(48717),ev=e.i(950745);let e_=(0,J.createDecorator)("IUserDataSyncAccountService"),ef=(0,J.createDecorator)("IUserDataSyncMachinesService");var ey=e.i(751326),eC=e.i(788601),eb=e.i(164363),eS=e.i(395612),ew=e.i(534888),eE=e.i(290527),eI=e.i(230632),ex=e.i(32248),eD=e.i(970469),ek=e.i(571188),eA=e.i(151920),eM=e.i(634524),eL=e.i(848041),eT=e.i(834012),eR=e.i(394970),eN=e.i(698822),eP=e.i(390877),eO=e.i(75649),eF=e.i(528520),eK=e.i(716199),eW=e.i(133576);let ez=(0,J.createDecorator)("IEditSessionsStorageService"),eV=(0,J.createDecorator)("IEditSessionsLogService");var eB=e.i(439351),eH=e.i(383163),eU=e.i(273199),eG=e.i(467802),eq=e.i(511095),ej=e.i(767303),eQ=e.i(375360);let eY=(0,J.createDecorator)("IDefaultLogLevelsService");var eZ=e.i(182764),eX=e.i(828076),e$=e.i(791991),eJ=e.i(150110),e0=e.i(383771),e1=e.i(926911),e2=e.i(262709);let e3=(0,J.createDecorator)("notebookKeymapService");var e5=e.i(70664),e4=e.i(59235),e6=e.i(355842),e8=e.i(685487);let e9=(0,J.createDecorator)("outputChannelModelService");var e7=e.i(918496),te=e.i(503035),tt=e.i(549523),ti=e.i(762621),to=e.i(261320),tn=e.i(548742),tr=e.i(905831),ts=e.i(439500),ta=e.i(750364),tl=e.i(349602);let td=(0,J.createDecorator)("workspaceTagsService");var tc=e.i(845702),tu=e.i(657009),th=e.i(716658),tp=e.i(611345);let tg=(0,J.createDecorator)("terminalContributionsService");var tm=e.i(313576),tv=e.i(470222);let t_=(0,J.createDecorator)("testCoverageService"),tf=(0,J.createDecorator)("testingFilterState");var ty=e.i(814965),tC=e.i(662964);let tb=(0,J.createDecorator)("ITestResultStorage");var tS=e.i(867686);let tw=(0,J.createDecorator)("testingContinuousRunService"),tE=(0,J.createDecorator)("testingDecorationService"),tI=(0,J.createDecorator)("testingPeekOpener");var tx=e.i(427357),tD=e.i(988359),tk=e.i(514452),tA=e.i(370351);let tM=(0,J.createDecorator)("walkthroughsService");var tL=e.i(928546),tT=e.i(998174),tR=e.i(810364),tN=e.i(420365),tP=e.i(84249),tO=e.i(904528),tF=e.i(559813);let tK=(0,J.createDecorator)("auxiliaryWindowService");e.s(["IAuxiliaryWindowService",()=>tK],370769);let tW=(0,J.createDecorator)("bannerService");e.s(["IBannerService",()=>tW],852656);var tz=e.i(577289),tV=e.i(42900),tB=e.i(452229),tH=e.i(783122),tU=e.i(380755),tG=e.i(985586),tq=e.i(142968),tj=e.i(810602),tQ=e.i(636501),tY=e.i(603042),tZ=e.i(309402),tX=e.i(122357),t$=e.i(199007);let tJ=(0,J.createDecorator)("IWorkspaceExtensionsConfigService");var t0=e.i(988525),t1=e.i(622055),t2=e.i(976233),t3=e.i(429940),t5=e.i(362507),t4=e.i(259430),t6=e.i(976204);let t8=(0,J.createDecorator)("ITroubleshootIssueService");var t9=e.i(957583),t7=e.i(519135),ie=e.i(103756);class it{dumpDebugInfo(){return"FallbackKeyboardMapper dispatching on keyCode"}resolveKeyboardEvent(e){let t=e.ctrlKey||this._mapAltGrToCtrlAlt&&e.altGraphKey,i=e.altKey||this._mapAltGrToCtrlAlt&&e.altGraphKey,o=new t7.KeyCodeChord(t,e.shiftKey,i,e.metaKey,e.keyCode);return this.resolveKeybinding(new t7.Keybinding([o]))[0]}resolveKeybinding(e){return ie.USLayoutResolvedKeybinding.resolveKeybinding(e,this._OS)}constructor(e,t){this._mapAltGrToCtrlAlt=e,this._OS=t}}e.s(["FallbackKeyboardMapper",()=>it],355860);var ii=e.i(782024),io=e.i(707259),ir=e.i(256120),is=e.i(604058),ia=e.i(395806),il=u,id=e.i(297334),ic=e.i(108476),iu=e.i(413174),ih=e.i(780379);let ip=(s=r=class extends il.Disposable{get startupKind(){return this._startupKind}get phase(){return this._phase}resolveStartupKind(){var e;let t=null!=(e=this.doResolveStartupKind())?e:id.StartupKind.NewWindow;return this.logService.trace("[lifecycle] starting up (startup kind: ".concat(t,")")),t}doResolveStartupKind(){let e,t=this.storageService.getNumber(s.LAST_SHUTDOWN_REASON_KEY,iu.StorageScope.WORKSPACE);switch(this.storageService.remove(s.LAST_SHUTDOWN_REASON_KEY,iu.StorageScope.WORKSPACE),t){case id.ShutdownReason.RELOAD:e=id.StartupKind.ReloadedWindow;break;case id.ShutdownReason.LOAD:e=id.StartupKind.ReopenedWindow}return e}set phase(e){if(e<this.phase)throw Error("Lifecycle cannot go backwards");if(this._phase===e)return;this.logService.trace("lifecycle: phase changed (value: ".concat(e,")")),this._phase=e,(0,ic.mark)("code/LifecyclePhase/".concat((0,id.LifecyclePhaseToString)(e)));let t=this.phaseWhen.get(this._phase);t&&(t.open(),this.phaseWhen.delete(this._phase))}async when(e){if(e<=this._phase)return;let t=this.phaseWhen.get(e);t||(t=new ia.Barrier,this.phaseWhen.set(e,t)),await t.wait()}constructor(e,t){super(),this.logService=e,this.storageService=t,this._onBeforeShutdown=this._register(new c.Emitter),this.onBeforeShutdown=this._onBeforeShutdown.event,this._onWillShutdown=this._register(new c.Emitter),this.onWillShutdown=this._onWillShutdown.event,this._onDidShutdown=this._register(new c.Emitter),this.onDidShutdown=this._onDidShutdown.event,this._onBeforeShutdownError=this._register(new c.Emitter),this.onBeforeShutdownError=this._onBeforeShutdownError.event,this._onShutdownVeto=this._register(new c.Emitter),this.onShutdownVeto=this._onShutdownVeto.event,this._phase=id.LifecyclePhase.Starting,this.phaseWhen=new Map,this._startupKind=this.resolveStartupKind(),this._register(this.storageService.onWillSaveState(e=>{e.reason===iu.WillSaveStateReason.SHUTDOWN&&this.storageService.store(s.LAST_SHUTDOWN_REASON_KEY,this.shutdownReason,iu.StorageScope.WORKSPACE,iu.StorageTarget.MACHINE)}))}},r.LAST_SHUTDOWN_REASON_KEY="lifecyle.lastShutdownReason",r);ip=s=(0,l.__decorate)([(0,l.__param)(0,z.ILogService),(0,l.__param)(1,ih.IStorageService)],ip);var ig=e.i(614535),im=e.i(990893),iv=e.i(308733),i_=e.i(812541),iy=e.i(103072),iC=e.i(516245),ib=e.i(43095),iS=e.i(873619),iw=e.i(247419),iE=e.i(695158),iI=e.i(595156);let ix=(0,J.createDecorator)("embedderTerminalService");var iD=e.i(189595),ik=e.i(71190),iA=e.i(524819),iM=e.i(464627),iL=e.i(195857);let iT=(0,J.createDecorator)("titleService");e.s(["ITitleService",()=>iT],52848);var iR=e.i(131577),iN=e.i(120359),iP=e.i(454573);let iO=(0,J.createDecorator)("IRemoteUserDataProfilesService");var iF=e.i(652624),iK=u,iW=e.i(550483);class iz extends iK.Disposable{get currentProfile(){return this._currentProfile}async updateCurrentProfile(e){if((0,iW.equals)(this._currentProfile,e))return;let t=this._currentProfile;this._currentProfile=e;let i=[];this._onDidChangeCurrentProfile.fire({previous:t,profile:e,join(e){i.push(e)}}),await ia.Promises.settled(i)}constructor(e){super(),this._onDidChangeCurrentProfile=this._register(new c.Emitter),this.onDidChangeCurrentProfile=this._onDidChangeCurrentProfile.event,this._currentProfile=e}}var iV=e.i(347195),iB=e.i(24165),iH=e.i(111214),iU=e.i(427277),iG=e.i(389083);let iq=(0,J.createDecorator)("workingCopyHistoryService");var ij=e.i(67064),iQ=e.i(47515);let iY=(0,J.createDecorator)("IWorkspaceIdentityService");var iZ=e.i(819515),iX=e.i(681408),i$=e.i(75999),iJ=e.i(889344),i0=e.i(166253),i1=e.i(383962),i2=e.i(304729),i3=e.i(358764),i5=e.i(265216);!function(e){e.Uninitialized="uninitialized",e.Unavailable="unavailable",e.Available="available"}(a||(a={})),(0,i1.localize2)(12082,"Settings Sync"),(0,i3.registerIcon)("settings-sync-view-icon",i2.Codicon.sync,(0,i1.localize)(12083,"View icon of the Settings Sync view."));let i4=new i0.RawContextKey("syncStatus",em.SyncStatus.Uninitialized);new i0.RawContextKey("syncEnabled",!1);let i6=new i0.RawContextKey("userDataSyncAccountStatus",a.Uninitialized);new i0.RawContextKey("enableSyncActivityViews",!1),new i0.RawContextKey("enableSyncConflictsView",!1),new i0.RawContextKey("hasConflicts",!1),(0,i1.localize2)(12084,"Download Settings Sync Activity"),i5.Categories.Developer,i0.ContextKeyExpr.and(i6.isEqualTo(a.Available),i4.notEqualsTo(em.SyncStatus.Uninitialized));var i8=e.i(618506);let i9=(0,J.createDecorator)("accessibleViewInformationService");e.s(["IAccessibleViewInformationService",()=>i9],864067);let i7=(0,J.createDecorator)("IUserDataProfileStorageService"),oe=(0,J.createDecorator)("integrityService");var ot=e.i(736758),oi=e.i(930196),oo=e.i(838068),on=e.i(966456),or=e.i(583388),os=e.i(930548),oa=e.i(339953),ol=e.i(499627),od=e.i(823197),oc=e.i(290370),ou=e.i(987430),oh=e.i(383566),op=e.i(227497),og=e.i(210130),om=e.i(458548),ov=e.i(20699),o_=e.i(437780);function of(e,t,i){function o(){throw Error("Unsupported: ".concat(e.constructor.name,".").concat(t," is not supported. You are using a feature without registering the corresponding service override."))}null!=i.value?i.value=o:null!=i.get&&(i.get=o)}(0,O.registerSingleton)(z.ILoggerService,class extends W.AbstractLoggerService{doCreateLogger(){return new W.NullLogger}constructor(){super(W.LogLevel.Info,m.URI.file("logs.log"))}},O.InstantiationType.Eager);class oy{get activeTextEditorControl(){var e;return null!=(e=y.StandaloneServices.get(v.ICodeEditorService).getFocusedCodeEditor())?e:void 0}openEditor(){(0,o_.unsupported)()}openEditors(){(0,o_.unsupported)()}createScoped(){return this}constructor(){this._serviceBrand=void 0,this.getVisibleTextEditorControls=()=>[],this.onWillOpenEditor=c.Event.None,this.onDidActiveEditorChange=c.Event.None,this.onDidVisibleEditorsChange=c.Event.None,this.onDidEditorsChange=c.Event.None,this.onDidCloseEditor=c.Event.None,this.activeEditorPane=void 0,this.activeEditor=void 0,this.activeTextEditorLanguageId=void 0,this.visibleEditorPanes=[],this.visibleEditors=[],this.visibleTextEditorControls=[],this.editors=[],this.count=0,this.getEditors=()=>[],this.replaceEditors=async()=>{},this.isOpened=()=>!1,this.isVisible=()=>!1,this.closeEditor=async()=>{},this.closeEditors=async()=>{},this.findEditors=()=>[],this.save=async()=>({success:!1,editors:[]}),this.saveAll=async()=>({success:!1,editors:[]}),this.revert=async()=>!1,this.revertAll=async()=>!1}}(0,l.__decorate)([of],oy.prototype,"openEditor",null),(0,l.__decorate)([of],oy.prototype,"openEditors",null),(0,O.registerSingleton)(tj.IEditorService,oy,O.InstantiationType.Eager);class oC{getLastActivePaneCompositeId(){(0,o_.unsupported)()}constructor(){this._serviceBrand=void 0,this.getPaneCompositeIds=()=>[],this.onDidPaneCompositeOpen=c.Event.None,this.onDidPaneCompositeClose=c.Event.None,this.openPaneComposite=async()=>void 0,this.getActivePaneComposite=()=>void 0,this.getPaneComposite=()=>void 0,this.getPaneComposites=()=>[],this.getPinnedPaneCompositeIds=()=>[],this.getVisiblePaneCompositeIds=()=>[],this.getProgressIndicator=()=>void 0,this.hideActivePaneComposite=()=>{},this.showActivity=()=>u.Disposable.None}}(0,l.__decorate)([of],oC.prototype,"getLastActivePaneCompositeId",null),(0,O.registerSingleton)(iy.IPaneCompositePartService,oC,O.InstantiationType.Eager),(0,O.registerSingleton)(er.IUriIdentityService,eu,O.InstantiationType.Delayed);class ob{get files(){return(0,o_.unsupported)()}get untitled(){return(0,o_.unsupported)()}get encoding(){return(0,o_.unsupported)()}isDirty(){(0,o_.unsupported)()}save(){(0,o_.unsupported)()}saveAs(){(0,o_.unsupported)()}revert(){(0,o_.unsupported)()}read(){(0,o_.unsupported)()}readStream(){(0,o_.unsupported)()}write(){(0,o_.unsupported)()}create(){(0,o_.unsupported)()}getEncodedReadable(){(0,o_.unsupported)()}getDecodedStream(){(0,o_.unsupported)()}dispose(){(0,o_.unsupported)()}}(0,l.__decorate)([of],ob.prototype,"files",null),(0,l.__decorate)([of],ob.prototype,"untitled",null),(0,l.__decorate)([of],ob.prototype,"encoding",null),(0,l.__decorate)([of],ob.prototype,"isDirty",null),(0,l.__decorate)([of],ob.prototype,"save",null),(0,l.__decorate)([of],ob.prototype,"saveAs",null),(0,l.__decorate)([of],ob.prototype,"revert",null),(0,l.__decorate)([of],ob.prototype,"read",null),(0,l.__decorate)([of],ob.prototype,"readStream",null),(0,l.__decorate)([of],ob.prototype,"write",null),(0,l.__decorate)([of],ob.prototype,"create",null),(0,l.__decorate)([of],ob.prototype,"getEncodedReadable",null),(0,l.__decorate)([of],ob.prototype,"getDecodedStream",null),(0,l.__decorate)([of],ob.prototype,"dispose",null),(0,O.registerSingleton)(iA.ITextFileService,ob,O.InstantiationType.Eager);class oS{registerProvider(){(0,o_.unsupported)()}resolve(){(0,o_.unsupported)()}resolveAll(){(0,o_.unsupported)()}stat(){(0,o_.unsupported)()}readFile(){(0,o_.unsupported)()}readFileStream(){(0,o_.unsupported)()}writeFile(){(0,o_.unsupported)()}move(){(0,o_.unsupported)()}canMove(){(0,o_.unsupported)()}copy(){(0,o_.unsupported)()}canCopy(){(0,o_.unsupported)()}cloneFile(){(0,o_.unsupported)()}createFile(){(0,o_.unsupported)()}canCreateFile(){(0,o_.unsupported)()}createFolder(){(0,o_.unsupported)()}del(){(0,o_.unsupported)()}canDelete(){(0,o_.unsupported)()}watch(){(0,o_.unsupported)()}createWatcher(){(0,o_.unsupported)()}dispose(){}constructor(){this._serviceBrand=void 0,this.onDidChangeFileSystemProviderRegistrations=c.Event.None,this.onDidChangeFileSystemProviderCapabilities=c.Event.None,this.onWillActivateFileSystemProvider=c.Event.None,this.getProvider=function(){},this.activateProvider=async()=>{},this.canHandleResource=async()=>!1,this.hasProvider=()=>!1,this.hasCapability=()=>!1,this.listCapabilities=()=>[],this.onDidFilesChange=c.Event.None,this.onDidRunOperation=c.Event.None,this.exists=async()=>!1,this.onDidWatchError=c.Event.None}}(0,l.__decorate)([of],oS.prototype,"registerProvider",null),(0,l.__decorate)([of],oS.prototype,"resolve",null),(0,l.__decorate)([of],oS.prototype,"resolveAll",null),(0,l.__decorate)([of],oS.prototype,"stat",null),(0,l.__decorate)([of],oS.prototype,"readFile",null),(0,l.__decorate)([of],oS.prototype,"readFileStream",null),(0,l.__decorate)([of],oS.prototype,"writeFile",null),(0,l.__decorate)([of],oS.prototype,"move",null),(0,l.__decorate)([of],oS.prototype,"canMove",null),(0,l.__decorate)([of],oS.prototype,"copy",null),(0,l.__decorate)([of],oS.prototype,"canCopy",null),(0,l.__decorate)([of],oS.prototype,"cloneFile",null),(0,l.__decorate)([of],oS.prototype,"createFile",null),(0,l.__decorate)([of],oS.prototype,"canCreateFile",null),(0,l.__decorate)([of],oS.prototype,"createFolder",null),(0,l.__decorate)([of],oS.prototype,"del",null),(0,l.__decorate)([of],oS.prototype,"canDelete",null),(0,l.__decorate)([of],oS.prototype,"watch",null),(0,l.__decorate)([of],oS.prototype,"createWatcher",null),(0,O.registerSingleton)(P.IFileService,oS,O.InstantiationType.Eager);class ow{setSelection(){(0,o_.unsupported)()}get groupsView(){return(0,o_.unsupported)()}notifyLabelChanged(){}createEditorActions(){(0,o_.unsupported)()}get titleHeight(){return(0,o_.unsupported)()}setActive(){(0,o_.unsupported)()}notifyIndexChanged(){(0,o_.unsupported)()}relayout(){(0,o_.unsupported)()}dispose(){(0,o_.unsupported)()}toJSON(){(0,o_.unsupported)()}get element(){return(0,o_.unsupported)()}layout(){(0,o_.unsupported)()}get scopedContextKeyService(){return y.StandaloneServices.get(C.IContextKeyService)}getIndexOfEditor(){(0,o_.unsupported)()}openEditor(){(0,o_.unsupported)()}openEditors(){(0,o_.unsupported)()}moveEditor(){(0,o_.unsupported)()}moveEditors(){(0,o_.unsupported)()}copyEditor(){(0,o_.unsupported)()}copyEditors(){(0,o_.unsupported)()}closeEditor(){(0,o_.unsupported)()}closeEditors(){(0,o_.unsupported)()}closeAllEditors(){(0,o_.unsupported)()}replaceEditors(){(0,o_.unsupported)()}focus(){}isFirst(){(0,o_.unsupported)()}isLast(){(0,o_.unsupported)()}constructor(){this.selectedEditors=[],this.isSelected=()=>!1,this.isTransient=()=>!1,this.windowId=d.mainWindow.vscodeWindowId,this.onDidFocus=c.Event.None,this.onDidOpenEditorFail=c.Event.None,this.whenRestored=Promise.resolve(),this.disposed=!1,this.minimumWidth=0,this.maximumWidth=1/0,this.minimumHeight=0,this.maximumHeight=1/0,this.onDidChange=c.Event.None,this.onDidModelChange=c.Event.None,this.onWillDispose=c.Event.None,this.onDidActiveEditorChange=c.Event.None,this.onWillCloseEditor=c.Event.None,this.onDidCloseEditor=c.Event.None,this.onWillMoveEditor=c.Event.None,this.onWillOpenEditor=c.Event.None,this.id=0,this.index=0,this.label="main",this.ariaLabel="main",this.activeEditorPane=void 0,this.activeEditor=null,this.previewEditor=null,this.count=0,this.isEmpty=!1,this.isLocked=!1,this.stickyCount=0,this.editors=[],this.getEditors=()=>[],this.findEditors=()=>[],this.getEditorByIndex=()=>void 0,this.isPinned=()=>!1,this.isSticky=()=>!1,this.isActive=()=>!1,this.contains=()=>!1,this.pinEditor=()=>{},this.stickEditor=()=>{},this.unstickEditor=()=>{},this.lock=()=>{}}}(0,l.__decorate)([of],ow.prototype,"setSelection",null),(0,l.__decorate)([of],ow.prototype,"groupsView",null),(0,l.__decorate)([of],ow.prototype,"createEditorActions",null),(0,l.__decorate)([of],ow.prototype,"titleHeight",null),(0,l.__decorate)([of],ow.prototype,"setActive",null),(0,l.__decorate)([of],ow.prototype,"notifyIndexChanged",null),(0,l.__decorate)([of],ow.prototype,"relayout",null),(0,l.__decorate)([of],ow.prototype,"dispose",null),(0,l.__decorate)([of],ow.prototype,"toJSON",null),(0,l.__decorate)([of],ow.prototype,"element",null),(0,l.__decorate)([of],ow.prototype,"layout",null),(0,l.__decorate)([of],ow.prototype,"getIndexOfEditor",null),(0,l.__decorate)([of],ow.prototype,"openEditor",null),(0,l.__decorate)([of],ow.prototype,"openEditors",null),(0,l.__decorate)([of],ow.prototype,"moveEditor",null),(0,l.__decorate)([of],ow.prototype,"moveEditors",null),(0,l.__decorate)([of],ow.prototype,"copyEditor",null),(0,l.__decorate)([of],ow.prototype,"copyEditors",null),(0,l.__decorate)([of],ow.prototype,"closeEditor",null),(0,l.__decorate)([of],ow.prototype,"closeEditors",null),(0,l.__decorate)([of],ow.prototype,"closeAllEditors",null),(0,l.__decorate)([of],ow.prototype,"replaceEditors",null),(0,l.__decorate)([of],ow.prototype,"isFirst",null),(0,l.__decorate)([of],ow.prototype,"isLast",null);let oE=new ow;class oI{get contentDimension(){return(0,o_.unsupported)()}centerLayout(){(0,o_.unsupported)()}isLayoutCentered(){(0,o_.unsupported)()}enforcePartOptions(){(0,o_.unsupported)()}get sideGroup(){return(0,o_.unsupported)()}activateGroup(){(0,o_.unsupported)()}getSize(){(0,o_.unsupported)()}setSize(){(0,o_.unsupported)()}arrangeGroups(){(0,o_.unsupported)()}toggleMaximizeGroup(){(0,o_.unsupported)()}toggleExpandGroup(){(0,o_.unsupported)()}applyLayout(){(0,o_.unsupported)()}getLayout(){(0,o_.unsupported)()}setGroupOrientation(){(0,o_.unsupported)()}addGroup(){(0,o_.unsupported)()}removeGroup(){(0,o_.unsupported)()}moveGroup(){(0,o_.unsupported)()}mergeGroup(){(0,o_.unsupported)()}mergeAllGroups(){(0,o_.unsupported)()}copyGroup(){(0,o_.unsupported)()}createEditorDropTarget(){(0,o_.unsupported)()}constructor(){this.onWillDispose=c.Event.None,this.windowId=d.mainWindow.vscodeWindowId,this.hasMaximizedGroup=()=>!1,this.onDidLayout=c.Event.None,this.onDidScroll=c.Event.None,this.isReady=!0,this.whenReady=Promise.resolve(),this.whenRestored=Promise.resolve(),this.hasRestorableState=!1,this.onDidChangeActiveGroup=c.Event.None,this.onDidAddGroup=c.Event.None,this.onDidRemoveGroup=c.Event.None,this.onDidMoveGroup=c.Event.None,this.onDidActivateGroup=c.Event.None,this.onDidChangeGroupIndex=c.Event.None,this.onDidChangeGroupLocked=c.Event.None,this.onDidChangeGroupMaximized=c.Event.None,this.activeGroup=oE,this.groups=[oE],this.count=0,this.orientation=iZ.GroupOrientation.HORIZONTAL,this.getGroups=()=>[],this.getGroup=()=>void 0,this.findGroup=()=>void 0,this.partOptions=ex.DEFAULT_EDITOR_PART_OPTIONS,this.onDidChangeEditorPartOptions=c.Event.None}}(0,l.__decorate)([of],oI.prototype,"contentDimension",null),(0,l.__decorate)([of],oI.prototype,"centerLayout",null),(0,l.__decorate)([of],oI.prototype,"isLayoutCentered",null),(0,l.__decorate)([of],oI.prototype,"enforcePartOptions",null),(0,l.__decorate)([of],oI.prototype,"sideGroup",null),(0,l.__decorate)([of],oI.prototype,"activateGroup",null),(0,l.__decorate)([of],oI.prototype,"getSize",null),(0,l.__decorate)([of],oI.prototype,"setSize",null),(0,l.__decorate)([of],oI.prototype,"arrangeGroups",null),(0,l.__decorate)([of],oI.prototype,"toggleMaximizeGroup",null),(0,l.__decorate)([of],oI.prototype,"toggleExpandGroup",null),(0,l.__decorate)([of],oI.prototype,"applyLayout",null),(0,l.__decorate)([of],oI.prototype,"getLayout",null),(0,l.__decorate)([of],oI.prototype,"setGroupOrientation",null),(0,l.__decorate)([of],oI.prototype,"addGroup",null),(0,l.__decorate)([of],oI.prototype,"removeGroup",null),(0,l.__decorate)([of],oI.prototype,"moveGroup",null),(0,l.__decorate)([of],oI.prototype,"mergeGroup",null),(0,l.__decorate)([of],oI.prototype,"mergeAllGroups",null),(0,l.__decorate)([of],oI.prototype,"copyGroup",null),(0,l.__decorate)([of],oI.prototype,"createEditorDropTarget",null);class ox{getScopedInstantiationService(){(0,o_.unsupported)()}registerContextKeyProvider(){(0,o_.unsupported)()}saveWorkingSet(){(0,o_.unsupported)()}getWorkingSets(){(0,o_.unsupported)()}applyWorkingSet(){(0,o_.unsupported)()}deleteWorkingSet(){(0,o_.unsupported)()}getPart(){(0,o_.unsupported)()}createAuxiliaryEditorPart(){(0,o_.unsupported)()}toggleMaximizeGroup(){(0,o_.unsupported)()}toggleExpandGroup(){(0,o_.unsupported)()}createEditorDropTarget(){(0,o_.unsupported)()}getLayout(){(0,o_.unsupported)()}get contentDimension(){return(0,o_.unsupported)()}get sideGroup(){return(0,o_.unsupported)()}activateGroup(){(0,o_.unsupported)()}getSize(){(0,o_.unsupported)()}setSize(){(0,o_.unsupported)()}arrangeGroups(){(0,o_.unsupported)()}applyLayout(){(0,o_.unsupported)()}centerLayout(){(0,o_.unsupported)()}setGroupOrientation(){(0,o_.unsupported)()}addGroup(){(0,o_.unsupported)()}removeGroup(){(0,o_.unsupported)()}moveGroup(){(0,o_.unsupported)()}mergeGroup(){(0,o_.unsupported)()}mergeAllGroups(){(0,o_.unsupported)()}copyGroup(){(0,o_.unsupported)()}enforcePartOptions(){(0,o_.unsupported)()}constructor(){this.onDidCreateAuxiliaryEditorPart=c.Event.None,this.mainPart=new oI,this.activePart=this.mainPart,this.parts=[this.mainPart],this.onDidChangeGroupMaximized=c.Event.None,this.partOptions=ex.DEFAULT_EDITOR_PART_OPTIONS,this._serviceBrand=void 0,this.onDidChangeActiveGroup=c.Event.None,this.onDidAddGroup=c.Event.None,this.onDidRemoveGroup=c.Event.None,this.onDidMoveGroup=c.Event.None,this.onDidActivateGroup=c.Event.None,this.onDidLayout=c.Event.None,this.onDidScroll=c.Event.None,this.onDidChangeGroupIndex=c.Event.None,this.onDidChangeGroupLocked=c.Event.None,this.activeGroup=oE,this.groups=[oE],this.count=0,this.orientation=iZ.GroupOrientation.HORIZONTAL,this.isReady=!1,this.whenReady=Promise.resolve(),this.whenRestored=Promise.resolve(),this.hasRestorableState=!1,this.getGroups=()=>[],this.getGroup=()=>void 0,this.isLayoutCentered=()=>!1,this.findGroup=()=>void 0,this.onDidChangeEditorPartOptions=c.Event.None}}(0,l.__decorate)([of],ox.prototype,"getScopedInstantiationService",null),(0,l.__decorate)([of],ox.prototype,"registerContextKeyProvider",null),(0,l.__decorate)([of],ox.prototype,"saveWorkingSet",null),(0,l.__decorate)([of],ox.prototype,"getWorkingSets",null),(0,l.__decorate)([of],ox.prototype,"applyWorkingSet",null),(0,l.__decorate)([of],ox.prototype,"deleteWorkingSet",null),(0,l.__decorate)([of],ox.prototype,"getPart",null),(0,l.__decorate)([of],ox.prototype,"createAuxiliaryEditorPart",null),(0,l.__decorate)([of],ox.prototype,"toggleMaximizeGroup",null),(0,l.__decorate)([of],ox.prototype,"toggleExpandGroup",null),(0,l.__decorate)([of],ox.prototype,"createEditorDropTarget",null),(0,l.__decorate)([of],ox.prototype,"getLayout",null),(0,l.__decorate)([of],ox.prototype,"contentDimension",null),(0,l.__decorate)([of],ox.prototype,"sideGroup",null),(0,l.__decorate)([of],ox.prototype,"activateGroup",null),(0,l.__decorate)([of],ox.prototype,"getSize",null),(0,l.__decorate)([of],ox.prototype,"setSize",null),(0,l.__decorate)([of],ox.prototype,"arrangeGroups",null),(0,l.__decorate)([of],ox.prototype,"applyLayout",null),(0,l.__decorate)([of],ox.prototype,"centerLayout",null),(0,l.__decorate)([of],ox.prototype,"setGroupOrientation",null),(0,l.__decorate)([of],ox.prototype,"addGroup",null),(0,l.__decorate)([of],ox.prototype,"removeGroup",null),(0,l.__decorate)([of],ox.prototype,"moveGroup",null),(0,l.__decorate)([of],ox.prototype,"mergeGroup",null),(0,l.__decorate)([of],ox.prototype,"mergeAllGroups",null),(0,l.__decorate)([of],ox.prototype,"copyGroup",null),(0,l.__decorate)([of],ox.prototype,"enforcePartOptions",null),(0,O.registerSingleton)(tU.IEditorGroupsService,ox,O.InstantiationType.Eager),(0,O.registerSingleton)(tW,class{focus(){}focusNextAction(){}focusPreviousAction(){}hide(){}show(){}},O.InstantiationType.Eager);class oD{getPart(){(0,o_.unsupported)()}createAuxiliaryTitlebarPart(){(0,o_.unsupported)()}dispose(){(0,o_.unsupported)()}updateProperties(){}constructor(){this.onMenubarVisibilityChange=c.Event.None,this.isCommandCenterVisible=!1,this.onDidChangeCommandCenterVisibility=c.Event.None,this.registerVariables=()=>{}}}(0,l.__decorate)([of],oD.prototype,"getPart",null),(0,l.__decorate)([of],oD.prototype,"createAuxiliaryTitlebarPart",null),(0,l.__decorate)([of],oD.prototype,"dispose",null),(0,O.registerSingleton)(iT,oD,O.InstantiationType.Eager);class ok{addFileOperationParticipant(){(0,o_.unsupported)()}addSaveParticipant(){(0,o_.unsupported)()}runSaveParticipants(){(0,o_.unsupported)()}create(){(0,o_.unsupported)()}createFolder(){(0,o_.unsupported)()}move(){(0,o_.unsupported)()}copy(){(0,o_.unsupported)()}delete(){(0,o_.unsupported)()}registerWorkingCopyProvider(){(0,o_.unsupported)()}constructor(){this.onWillRunWorkingCopyFileOperation=c.Event.None,this.onDidFailWorkingCopyFileOperation=c.Event.None,this.onDidRunWorkingCopyFileOperation=c.Event.None,this.hasSaveParticipants=!1,this.getDirty=()=>[]}}(0,l.__decorate)([of],ok.prototype,"addFileOperationParticipant",null),(0,l.__decorate)([of],ok.prototype,"addSaveParticipant",null),(0,l.__decorate)([of],ok.prototype,"runSaveParticipants",null),(0,l.__decorate)([of],ok.prototype,"create",null),(0,l.__decorate)([of],ok.prototype,"createFolder",null),(0,l.__decorate)([of],ok.prototype,"move",null),(0,l.__decorate)([of],ok.prototype,"copy",null),(0,l.__decorate)([of],ok.prototype,"delete",null),(0,l.__decorate)([of],ok.prototype,"registerWorkingCopyProvider",null),(0,O.registerSingleton)(iG.IWorkingCopyFileService,ok,O.InstantiationType.Eager);class oA{get path(){return(0,o_.unsupported)()}fileURI(){(0,o_.unsupported)()}userHome(){(0,o_.unsupported)()}hasValidBasename(){(0,o_.unsupported)()}constructor(){this.defaultUriScheme="file",this.resolvedUserHome=void 0}}(0,l.__decorate)([of],oA.prototype,"path",null),(0,l.__decorate)([of],oA.prototype,"fileURI",null),(0,l.__decorate)([of],oA.prototype,"userHome",null),(0,l.__decorate)([of],oA.prototype,"hasValidBasename",null),(0,O.registerSingleton)(iC.IPathService,oA,O.InstantiationType.Delayed),(0,O.registerSingleton)(H.IProductService,class{constructor(){this._serviceBrand=void 0,this.version="1.96.4",this.commit="cd4ee3b1c348a13bafd8f9ad8060705f6d4b9cba",this.quality="oss",this.nameShort="Code - OSS Dev",this.nameLong="Code - OSS Dev",this.applicationName="code-oss",this.dataFolderName=".vscode-oss",this.urlProtocol="code-oss",this.reportIssueUrl="https://github.com/microsoft/vscode/issues/new",this.licenseName="MIT",this.licenseUrl="https://github.com/microsoft/vscode/blob/main/LICENSE.txt",this.serverApplicationName="code-server-oss"}},O.InstantiationType.Eager),(0,O.registerSingleton)(k.IExtensionTipsService,class{constructor(){this._serviceBrand=void 0,this.getConfigBasedTips=async()=>[],this.getImportantExecutableBasedTips=async()=>[],this.getOtherExecutableBasedTips=async()=>[]}},O.InstantiationType.Eager);class oM{addStatus(){(0,o_.unsupported)()}getLanguageStatus(){(0,o_.unsupported)()}constructor(){this.onDidChange=c.Event.None}}(0,l.__decorate)([of],oM.prototype,"addStatus",null),(0,l.__decorate)([of],oM.prototype,"getLanguageStatus",null),(0,O.registerSingleton)(ir.ILanguageStatusService,oM,O.InstantiationType.Delayed);class oL{focus(){(0,o_.unsupported)()}openWindow(){(0,o_.unsupported)()}toggleFullScreen(){(0,o_.unsupported)()}moveTop(){(0,o_.unsupported)()}getCursorScreenPoint(){(0,o_.unsupported)()}restart(){(0,o_.unsupported)()}reload(){(0,o_.unsupported)()}close(){(0,o_.unsupported)()}withExpectedShutdown(){(0,o_.unsupported)()}constructor(){this.getNativeWindowHandle=async()=>void 0,this.getScreenshot=async()=>void 0,this.getPathForFile=()=>void 0,this.onDidChangeFullScreen=c.Event.None,this.onDidChangeFocus=c.Event.None,this.hasFocus=!1,this.hadLastFocus=async()=>!1,this.onDidChangeActiveWindow=c.Event.None}}(0,l.__decorate)([of],oL.prototype,"focus",null),(0,l.__decorate)([of],oL.prototype,"openWindow",null),(0,l.__decorate)([of],oL.prototype,"toggleFullScreen",null),(0,l.__decorate)([of],oL.prototype,"moveTop",null),(0,l.__decorate)([of],oL.prototype,"getCursorScreenPoint",null),(0,l.__decorate)([of],oL.prototype,"restart",null),(0,l.__decorate)([of],oL.prototype,"reload",null),(0,l.__decorate)([of],oL.prototype,"close",null),(0,l.__decorate)([of],oL.prototype,"withExpectedShutdown",null),(0,O.registerSingleton)(t6.IHostService,oL,O.InstantiationType.Eager);class oT extends ip{shutdown(){(0,o_.unsupported)()}}(0,l.__decorate)([of],oT.prototype,"shutdown",null),(0,O.registerSingleton)(is.ILifecycleService,oT,O.InstantiationType.Eager),(0,O.registerSingleton)(io.ILanguageDetectionService,class{isEnabledForLanguage(){return!1}async detectLanguage(){}},O.InstantiationType.Eager),(0,O.registerSingleton)(t2.IExtensionService,iX.NullExtensionService,O.InstantiationType.Eager),(0,O.registerSingleton)(F.IKeyboardLayoutService,class{constructor(){this.onDidChangeKeyboardLayout=c.Event.None,this.getRawKeyboardMapping=()=>null,this.getCurrentKeyboardLayout=()=>null,this.getAllKeyboardLayouts=()=>[],this.getKeyboardMapper=()=>new it(!1,p.OS),this.validateCurrentKeyboardMapping=()=>{}}},O.InstantiationType.Delayed),(0,O.registerSingleton)(iP.IUserDataInitializationService,class{async requiresInitialization(){return!1}async whenInitializationFinished(){}async initializeRequiredResources(){}async initializeInstalledExtensions(){}async initializeOtherResources(){}},O.InstantiationType.Eager),(0,O.registerSingleton)(iM.IHostColorSchemeService,class{constructor(){this.dark=!1,this.highContrast=!1,this.onDidChangeColorScheme=c.Event.None}},O.InstantiationType.Eager);let oR=class{getFolderSettingsResource(){(0,o_.unsupported)()}createPreferencesEditorModel(){(0,o_.unsupported)()}resolveModel(){(0,o_.unsupported)()}createSettings2EditorModel(){(0,o_.unsupported)()}openRawDefaultSettings(){(0,o_.unsupported)()}openSettings(){(0,o_.unsupported)()}openUserSettings(){(0,o_.unsupported)()}openRemoteSettings(){(0,o_.unsupported)()}openWorkspaceSettings(){(0,o_.unsupported)()}openFolderSettings(){(0,o_.unsupported)()}openGlobalKeybindingSettings(){(0,o_.unsupported)()}openDefaultKeybindingsFile(){(0,o_.unsupported)()}getEditableSettingsURI(){(0,o_.unsupported)()}createSplitJsonEditorInput(){(0,o_.unsupported)()}openApplicationSettings(){(0,o_.unsupported)()}openLanguageSpecificSettings(){(0,o_.unsupported)()}constructor(e){this.profileService=e,this.onDidDefaultSettingsContentChanged=c.Event.None,this.getDefaultSettingsContent=()=>void 0,this.hasDefaultSettingsContent=()=>!1,this.getSetting=()=>void 0,this.userSettingsResource=this.profileService.currentProfile.settingsResource,this.workspaceSettingsResource=null}};(0,l.__decorate)([of],oR.prototype,"getFolderSettingsResource",null),(0,l.__decorate)([of],oR.prototype,"createPreferencesEditorModel",null),(0,l.__decorate)([of],oR.prototype,"resolveModel",null),(0,l.__decorate)([of],oR.prototype,"createSettings2EditorModel",null),(0,l.__decorate)([of],oR.prototype,"openRawDefaultSettings",null),(0,l.__decorate)([of],oR.prototype,"openSettings",null),(0,l.__decorate)([of],oR.prototype,"openUserSettings",null),(0,l.__decorate)([of],oR.prototype,"openRemoteSettings",null),(0,l.__decorate)([of],oR.prototype,"openWorkspaceSettings",null),(0,l.__decorate)([of],oR.prototype,"openFolderSettings",null),(0,l.__decorate)([of],oR.prototype,"openGlobalKeybindingSettings",null),(0,l.__decorate)([of],oR.prototype,"openDefaultKeybindingsFile",null),(0,l.__decorate)([of],oR.prototype,"getEditableSettingsURI",null),(0,l.__decorate)([of],oR.prototype,"createSplitJsonEditorInput",null),(0,l.__decorate)([of],oR.prototype,"openApplicationSettings",null),(0,l.__decorate)([of],oR.prototype,"openLanguageSpecificSettings",null),oR=(0,l.__decorate)([(0,l.__param)(0,iF.IUserDataProfileService)],oR),(0,O.registerSingleton)(ib.IPreferencesService,oR,O.InstantiationType.Eager);class oN{createGrammar(){(0,o_.unsupported)()}startDebugMode(){(0,o_.unsupported)()}createTokenizer(){(0,o_.unsupported)()}constructor(){this.onDidEncounterLanguage=c.Event.None}}(0,l.__decorate)([of],oN.prototype,"createGrammar",null),(0,l.__decorate)([of],oN.prototype,"startDebugMode",null),(0,l.__decorate)([of],oN.prototype,"createTokenizer",null),(0,O.registerSingleton)(iD.ITextMateTokenizationService,oN,O.InstantiationType.Eager);let oP=class{createNamedProfile(){(0,o_.unsupported)()}createTransientProfile(){(0,o_.unsupported)()}resetWorkspaces(){(0,o_.unsupported)()}cleanUp(){(0,o_.unsupported)()}cleanUpTransientProfiles(){(0,o_.unsupported)()}get profilesHome(){return(0,o_.unsupported)()}createProfile(){(0,o_.unsupported)()}updateProfile(){(0,o_.unsupported)()}setProfileForWorkspace(){(0,o_.unsupported)()}removeProfile(){(0,o_.unsupported)()}constructor(e){this.profileService=e,this.onDidResetWorkspaces=c.Event.None,this.isEnabled=()=>!1,this.defaultProfile=this.profileService.currentProfile,this.onDidChangeProfiles=c.Event.None,this.profiles=[this.profileService.currentProfile],this.getProfile=()=>this.profileService.currentProfile}};(0,l.__decorate)([of],oP.prototype,"createNamedProfile",null),(0,l.__decorate)([of],oP.prototype,"createTransientProfile",null),(0,l.__decorate)([of],oP.prototype,"resetWorkspaces",null),(0,l.__decorate)([of],oP.prototype,"cleanUp",null),(0,l.__decorate)([of],oP.prototype,"cleanUpTransientProfiles",null),(0,l.__decorate)([of],oP.prototype,"profilesHome",null),(0,l.__decorate)([of],oP.prototype,"createProfile",null),(0,l.__decorate)([of],oP.prototype,"updateProfile",null),(0,l.__decorate)([of],oP.prototype,"setProfileForWorkspace",null),(0,l.__decorate)([of],oP.prototype,"removeProfile",null),oP=(0,l.__decorate)([(0,l.__param)(0,iF.IUserDataProfileService)],oP),(0,O.registerSingleton)(ep.IUserDataProfilesService,oP,O.InstantiationType.Eager);class oO{readStorageData(){(0,o_.unsupported)()}updateStorageData(){(0,o_.unsupported)()}withProfileScopedStorageService(){(0,o_.unsupported)()}constructor(){this.onDidChange=c.Event.None}}(0,l.__decorate)([of],oO.prototype,"readStorageData",null),(0,l.__decorate)([of],oO.prototype,"updateStorageData",null),(0,l.__decorate)([of],oO.prototype,"withProfileScopedStorageService",null),(0,O.registerSingleton)(i7,oO,O.InstantiationType.Eager);let oF=class extends iz{constructor(e){super({...(0,i$.toUserDataProfile)("__default__profile__","Default",e.userRoamingDataHome,(0,g.joinPath)(e.cacheHome,"CachedProfilesData")),isDefault:!0})}};oF=(0,l.__decorate)([(0,l.__param)(0,D.IEnvironmentService)],oF),(0,O.registerSingleton)(iF.IUserDataProfileService,oF,O.InstantiationType.Eager),(0,O.registerSingleton)(B.IPolicyService,V.NullPolicyService,O.InstantiationType.Eager);class oK{getSnippetFiles(){(0,o_.unsupported)()}isEnabled(){(0,o_.unsupported)()}updateEnablement(){(0,o_.unsupported)()}updateUsageTimestamp(){(0,o_.unsupported)()}getSnippetsSync(){(0,o_.unsupported)()}constructor(){this.getSnippets=async()=>[]}}(0,l.__decorate)([of],oK.prototype,"getSnippetFiles",null),(0,l.__decorate)([of],oK.prototype,"isEnabled",null),(0,l.__decorate)([of],oK.prototype,"updateEnablement",null),(0,l.__decorate)([of],oK.prototype,"updateUsageTimestamp",null),(0,l.__decorate)([of],oK.prototype,"getSnippetsSync",null),(0,O.registerSingleton)(ta.ISnippetsService,oK,O.InstantiationType.Eager);let oW={getSession:()=>void 0,getSessions:()=>[],getBreakpoints:()=>[],areBreakpointsActivated:()=>!1,getFunctionBreakpoints:()=>[],getDataBreakpoints:()=>[],getExceptionBreakpoints:()=>[],getExceptionBreakpointsForSession:()=>[],getInstructionBreakpoints:()=>[],getWatchExpressions:()=>[],onDidChangeBreakpoints:c.Event.None,onDidChangeCallStack:c.Event.None,onDidChangeWatchExpressions:c.Event.None,fetchCallstack:o_.unsupported,getId:o_.unsupported,registerBreakpointModes:o_.unsupported,getBreakpointModes:()=>[],onDidChangeWatchExpressionValue:c.Event.None};class oz{setVisualizedExpression(){(0,o_.unsupported)()}getId(){(0,o_.unsupported)()}getSelectedExpression(){(0,o_.unsupported)()}setSelectedExpression(){(0,o_.unsupported)()}updateViews(){(0,o_.unsupported)()}isMultiSessionView(){(0,o_.unsupported)()}evaluateLazyExpression(){(0,o_.unsupported)()}constructor(){this.getVisualizedExpression=()=>void 0,this.onDidChangeVisualization=c.Event.None,this.focusedSession=void 0,this.focusedThread=void 0,this.focusedStackFrame=void 0,this.onDidFocusSession=c.Event.None,this.onDidFocusStackFrame=c.Event.None,this.onDidSelectExpression=c.Event.None,this.onDidEvaluateLazyExpression=c.Event.None,this.onWillUpdateViews=c.Event.None,this.onDidFocusThread=c.Event.None}}(0,l.__decorate)([of],oz.prototype,"setVisualizedExpression",null),(0,l.__decorate)([of],oz.prototype,"getId",null),(0,l.__decorate)([of],oz.prototype,"getSelectedExpression",null),(0,l.__decorate)([of],oz.prototype,"setSelectedExpression",null),(0,l.__decorate)([of],oz.prototype,"updateViews",null),(0,l.__decorate)([of],oz.prototype,"isMultiSessionView",null),(0,l.__decorate)([of],oz.prototype,"evaluateLazyExpression",null);class oV{getDebugAdapterDescriptor(){(0,o_.unsupported)()}getDebuggerLabel(){(0,o_.unsupported)()}activateDebuggers(){(0,o_.unsupported)()}createDebugAdapter(){(0,o_.unsupported)()}registerDebugAdapterDescriptorFactory(){(0,o_.unsupported)()}unregisterDebugAdapterDescriptorFactory(){(0,o_.unsupported)()}substituteVariables(){(0,o_.unsupported)()}runInTerminal(){(0,o_.unsupported)()}getEnabledDebugger(){(0,o_.unsupported)()}guessDebugger(){(0,o_.unsupported)()}constructor(){this.onDidRegisterDebugger=c.Event.None,this.hasEnabledDebuggers=()=>!1,this.someDebuggerInterestedInLanguage=()=>!1,this.getDebugger=()=>void 0,this.registerDebugAdapterFactory=()=>u.Disposable.None,this.onDidDebuggersExtPointRead=c.Event.None}}(0,l.__decorate)([of],oV.prototype,"getDebugAdapterDescriptor",null),(0,l.__decorate)([of],oV.prototype,"getDebuggerLabel",null),(0,l.__decorate)([of],oV.prototype,"activateDebuggers",null),(0,l.__decorate)([of],oV.prototype,"createDebugAdapter",null),(0,l.__decorate)([of],oV.prototype,"registerDebugAdapterDescriptorFactory",null),(0,l.__decorate)([of],oV.prototype,"unregisterDebugAdapterDescriptorFactory",null),(0,l.__decorate)([of],oV.prototype,"substituteVariables",null),(0,l.__decorate)([of],oV.prototype,"runInTerminal",null),(0,l.__decorate)([of],oV.prototype,"getEnabledDebugger",null),(0,l.__decorate)([of],oV.prototype,"guessDebugger",null);class oB{sendBreakpoints(){(0,o_.unsupported)()}updateDataBreakpoint(){(0,o_.unsupported)()}get state(){return(0,o_.unsupported)()}getConfigurationManager(){(0,o_.unsupported)()}focusStackFrame(){(0,o_.unsupported)()}canSetBreakpointsIn(){(0,o_.unsupported)()}addBreakpoints(){(0,o_.unsupported)()}updateBreakpoints(){(0,o_.unsupported)()}enableOrDisableBreakpoints(){(0,o_.unsupported)()}setBreakpointsActivated(){(0,o_.unsupported)()}removeBreakpoints(){(0,o_.unsupported)()}addFunctionBreakpoint(){(0,o_.unsupported)()}updateFunctionBreakpoint(){(0,o_.unsupported)()}removeFunctionBreakpoints(){(0,o_.unsupported)()}addDataBreakpoint(){(0,o_.unsupported)()}removeDataBreakpoints(){(0,o_.unsupported)()}addInstructionBreakpoint(){(0,o_.unsupported)()}removeInstructionBreakpoints(){(0,o_.unsupported)()}setExceptionBreakpointCondition(){(0,o_.unsupported)()}setExceptionBreakpointsForSession(){(0,o_.unsupported)()}sendAllBreakpoints(){(0,o_.unsupported)()}addWatchExpression(){(0,o_.unsupported)()}renameWatchExpression(){(0,o_.unsupported)()}moveWatchExpression(){(0,o_.unsupported)()}removeWatchExpressions(){(0,o_.unsupported)()}startDebugging(){(0,o_.unsupported)()}restartSession(){(0,o_.unsupported)()}stopSession(){(0,o_.unsupported)()}sourceIsNotAvailable(){(0,o_.unsupported)()}runTo(){(0,o_.unsupported)()}constructor(){this.initializingOptions=void 0,this.onDidChangeState=c.Event.None,this.onDidNewSession=c.Event.None,this.onWillNewSession=c.Event.None,this.onDidEndSession=c.Event.None,this.getAdapterManager=()=>new oV,this.getModel=()=>oW,this.getViewModel=()=>new oz}}(0,l.__decorate)([of],oB.prototype,"sendBreakpoints",null),(0,l.__decorate)([of],oB.prototype,"updateDataBreakpoint",null),(0,l.__decorate)([of],oB.prototype,"state",null),(0,l.__decorate)([of],oB.prototype,"getConfigurationManager",null),(0,l.__decorate)([of],oB.prototype,"focusStackFrame",null),(0,l.__decorate)([of],oB.prototype,"canSetBreakpointsIn",null),(0,l.__decorate)([of],oB.prototype,"addBreakpoints",null),(0,l.__decorate)([of],oB.prototype,"updateBreakpoints",null),(0,l.__decorate)([of],oB.prototype,"enableOrDisableBreakpoints",null),(0,l.__decorate)([of],oB.prototype,"setBreakpointsActivated",null),(0,l.__decorate)([of],oB.prototype,"removeBreakpoints",null),(0,l.__decorate)([of],oB.prototype,"addFunctionBreakpoint",null),(0,l.__decorate)([of],oB.prototype,"updateFunctionBreakpoint",null),(0,l.__decorate)([of],oB.prototype,"removeFunctionBreakpoints",null),(0,l.__decorate)([of],oB.prototype,"addDataBreakpoint",null),(0,l.__decorate)([of],oB.prototype,"removeDataBreakpoints",null),(0,l.__decorate)([of],oB.prototype,"addInstructionBreakpoint",null),(0,l.__decorate)([of],oB.prototype,"removeInstructionBreakpoints",null),(0,l.__decorate)([of],oB.prototype,"setExceptionBreakpointCondition",null),(0,l.__decorate)([of],oB.prototype,"setExceptionBreakpointsForSession",null),(0,l.__decorate)([of],oB.prototype,"sendAllBreakpoints",null),(0,l.__decorate)([of],oB.prototype,"addWatchExpression",null),(0,l.__decorate)([of],oB.prototype,"renameWatchExpression",null),(0,l.__decorate)([of],oB.prototype,"moveWatchExpression",null),(0,l.__decorate)([of],oB.prototype,"removeWatchExpressions",null),(0,l.__decorate)([of],oB.prototype,"startDebugging",null),(0,l.__decorate)([of],oB.prototype,"restartSession",null),(0,l.__decorate)([of],oB.prototype,"stopSession",null),(0,l.__decorate)([of],oB.prototype,"sourceIsNotAvailable",null),(0,l.__decorate)([of],oB.prototype,"runTo",null),(0,O.registerSingleton)(eK.IDebugService,oB,O.InstantiationType.Eager);class oH{lookupAuthorization(){(0,o_.unsupported)()}lookupKerberosAuthorization(){(0,o_.unsupported)()}request(){(0,o_.unsupported)()}resolveProxy(){(0,o_.unsupported)()}loadCertificates(){(0,o_.unsupported)()}}(0,l.__decorate)([of],oH.prototype,"lookupAuthorization",null),(0,l.__decorate)([of],oH.prototype,"lookupKerberosAuthorization",null),(0,l.__decorate)([of],oH.prototype,"request",null),(0,l.__decorate)([of],oH.prototype,"resolveProxy",null),(0,l.__decorate)([of],oH.prototype,"loadCertificates",null),(0,O.registerSingleton)(j.IRequestService,oH,O.InstantiationType.Eager);class oU{completeOpenFilesTrustRequest(){(0,o_.unsupported)()}cancelWorkspaceTrustRequest(){(0,o_.unsupported)()}completeWorkspaceTrustRequest(){(0,o_.unsupported)()}constructor(){this.onDidInitiateOpenFilesTrustRequest=c.Event.None,this.onDidInitiateWorkspaceTrustRequest=c.Event.None,this.onDidInitiateWorkspaceTrustRequestOnStartup=c.Event.None,this.requestOpenFilesTrust=async()=>eb.WorkspaceTrustUriResponse.Open,this.requestWorkspaceTrust=async()=>!0,this.requestWorkspaceTrustOnStartup=()=>null}}(0,l.__decorate)([of],oU.prototype,"completeOpenFilesTrustRequest",null),(0,l.__decorate)([of],oU.prototype,"cancelWorkspaceTrustRequest",null),(0,l.__decorate)([of],oU.prototype,"completeWorkspaceTrustRequest",null),(0,O.registerSingleton)(eS.IWorkspaceTrustRequestService,oU,O.InstantiationType.Eager);class oG{getViewContainerActivities(){(0,o_.unsupported)()}getActivity(){(0,o_.unsupported)()}constructor(){this.onDidChangeActivity=c.Event.None,this.showViewContainerActivity=()=>u.Disposable.None,this.showViewActivity=()=>u.Disposable.None,this.showAccountsActivity=()=>u.Disposable.None,this.showGlobalActivity=()=>u.Disposable.None}}(0,l.__decorate)([of],oG.prototype,"getViewContainerActivities",null),(0,l.__decorate)([of],oG.prototype,"getActivity",null),(0,O.registerSingleton)(tL.IActivityService,oG,O.InstantiationType.Eager);class oq{reload(){(0,o_.unsupported)()}close(){(0,o_.unsupported)()}attachSession(){(0,o_.unsupported)()}terminateSession(){(0,o_.unsupported)()}openExtensionDevelopmentHostWindow(){(0,o_.unsupported)()}constructor(){this.onReload=c.Event.None,this.onClose=c.Event.None,this.onAttachSession=c.Event.None,this.onTerminateSession=c.Event.None}}(0,l.__decorate)([of],oq.prototype,"reload",null),(0,l.__decorate)([of],oq.prototype,"close",null),(0,l.__decorate)([of],oq.prototype,"attachSession",null),(0,l.__decorate)([of],oq.prototype,"terminateSession",null),(0,l.__decorate)([of],oq.prototype,"openExtensionDevelopmentHostWindow",null),(0,O.registerSingleton)(b.IExtensionHostDebugService,oq,O.InstantiationType.Eager);class oj{getFocusedViewName(){(0,o_.unsupported)()}openViewContainer(){(0,o_.unsupported)()}closeViewContainer(){(0,o_.unsupported)()}getVisibleViewContainer(){(0,o_.unsupported)()}closeView(){(0,o_.unsupported)()}constructor(){this.getFocusedView=()=>null,this.isViewContainerActive=()=>!1,this.onDidChangeFocusedView=c.Event.None,this.onDidChangeViewContainerVisibility=c.Event.None,this.isViewContainerVisible=()=>!1,this.getActiveViewPaneContainerWithId=()=>null,this.onDidChangeViewVisibility=c.Event.None,this.isViewVisible=()=>!1,this.openView=async()=>null,this.getActiveViewWithId=()=>null,this.getViewWithId=()=>null,this.getViewProgressIndicator=()=>void 0}}(0,l.__decorate)([of],oj.prototype,"getFocusedViewName",null),(0,l.__decorate)([of],oj.prototype,"openViewContainer",null),(0,l.__decorate)([of],oj.prototype,"closeViewContainer",null),(0,l.__decorate)([of],oj.prototype,"getVisibleViewContainer",null),(0,l.__decorate)([of],oj.prototype,"closeView",null),(0,O.registerSingleton)(iB.IViewsService,oj,O.InstantiationType.Eager);class oQ{isViewContainerRemovedPermanently(){(0,o_.unsupported)()}getViewContainersByLocation(){(0,o_.unsupported)()}moveViewContainerToLocation(){(0,o_.unsupported)()}getViewContainerBadgeEnablementState(){(0,o_.unsupported)()}setViewContainerBadgeEnablementState(){(0,o_.unsupported)()}moveViewsToContainer(){(0,o_.unsupported)()}constructor(){this.viewContainers=[],this.onDidChangeViewContainers=c.Event.None,this.getDefaultViewContainer=()=>void 0,this.getViewContainerById=()=>null,this.getDefaultViewContainerLocation=()=>null,this.getViewContainerLocation=()=>null,this.getViewContainerModel=()=>({onDidChangeAllViewDescriptors:c.Event.None,visibleViewDescriptors:[]}),this.onDidChangeContainerLocation=c.Event.None,this.getViewDescriptorById=()=>null,this.getViewContainerByViewId=()=>null,this.getDefaultContainerById=()=>null,this.getViewLocationById=()=>null,this.onDidChangeContainer=c.Event.None,this.onDidChangeLocation=c.Event.None,this.moveViewToLocation=()=>null,this.reset=()=>null}}(0,l.__decorate)([of],oQ.prototype,"isViewContainerRemovedPermanently",null),(0,l.__decorate)([of],oQ.prototype,"getViewContainersByLocation",null),(0,l.__decorate)([of],oQ.prototype,"moveViewContainerToLocation",null),(0,l.__decorate)([of],oQ.prototype,"getViewContainerBadgeEnablementState",null),(0,l.__decorate)([of],oQ.prototype,"setViewContainerBadgeEnablementState",null),(0,l.__decorate)([of],oQ.prototype,"moveViewsToContainer",null),(0,O.registerSingleton)(eD.IViewDescriptorService,oQ,O.InstantiationType.Eager);class oY{goForward(){(0,o_.unsupported)()}goBack(){(0,o_.unsupported)()}goPrevious(){(0,o_.unsupported)()}goLast(){(0,o_.unsupported)()}reopenLastClosedEditor(){(0,o_.unsupported)()}removeFromHistory(){(0,o_.unsupported)()}openNextRecentlyUsedEditor(){(0,o_.unsupported)()}openPreviouslyUsedEditor(){(0,o_.unsupported)()}clear(){(0,o_.unsupported)()}clearRecentlyOpened(){(0,o_.unsupported)()}constructor(){this.suspendTracking=()=>({dispose(){}}),this.getHistory=()=>[],this.getLastActiveWorkspaceRoot=()=>void 0,this.getLastActiveFile=()=>void 0}}(0,l.__decorate)([of],oY.prototype,"goForward",null),(0,l.__decorate)([of],oY.prototype,"goBack",null),(0,l.__decorate)([of],oY.prototype,"goPrevious",null),(0,l.__decorate)([of],oY.prototype,"goLast",null),(0,l.__decorate)([of],oY.prototype,"reopenLastClosedEditor",null),(0,l.__decorate)([of],oY.prototype,"removeFromHistory",null),(0,l.__decorate)([of],oY.prototype,"openNextRecentlyUsedEditor",null),(0,l.__decorate)([of],oY.prototype,"openPreviouslyUsedEditor",null),(0,l.__decorate)([of],oY.prototype,"clear",null),(0,l.__decorate)([of],oY.prototype,"clearRecentlyOpened",null),(0,O.registerSingleton)(t4.IHistoryService,oY,O.InstantiationType.Eager);class oZ{configureAction(){(0,o_.unsupported)()}run(){(0,o_.unsupported)()}getBusyTasks(){(0,o_.unsupported)()}terminate(){(0,o_.unsupported)()}tasks(){(0,o_.unsupported)()}taskTypes(){(0,o_.unsupported)()}getWorkspaceTasks(){(0,o_.unsupported)()}getSavedTasks(){(0,o_.unsupported)()}removeRecentlyUsedTask(){(0,o_.unsupported)()}getTask(){(0,o_.unsupported)()}tryResolveTask(){(0,o_.unsupported)()}createSorter(){(0,o_.unsupported)()}getTaskDescription(){(0,o_.unsupported)()}customize(){(0,o_.unsupported)()}openConfig(){(0,o_.unsupported)()}registerTaskProvider(){(0,o_.unsupported)()}extensionCallbackTaskComplete(){(0,o_.unsupported)()}constructor(){this.onDidChangeTaskProviders=c.Event.None,this.getKnownTasks=async()=>[],this.onDidChangeTaskConfig=c.Event.None,this.onDidStateChange=c.Event.None,this.supportsMultipleTaskExecutions=!1,this.inTerminal=()=>!1,this.getActiveTasks=async()=>[],this.registerTaskSystem=()=>{},this.onDidChangeTaskSystemInfo=c.Event.None,this.hasTaskSystemInfo=!1,this.registerSupportedExecutions=()=>{},this.isReconnected=!1,this.onDidReconnectToTasks=c.Event.None}}(0,l.__decorate)([of],oZ.prototype,"configureAction",null),(0,l.__decorate)([of],oZ.prototype,"run",null),(0,l.__decorate)([of],oZ.prototype,"getBusyTasks",null),(0,l.__decorate)([of],oZ.prototype,"terminate",null),(0,l.__decorate)([of],oZ.prototype,"tasks",null),(0,l.__decorate)([of],oZ.prototype,"taskTypes",null),(0,l.__decorate)([of],oZ.prototype,"getWorkspaceTasks",null),(0,l.__decorate)([of],oZ.prototype,"getSavedTasks",null),(0,l.__decorate)([of],oZ.prototype,"removeRecentlyUsedTask",null),(0,l.__decorate)([of],oZ.prototype,"getTask",null),(0,l.__decorate)([of],oZ.prototype,"tryResolveTask",null),(0,l.__decorate)([of],oZ.prototype,"createSorter",null),(0,l.__decorate)([of],oZ.prototype,"getTaskDescription",null),(0,l.__decorate)([of],oZ.prototype,"customize",null),(0,l.__decorate)([of],oZ.prototype,"openConfig",null),(0,l.__decorate)([of],oZ.prototype,"registerTaskProvider",null),(0,l.__decorate)([of],oZ.prototype,"extensionCallbackTaskComplete",null),(0,O.registerSingleton)(tc.ITaskService,oZ,O.InstantiationType.Eager);class oX{resolveWithEnvironment(){(0,o_.unsupported)()}resolveAsync(){(0,o_.unsupported)()}resolveAnyAsync(){(0,o_.unsupported)()}resolveAnyMap(){(0,o_.unsupported)()}resolveWithInteractionReplace(){(0,o_.unsupported)()}resolveWithInteraction(){(0,o_.unsupported)()}contributeVariable(){(0,o_.unsupported)()}}(0,l.__decorate)([of],oX.prototype,"resolveWithEnvironment",null),(0,l.__decorate)([of],oX.prototype,"resolveAsync",null),(0,l.__decorate)([of],oX.prototype,"resolveAnyAsync",null),(0,l.__decorate)([of],oX.prototype,"resolveAnyMap",null),(0,l.__decorate)([of],oX.prototype,"resolveWithInteractionReplace",null),(0,l.__decorate)([of],oX.prototype,"resolveWithInteraction",null),(0,l.__decorate)([of],oX.prototype,"contributeVariable",null),(0,O.registerSingleton)(tV.IConfigurationResolverService,oX,O.InstantiationType.Eager);class o${endConnection(){(0,o_.unsupported)()}constructor(){this.getConnection=()=>null,this.getEnvironment=async()=>null,this.getRawEnvironment=async()=>null,this.getExtensionHostExitInfo=async()=>null,this.getRoundTripTime=async()=>void 0,this.whenExtensionsReady=async()=>void 0,this.scanExtensions=async()=>[],this.scanSingleExtension=async()=>null,this.getDiagnosticInfo=async()=>void 0,this.updateTelemetryLevel=async()=>void 0,this.logTelemetry=async()=>void 0,this.flushTelemetry=async()=>void 0}}(0,l.__decorate)([of],o$.prototype,"endConnection",null),(0,O.registerSingleton)(iS.IRemoteAgentService,o$,O.InstantiationType.Eager),(0,O.registerSingleton)(Z.ICustomEndpointTelemetryService,X.NullEndpointTelemetryService,O.InstantiationType.Eager);let oJ=class{aiTextSearch(){(0,o_.unsupported)()}textSearchSplitSyncAsync(){(0,o_.unsupported)()}async textSearch(){return{results:[],messages:[]}}async fileSearch(){return{results:this.modelService.getModels().map(e=>({resource:e.uri})),messages:[]}}async clearCache(){}registerSearchResultProvider(){(0,o_.unsupported)()}constructor(e){this.modelService=e,this.schemeHasFileSearchProvider=()=>!1,this.getAIName=async()=>void 0}};(0,l.__decorate)([of],oJ.prototype,"aiTextSearch",null),(0,l.__decorate)([of],oJ.prototype,"textSearchSplitSyncAsync",null),(0,l.__decorate)([of],oJ.prototype,"registerSearchResultProvider",null),oJ=(0,l.__decorate)([(0,l.__param)(0,_.IModelService)],oJ),(0,O.registerSingleton)(iE.ISearchService,oJ,O.InstantiationType.Eager),(0,O.registerSingleton)(eC.IEditSessionIdentityService,class{constructor(){this.registerEditSessionIdentityProvider=()=>u.Disposable.None,this.getEditSessionIdentifier=async()=>void 0,this.provideEditSessionIdentityMatch=async()=>void 0,this.addEditSessionIdentityCreateParticipant=()=>u.Disposable.None,this.onWillCreateEditSessionIdentity=async()=>{}}},O.InstantiationType.Eager);class o0{addFolders(){(0,o_.unsupported)()}removeFolders(){(0,o_.unsupported)()}updateFolders(){(0,o_.unsupported)()}enterWorkspace(){(0,o_.unsupported)()}createAndEnterWorkspace(){(0,o_.unsupported)()}saveAndEnterWorkspace(){(0,o_.unsupported)()}copyWorkspaceSettings(){(0,o_.unsupported)()}pickNewWorkspacePath(){(0,o_.unsupported)()}}(0,l.__decorate)([of],o0.prototype,"addFolders",null),(0,l.__decorate)([of],o0.prototype,"removeFolders",null),(0,l.__decorate)([of],o0.prototype,"updateFolders",null),(0,l.__decorate)([of],o0.prototype,"enterWorkspace",null),(0,l.__decorate)([of],o0.prototype,"createAndEnterWorkspace",null),(0,l.__decorate)([of],o0.prototype,"saveAndEnterWorkspace",null),(0,l.__decorate)([of],o0.prototype,"copyWorkspaceSettings",null),(0,l.__decorate)([of],o0.prototype,"pickNewWorkspacePath",null),(0,O.registerSingleton)(iQ.IWorkspaceEditingService,o0,O.InstantiationType.Eager);class o1{getStartTime(){(0,o_.unsupported)()}whenReady(){(0,o_.unsupported)()}get perfBaseline(){return(0,o_.unsupported)()}get startupMetrics(){return(0,o_.unsupported)()}getPerformanceMarks(){(0,o_.unsupported)()}getDuration(){(0,o_.unsupported)()}constructor(){this.setPerformanceMarks=()=>{}}}(0,l.__decorate)([of],o1.prototype,"getStartTime",null),(0,l.__decorate)([of],o1.prototype,"whenReady",null),(0,l.__decorate)([of],o1.prototype,"perfBaseline",null),(0,l.__decorate)([of],o1.prototype,"startupMetrics",null),(0,l.__decorate)([of],o1.prototype,"getPerformanceMarks",null),(0,l.__decorate)([of],o1.prototype,"getDuration",null),(0,O.registerSingleton)(iL.ITimerService,o1,O.InstantiationType.Eager);class o2{downloadVSIX(){(0,o_.unsupported)()}updateAutoUpdateForAllExtensions(){(0,o_.unsupported)()}openSearch(){(0,o_.unsupported)()}updateAutoUpdateValue(){(0,o_.unsupported)()}getResourceExtensions(){(0,o_.unsupported)()}updateRunningExtensions(){(0,o_.unsupported)()}togglePreRelease(){(0,o_.unsupported)()}isAutoUpdateEnabledFor(){(0,o_.unsupported)()}updateAutoUpdateEnablementFor(){(0,o_.unsupported)()}isAutoUpdateEnabled(){(0,o_.unsupported)()}getAutoUpdateValue(){(0,o_.unsupported)()}updateAll(){(0,o_.unsupported)()}toggleApplyExtensionToAllProfiles(){(0,o_.unsupported)()}queryLocal(){(0,o_.unsupported)()}queryGallery(){(0,o_.unsupported)()}getExtensions(){(0,o_.unsupported)()}canInstall(){(0,o_.unsupported)()}install(){(0,o_.unsupported)()}installInServer(){(0,o_.unsupported)()}uninstall(){(0,o_.unsupported)()}installVersion(){(0,o_.unsupported)()}reinstall(){(0,o_.unsupported)()}canSetLanguage(){(0,o_.unsupported)()}setLanguage(){(0,o_.unsupported)()}setEnablement(){(0,o_.unsupported)()}pinExtension(){(0,o_.unsupported)()}open(){(0,o_.unsupported)()}checkForUpdates(){(0,o_.unsupported)()}getExtensionStatus(){(0,o_.unsupported)()}isExtensionIgnoredToSync(){(0,o_.unsupported)()}toggleExtensionIgnoredToSync(){(0,o_.unsupported)()}constructor(){this.getExtensionRuntimeStatus=()=>void 0,this.onDidChangeExtensionsNotification=c.Event.None,this.getExtensionsNotification=()=>void 0,this.shouldRequireConsentToUpdate=async()=>void 0,this.whenInitialized=Promise.resolve(),this.onChange=c.Event.None,this.onReset=c.Event.None,this.preferPreReleases=!1,this.local=[],this.installed=[],this.outdated=[]}}(0,l.__decorate)([of],o2.prototype,"downloadVSIX",null),(0,l.__decorate)([of],o2.prototype,"updateAutoUpdateForAllExtensions",null),(0,l.__decorate)([of],o2.prototype,"openSearch",null),(0,l.__decorate)([of],o2.prototype,"updateAutoUpdateValue",null),(0,l.__decorate)([of],o2.prototype,"getResourceExtensions",null),(0,l.__decorate)([of],o2.prototype,"updateRunningExtensions",null),(0,l.__decorate)([of],o2.prototype,"togglePreRelease",null),(0,l.__decorate)([of],o2.prototype,"isAutoUpdateEnabledFor",null),(0,l.__decorate)([of],o2.prototype,"updateAutoUpdateEnablementFor",null),(0,l.__decorate)([of],o2.prototype,"isAutoUpdateEnabled",null),(0,l.__decorate)([of],o2.prototype,"getAutoUpdateValue",null),(0,l.__decorate)([of],o2.prototype,"updateAll",null),(0,l.__decorate)([of],o2.prototype,"toggleApplyExtensionToAllProfiles",null),(0,l.__decorate)([of],o2.prototype,"queryLocal",null),(0,l.__decorate)([of],o2.prototype,"queryGallery",null),(0,l.__decorate)([of],o2.prototype,"getExtensions",null),(0,l.__decorate)([of],o2.prototype,"canInstall",null),(0,l.__decorate)([of],o2.prototype,"install",null),(0,l.__decorate)([of],o2.prototype,"installInServer",null),(0,l.__decorate)([of],o2.prototype,"uninstall",null),(0,l.__decorate)([of],o2.prototype,"installVersion",null),(0,l.__decorate)([of],o2.prototype,"reinstall",null),(0,l.__decorate)([of],o2.prototype,"canSetLanguage",null),(0,l.__decorate)([of],o2.prototype,"setLanguage",null),(0,l.__decorate)([of],o2.prototype,"setEnablement",null),(0,l.__decorate)([of],o2.prototype,"pinExtension",null),(0,l.__decorate)([of],o2.prototype,"open",null),(0,l.__decorate)([of],o2.prototype,"checkForUpdates",null),(0,l.__decorate)([of],o2.prototype,"getExtensionStatus",null),(0,l.__decorate)([of],o2.prototype,"isExtensionIgnoredToSync",null),(0,l.__decorate)([of],o2.prototype,"toggleExtensionIgnoredToSync",null),(0,O.registerSingleton)(eB.IExtensionsWorkbenchService,o2,O.InstantiationType.Eager);class o3{getExtensionManagementServer(){(0,o_.unsupported)()}getExtensionInstallLocation(){(0,o_.unsupported)()}constructor(){this._serviceBrand=void 0,this.localExtensionManagementServer=null,this.remoteExtensionManagementServer=null,this.webExtensionManagementServer=null}}(0,l.__decorate)([of],o3.prototype,"getExtensionManagementServer",null),(0,l.__decorate)([of],o3.prototype,"getExtensionInstallLocation",null),(0,O.registerSingleton)(tX.IExtensionManagementServerService,o3,O.InstantiationType.Eager),(0,O.registerSingleton)(t$.IExtensionRecommendationsService,class{constructor(){this.onDidChangeRecommendations=c.Event.None,this.getAllRecommendationsWithReason=()=>({}),this.getImportantRecommendations=async()=>[],this.getOtherRecommendations=async()=>[],this.getFileBasedRecommendations=()=>[],this.getExeBasedRecommendations=async()=>({important:[],others:[]}),this.getConfigBasedRecommendations=async()=>({important:[],others:[]}),this.getWorkspaceRecommendations=async()=>[],this.getKeymapRecommendations=()=>[],this.getLanguageRecommendations=()=>[],this.getRemoteRecommendations=()=>[]}},O.InstantiationType.Eager);class o5{turnOn(){(0,o_.unsupported)()}turnOff(){(0,o_.unsupported)()}triggerSync(){(0,o_.unsupported)()}constructor(){this.onError=c.Event.None}}(0,l.__decorate)([of],o5.prototype,"turnOn",null),(0,l.__decorate)([of],o5.prototype,"turnOff",null),(0,l.__decorate)([of],o5.prototype,"triggerSync",null),(0,O.registerSingleton)(ev.IUserDataAutoSyncService,o5,O.InstantiationType.Eager);class o4{updateIgnoredExtensions(){(0,o_.unsupported)()}updateSynchronizedExtensions(){(0,o_.unsupported)()}constructor(){this.getIgnoredExtensions=()=>[],this.hasToNeverSyncExtension=()=>!1,this.hasToAlwaysSyncExtension=()=>!1}}(0,l.__decorate)([of],o4.prototype,"updateIgnoredExtensions",null),(0,l.__decorate)([of],o4.prototype,"updateSynchronizedExtensions",null),(0,O.registerSingleton)(eg,o4,O.InstantiationType.Eager);class o6{promptImportantExtensionsInstallNotification(){(0,o_.unsupported)()}promptWorkspaceRecommendations(){(0,o_.unsupported)()}constructor(){this.ignoredRecommendations=[],this.hasToIgnoreRecommendationNotifications=()=>!1}}(0,l.__decorate)([of],o6.prototype,"promptImportantExtensionsInstallNotification",null),(0,l.__decorate)([of],o6.prototype,"promptWorkspaceRecommendations",null),(0,O.registerSingleton)(T.IExtensionRecommendationNotificationService,o6,O.InstantiationType.Eager);class o8{addExtension(){(0,o_.unsupported)()}addExtensionFromGallery(){(0,o_.unsupported)()}updateMetadata(){(0,o_.unsupported)()}constructor(){this.scanSystemExtensions=async()=>[],this.scanUserExtensions=async()=>[],this.scanExtensionsUnderDevelopment=async()=>[],this.scanExistingExtension=async()=>null,this.removeExtension=async()=>{},this.copyExtensions=async()=>{},this.scanExtensionManifest=async()=>null}}(0,l.__decorate)([of],o8.prototype,"addExtension",null),(0,l.__decorate)([of],o8.prototype,"addExtensionFromGallery",null),(0,l.__decorate)([of],o8.prototype,"updateMetadata",null),(0,O.registerSingleton)(tX.IWebExtensionsScannerService,o8,O.InstantiationType.Eager);class o9{get systemExtensionsLocation(){return(0,o_.unsupported)()}get userExtensionsLocation(){return(0,o_.unsupported)()}getTargetPlatform(){(0,o_.unsupported)()}scanAllExtensions(){(0,o_.unsupported)()}scanSystemExtensions(){(0,o_.unsupported)()}scanUserExtensions(){(0,o_.unsupported)()}scanExtensionsUnderDevelopment(){(0,o_.unsupported)()}scanExistingExtension(){(0,o_.unsupported)()}scanOneOrMultipleExtensions(){(0,o_.unsupported)()}scanMultipleExtensions(){(0,o_.unsupported)()}scanMetadata(){(0,o_.unsupported)()}updateMetadata(){(0,o_.unsupported)()}initializeDefaultProfileExtensions(){(0,o_.unsupported)()}constructor(){this.onDidChangeCache=c.Event.None}}(0,l.__decorate)([of],o9.prototype,"systemExtensionsLocation",null),(0,l.__decorate)([of],o9.prototype,"userExtensionsLocation",null),(0,l.__decorate)([of],o9.prototype,"getTargetPlatform",null),(0,l.__decorate)([of],o9.prototype,"scanAllExtensions",null),(0,l.__decorate)([of],o9.prototype,"scanSystemExtensions",null),(0,l.__decorate)([of],o9.prototype,"scanUserExtensions",null),(0,l.__decorate)([of],o9.prototype,"scanExtensionsUnderDevelopment",null),(0,l.__decorate)([of],o9.prototype,"scanExistingExtension",null),(0,l.__decorate)([of],o9.prototype,"scanOneOrMultipleExtensions",null),(0,l.__decorate)([of],o9.prototype,"scanMultipleExtensions",null),(0,l.__decorate)([of],o9.prototype,"scanMetadata",null),(0,l.__decorate)([of],o9.prototype,"updateMetadata",null),(0,l.__decorate)([of],o9.prototype,"initializeDefaultProfileExtensions",null),(0,O.registerSingleton)(L.IExtensionsScannerService,o9,O.InstantiationType.Eager);class o7{scanProfileExtensions(){(0,o_.unsupported)()}addExtensionsToProfile(){(0,o_.unsupported)()}updateMetadata(){(0,o_.unsupported)()}removeExtensionFromProfile(){(0,o_.unsupported)()}constructor(){this.onAddExtensions=c.Event.None,this.onDidAddExtensions=c.Event.None,this.onRemoveExtensions=c.Event.None,this.onDidRemoveExtensions=c.Event.None}}(0,l.__decorate)([of],o7.prototype,"scanProfileExtensions",null),(0,l.__decorate)([of],o7.prototype,"addExtensionsToProfile",null),(0,l.__decorate)([of],o7.prototype,"updateMetadata",null),(0,l.__decorate)([of],o7.prototype,"removeExtensionFromProfile",null),(0,O.registerSingleton)(M.IExtensionsProfileScannerService,o7,O.InstantiationType.Eager);class ne{toggleGlobalIgnoredRecommendation(){(0,o_.unsupported)()}constructor(){this.onDidChangeIgnoredRecommendations=c.Event.None,this.ignoredRecommendations=[],this.onDidChangeGlobalIgnoredRecommendation=c.Event.None,this.globalIgnoredRecommendations=[]}}(0,l.__decorate)([of],ne.prototype,"toggleGlobalIgnoredRecommendation",null),(0,O.registerSingleton)(t$.IExtensionIgnoredRecommendationsService,ne,O.InstantiationType.Eager);class nt{getExtensionsConfigs(){(0,o_.unsupported)()}getRecommendations(){(0,o_.unsupported)()}getUnwantedRecommendations(){(0,o_.unsupported)()}toggleRecommendation(){(0,o_.unsupported)()}toggleUnwantedRecommendation(){(0,o_.unsupported)()}constructor(){this.onDidChangeExtensionsConfigs=c.Event.None}}(0,l.__decorate)([of],nt.prototype,"getExtensionsConfigs",null),(0,l.__decorate)([of],nt.prototype,"getRecommendations",null),(0,l.__decorate)([of],nt.prototype,"getUnwantedRecommendations",null),(0,l.__decorate)([of],nt.prototype,"toggleRecommendation",null),(0,l.__decorate)([of],nt.prototype,"toggleUnwantedRecommendation",null),(0,O.registerSingleton)(tJ,nt,O.InstantiationType.Eager);class ni{setEnablement(){(0,o_.unsupported)()}updateExtensionsEnablementsWhenWorkspaceTrustChanges(){(0,o_.unsupported)()}constructor(){this.getEnablementStates=e=>e.map(()=>tZ.EnablementState.EnabledGlobally),this.onEnablementChanged=c.Event.None,this.getEnablementState=()=>tZ.EnablementState.EnabledGlobally,this.getDependenciesEnablementStates=()=>[],this.canChangeEnablement=()=>!1,this.canChangeWorkspaceEnablement=()=>!1,this.isEnabled=()=>!0,this.isEnabledEnablementState=()=>!0,this.isDisabledGlobally=()=>!1}}(0,l.__decorate)([of],ni.prototype,"setEnablement",null),(0,l.__decorate)([of],ni.prototype,"updateExtensionsEnablementsWhenWorkspaceTrustChanges",null),(0,O.registerSingleton)(tX.IWorkbenchExtensionEnablementService,ni,O.InstantiationType.Eager);class no{openTunnel(){(0,o_.unsupported)()}setEnvironmentTunnel(){(0,o_.unsupported)()}closeTunnel(){(0,o_.unsupported)()}setTunnelProvider(){(0,o_.unsupported)()}setTunnelFeatures(){(0,o_.unsupported)()}constructor(){this.canChangeProtocol=!1,this.tunnels=Promise.resolve([]),this.canChangePrivacy=!1,this.privacyOptions=[],this.onTunnelOpened=c.Event.None,this.onTunnelClosed=c.Event.None,this.canElevate=!1,this.hasTunnelProvider=!1,this.onAddedTunnelProvider=c.Event.None,this.canTunnel=()=>!1,this.getExistingTunnel=async()=>void 0,this.isPortPrivileged=()=>!1}}(0,l.__decorate)([of],no.prototype,"openTunnel",null),(0,l.__decorate)([of],no.prototype,"setEnvironmentTunnel",null),(0,l.__decorate)([of],no.prototype,"closeTunnel",null),(0,l.__decorate)([of],no.prototype,"setTunnelProvider",null),(0,l.__decorate)([of],no.prototype,"setTunnelFeatures",null),(0,O.registerSingleton)(et.ITunnelService,no,O.InstantiationType.Eager);class nn{disableAutoSave(){(0,o_.unsupported)()}getAutoSaveConfiguration(){(0,o_.unsupported)()}getAutoSaveMode(){(0,o_.unsupported)()}toggleAutoSave(){(0,o_.unsupported)()}isReadonly(){(0,o_.unsupported)()}updateReadonly(){(0,o_.unsupported)()}preventSaveConflicts(){(0,o_.unsupported)()}constructor(){this.onDidChangeAutoSaveConfiguration=c.Event.None,this.onDidChangeAutoSaveDisabled=c.Event.None,this.hasShortAutoSaveDelay=()=>!1,this.onDidChangeReadonly=c.Event.None,this.onDidChangeFilesAssociation=c.Event.None,this.onAutoSaveConfigurationChange=c.Event.None,this.onReadonlyChange=c.Event.None,this.onFilesAssociationChange=c.Event.None,this.isHotExitEnabled=!0,this.hotExitConfiguration=void 0}}(0,l.__decorate)([of],nn.prototype,"disableAutoSave",null),(0,l.__decorate)([of],nn.prototype,"getAutoSaveConfiguration",null),(0,l.__decorate)([of],nn.prototype,"getAutoSaveMode",null),(0,l.__decorate)([of],nn.prototype,"toggleAutoSave",null),(0,l.__decorate)([of],nn.prototype,"isReadonly",null),(0,l.__decorate)([of],nn.prototype,"updateReadonly",null),(0,l.__decorate)([of],nn.prototype,"preventSaveConflicts",null),(0,O.registerSingleton)(t5.IFilesConfigurationService,nn,O.InstantiationType.Eager);class nr{create(){(0,o_.unsupported)()}resolve(){(0,o_.unsupported)()}constructor(){this.onDidCreate=c.Event.None,this.canDispose=()=>!0,this.isUntitledWithAssociatedResource=()=>!1,this.onDidChangeDirty=c.Event.None,this.onDidChangeEncoding=c.Event.None,this.onDidChangeLabel=c.Event.None,this.onWillDispose=c.Event.None,this.get=()=>void 0,this.getValue=()=>void 0}}(0,l.__decorate)([of],nr.prototype,"create",null),(0,l.__decorate)([of],nr.prototype,"resolve",null),(0,O.registerSingleton)(iR.IUntitledTextEditorService,nr,O.InstantiationType.Eager),(0,O.registerSingleton)(iH.IWorkingCopyBackupService,class{async hasBackups(){return!1}hasBackupSync(){return!1}async getBackups(){return[]}async resolve(){}async backup(){}async discardBackup(){}async discardBackups(){}},O.InstantiationType.Eager),(0,O.registerSingleton)(ij.IWorkingCopyService,class{registerWorkingCopy(){return u.Disposable.None}constructor(){this.onDidRegister=c.Event.None,this.onDidUnregister=c.Event.None,this.onDidChangeDirty=c.Event.None,this.onDidChangeContent=c.Event.None,this.onDidSave=c.Event.None,this.dirtyCount=0,this.dirtyWorkingCopies=[],this.modifiedCount=0,this.modifiedWorkingCopies=[],this.hasDirty=!1,this.isDirty=()=>!1,this.workingCopies=[],this.has=()=>!1,this.get=()=>void 0,this.getAll=()=>void 0}},O.InstantiationType.Eager);class ns{registerDecorationsProvider(){(0,o_.unsupported)()}constructor(){this.onDidChangeDecorations=c.Event.None,this.getDecoration=()=>void 0}}(0,l.__decorate)([of],ns.prototype,"registerDecorationsProvider",null),(0,O.registerSingleton)(tB.IDecorationsService,ns,O.InstantiationType.Eager);class na{writeFileElevated(){(0,o_.unsupported)()}constructor(){this.isSupported=()=>!1}}(0,l.__decorate)([of],na.prototype,"writeFileElevated",null),(0,O.registerSingleton)(t3.IElevatedFileService,na,O.InstantiationType.Eager);class nl{preferredHome(){(0,o_.unsupported)()}defaultFilePath(){(0,o_.unsupported)()}defaultFolderPath(){(0,o_.unsupported)()}defaultWorkspacePath(){(0,o_.unsupported)()}pickFileFolderAndOpen(){(0,o_.unsupported)()}pickFileAndOpen(){(0,o_.unsupported)()}pickFolderAndOpen(){(0,o_.unsupported)()}pickWorkspaceAndOpen(){(0,o_.unsupported)()}pickFileToSave(){(0,o_.unsupported)()}showSaveDialog(){(0,o_.unsupported)()}showSaveConfirm(){(0,o_.unsupported)()}showOpenDialog(){(0,o_.unsupported)()}}(0,l.__decorate)([of],nl.prototype,"preferredHome",null),(0,l.__decorate)([of],nl.prototype,"defaultFilePath",null),(0,l.__decorate)([of],nl.prototype,"defaultFolderPath",null),(0,l.__decorate)([of],nl.prototype,"defaultWorkspacePath",null),(0,l.__decorate)([of],nl.prototype,"pickFileFolderAndOpen",null),(0,l.__decorate)([of],nl.prototype,"pickFileAndOpen",null),(0,l.__decorate)([of],nl.prototype,"pickFolderAndOpen",null),(0,l.__decorate)([of],nl.prototype,"pickWorkspaceAndOpen",null),(0,l.__decorate)([of],nl.prototype,"pickFileToSave",null),(0,l.__decorate)([of],nl.prototype,"showSaveDialog",null),(0,l.__decorate)([of],nl.prototype,"showSaveConfirm",null),(0,l.__decorate)([of],nl.prototype,"showOpenDialog",null),(0,O.registerSingleton)(E.IFileDialogService,nl,O.InstantiationType.Eager);class nd{write(){(0,o_.unsupported)()}}(0,l.__decorate)([of],nd.prototype,"write",null),(0,O.registerSingleton)(tz.IJSONEditingService,nd,O.InstantiationType.Delayed);class nc{enterWorkspace(){(0,o_.unsupported)()}createUntitledWorkspace(){(0,o_.unsupported)()}deleteUntitledWorkspace(){(0,o_.unsupported)()}getWorkspaceIdentifier(){(0,o_.unsupported)()}addRecentlyOpened(){(0,o_.unsupported)()}removeRecentlyOpened(){(0,o_.unsupported)()}clearRecentlyOpened(){(0,o_.unsupported)()}getRecentlyOpened(){(0,o_.unsupported)()}getDirtyWorkspaces(){(0,o_.unsupported)()}constructor(){this.onDidChangeRecentlyOpened=c.Event.None}}(0,l.__decorate)([of],nc.prototype,"enterWorkspace",null),(0,l.__decorate)([of],nc.prototype,"createUntitledWorkspace",null),(0,l.__decorate)([of],nc.prototype,"deleteUntitledWorkspace",null),(0,l.__decorate)([of],nc.prototype,"getWorkspaceIdentifier",null),(0,l.__decorate)([of],nc.prototype,"addRecentlyOpened",null),(0,l.__decorate)([of],nc.prototype,"removeRecentlyOpened",null),(0,l.__decorate)([of],nc.prototype,"clearRecentlyOpened",null),(0,l.__decorate)([of],nc.prototype,"getRecentlyOpened",null),(0,l.__decorate)([of],nc.prototype,"getDirtyWorkspaces",null),(0,O.registerSingleton)(ew.IWorkspacesService,nc,O.InstantiationType.Delayed);class nu{createTextEditor(){(0,o_.unsupported)()}resolveTextEditor(){(0,o_.unsupported)()}}(0,l.__decorate)([of],nu.prototype,"createTextEditor",null),(0,l.__decorate)([of],nu.prototype,"resolveTextEditor",null),(0,O.registerSingleton)(ik.ITextEditorService,nu,O.InstantiationType.Eager);class nh{getAllUserAssociations(){(0,o_.unsupported)()}getAssociationsForResource(){(0,o_.unsupported)()}updateUserAssociations(){(0,o_.unsupported)()}bufferChangeEvents(){(0,o_.unsupported)()}registerEditor(){return{dispose:()=>{}}}resolveEditor(){(0,o_.unsupported)()}constructor(){this.onDidChangeEditorRegistrations=c.Event.None,this.getEditors=()=>[]}}(0,l.__decorate)([of],nh.prototype,"getAllUserAssociations",null),(0,l.__decorate)([of],nh.prototype,"getAssociationsForResource",null),(0,l.__decorate)([of],nh.prototype,"updateUserAssociations",null),(0,l.__decorate)([of],nh.prototype,"bufferChangeEvents",null),(0,l.__decorate)([of],nh.prototype,"resolveEditor",null),(0,O.registerSingleton)(tq.IEditorResolverService,nh,O.InstantiationType.Eager),(0,O.registerSingleton)(i_.IOutputService,class{getChannel(){}getChannelDescriptor(){}getChannelDescriptors(){return[]}getActiveChannel(){}async showChannel(){}constructor(){this.onActiveOutputChannel=c.Event.None}},O.InstantiationType.Delayed);class np{createOutputChannelModel(){(0,o_.unsupported)()}}(0,l.__decorate)([of],np.prototype,"createOutputChannelModel",null),(0,O.registerSingleton)(e9,np,O.InstantiationType.Delayed);class ng{readExtensionResource(){(0,o_.unsupported)()}getExtensionGalleryResourceURL(){(0,o_.unsupported)()}constructor(){this.supportsExtensionGalleryResources=!1,this.isExtensionGalleryResource=()=>!1}}(0,l.__decorate)([of],ng.prototype,"readExtensionResource",null),(0,l.__decorate)([of],ng.prototype,"getExtensionGalleryResourceURL",null),(0,O.registerSingleton)(R.IExtensionResourceLoaderService,ng,O.InstantiationType.Eager),(0,O.registerSingleton)(N.IBuiltinExtensionsScannerService,class{scanBuiltinExtensions(){return Promise.resolve([])}},O.InstantiationType.Eager);class nm{get sortOrderConfiguration(){return(0,o_.unsupported)()}getContext(){(0,o_.unsupported)()}hasViewFocus(){(0,o_.unsupported)()}setEditable(){(0,o_.unsupported)()}getEditable(){(0,o_.unsupported)()}getEditableData(){(0,o_.unsupported)()}isEditable(){(0,o_.unsupported)()}findClosest(){(0,o_.unsupported)()}findClosestRoot(){(0,o_.unsupported)()}refresh(){(0,o_.unsupported)()}setToCopy(){(0,o_.unsupported)()}isCut(){(0,o_.unsupported)()}applyBulkEdit(){(0,o_.unsupported)()}select(){(0,o_.unsupported)()}registerView(){(0,o_.unsupported)()}constructor(){this.roots=[]}}(0,l.__decorate)([of],nm.prototype,"sortOrderConfiguration",null),(0,l.__decorate)([of],nm.prototype,"getContext",null),(0,l.__decorate)([of],nm.prototype,"hasViewFocus",null),(0,l.__decorate)([of],nm.prototype,"setEditable",null),(0,l.__decorate)([of],nm.prototype,"getEditable",null),(0,l.__decorate)([of],nm.prototype,"getEditableData",null),(0,l.__decorate)([of],nm.prototype,"isEditable",null),(0,l.__decorate)([of],nm.prototype,"findClosest",null),(0,l.__decorate)([of],nm.prototype,"findClosestRoot",null),(0,l.__decorate)([of],nm.prototype,"refresh",null),(0,l.__decorate)([of],nm.prototype,"setToCopy",null),(0,l.__decorate)([of],nm.prototype,"isCut",null),(0,l.__decorate)([of],nm.prototype,"applyBulkEdit",null),(0,l.__decorate)([of],nm.prototype,"select",null),(0,l.__decorate)([of],nm.prototype,"registerView",null),(0,O.registerSingleton)(eU.IExplorerService,nm,O.InstantiationType.Delayed);class nv{setExtensionState(){(0,o_.unsupported)()}setKeysForSync(){(0,o_.unsupported)()}addToMigrationList(){(0,o_.unsupported)()}constructor(){this.getExtensionState=()=>void 0,this.getExtensionStateRaw=()=>void 0,this.onDidChangeExtensionStorageToSync=c.Event.None,this.getKeysForSync=()=>void 0,this.getSourceExtensionToMigrate=()=>void 0}}(0,l.__decorate)([of],nv.prototype,"setExtensionState",null),(0,l.__decorate)([of],nv.prototype,"setKeysForSync",null),(0,l.__decorate)([of],nv.prototype,"addToMigrationList",null),(0,O.registerSingleton)(A.IExtensionStorageService,nv,O.InstantiationType.Delayed),(0,O.registerSingleton)(k.IGlobalExtensionEnablementService,class{getDisabledExtensions(){return[]}enableExtension(){return Promise.resolve(!0)}disableExtension(){return Promise.resolve(!0)}constructor(){this.onDidChangeEnablement=c.Event.None}},O.InstantiationType.Delayed),(0,O.registerSingleton)(K.ILanguagePackService,class{async getAvailableLanguages(){return[]}async getInstalledLanguages(){return[]}async getBuiltInExtensionTranslationsUri(e,t){var i;let o=null==(i=(0,ov.getBuiltInExtensionTranslationsUris)(t))?void 0:i[e];return null!=o?m.URI.parse(o):void 0}},O.InstantiationType.Delayed);class n_{removeDragOperationTransfer(){(0,o_.unsupported)()}addDragOperationTransfer(){(0,o_.unsupported)()}}(0,l.__decorate)([of],n_.prototype,"removeDragOperationTransfer",null),(0,l.__decorate)([of],n_.prototype,"addDragOperationTransfer",null),(0,O.registerSingleton)(f.ITreeViewsDnDService,n_,O.InstantiationType.Delayed);class nf{register(){(0,o_.unsupported)()}constructor(){this.getWidget=()=>void 0}}(0,l.__decorate)([of],nf.prototype,"register",null),(0,O.registerSingleton)(eI.IBreadcrumbsService,nf,O.InstantiationType.Eager);class ny{registerOutlineCreator(){(0,o_.unsupported)()}constructor(){this.onDidChange=c.Event.None,this.canCreateOutline=()=>!1,this.createOutline=async()=>void 0}}(0,l.__decorate)([of],ny.prototype,"registerOutlineCreator",null),(0,O.registerSingleton)(iv.IOutlineService,ny,O.InstantiationType.Eager);class nC{checkForUpdates(){(0,o_.unsupported)()}downloadUpdate(){(0,o_.unsupported)()}applyUpdate(){(0,o_.unsupported)()}quitAndInstall(){(0,o_.unsupported)()}_applySpecificUpdate(){(0,o_.unsupported)()}constructor(){this.onStateChange=c.Event.None,this.state=eo.Uninitialized,this.isLatestVersion=async()=>!0}}(0,l.__decorate)([of],nC.prototype,"checkForUpdates",null),(0,l.__decorate)([of],nC.prototype,"downloadUpdate",null),(0,l.__decorate)([of],nC.prototype,"applyUpdate",null),(0,l.__decorate)([of],nC.prototype,"quitAndInstall",null),(0,l.__decorate)([of],nC.prototype,"_applySpecificUpdate",null),(0,O.registerSingleton)(en.IUpdateService,nC,O.InstantiationType.Eager);class nb{overrideEntry(){(0,o_.unsupported)()}getPart(){(0,o_.unsupported)()}createAuxiliaryStatusbarPart(){(0,o_.unsupported)()}createScoped(){(0,o_.unsupported)()}dispose(){(0,o_.unsupported)()}constructor(){this.onDidChangeEntryVisibility=c.Event.None,this.addEntry=()=>({dispose:()=>{},update:()=>{}}),this.isEntryVisible=()=>!1,this.updateEntryVisibility=()=>{},this.focus=()=>{},this.focusNextEntry=()=>{},this.focusPreviousEntry=()=>{},this.isEntryFocused=()=>!1,this.overrideStyle=()=>u.Disposable.None}}(0,l.__decorate)([of],nb.prototype,"overrideEntry",null),(0,l.__decorate)([of],nb.prototype,"getPart",null),(0,l.__decorate)([of],nb.prototype,"createAuxiliaryStatusbarPart",null),(0,l.__decorate)([of],nb.prototype,"createScoped",null),(0,l.__decorate)([of],nb.prototype,"dispose",null),(0,O.registerSingleton)(iI.IStatusbarService,nb,O.InstantiationType.Eager);class nS{query(){(0,o_.unsupported)()}getExtensions(){(0,o_.unsupported)()}isExtensionCompatible(){(0,o_.unsupported)()}getCompatibleExtension(){(0,o_.unsupported)()}getAllCompatibleVersions(){(0,o_.unsupported)()}download(){(0,o_.unsupported)()}downloadSignatureArchive(){(0,o_.unsupported)()}reportStatistic(){(0,o_.unsupported)()}getReadme(){(0,o_.unsupported)()}getManifest(){(0,o_.unsupported)()}getChangelog(){(0,o_.unsupported)()}getCoreTranslation(){(0,o_.unsupported)()}getExtensionsControlManifest(){(0,o_.unsupported)()}constructor(){this.isEnabled=()=>!1}}(0,l.__decorate)([of],nS.prototype,"query",null),(0,l.__decorate)([of],nS.prototype,"getExtensions",null),(0,l.__decorate)([of],nS.prototype,"isExtensionCompatible",null),(0,l.__decorate)([of],nS.prototype,"getCompatibleExtension",null),(0,l.__decorate)([of],nS.prototype,"getAllCompatibleVersions",null),(0,l.__decorate)([of],nS.prototype,"download",null),(0,l.__decorate)([of],nS.prototype,"downloadSignatureArchive",null),(0,l.__decorate)([of],nS.prototype,"reportStatistic",null),(0,l.__decorate)([of],nS.prototype,"getReadme",null),(0,l.__decorate)([of],nS.prototype,"getManifest",null),(0,l.__decorate)([of],nS.prototype,"getChangelog",null),(0,l.__decorate)([of],nS.prototype,"getCoreTranslation",null),(0,l.__decorate)([of],nS.prototype,"getExtensionsControlManifest",null),(0,O.registerSingleton)(k.IExtensionGalleryService,nS,O.InstantiationType.Eager);class nw{revealTerminal(){(0,o_.unsupported)()}focusInstance(){(0,o_.unsupported)()}createOnInstanceCapabilityEvent(){return{event:c.Event.None,dispose(){}}}moveIntoNewEditor(){(0,o_.unsupported)()}createOnInstanceEvent(e){return new c.DynamicListEventMultiplexer(this.instances,this.onDidCreateInstance,this.onDidDisposeInstance,e)}createDetachedTerminal(){(0,o_.unsupported)()}createDetachedXterm(){(0,o_.unsupported)()}get configHelper(){return(0,o_.unsupported)()}revealActiveTerminal(){(0,o_.unsupported)()}createTerminal(){(0,o_.unsupported)()}getInstanceFromId(){(0,o_.unsupported)()}getInstanceFromIndex(){(0,o_.unsupported)()}getActiveOrCreateInstance(){(0,o_.unsupported)()}moveToEditor(){(0,o_.unsupported)()}moveToTerminalView(){(0,o_.unsupported)()}getPrimaryBackend(){(0,o_.unsupported)()}refreshActiveGroup(){(0,o_.unsupported)()}showProfileQuickPick(){(0,o_.unsupported)()}setContainers(){(0,o_.unsupported)()}requestStartExtensionTerminal(){(0,o_.unsupported)()}isAttachedToTerminal(){(0,o_.unsupported)()}getEditableData(){(0,o_.unsupported)()}setEditable(){(0,o_.unsupported)()}isEditable(){(0,o_.unsupported)()}safeDisposeTerminal(){(0,o_.unsupported)()}getDefaultInstanceHost(){(0,o_.unsupported)()}getInstanceHost(){(0,o_.unsupported)()}resolveLocation(){(0,o_.unsupported)()}setNativeDelegate(){(0,o_.unsupported)()}toggleEscapeSequenceLogging(){(0,o_.unsupported)()}getEditingTerminal(){(0,o_.unsupported)()}setEditingTerminal(){(0,o_.unsupported)()}setActiveInstance(){(0,o_.unsupported)()}focusActiveInstance(){(0,o_.unsupported)()}getInstanceFromResource(){(0,o_.unsupported)()}constructor(){this.onAnyInstanceData=c.Event.None,this.detachedInstances=[],this.onAnyInstanceDataInput=c.Event.None,this.onAnyInstanceIconChange=c.Event.None,this.onAnyInstanceMaximumDimensionsChange=c.Event.None,this.onAnyInstancePrimaryStatusChange=c.Event.None,this.onAnyInstanceProcessIdReady=c.Event.None,this.onAnyInstanceSelectionChange=c.Event.None,this.onAnyInstanceTitleChange=c.Event.None,this.onDidChangeSelection=c.Event.None,this.detachedXterms=[],this.whenConnected=Promise.resolve(),this.restoredGroupCount=0,this.instances=[],this.isProcessSupportRegistered=!1,this.connectionState=iJ.TerminalConnectionState.Connected,this.defaultLocation=$.TerminalLocation.Panel,this.onDidChangeActiveGroup=c.Event.None,this.onDidDisposeGroup=c.Event.None,this.onDidCreateInstance=c.Event.None,this.onDidReceiveProcessId=c.Event.None,this.onDidChangeInstanceDimensions=c.Event.None,this.onDidMaximumDimensionsChange=c.Event.None,this.onDidRequestStartExtensionTerminal=c.Event.None,this.onDidChangeInstanceTitle=c.Event.None,this.onDidChangeInstanceIcon=c.Event.None,this.onDidChangeInstanceColor=c.Event.None,this.onDidChangeInstancePrimaryStatus=c.Event.None,this.onDidInputInstanceData=c.Event.None,this.onDidRegisterProcessSupport=c.Event.None,this.onDidChangeConnectionState=c.Event.None,this.getReconnectedTerminals=()=>void 0,this.registerProcessSupport=()=>{},this.activeInstance=void 0,this.onDidDisposeInstance=c.Event.None,this.onDidFocusInstance=c.Event.None,this.onDidChangeActiveInstance=c.Event.None,this.onDidChangeInstances=c.Event.None,this.onDidChangeInstanceCapability=c.Event.None}}(0,l.__decorate)([of],nw.prototype,"revealTerminal",null),(0,l.__decorate)([of],nw.prototype,"focusInstance",null),(0,l.__decorate)([of],nw.prototype,"moveIntoNewEditor",null),(0,l.__decorate)([of],nw.prototype,"createDetachedTerminal",null),(0,l.__decorate)([of],nw.prototype,"createDetachedXterm",null),(0,l.__decorate)([of],nw.prototype,"configHelper",null),(0,l.__decorate)([of],nw.prototype,"revealActiveTerminal",null),(0,l.__decorate)([of],nw.prototype,"createTerminal",null),(0,l.__decorate)([of],nw.prototype,"getInstanceFromId",null),(0,l.__decorate)([of],nw.prototype,"getInstanceFromIndex",null),(0,l.__decorate)([of],nw.prototype,"getActiveOrCreateInstance",null),(0,l.__decorate)([of],nw.prototype,"moveToEditor",null),(0,l.__decorate)([of],nw.prototype,"moveToTerminalView",null),(0,l.__decorate)([of],nw.prototype,"getPrimaryBackend",null),(0,l.__decorate)([of],nw.prototype,"refreshActiveGroup",null),(0,l.__decorate)([of],nw.prototype,"showProfileQuickPick",null),(0,l.__decorate)([of],nw.prototype,"setContainers",null),(0,l.__decorate)([of],nw.prototype,"requestStartExtensionTerminal",null),(0,l.__decorate)([of],nw.prototype,"isAttachedToTerminal",null),(0,l.__decorate)([of],nw.prototype,"getEditableData",null),(0,l.__decorate)([of],nw.prototype,"setEditable",null),(0,l.__decorate)([of],nw.prototype,"isEditable",null),(0,l.__decorate)([of],nw.prototype,"safeDisposeTerminal",null),(0,l.__decorate)([of],nw.prototype,"getDefaultInstanceHost",null),(0,l.__decorate)([of],nw.prototype,"getInstanceHost",null),(0,l.__decorate)([of],nw.prototype,"resolveLocation",null),(0,l.__decorate)([of],nw.prototype,"setNativeDelegate",null),(0,l.__decorate)([of],nw.prototype,"toggleEscapeSequenceLogging",null),(0,l.__decorate)([of],nw.prototype,"getEditingTerminal",null),(0,l.__decorate)([of],nw.prototype,"setEditingTerminal",null),(0,l.__decorate)([of],nw.prototype,"setActiveInstance",null),(0,l.__decorate)([of],nw.prototype,"focusActiveInstance",null),(0,l.__decorate)([of],nw.prototype,"getInstanceFromResource",null),(0,O.registerSingleton)(tu.ITerminalService,nw,O.InstantiationType.Delayed);class nE{get config(){return(0,o_.unsupported)()}setPanelContainer(){(0,o_.unsupported)()}configFontIsMonospace(){(0,o_.unsupported)()}getFont(){(0,o_.unsupported)()}constructor(){this.onConfigChanged=c.Event.None}}(0,l.__decorate)([of],nE.prototype,"config",null),(0,l.__decorate)([of],nE.prototype,"setPanelContainer",null),(0,l.__decorate)([of],nE.prototype,"configFontIsMonospace",null),(0,l.__decorate)([of],nE.prototype,"getFont",null),(0,O.registerSingleton)(tu.ITerminalConfigurationService,nE,O.InstantiationType.Delayed);class nI{focusInstance(){(0,o_.unsupported)()}openEditor(){(0,o_.unsupported)()}detachActiveEditorInstance(){(0,o_.unsupported)()}detachInstance(){(0,o_.unsupported)()}splitInstance(){(0,o_.unsupported)()}revealActiveEditor(){(0,o_.unsupported)()}resolveResource(){(0,o_.unsupported)()}reviveInput(){(0,o_.unsupported)()}getInputFromResource(){(0,o_.unsupported)()}setActiveInstance(){(0,o_.unsupported)()}focusActiveInstance(){(0,o_.unsupported)()}getInstanceFromResource(){(0,o_.unsupported)()}constructor(){this.instances=[],this.activeInstance=void 0,this.onDidDisposeInstance=c.Event.None,this.onDidFocusInstance=c.Event.None,this.onDidChangeActiveInstance=c.Event.None,this.onDidChangeInstances=c.Event.None,this.onDidChangeInstanceCapability=c.Event.None}}(0,l.__decorate)([of],nI.prototype,"focusInstance",null),(0,l.__decorate)([of],nI.prototype,"openEditor",null),(0,l.__decorate)([of],nI.prototype,"detachActiveEditorInstance",null),(0,l.__decorate)([of],nI.prototype,"detachInstance",null),(0,l.__decorate)([of],nI.prototype,"splitInstance",null),(0,l.__decorate)([of],nI.prototype,"revealActiveEditor",null),(0,l.__decorate)([of],nI.prototype,"resolveResource",null),(0,l.__decorate)([of],nI.prototype,"reviveInput",null),(0,l.__decorate)([of],nI.prototype,"getInputFromResource",null),(0,l.__decorate)([of],nI.prototype,"setActiveInstance",null),(0,l.__decorate)([of],nI.prototype,"focusActiveInstance",null),(0,l.__decorate)([of],nI.prototype,"getInstanceFromResource",null),(0,O.registerSingleton)(tu.ITerminalEditorService,nI,O.InstantiationType.Delayed);class nx{focusInstance(){(0,o_.unsupported)()}createGroup(){(0,o_.unsupported)()}getGroupForInstance(){(0,o_.unsupported)()}moveGroup(){(0,o_.unsupported)()}moveGroupToEnd(){(0,o_.unsupported)()}moveInstance(){(0,o_.unsupported)()}unsplitInstance(){(0,o_.unsupported)()}joinInstances(){(0,o_.unsupported)()}instanceIsSplit(){(0,o_.unsupported)()}getGroupLabels(){(0,o_.unsupported)()}setActiveGroupByIndex(){(0,o_.unsupported)()}setActiveGroupToNext(){(0,o_.unsupported)()}setActiveGroupToPrevious(){(0,o_.unsupported)()}setActiveInstanceByIndex(){(0,o_.unsupported)()}setContainer(){(0,o_.unsupported)()}showPanel(){(0,o_.unsupported)()}hidePanel(){(0,o_.unsupported)()}focusTabs(){(0,o_.unsupported)()}focusHover(){(0,o_.unsupported)()}showTabs(){(0,o_.unsupported)()}updateVisibility(){(0,o_.unsupported)()}setActiveInstance(){(0,o_.unsupported)()}focusActiveInstance(){(0,o_.unsupported)()}getInstanceFromResource(){(0,o_.unsupported)()}constructor(){this.lastAccessedMenu="inline-tab",this.instances=[],this.groups=[],this.activeGroup=void 0,this.activeGroupIndex=0,this.onDidChangeActiveGroup=c.Event.None,this.onDidDisposeGroup=c.Event.None,this.onDidChangeGroups=c.Event.None,this.onDidShow=c.Event.None,this.onDidChangePanelOrientation=c.Event.None,this.onDidDisposeInstance=c.Event.None,this.onDidFocusInstance=c.Event.None,this.onDidChangeActiveInstance=c.Event.None,this.onDidChangeInstances=c.Event.None,this.onDidChangeInstanceCapability=c.Event.None}}(0,l.__decorate)([of],nx.prototype,"focusInstance",null),(0,l.__decorate)([of],nx.prototype,"createGroup",null),(0,l.__decorate)([of],nx.prototype,"getGroupForInstance",null),(0,l.__decorate)([of],nx.prototype,"moveGroup",null),(0,l.__decorate)([of],nx.prototype,"moveGroupToEnd",null),(0,l.__decorate)([of],nx.prototype,"moveInstance",null),(0,l.__decorate)([of],nx.prototype,"unsplitInstance",null),(0,l.__decorate)([of],nx.prototype,"joinInstances",null),(0,l.__decorate)([of],nx.prototype,"instanceIsSplit",null),(0,l.__decorate)([of],nx.prototype,"getGroupLabels",null),(0,l.__decorate)([of],nx.prototype,"setActiveGroupByIndex",null),(0,l.__decorate)([of],nx.prototype,"setActiveGroupToNext",null),(0,l.__decorate)([of],nx.prototype,"setActiveGroupToPrevious",null),(0,l.__decorate)([of],nx.prototype,"setActiveInstanceByIndex",null),(0,l.__decorate)([of],nx.prototype,"setContainer",null),(0,l.__decorate)([of],nx.prototype,"showPanel",null),(0,l.__decorate)([of],nx.prototype,"hidePanel",null),(0,l.__decorate)([of],nx.prototype,"focusTabs",null),(0,l.__decorate)([of],nx.prototype,"focusHover",null),(0,l.__decorate)([of],nx.prototype,"showTabs",null),(0,l.__decorate)([of],nx.prototype,"updateVisibility",null),(0,l.__decorate)([of],nx.prototype,"setActiveInstance",null),(0,l.__decorate)([of],nx.prototype,"focusActiveInstance",null),(0,l.__decorate)([of],nx.prototype,"getInstanceFromResource",null),(0,O.registerSingleton)(tu.ITerminalGroupService,nx,O.InstantiationType.Delayed);class nD{convertProfileToShellLaunchConfig(){(0,o_.unsupported)()}createInstance(){(0,o_.unsupported)()}getBackend(){(0,o_.unsupported)()}didRegisterBackend(){(0,o_.unsupported)()}constructor(){this.onDidRegisterBackend=c.Event.None,this.getRegisteredBackends=()=>[].values(),this.onDidCreateInstance=c.Event.None}}(0,l.__decorate)([of],nD.prototype,"convertProfileToShellLaunchConfig",null),(0,l.__decorate)([of],nD.prototype,"createInstance",null),(0,l.__decorate)([of],nD.prototype,"getBackend",null),(0,l.__decorate)([of],nD.prototype,"didRegisterBackend",null),(0,O.registerSingleton)(tu.ITerminalInstanceService,nD,O.InstantiationType.Delayed);class nk{getPlatformKey(){(0,o_.unsupported)()}refreshAvailableProfiles(){(0,o_.unsupported)()}getContributedDefaultProfile(){(0,o_.unsupported)()}registerContributedProfile(){(0,o_.unsupported)()}getContributedProfileProvider(){(0,o_.unsupported)()}registerTerminalProfileProvider(){(0,o_.unsupported)()}constructor(){this.availableProfiles=[],this.contributedProfiles=[],this.profilesReady=Promise.resolve(),this.getDefaultProfileName=()=>void 0,this.getDefaultProfile=()=>void 0,this.onDidChangeAvailableProfiles=c.Event.None}}(0,l.__decorate)([of],nk.prototype,"getPlatformKey",null),(0,l.__decorate)([of],nk.prototype,"refreshAvailableProfiles",null),(0,l.__decorate)([of],nk.prototype,"getContributedDefaultProfile",null),(0,l.__decorate)([of],nk.prototype,"registerContributedProfile",null),(0,l.__decorate)([of],nk.prototype,"getContributedProfileProvider",null),(0,l.__decorate)([of],nk.prototype,"registerTerminalProfileProvider",null),(0,O.registerSingleton)(tp.ITerminalProfileService,nk,O.InstantiationType.Delayed);class nA{getLevel(){(0,o_.unsupported)()}setLevel(){(0,o_.unsupported)()}trace(){(0,o_.unsupported)()}debug(){(0,o_.unsupported)()}info(){(0,o_.unsupported)()}warn(){(0,o_.unsupported)()}error(){(0,o_.unsupported)()}flush(){(0,o_.unsupported)()}dispose(){(0,o_.unsupported)()}constructor(){this.onDidChangeLogLevel=c.Event.None}}(0,l.__decorate)([of],nA.prototype,"getLevel",null),(0,l.__decorate)([of],nA.prototype,"setLevel",null),(0,l.__decorate)([of],nA.prototype,"trace",null),(0,l.__decorate)([of],nA.prototype,"debug",null),(0,l.__decorate)([of],nA.prototype,"info",null),(0,l.__decorate)([of],nA.prototype,"warn",null),(0,l.__decorate)([of],nA.prototype,"error",null),(0,l.__decorate)([of],nA.prototype,"flush",null),(0,l.__decorate)([of],nA.prototype,"dispose",null),(0,O.registerSingleton)(ee,nA,O.InstantiationType.Delayed);class nM{registerLinkProvider(){(0,o_.unsupported)()}constructor(){this.linkProviders=new Set([]),this.onDidAddLinkProvider=c.Event.None,this.onDidRemoveLinkProvider=c.Event.None}}(0,l.__decorate)([of],nM.prototype,"registerLinkProvider",null),(0,O.registerSingleton)(tm.ITerminalLinkProviderService,nM,O.InstantiationType.Delayed),(0,O.registerSingleton)(tg,class{constructor(){this.terminalProfiles=[]}},O.InstantiationType.Delayed);class nL{resolveIcon(){(0,o_.unsupported)()}resolveShellLaunchConfig(){(0,o_.unsupported)()}getDefaultShell(){(0,o_.unsupported)()}getDefaultShellArgs(){(0,o_.unsupported)()}getDefaultIcon(){(0,o_.unsupported)()}getEnvironment(){(0,o_.unsupported)()}createProfileFromShellAndShellArgs(){(0,o_.unsupported)()}constructor(){this.getDefaultProfile=async()=>({profileName:"bash",path:"/bin/bash",isDefault:!0})}}(0,l.__decorate)([of],nL.prototype,"resolveIcon",null),(0,l.__decorate)([of],nL.prototype,"resolveShellLaunchConfig",null),(0,l.__decorate)([of],nL.prototype,"getDefaultShell",null),(0,l.__decorate)([of],nL.prototype,"getDefaultShellArgs",null),(0,l.__decorate)([of],nL.prototype,"getDefaultIcon",null),(0,l.__decorate)([of],nL.prototype,"getEnvironment",null),(0,l.__decorate)([of],nL.prototype,"createProfileFromShellAndShellArgs",null),(0,O.registerSingleton)(tp.ITerminalProfileResolverService,nL,O.InstantiationType.Delayed);class nT{get mergedCollection(){return(0,o_.unsupported)()}constructor(){this.collections=new Map,this.onDidChangeCollections=c.Event.None,this.set=()=>{},this.delete=()=>{}}}(0,l.__decorate)([of],nT.prototype,"mergedCollection",null),(0,O.registerSingleton)(th.IEnvironmentVariableService,nT,O.InstantiationType.Delayed);class nR{registerQuickFixProvider(){(0,o_.unsupported)()}registerCommandSelector(){(0,o_.unsupported)()}constructor(){this.onDidRegisterProvider=c.Event.None,this.onDidRegisterCommandSelector=c.Event.None,this.onDidUnregisterProvider=c.Event.None,this.extensionQuickFixes=Promise.resolve([]),this.providers=new Map}}(0,l.__decorate)([of],nR.prototype,"registerQuickFixProvider",null),(0,l.__decorate)([of],nR.prototype,"registerCommandSelector",null),(0,O.registerSingleton)(tv.ITerminalQuickFixService,nR,O.InstantiationType.Delayed);class nN{turnOn(){(0,o_.unsupported)()}turnoff(){(0,o_.unsupported)()}signIn(){(0,o_.unsupported)()}resetSyncedData(){(0,o_.unsupported)()}showSyncActivity(){(0,o_.unsupported)()}syncNow(){(0,o_.unsupported)()}synchroniseUserDataSyncStoreType(){(0,o_.unsupported)()}showConflicts(){(0,o_.unsupported)()}accept(){(0,o_.unsupported)()}getAllLogResources(){(0,o_.unsupported)()}downloadSyncActivity(){(0,o_.unsupported)()}constructor(){this.onDidTurnOnSync=c.Event.None,this.enabled=!1,this.authenticationProviders=[],this.all=[],this.current=void 0,this.accountStatus=a.Unavailable,this.onDidChangeAccountStatus=c.Event.None}}(0,l.__decorate)([of],nN.prototype,"turnOn",null),(0,l.__decorate)([of],nN.prototype,"turnoff",null),(0,l.__decorate)([of],nN.prototype,"signIn",null),(0,l.__decorate)([of],nN.prototype,"resetSyncedData",null),(0,l.__decorate)([of],nN.prototype,"showSyncActivity",null),(0,l.__decorate)([of],nN.prototype,"syncNow",null),(0,l.__decorate)([of],nN.prototype,"synchroniseUserDataSyncStoreType",null),(0,l.__decorate)([of],nN.prototype,"showConflicts",null),(0,l.__decorate)([of],nN.prototype,"accept",null),(0,l.__decorate)([of],nN.prototype,"getAllLogResources",null),(0,l.__decorate)([of],nN.prototype,"downloadSyncActivity",null),(0,O.registerSingleton)(iV.IUserDataSyncWorkbenchService,nN,O.InstantiationType.Delayed);class nP{setEnablement(){(0,o_.unsupported)()}setResourceEnablement(){(0,o_.unsupported)()}constructor(){this.onDidChangeEnablement=c.Event.None,this.isEnabled=()=>!1,this.canToggleEnablement=()=>!1,this.onDidChangeResourceEnablement=c.Event.None,this.isResourceEnabled=()=>!1,this.getResourceSyncStateVersion=()=>void 0}}(0,l.__decorate)([of],nP.prototype,"setEnablement",null),(0,l.__decorate)([of],nP.prototype,"setResourceEnablement",null),(0,O.registerSingleton)(ev.IUserDataSyncEnablementService,nP,O.InstantiationType.Delayed);class nO{addKeybinding(){(0,o_.unsupported)()}editKeybinding(){(0,o_.unsupported)()}removeKeybinding(){(0,o_.unsupported)()}resetKeybinding(){(0,o_.unsupported)()}}(0,l.__decorate)([of],nO.prototype,"addKeybinding",null),(0,l.__decorate)([of],nO.prototype,"editKeybinding",null),(0,l.__decorate)([of],nO.prototype,"removeKeybinding",null),(0,l.__decorate)([of],nO.prototype,"resetKeybinding",null),(0,O.registerSingleton)(ii.IKeybindingEditingService,nO,O.InstantiationType.Delayed);class nF{getLocalSearchProvider(){(0,o_.unsupported)()}getRemoteSearchProvider(){(0,o_.unsupported)()}}(0,l.__decorate)([of],nF.prototype,"getLocalSearchProvider",null),(0,l.__decorate)([of],nF.prototype,"getRemoteSearchProvider",null),(0,O.registerSingleton)(e7.IPreferencesSearchService,nF,O.InstantiationType.Delayed);class nK{createNotebookTextDocumentSnapshot(){(0,o_.unsupported)()}restoreNotebookTextModelFromSnapshot(){(0,o_.unsupported)()}hasSupportedNotebooks(){(0,o_.unsupported)()}registerNotebookSerializer(){(0,o_.unsupported)()}withNotebookDataProvider(){(0,o_.unsupported)()}getOutputMimeTypeInfo(){(0,o_.unsupported)()}getStaticPreloads(){(0,o_.unsupported)()}updateMimePreferredRenderer(){(0,o_.unsupported)()}saveMimeDisplayOrder(){(0,o_.unsupported)()}createNotebookTextModel(){(0,o_.unsupported)()}getNotebookTextModels(){(0,o_.unsupported)()}registerContributedNotebookType(){(0,o_.unsupported)()}getContributedNotebookType(){(0,o_.unsupported)()}setToCopy(){(0,o_.unsupported)()}getToCopy(){(0,o_.unsupported)()}clearEditorCache(){(0,o_.unsupported)()}constructor(){this.tryGetDataProviderSync=()=>void 0,this.canResolve=async()=>!1,this.onAddViewType=c.Event.None,this.onWillRemoveViewType=c.Event.None,this.onDidChangeOutputRenderers=c.Event.None,this.onWillAddNotebookDocument=c.Event.None,this.onDidAddNotebookDocument=c.Event.None,this.onWillRemoveNotebookDocument=c.Event.None,this.onDidRemoveNotebookDocument=c.Event.None,this.getViewTypeProvider=()=>void 0,this.getRendererInfo=()=>void 0,this.getRenderers=()=>[],this.getNotebookTextModel=()=>void 0,this.listNotebookDocuments=()=>[],this.getContributedNotebookTypes=()=>[],this.getNotebookProviderResourceRoots=()=>[]}}(0,l.__decorate)([of],nK.prototype,"createNotebookTextDocumentSnapshot",null),(0,l.__decorate)([of],nK.prototype,"restoreNotebookTextModelFromSnapshot",null),(0,l.__decorate)([of],nK.prototype,"hasSupportedNotebooks",null),(0,l.__decorate)([of],nK.prototype,"registerNotebookSerializer",null),(0,l.__decorate)([of],nK.prototype,"withNotebookDataProvider",null),(0,l.__decorate)([of],nK.prototype,"getOutputMimeTypeInfo",null),(0,l.__decorate)([of],nK.prototype,"getStaticPreloads",null),(0,l.__decorate)([of],nK.prototype,"updateMimePreferredRenderer",null),(0,l.__decorate)([of],nK.prototype,"saveMimeDisplayOrder",null),(0,l.__decorate)([of],nK.prototype,"createNotebookTextModel",null),(0,l.__decorate)([of],nK.prototype,"getNotebookTextModels",null),(0,l.__decorate)([of],nK.prototype,"registerContributedNotebookType",null),(0,l.__decorate)([of],nK.prototype,"getContributedNotebookType",null),(0,l.__decorate)([of],nK.prototype,"setToCopy",null),(0,l.__decorate)([of],nK.prototype,"getToCopy",null),(0,l.__decorate)([of],nK.prototype,"clearEditorCache",null),(0,O.registerSingleton)(e6.INotebookService,nK,O.InstantiationType.Delayed);class nW{replace(){(0,o_.unsupported)()}openReplacePreview(){(0,o_.unsupported)()}updateReplacePreview(){(0,o_.unsupported)()}}(0,l.__decorate)([of],nW.prototype,"replace",null),(0,l.__decorate)([of],nW.prototype,"openReplacePreview",null),(0,l.__decorate)([of],nW.prototype,"updateReplacePreview",null),(0,O.registerSingleton)(ti.IReplaceService,nW,O.InstantiationType.Delayed);class nz{clearHistory(){(0,o_.unsupported)()}load(){(0,o_.unsupported)()}save(){(0,o_.unsupported)()}constructor(){this.onDidClearHistory=c.Event.None}}(0,l.__decorate)([of],nz.prototype,"clearHistory",null),(0,l.__decorate)([of],nz.prototype,"load",null),(0,l.__decorate)([of],nz.prototype,"save",null),(0,O.registerSingleton)(tr.ISearchHistoryService,nz,O.InstantiationType.Delayed);class nV{updateReplContextKey(){(0,o_.unsupported)()}retrieveWidget(){(0,o_.unsupported)()}addNotebookEditor(){(0,o_.unsupported)()}removeNotebookEditor(){(0,o_.unsupported)()}constructor(){this.retrieveExistingWidgetFromURI=()=>void 0,this.retrieveAllExistingWidgets=()=>[],this.onDidAddNotebookEditor=c.Event.None,this.onDidRemoveNotebookEditor=c.Event.None,this.getNotebookEditor=()=>void 0,this.listNotebookEditors=()=>[]}}(0,l.__decorate)([of],nV.prototype,"updateReplContextKey",null),(0,l.__decorate)([of],nV.prototype,"retrieveWidget",null),(0,l.__decorate)([of],nV.prototype,"addNotebookEditor",null),(0,l.__decorate)([of],nV.prototype,"removeNotebookEditor",null),(0,O.registerSingleton)(eX.INotebookEditorService,nV,O.InstantiationType.Delayed);class nB{get searchModel(){return(0,o_.unsupported)()}}(0,l.__decorate)([of],nB.prototype,"searchModel",null),(0,O.registerSingleton)(to.ISearchViewModelWorkbenchService,nB,O.InstantiationType.Delayed);class nH{createUntitledNotebookTextModel(){(0,o_.unsupported)()}isDirty(){(0,o_.unsupported)()}resolve(){(0,o_.unsupported)()}constructor(){this.onDidSaveNotebook=c.Event.None,this.onDidChangeDirty=c.Event.None,this.onWillFailWithConflict=c.Event.None}}(0,l.__decorate)([of],nH.prototype,"createUntitledNotebookTextModel",null),(0,l.__decorate)([of],nH.prototype,"isDirty",null),(0,l.__decorate)([of],nH.prototype,"resolve",null),(0,O.registerSingleton)(eJ.INotebookEditorModelResolverService,nH,O.InstantiationType.Delayed),(0,O.registerSingleton)(iU.IWorkingCopyEditorService,class{constructor(){this.onDidRegisterHandler=c.Event.None,this.registerHandler=()=>u.Disposable.None,this.findEditor=()=>void 0}},O.InstantiationType.Delayed);class nU{markActive(){(0,o_.unsupported)()}constructor(){this.isActive=!1,this.onDidChangeIsActive=c.Event.None}}(0,l.__decorate)([of],nU.prototype,"markActive",null),(0,O.registerSingleton)(iN.IUserActivityService,nU,O.InstantiationType.Delayed);class nG{registerCanonicalUriProvider(){(0,o_.unsupported)()}}(0,l.__decorate)([of],nG.prototype,"registerCanonicalUriProvider",null),(0,O.registerSingleton)(ey.ICanonicalUriService,nG,O.InstantiationType.Delayed),(0,O.registerSingleton)(eE.IExtensionStatusBarItemService,class{setOrUpdateEntry(){return eE.StatusBarUpdateKind.DidUpdate}unsetEntry(){}getEntries(){return[]}constructor(){this.onDidChange=c.Event.None}},O.InstantiationType.Delayed),(0,O.registerSingleton)(tN.IWorkbenchAssignmentService,class{constructor(){this.getCurrentExperiments=async()=>[],this.getTreatment=async()=>void 0}},O.InstantiationType.Delayed);class nq{setChatSessionTitle(){(0,o_.unsupported)()}adoptRequest(){(0,o_.unsupported)()}resendRequest(){(0,o_.unsupported)()}clearAllHistoryEntries(){(0,o_.unsupported)()}transferChatSession(){(0,o_.unsupported)()}registerSlashCommandProvider(){(0,o_.unsupported)()}startSession(){(0,o_.unsupported)()}sendRequest(){(0,o_.unsupported)()}removeRequest(){(0,o_.unsupported)()}cancelCurrentRequestForSession(){(0,o_.unsupported)()}getSlashCommands(){(0,o_.unsupported)()}clearSession(){(0,o_.unsupported)()}addRequest(){(0,o_.unsupported)()}addCompleteRequest(){(0,o_.unsupported)()}sendRequestToProvider(){(0,o_.unsupported)()}removeHistoryEntry(){(0,o_.unsupported)()}notifyUserAction(){(0,o_.unsupported)()}constructor(){this.isEnabled=()=>!1,this.onDidSubmitAgent=c.Event.None,this.hasSessions=()=>!1,this.onDidDisposeSession=c.Event.None,this.transferredSessionData=void 0,this.onDidSubmitSlashCommand=c.Event.None,this.getSessionId=()=>void 0,this.transferredSessionId=void 0,this.getProviderInfos=()=>[],this.getSession=()=>void 0,this.getOrRestoreSession=()=>void 0,this.loadSessionFromContent=()=>void 0,this.getHistory=()=>[],this.onDidPerformUserAction=c.Event.None}}(0,l.__decorate)([of],nq.prototype,"setChatSessionTitle",null),(0,l.__decorate)([of],nq.prototype,"adoptRequest",null),(0,l.__decorate)([of],nq.prototype,"resendRequest",null),(0,l.__decorate)([of],nq.prototype,"clearAllHistoryEntries",null),(0,l.__decorate)([of],nq.prototype,"transferChatSession",null),(0,l.__decorate)([of],nq.prototype,"registerSlashCommandProvider",null),(0,l.__decorate)([of],nq.prototype,"startSession",null),(0,l.__decorate)([of],nq.prototype,"sendRequest",null),(0,l.__decorate)([of],nq.prototype,"removeRequest",null),(0,l.__decorate)([of],nq.prototype,"cancelCurrentRequestForSession",null),(0,l.__decorate)([of],nq.prototype,"getSlashCommands",null),(0,l.__decorate)([of],nq.prototype,"clearSession",null),(0,l.__decorate)([of],nq.prototype,"addRequest",null),(0,l.__decorate)([of],nq.prototype,"addCompleteRequest",null),(0,l.__decorate)([of],nq.prototype,"sendRequestToProvider",null),(0,l.__decorate)([of],nq.prototype,"removeHistoryEntry",null),(0,l.__decorate)([of],nq.prototype,"notifyUserAction",null),(0,O.registerSingleton)(eL.IChatService,nq,O.InstantiationType.Delayed);class nj{update(){(0,o_.unsupported)()}}(0,l.__decorate)([of],nj.prototype,"update",null),(0,O.registerSingleton)(i8.ILanguageModelStatsService,nj,O.InstantiationType.Delayed);class nQ{toggle(){(0,o_.unsupported)()}focus(){(0,o_.unsupported)()}open(){(0,o_.unsupported)()}close(){(0,o_.unsupported)()}openInChatView(){(0,o_.unsupported)()}constructor(){this.focused=!1,this.onDidClose=c.Event.None,this.enabled=!1}}(0,l.__decorate)([of],nQ.prototype,"toggle",null),(0,l.__decorate)([of],nQ.prototype,"focus",null),(0,l.__decorate)([of],nQ.prototype,"open",null),(0,l.__decorate)([of],nQ.prototype,"close",null),(0,l.__decorate)([of],nQ.prototype,"openInChatView",null),(0,O.registerSingleton)(eA.IQuickChatService,nQ,O.InstantiationType.Delayed);class nY{registerChatParticipantDetectionProvider(){(0,o_.unsupported)()}detectAgentOrCommand(){(0,o_.unsupported)()}getChatTitle(){(0,o_.unsupported)()}registerAgentCompletionProvider(){(0,o_.unsupported)()}getAgentCompletionItems(){(0,o_.unsupported)()}getAgentByFullyQualifiedId(){(0,o_.unsupported)()}registerAgentImplementation(){(0,o_.unsupported)()}registerDynamicAgent(){(0,o_.unsupported)()}getFollowups(){(0,o_.unsupported)()}getDefaultAgent(){(0,o_.unsupported)()}getSecondaryAgent(){(0,o_.unsupported)()}updateAgent(){(0,o_.unsupported)()}registerAgentData(){(0,o_.unsupported)()}registerAgentCallback(){(0,o_.unsupported)()}registerAgent(){(0,o_.unsupported)()}invokeAgent(){(0,o_.unsupported)()}getAgents(){(0,o_.unsupported)()}getAgent(){(0,o_.unsupported)()}hasAgent(){(0,o_.unsupported)()}constructor(){this._serviceBrand=void 0,this.hasChatParticipantDetectionProviders=()=>!1,this.agentHasDupeName=()=>!1,this.getContributedDefaultAgent=()=>void 0,this.getActivatedAgents=()=>[],this.getAgentsByName=()=>[],this.onDidChangeAgents=c.Event.None}}(0,l.__decorate)([of],nY.prototype,"registerChatParticipantDetectionProvider",null),(0,l.__decorate)([of],nY.prototype,"detectAgentOrCommand",null),(0,l.__decorate)([of],nY.prototype,"getChatTitle",null),(0,l.__decorate)([of],nY.prototype,"registerAgentCompletionProvider",null),(0,l.__decorate)([of],nY.prototype,"getAgentCompletionItems",null),(0,l.__decorate)([of],nY.prototype,"getAgentByFullyQualifiedId",null),(0,l.__decorate)([of],nY.prototype,"registerAgentImplementation",null),(0,l.__decorate)([of],nY.prototype,"registerDynamicAgent",null),(0,l.__decorate)([of],nY.prototype,"getFollowups",null),(0,l.__decorate)([of],nY.prototype,"getDefaultAgent",null),(0,l.__decorate)([of],nY.prototype,"getSecondaryAgent",null),(0,l.__decorate)([of],nY.prototype,"updateAgent",null),(0,l.__decorate)([of],nY.prototype,"registerAgentData",null),(0,l.__decorate)([of],nY.prototype,"registerAgentCallback",null),(0,l.__decorate)([of],nY.prototype,"registerAgent",null),(0,l.__decorate)([of],nY.prototype,"invokeAgent",null),(0,l.__decorate)([of],nY.prototype,"getAgents",null),(0,l.__decorate)([of],nY.prototype,"getAgent",null),(0,l.__decorate)([of],nY.prototype,"hasAgent",null),(0,O.registerSingleton)(eM.IChatAgentService,nY,O.InstantiationType.Delayed),(0,O.registerSingleton)(eM.IChatAgentNameService,class{getAgentNameRestriction(){return!0}},O.InstantiationType.Delayed);class nZ{createTerminal(){(0,o_.unsupported)()}constructor(){this.onDidCreateTerminal=c.Event.None}}(0,l.__decorate)([of],nZ.prototype,"createTerminal",null),(0,O.registerSingleton)(ix,nZ,O.InstantiationType.Delayed);class nX{get models(){return(0,o_.unsupported)()}getCustomEditor(){(0,o_.unsupported)()}getAllCustomEditors(){(0,o_.unsupported)()}getContributedCustomEditors(){(0,o_.unsupported)()}getUserConfiguredCustomEditors(){(0,o_.unsupported)()}constructor(){this.registerCustomEditorCapabilities=()=>u.Disposable.None,this.getCustomEditorCapabilities=()=>void 0}}(0,l.__decorate)([of],nX.prototype,"models",null),(0,l.__decorate)([of],nX.prototype,"getCustomEditor",null),(0,l.__decorate)([of],nX.prototype,"getAllCustomEditors",null),(0,l.__decorate)([of],nX.prototype,"getContributedCustomEditors",null),(0,l.__decorate)([of],nX.prototype,"getUserConfiguredCustomEditors",null),(0,O.registerSingleton)(eF.ICustomEditorService,nX,O.InstantiationType.Delayed);class n${createWebviewElement(){(0,o_.unsupported)()}createWebviewOverlay(){(0,o_.unsupported)()}constructor(){this.webviews=[],this.onDidChangeActiveWebview=c.Event.None}}(0,l.__decorate)([of],n$.prototype,"createWebviewElement",null),(0,l.__decorate)([of],n$.prototype,"createWebviewOverlay",null),(0,O.registerSingleton)(tD.IWebviewService,n$,O.InstantiationType.Delayed);class nJ{register(){(0,o_.unsupported)()}resolve(){(0,o_.unsupported)()}constructor(){this.onNewResolverRegistered=c.Event.None}}(0,l.__decorate)([of],nJ.prototype,"register",null),(0,l.__decorate)([of],nJ.prototype,"resolve",null),(0,O.registerSingleton)(tA.IWebviewViewService,nJ,O.InstantiationType.Delayed);class n0{setLocale(){(0,o_.unsupported)()}clearLocalePreference(){return Promise.resolve()}}(0,l.__decorate)([of],n0.prototype,"setLocale",null),(0,O.registerSingleton)(ig.ILocaleService,n0,O.InstantiationType.Delayed);class n1{get iconManager(){return(0,o_.unsupported)()}openWebview(){(0,o_.unsupported)()}openRevivedWebview(){(0,o_.unsupported)()}revealWebview(){(0,o_.unsupported)()}shouldPersist(){(0,o_.unsupported)()}resolveWebview(){(0,o_.unsupported)()}constructor(){this.onDidChangeActiveWebviewEditor=c.Event.None,this.registerResolver=()=>u.Disposable.None}}(0,l.__decorate)([of],n1.prototype,"iconManager",null),(0,l.__decorate)([of],n1.prototype,"openWebview",null),(0,l.__decorate)([of],n1.prototype,"openRevivedWebview",null),(0,l.__decorate)([of],n1.prototype,"revealWebview",null),(0,l.__decorate)([of],n1.prototype,"shouldPersist",null),(0,l.__decorate)([of],n1.prototype,"resolveWebview",null),(0,O.registerSingleton)(tk.IWebviewWorkbenchService,n1,O.InstantiationType.Delayed);class n2{resolveAuthority(){(0,o_.unsupported)()}getConnectionData(){(0,o_.unsupported)()}getCanonicalURI(){(0,o_.unsupported)()}_clearResolvedAuthority(){(0,o_.unsupported)()}_setResolvedAuthority(){(0,o_.unsupported)()}_setResolvedAuthorityError(){(0,o_.unsupported)()}_setAuthorityConnectionToken(){(0,o_.unsupported)()}_setCanonicalURIProvider(){(0,o_.unsupported)()}constructor(){this.onDidChangeConnectionData=c.Event.None}}(0,l.__decorate)([of],n2.prototype,"resolveAuthority",null),(0,l.__decorate)([of],n2.prototype,"getConnectionData",null),(0,l.__decorate)([of],n2.prototype,"getCanonicalURI",null),(0,l.__decorate)([of],n2.prototype,"_clearResolvedAuthority",null),(0,l.__decorate)([of],n2.prototype,"_setResolvedAuthority",null),(0,l.__decorate)([of],n2.prototype,"_setResolvedAuthorityError",null),(0,l.__decorate)([of],n2.prototype,"_setAuthorityConnectionToken",null),(0,l.__decorate)([of],n2.prototype,"_setCanonicalURIProvider",null),(0,O.registerSingleton)(U.IRemoteAuthorityResolverService,n2,O.InstantiationType.Delayed),(0,O.registerSingleton)(eH.IExternalUriOpenerService,class{constructor(){this.registerExternalOpenerProvider=()=>u.Disposable.None,this.getOpener=async()=>void 0}},O.InstantiationType.Delayed);class n3{configureKeybindings(){(0,o_.unsupported)()}openHelpLink(){(0,o_.unsupported)()}navigateToCodeBlock(){(0,o_.unsupported)()}showLastProvider(){(0,o_.unsupported)()}showAccessibleViewHelp(){(0,o_.unsupported)()}goToSymbol(){(0,o_.unsupported)()}disableHint(){(0,o_.unsupported)()}next(){(0,o_.unsupported)()}previous(){(0,o_.unsupported)()}getOpenAriaHint(){(0,o_.unsupported)()}show(){(0,o_.unsupported)()}registerProvider(){(0,o_.unsupported)()}getPosition(){(0,o_.unsupported)()}setPosition(){(0,o_.unsupported)()}getLastPosition(){(0,o_.unsupported)()}constructor(){this.getCodeBlockContext=()=>void 0}}(0,l.__decorate)([of],n3.prototype,"configureKeybindings",null),(0,l.__decorate)([of],n3.prototype,"openHelpLink",null),(0,l.__decorate)([of],n3.prototype,"navigateToCodeBlock",null),(0,l.__decorate)([of],n3.prototype,"showLastProvider",null),(0,l.__decorate)([of],n3.prototype,"showAccessibleViewHelp",null),(0,l.__decorate)([of],n3.prototype,"goToSymbol",null),(0,l.__decorate)([of],n3.prototype,"disableHint",null),(0,l.__decorate)([of],n3.prototype,"next",null),(0,l.__decorate)([of],n3.prototype,"previous",null),(0,l.__decorate)([of],n3.prototype,"getOpenAriaHint",null),(0,l.__decorate)([of],n3.prototype,"show",null),(0,l.__decorate)([of],n3.prototype,"registerProvider",null),(0,l.__decorate)([of],n3.prototype,"getPosition",null),(0,l.__decorate)([of],n3.prototype,"setPosition",null),(0,l.__decorate)([of],n3.prototype,"getLastPosition",null),(0,O.registerSingleton)(ek.IAccessibleViewService,n3,O.InstantiationType.Delayed),(0,O.registerSingleton)(i9,class{constructor(){this.hasShownAccessibleView=()=>!1}},O.InstantiationType.Delayed);class n5{uninstallExtensions(){(0,o_.unsupported)()}resetPinnedStateForAllUserExtensions(){(0,o_.unsupported)()}installResourceExtension(){(0,o_.unsupported)()}installVSIX(){(0,o_.unsupported)()}installFromLocation(){(0,o_.unsupported)()}updateFromGallery(){(0,o_.unsupported)()}zip(){(0,o_.unsupported)()}unzip(){(0,o_.unsupported)()}getManifest(){(0,o_.unsupported)()}install(){(0,o_.unsupported)()}canInstall(){(0,o_.unsupported)()}installFromGallery(){(0,o_.unsupported)()}installGalleryExtensions(){(0,o_.unsupported)()}installExtensionsFromProfile(){(0,o_.unsupported)()}uninstall(){(0,o_.unsupported)()}reinstallFromGallery(){(0,o_.unsupported)()}getExtensionsControlManifest(){(0,o_.unsupported)()}copyExtensions(){(0,o_.unsupported)()}updateMetadata(){(0,o_.unsupported)()}download(){(0,o_.unsupported)()}registerParticipant(){(0,o_.unsupported)()}getTargetPlatform(){(0,o_.unsupported)()}cleanUp(){(0,o_.unsupported)()}constructor(){this.onProfileAwareDidInstallExtensions=c.Event.None,this.onProfileAwareDidUninstallExtension=c.Event.None,this.onProfileAwareDidUpdateExtensionMetadata=c.Event.None,this.getInstalledWorkspaceExtensionLocations=()=>[],this.onDidEnableExtensions=c.Event.None,this.isWorkspaceExtensionsSupported=()=>!1,this.getExtensions=async()=>[],this.getInstalledWorkspaceExtensions=async()=>[],this.toggleAppliationScope=async e=>e,this.onInstallExtension=c.Event.None,this.onDidInstallExtensions=c.Event.None,this.onUninstallExtension=c.Event.None,this.onDidUninstallExtension=c.Event.None,this.onDidChangeProfile=c.Event.None,this.onDidUpdateExtensionMetadata=c.Event.None,this.getInstalled=async()=>[]}}(0,l.__decorate)([of],n5.prototype,"uninstallExtensions",null),(0,l.__decorate)([of],n5.prototype,"resetPinnedStateForAllUserExtensions",null),(0,l.__decorate)([of],n5.prototype,"installResourceExtension",null),(0,l.__decorate)([of],n5.prototype,"installVSIX",null),(0,l.__decorate)([of],n5.prototype,"installFromLocation",null),(0,l.__decorate)([of],n5.prototype,"updateFromGallery",null),(0,l.__decorate)([of],n5.prototype,"zip",null),(0,l.__decorate)([of],n5.prototype,"unzip",null),(0,l.__decorate)([of],n5.prototype,"getManifest",null),(0,l.__decorate)([of],n5.prototype,"install",null),(0,l.__decorate)([of],n5.prototype,"canInstall",null),(0,l.__decorate)([of],n5.prototype,"installFromGallery",null),(0,l.__decorate)([of],n5.prototype,"installGalleryExtensions",null),(0,l.__decorate)([of],n5.prototype,"installExtensionsFromProfile",null),(0,l.__decorate)([of],n5.prototype,"uninstall",null),(0,l.__decorate)([of],n5.prototype,"reinstallFromGallery",null),(0,l.__decorate)([of],n5.prototype,"getExtensionsControlManifest",null),(0,l.__decorate)([of],n5.prototype,"copyExtensions",null),(0,l.__decorate)([of],n5.prototype,"updateMetadata",null),(0,l.__decorate)([of],n5.prototype,"download",null),(0,l.__decorate)([of],n5.prototype,"registerParticipant",null),(0,l.__decorate)([of],n5.prototype,"getTargetPlatform",null),(0,l.__decorate)([of],n5.prototype,"cleanUp",null),(0,O.registerSingleton)(tX.IWorkbenchExtensionManagementService,n5,O.InstantiationType.Delayed);class n4{prefersExecuteOnUI(){(0,o_.unsupported)()}prefersExecuteOnWorkspace(){(0,o_.unsupported)()}prefersExecuteOnWeb(){(0,o_.unsupported)()}canExecuteOnUI(){(0,o_.unsupported)()}canExecuteOnWorkspace(){(0,o_.unsupported)()}canExecuteOnWeb(){(0,o_.unsupported)()}getExtensionKind(){(0,o_.unsupported)()}getUserConfiguredExtensionKind(){(0,o_.unsupported)()}getExtensionUntrustedWorkspaceSupportType(){(0,o_.unsupported)()}getExtensionVirtualWorkspaceSupportType(){(0,o_.unsupported)()}}(0,l.__decorate)([of],n4.prototype,"prefersExecuteOnUI",null),(0,l.__decorate)([of],n4.prototype,"prefersExecuteOnWorkspace",null),(0,l.__decorate)([of],n4.prototype,"prefersExecuteOnWeb",null),(0,l.__decorate)([of],n4.prototype,"canExecuteOnUI",null),(0,l.__decorate)([of],n4.prototype,"canExecuteOnWorkspace",null),(0,l.__decorate)([of],n4.prototype,"canExecuteOnWeb",null),(0,l.__decorate)([of],n4.prototype,"getExtensionKind",null),(0,l.__decorate)([of],n4.prototype,"getUserConfiguredExtensionKind",null),(0,l.__decorate)([of],n4.prototype,"getExtensionUntrustedWorkspaceSupportType",null),(0,l.__decorate)([of],n4.prototype,"getExtensionVirtualWorkspaceSupportType",null),(0,O.registerSingleton)(t1.IExtensionManifestPropertiesService,n4,O.InstantiationType.Delayed),(0,O.registerSingleton)(eS.IWorkspaceTrustEnablementService,class{isWorkspaceTrustEnabled(){return!1}},O.InstantiationType.Delayed),(0,O.registerSingleton)(G.IRemoteExtensionsScannerService,class{whenExtensionsReady(){throw Error("Method not implemented.")}async scanExtensions(){return[]}async scanSingleExtension(){return null}},O.InstantiationType.Delayed);class n6{create(){(0,o_.unsupported)()}registerHandler(){(0,o_.unsupported)()}constructor(){this.open=async()=>!1}}(0,l.__decorate)([of],n6.prototype,"create",null),(0,l.__decorate)([of],n6.prototype,"registerHandler",null),(0,O.registerSingleton)(eh.IURLService,n6,O.InstantiationType.Delayed);class n8{register(){(0,o_.unsupported)()}connect(){(0,o_.unsupported)()}}(0,l.__decorate)([of],n8.prototype,"register",null),(0,l.__decorate)([of],n8.prototype,"connect",null),(0,O.registerSingleton)(q.IRemoteSocketFactoryService,n8,O.InstantiationType.Delayed);class n9{addQuickDiffProvider(){(0,o_.unsupported)()}getQuickDiffs(){(0,o_.unsupported)()}constructor(){this.onDidChangeQuickDiffProviders=c.Event.None}}(0,l.__decorate)([of],n9.prototype,"addQuickDiffProvider",null),(0,l.__decorate)([of],n9.prototype,"getQuickDiffs",null),(0,O.registerSingleton)(te.IQuickDiffService,n9,O.InstantiationType.Delayed);class n7{getDefaultInputValueProvider(){(0,o_.unsupported)()}registerSCMInputValueProvider(){(0,o_.unsupported)()}registerSCMProvider(){(0,o_.unsupported)()}getRepository(){(0,o_.unsupported)()}constructor(){this.onDidChangeInputValueProviders=c.Event.None,this.onDidAddRepository=c.Event.None,this.onDidRemoveRepository=c.Event.None,this.repositories=[],this.repositoryCount=0}}(0,l.__decorate)([of],n7.prototype,"getDefaultInputValueProvider",null),(0,l.__decorate)([of],n7.prototype,"registerSCMInputValueProvider",null),(0,l.__decorate)([of],n7.prototype,"registerSCMProvider",null),(0,l.__decorate)([of],n7.prototype,"getRepository",null),(0,O.registerSingleton)(tt.ISCMService,n7,O.InstantiationType.Delayed);class re{download(){(0,o_.unsupported)()}}(0,l.__decorate)([of],re.prototype,"download",null),(0,O.registerSingleton)(I.IDownloadService,re,O.InstantiationType.Delayed);class rt{registerExtensionHandler(){(0,o_.unsupported)()}unregisterExtensionHandler(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rt.prototype,"registerExtensionHandler",null),(0,l.__decorate)([of],rt.prototype,"unregisterExtensionHandler",null),(0,O.registerSingleton)(t0.IExtensionUrlHandler,rt,O.InstantiationType.Delayed);class ri{get commentsModel(){return(0,o_.unsupported)()}setActiveEditingCommentThread(){(0,o_.unsupported)()}setActiveCommentAndThread(){(0,o_.unsupported)()}setDocumentComments(){(0,o_.unsupported)()}setWorkspaceComments(){(0,o_.unsupported)()}removeWorkspaceComments(){(0,o_.unsupported)()}registerCommentController(){(0,o_.unsupported)()}getCommentController(){(0,o_.unsupported)()}createCommentThreadTemplate(){(0,o_.unsupported)()}updateCommentThreadTemplate(){(0,o_.unsupported)()}getCommentMenus(){(0,o_.unsupported)()}updateComments(){(0,o_.unsupported)()}updateNotebookComments(){(0,o_.unsupported)()}disposeCommentThread(){(0,o_.unsupported)()}updateCommentingRanges(){(0,o_.unsupported)()}hasReactionHandler(){(0,o_.unsupported)()}toggleReaction(){(0,o_.unsupported)()}setActiveCommentThread(){(0,o_.unsupported)()}setCurrentCommentThread(){(0,o_.unsupported)()}enableCommenting(){(0,o_.unsupported)()}registerContinueOnCommentProvider(){(0,o_.unsupported)()}removeContinueOnComment(){(0,o_.unsupported)()}constructor(){this.lastActiveCommentcontroller=void 0,this.resourceHasCommentingRanges=()=>!1,this.onDidChangeActiveEditingCommentThread=c.Event.None,this.onDidSetResourceCommentInfos=c.Event.None,this.onDidSetAllCommentThreads=c.Event.None,this.onDidUpdateCommentThreads=c.Event.None,this.onDidUpdateNotebookCommentThreads=c.Event.None,this.onDidChangeActiveCommentThread=c.Event.None,this.onDidChangeCurrentCommentThread=c.Event.None,this.onDidUpdateCommentingRanges=c.Event.None,this.onDidChangeActiveCommentingRange=c.Event.None,this.onDidSetDataProvider=c.Event.None,this.onDidDeleteDataProvider=c.Event.None,this.onDidChangeCommentingEnabled=c.Event.None,this.isCommentingEnabled=!1,this.unregisterCommentController=()=>{},this.getDocumentComments=async()=>[],this.getNotebookComments=async()=>[]}}(0,l.__decorate)([of],ri.prototype,"commentsModel",null),(0,l.__decorate)([of],ri.prototype,"setActiveEditingCommentThread",null),(0,l.__decorate)([of],ri.prototype,"setActiveCommentAndThread",null),(0,l.__decorate)([of],ri.prototype,"setDocumentComments",null),(0,l.__decorate)([of],ri.prototype,"setWorkspaceComments",null),(0,l.__decorate)([of],ri.prototype,"removeWorkspaceComments",null),(0,l.__decorate)([of],ri.prototype,"registerCommentController",null),(0,l.__decorate)([of],ri.prototype,"getCommentController",null),(0,l.__decorate)([of],ri.prototype,"createCommentThreadTemplate",null),(0,l.__decorate)([of],ri.prototype,"updateCommentThreadTemplate",null),(0,l.__decorate)([of],ri.prototype,"getCommentMenus",null),(0,l.__decorate)([of],ri.prototype,"updateComments",null),(0,l.__decorate)([of],ri.prototype,"updateNotebookComments",null),(0,l.__decorate)([of],ri.prototype,"disposeCommentThread",null),(0,l.__decorate)([of],ri.prototype,"updateCommentingRanges",null),(0,l.__decorate)([of],ri.prototype,"hasReactionHandler",null),(0,l.__decorate)([of],ri.prototype,"toggleReaction",null),(0,l.__decorate)([of],ri.prototype,"setActiveCommentThread",null),(0,l.__decorate)([of],ri.prototype,"setCurrentCommentThread",null),(0,l.__decorate)([of],ri.prototype,"enableCommenting",null),(0,l.__decorate)([of],ri.prototype,"registerContinueOnCommentProvider",null),(0,l.__decorate)([of],ri.prototype,"removeContinueOnComment",null),(0,O.registerSingleton)(eO.ICommentService,ri,O.InstantiationType.Delayed);class ro{registerCellStatusBarItemProvider(){(0,o_.unsupported)()}getStatusBarItemsForCell(){(0,o_.unsupported)()}constructor(){this.onDidChangeProviders=c.Event.None,this.onDidChangeItems=c.Event.None}}(0,l.__decorate)([of],ro.prototype,"registerCellStatusBarItemProvider",null),(0,l.__decorate)([of],ro.prototype,"getStatusBarItemsForCell",null),(0,O.registerSingleton)(e$.INotebookCellStatusBarService,ro,O.InstantiationType.Delayed);class rn{notifyVariablesChange(){(0,o_.unsupported)()}registerKernel(){(0,o_.unsupported)()}getMatchingKernel(){(0,o_.unsupported)()}getSelectedOrSuggestedKernel(){(0,o_.unsupported)()}selectKernelForNotebook(){(0,o_.unsupported)()}preselectKernelForNotebook(){(0,o_.unsupported)()}updateKernelNotebookAffinity(){(0,o_.unsupported)()}registerNotebookKernelDetectionTask(){(0,o_.unsupported)()}getKernelDetectionTasks(){(0,o_.unsupported)()}getSourceActions(){(0,o_.unsupported)()}getRunningSourceActions(){(0,o_.unsupported)()}registerKernelSourceActionProvider(){(0,o_.unsupported)()}getKernelSourceActions2(){(0,o_.unsupported)()}constructor(){this.onDidNotebookVariablesUpdate=c.Event.None,this.onDidAddKernel=c.Event.None,this.onDidRemoveKernel=c.Event.None,this.onDidChangeSelectedNotebooks=c.Event.None,this.onDidChangeNotebookAffinity=c.Event.None,this.onDidChangeKernelDetectionTasks=c.Event.None,this.onDidChangeSourceActions=c.Event.None}}(0,l.__decorate)([of],rn.prototype,"notifyVariablesChange",null),(0,l.__decorate)([of],rn.prototype,"registerKernel",null),(0,l.__decorate)([of],rn.prototype,"getMatchingKernel",null),(0,l.__decorate)([of],rn.prototype,"getSelectedOrSuggestedKernel",null),(0,l.__decorate)([of],rn.prototype,"selectKernelForNotebook",null),(0,l.__decorate)([of],rn.prototype,"preselectKernelForNotebook",null),(0,l.__decorate)([of],rn.prototype,"updateKernelNotebookAffinity",null),(0,l.__decorate)([of],rn.prototype,"registerNotebookKernelDetectionTask",null),(0,l.__decorate)([of],rn.prototype,"getKernelDetectionTasks",null),(0,l.__decorate)([of],rn.prototype,"getSourceActions",null),(0,l.__decorate)([of],rn.prototype,"getRunningSourceActions",null),(0,l.__decorate)([of],rn.prototype,"registerKernelSourceActionProvider",null),(0,l.__decorate)([of],rn.prototype,"getKernelSourceActions2",null),(0,O.registerSingleton)(e2.INotebookKernelService,rn,O.InstantiationType.Delayed);class rr{prepare(){(0,o_.unsupported)()}getScoped(){(0,o_.unsupported)()}receiveMessage(){(0,o_.unsupported)()}constructor(){this.onShouldPostMessage=c.Event.None}}(0,l.__decorate)([of],rr.prototype,"prepare",null),(0,l.__decorate)([of],rr.prototype,"getScoped",null),(0,l.__decorate)([of],rr.prototype,"receiveMessage",null),(0,O.registerSingleton)(e4.INotebookRendererMessagingService,rr,O.InstantiationType.Delayed);class rs{addToHistory(){(0,o_.unsupported)()}getPreviousValue(){(0,o_.unsupported)()}getNextValue(){(0,o_.unsupported)()}replaceLast(){(0,o_.unsupported)()}clearHistory(){(0,o_.unsupported)()}has(){(0,o_.unsupported)()}constructor(){this.matchesCurrent=()=>!1}}(0,l.__decorate)([of],rs.prototype,"addToHistory",null),(0,l.__decorate)([of],rs.prototype,"getPreviousValue",null),(0,l.__decorate)([of],rs.prototype,"getNextValue",null),(0,l.__decorate)([of],rs.prototype,"replaceLast",null),(0,l.__decorate)([of],rs.prototype,"clearHistory",null),(0,l.__decorate)([of],rs.prototype,"has",null),(0,O.registerSingleton)(eQ.IInteractiveHistoryService,rs,O.InstantiationType.Delayed);class ra{willCreateInteractiveDocument(){(0,o_.unsupported)()}willRemoveInteractiveDocument(){(0,o_.unsupported)()}constructor(){this.onWillAddInteractiveDocument=c.Event.None,this.onWillRemoveInteractiveDocument=c.Event.None}}(0,l.__decorate)([of],ra.prototype,"willCreateInteractiveDocument",null),(0,l.__decorate)([of],ra.prototype,"willRemoveInteractiveDocument",null),(0,O.registerSingleton)(ej.IInteractiveDocumentService,ra,O.InstantiationType.Delayed),(0,O.registerSingleton)(ig.IActiveLanguagePackService,class{async getExtensionIdProvidingCurrentLocale(){return(0,ov.getExtensionIdProvidingCurrentLocale)()}},O.InstantiationType.Eager);class rl{getRemoteProfile(){(0,o_.unsupported)()}constructor(){this.getRemoteProfiles=async()=>[]}}(0,l.__decorate)([of],rl.prototype,"getRemoteProfile",null),(0,O.registerSingleton)(iO,rl,O.InstantiationType.Eager);class rd{start(){(0,o_.unsupported)()}next(){(0,o_.unsupported)()}reset(){(0,o_.unsupported)()}constructor(){this.isDisabledByBisect=()=>!1,this.isActive=!1,this.disabledCount=0}}(0,l.__decorate)([of],rd.prototype,"start",null),(0,l.__decorate)([of],rd.prototype,"next",null),(0,l.__decorate)([of],rd.prototype,"reset",null),(0,O.registerSingleton)(tQ.IExtensionBisectService,rd,O.InstantiationType.Eager),(0,O.registerSingleton)(e_,class{updateAccount(){return Promise.resolve()}constructor(){this.onTokenFailed=c.Event.None,this.account=void 0,this.onDidChangeAccount=c.Event.None}},O.InstantiationType.Eager);class rc{revealViewForProvider(){(0,o_.unsupported)()}getWidgetByInputUri(){(0,o_.unsupported)()}constructor(){this.getWidgetsByLocations=()=>[],this.onDidAddWidget=c.Event.None,this.getAllWidgets=()=>[],this.getWidgetByLocation=()=>[],this.getWidgetBySessionId=()=>void 0,this.lastFocusedWidget=void 0}}(0,l.__decorate)([of],rc.prototype,"revealViewForProvider",null),(0,l.__decorate)([of],rc.prototype,"getWidgetByInputUri",null),(0,O.registerSingleton)(eA.IChatWidgetService,rc,O.InstantiationType.Delayed);class ru{get helpInformation(){return(0,o_.unsupported)()}get tunnelModel(){return(0,o_.unsupported)()}setEditable(){(0,o_.unsupported)()}getEditableData(){(0,o_.unsupported)()}forward(){(0,o_.unsupported)()}close(){(0,o_.unsupported)()}setTunnelInformation(){(0,o_.unsupported)()}setCandidateFilter(){(0,o_.unsupported)()}onFoundNewCandidates(){(0,o_.unsupported)()}restore(){(0,o_.unsupported)()}enablePortsFeatures(){(0,o_.unsupported)()}constructor(){this.onDidChangeHelpInformation=c.Event.None,this.onDidChangeTargetType=c.Event.None,this.targetType=[],this.onDidChangeEditable=c.Event.None,this.onEnabledPortsFeatures=c.Event.None,this.portsFeaturesEnabled=oo.PortsEnablement.Disabled,this.namedProcesses=new Map}}(0,l.__decorate)([of],ru.prototype,"helpInformation",null),(0,l.__decorate)([of],ru.prototype,"tunnelModel",null),(0,l.__decorate)([of],ru.prototype,"setEditable",null),(0,l.__decorate)([of],ru.prototype,"getEditableData",null),(0,l.__decorate)([of],ru.prototype,"forward",null),(0,l.__decorate)([of],ru.prototype,"close",null),(0,l.__decorate)([of],ru.prototype,"setTunnelInformation",null),(0,l.__decorate)([of],ru.prototype,"setCandidateFilter",null),(0,l.__decorate)([of],ru.prototype,"onFoundNewCandidates",null),(0,l.__decorate)([of],ru.prototype,"restore",null),(0,l.__decorate)([of],ru.prototype,"enablePortsFeatures",null),(0,O.registerSingleton)(iw.IRemoteExplorerService,ru,O.InstantiationType.Delayed);class rh{registerDeclaredAuthenticationProvider(){(0,o_.unsupported)()}unregisterDeclaredAuthenticationProvider(){(0,o_.unsupported)()}registerAuthenticationProvider(){(0,o_.unsupported)()}unregisterAuthenticationProvider(){(0,o_.unsupported)()}getProvider(){(0,o_.unsupported)()}getSessions(){(0,o_.unsupported)()}createSession(){(0,o_.unsupported)()}removeSession(){(0,o_.unsupported)()}constructor(){this.getAccounts=async()=>[],this.onDidRegisterAuthenticationProvider=c.Event.None,this.onDidUnregisterAuthenticationProvider=c.Event.None,this.onDidChangeSessions=c.Event.None,this.onDidChangeDeclaredProviders=c.Event.None,this.declaredProviders=[],this.isAuthenticationProviderRegistered=()=>!1,this.getProviderIds=()=>[]}}(0,l.__decorate)([of],rh.prototype,"registerDeclaredAuthenticationProvider",null),(0,l.__decorate)([of],rh.prototype,"unregisterDeclaredAuthenticationProvider",null),(0,l.__decorate)([of],rh.prototype,"registerAuthenticationProvider",null),(0,l.__decorate)([of],rh.prototype,"unregisterAuthenticationProvider",null),(0,l.__decorate)([of],rh.prototype,"getProvider",null),(0,l.__decorate)([of],rh.prototype,"getSessions",null),(0,l.__decorate)([of],rh.prototype,"createSession",null),(0,l.__decorate)([of],rh.prototype,"removeSession",null),(0,O.registerSingleton)(tF.IAuthenticationService,rh,O.InstantiationType.Delayed);class rp{updateAllowedExtensions(){(0,o_.unsupported)()}removeAllowedExtensions(){(0,o_.unsupported)()}constructor(){this.onDidChangeExtensionSessionAccess=c.Event.None,this.isAccessAllowed=()=>!1,this.readAllowedExtensions=()=>[]}}(0,l.__decorate)([of],rp.prototype,"updateAllowedExtensions",null),(0,l.__decorate)([of],rp.prototype,"removeAllowedExtensions",null),(0,O.registerSingleton)(tP.IAuthenticationAccessService,rp,O.InstantiationType.Delayed);class rg{updateAccountPreference(){(0,o_.unsupported)()}removeAccountPreference(){(0,o_.unsupported)()}updateSessionPreference(){(0,o_.unsupported)()}removeSessionPreference(){(0,o_.unsupported)()}selectSession(){(0,o_.unsupported)()}requestSessionAccess(){(0,o_.unsupported)()}requestNewSession(){(0,o_.unsupported)()}constructor(){this.onDidChangeAccountPreference=c.Event.None,this.getAccountPreference=()=>void 0,this.getSessionPreference=()=>void 0}}(0,l.__decorate)([of],rg.prototype,"updateAccountPreference",null),(0,l.__decorate)([of],rg.prototype,"removeAccountPreference",null),(0,l.__decorate)([of],rg.prototype,"updateSessionPreference",null),(0,l.__decorate)([of],rg.prototype,"removeSessionPreference",null),(0,l.__decorate)([of],rg.prototype,"selectSession",null),(0,l.__decorate)([of],rg.prototype,"requestSessionAccess",null),(0,l.__decorate)([of],rg.prototype,"requestNewSession",null),(0,O.registerSingleton)(tF.IAuthenticationExtensionsService,rg,O.InstantiationType.Delayed);class rm{initializeExtensionUsageCache(){(0,o_.unsupported)()}readAccountUsages(){(0,o_.unsupported)()}removeAccountUsage(){(0,o_.unsupported)()}addAccountUsage(){(0,o_.unsupported)()}constructor(){this.extensionUsesAuth=async()=>!1}}(0,l.__decorate)([of],rm.prototype,"initializeExtensionUsageCache",null),(0,l.__decorate)([of],rm.prototype,"readAccountUsages",null),(0,l.__decorate)([of],rm.prototype,"removeAccountUsage",null),(0,l.__decorate)([of],rm.prototype,"addAccountUsage",null),(0,O.registerSingleton)(tO.IAuthenticationUsageService,rm,O.InstantiationType.Delayed);class rv{registerTimelineProvider(){(0,o_.unsupported)()}unregisterTimelineProvider(){(0,o_.unsupported)()}getTimeline(){(0,o_.unsupported)()}setUri(){(0,o_.unsupported)()}constructor(){this.onDidChangeProviders=c.Event.None,this.onDidChangeTimeline=c.Event.None,this.onDidChangeUri=c.Event.None,this.getSources=()=>[]}}(0,l.__decorate)([of],rv.prototype,"registerTimelineProvider",null),(0,l.__decorate)([of],rv.prototype,"unregisterTimelineProvider",null),(0,l.__decorate)([of],rv.prototype,"getTimeline",null),(0,l.__decorate)([of],rv.prototype,"setUri",null),(0,O.registerSingleton)(tx.ITimelineService,rv,O.InstantiationType.Delayed);class r_{provideTestFollowups(){(0,o_.unsupported)()}get excluded(){return(0,o_.unsupported)()}get collection(){return(0,o_.unsupported)()}get showInlineOutput(){return(0,o_.unsupported)()}registerTestController(){(0,o_.unsupported)()}refreshTests(){(0,o_.unsupported)()}cancelRefreshTests(){(0,o_.unsupported)()}startContinuousRun(){(0,o_.unsupported)()}runTests(){(0,o_.unsupported)()}runResolvedTests(){(0,o_.unsupported)()}syncTests(){(0,o_.unsupported)()}cancelTestRun(){(0,o_.unsupported)()}publishDiff(){(0,o_.unsupported)()}constructor(){this.getTestsRelatedToCode=async()=>[],this.getCodeRelatedToTest=async()=>[],this.registerExtHost=()=>u.Disposable.None,this.onDidCancelTestRun=c.Event.None,this.onWillProcessDiff=c.Event.None,this.onDidProcessDiff=c.Event.None,this.getTestController=()=>void 0}}(0,l.__decorate)([of],r_.prototype,"provideTestFollowups",null),(0,l.__decorate)([of],r_.prototype,"excluded",null),(0,l.__decorate)([of],r_.prototype,"collection",null),(0,l.__decorate)([of],r_.prototype,"showInlineOutput",null),(0,l.__decorate)([of],r_.prototype,"registerTestController",null),(0,l.__decorate)([of],r_.prototype,"refreshTests",null),(0,l.__decorate)([of],r_.prototype,"cancelRefreshTests",null),(0,l.__decorate)([of],r_.prototype,"startContinuousRun",null),(0,l.__decorate)([of],r_.prototype,"runTests",null),(0,l.__decorate)([of],r_.prototype,"runResolvedTests",null),(0,l.__decorate)([of],r_.prototype,"syncTests",null),(0,l.__decorate)([of],r_.prototype,"cancelTestRun",null),(0,l.__decorate)([of],r_.prototype,"publishDiff",null),(0,O.registerSingleton)(tS.ITestService,r_,O.InstantiationType.Delayed);class rf{set(){(0,o_.unsupported)()}delete(){(0,o_.unsupported)()}constructor(){this.onDidChangeSecret=c.Event.None,this.type="in-memory",this.get=async()=>void 0}}(0,l.__decorate)([of],rf.prototype,"set",null),(0,l.__decorate)([of],rf.prototype,"delete",null),(0,O.registerSingleton)(Q.ISecretStorageService,rf,O.InstantiationType.Delayed);class ry{registerShareProvider(){(0,o_.unsupported)()}constructor(){this.getShareActions=()=>[],this.provideShare=async()=>void 0}}(0,l.__decorate)([of],ry.prototype,"registerShareProvider",null),(0,O.registerSingleton)(ts.IShareService,ry,O.InstantiationType.Delayed);class rC{exportProfile2(){(0,o_.unsupported)()}createFromProfile(){(0,o_.unsupported)()}createProfile(){(0,o_.unsupported)()}editProfile(){(0,o_.unsupported)()}exportProfile(){(0,o_.unsupported)()}importProfile(){(0,o_.unsupported)()}showProfileContents(){(0,o_.unsupported)()}createFromCurrentProfile(){(0,o_.unsupported)()}createTroubleshootProfile(){(0,o_.unsupported)()}setProfile(){(0,o_.unsupported)()}constructor(){this.createProfileFromTemplate=async()=>void 0,this.resolveProfileTemplate=async()=>null,this.registerProfileContentHandler=()=>u.Disposable.None,this.unregisterProfileContentHandler=()=>{}}}(0,l.__decorate)([of],rC.prototype,"exportProfile2",null),(0,l.__decorate)([of],rC.prototype,"createFromProfile",null),(0,l.__decorate)([of],rC.prototype,"createProfile",null),(0,l.__decorate)([of],rC.prototype,"editProfile",null),(0,l.__decorate)([of],rC.prototype,"exportProfile",null),(0,l.__decorate)([of],rC.prototype,"importProfile",null),(0,l.__decorate)([of],rC.prototype,"showProfileContents",null),(0,l.__decorate)([of],rC.prototype,"createFromCurrentProfile",null),(0,l.__decorate)([of],rC.prototype,"createTroubleshootProfile",null),(0,l.__decorate)([of],rC.prototype,"setProfile",null),(0,O.registerSingleton)(iF.IUserDataProfileImportExportService,rC,O.InstantiationType.Delayed);class rb{registerIssueDataProvider(){(0,o_.unsupported)()}openReporter(){(0,o_.unsupported)()}openProcessExplorer(){(0,o_.unsupported)()}registerIssueUriRequestHandler(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rb.prototype,"registerIssueDataProvider",null),(0,l.__decorate)([of],rb.prototype,"openReporter",null),(0,l.__decorate)([of],rb.prototype,"openProcessExplorer",null),(0,l.__decorate)([of],rb.prototype,"registerIssueUriRequestHandler",null),(0,O.registerSingleton)(t9.IWorkbenchIssueService,rb,O.InstantiationType.Delayed);class rS{get activeRepository(){return(0,o_.unsupported)()}get menus(){return(0,o_.unsupported)()}toggleVisibility(){(0,o_.unsupported)()}toggleSortKey(){(0,o_.unsupported)()}focus(){(0,o_.unsupported)()}constructor(){this.repositories=[],this.onDidChangeRepositories=c.Event.None,this.visibleRepositories=[],this.onDidChangeVisibleRepositories=c.Event.None,this.isVisible=()=>!1,this.focusedRepository=void 0,this.onDidFocusRepository=c.Event.None}}(0,l.__decorate)([of],rS.prototype,"activeRepository",null),(0,l.__decorate)([of],rS.prototype,"menus",null),(0,l.__decorate)([of],rS.prototype,"toggleVisibility",null),(0,l.__decorate)([of],rS.prototype,"toggleSortKey",null),(0,l.__decorate)([of],rS.prototype,"focus",null),(0,O.registerSingleton)(tt.ISCMViewService,rS,O.InstantiationType.Delayed);class rw{forceCancelNotebookExecutions(){(0,o_.unsupported)()}getCellExecutionsForNotebook(){(0,o_.unsupported)()}getCellExecutionsByHandleForNotebook(){(0,o_.unsupported)()}getCellExecution(){(0,o_.unsupported)()}createCellExecution(){(0,o_.unsupported)()}getExecution(){(0,o_.unsupported)()}createExecution(){(0,o_.unsupported)()}getLastFailedCellForNotebook(){(0,o_.unsupported)()}constructor(){this.getLastCompletedCellForNotebook=()=>void 0,this.onDidChangeExecution=c.Event.None,this.onDidChangeLastRunFailState=c.Event.None}}(0,l.__decorate)([of],rw.prototype,"forceCancelNotebookExecutions",null),(0,l.__decorate)([of],rw.prototype,"getCellExecutionsForNotebook",null),(0,l.__decorate)([of],rw.prototype,"getCellExecutionsByHandleForNotebook",null),(0,l.__decorate)([of],rw.prototype,"getCellExecution",null),(0,l.__decorate)([of],rw.prototype,"createCellExecution",null),(0,l.__decorate)([of],rw.prototype,"getExecution",null),(0,l.__decorate)([of],rw.prototype,"createExecution",null),(0,l.__decorate)([of],rw.prototype,"getLastFailedCellForNotebook",null),(0,O.registerSingleton)(e1.INotebookExecutionStateService,rw,O.InstantiationType.Delayed);class rE{addProfile(){(0,o_.unsupported)()}updateProfile(){(0,o_.unsupported)()}removeProfile(){(0,o_.unsupported)()}capabilitiesForTest(){(0,o_.unsupported)()}configure(){(0,o_.unsupported)()}setGroupDefaultProfiles(){(0,o_.unsupported)()}constructor(){this.getDefaultProfileForTest=()=>void 0,this.onDidChange=c.Event.None,this.all=()=>[],this.getGroupDefaultProfiles=()=>[],this.getControllerProfiles=()=>[]}}(0,l.__decorate)([of],rE.prototype,"addProfile",null),(0,l.__decorate)([of],rE.prototype,"updateProfile",null),(0,l.__decorate)([of],rE.prototype,"removeProfile",null),(0,l.__decorate)([of],rE.prototype,"capabilitiesForTest",null),(0,l.__decorate)([of],rE.prototype,"configure",null),(0,l.__decorate)([of],rE.prototype,"setGroupDefaultProfiles",null),(0,O.registerSingleton)(ty.ITestProfileService,rE,O.InstantiationType.Delayed);class rI{setUsePlainTextEncryption(){(0,o_.unsupported)()}getKeyStorageProvider(){(0,o_.unsupported)()}encrypt(){(0,o_.unsupported)()}decrypt(){(0,o_.unsupported)()}isEncryptionAvailable(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rI.prototype,"setUsePlainTextEncryption",null),(0,l.__decorate)([of],rI.prototype,"getKeyStorageProvider",null),(0,l.__decorate)([of],rI.prototype,"encrypt",null),(0,l.__decorate)([of],rI.prototype,"decrypt",null),(0,l.__decorate)([of],rI.prototype,"isEncryptionAvailable",null),(0,O.registerSingleton)(x.IEncryptionService,rI,O.InstantiationType.Delayed);class rx{clear(){(0,o_.unsupported)()}createLiveResult(){(0,o_.unsupported)()}push(){(0,o_.unsupported)()}constructor(){this.onResultsChanged=c.Event.None,this.onTestChanged=c.Event.None,this.results=[],this.getResult=()=>void 0,this.getStateById=()=>void 0}}(0,l.__decorate)([of],rx.prototype,"clear",null),(0,l.__decorate)([of],rx.prototype,"createLiveResult",null),(0,l.__decorate)([of],rx.prototype,"push",null),(0,O.registerSingleton)(tC.ITestResultService,rx,O.InstantiationType.Delayed);class rD{read(){(0,o_.unsupported)()}persist(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rD.prototype,"read",null),(0,l.__decorate)([of],rD.prototype,"persist",null),(0,O.registerSingleton)(tb,rD,O.InstantiationType.Delayed);class rk{updateDecorationsAlternateAction(){(0,o_.unsupported)()}invalidateResultMessage(){(0,o_.unsupported)()}syncDecorations(){(0,o_.unsupported)()}getDecoratedTestPosition(){(0,o_.unsupported)()}constructor(){this.onDidChange=c.Event.None}}(0,l.__decorate)([of],rk.prototype,"updateDecorationsAlternateAction",null),(0,l.__decorate)([of],rk.prototype,"invalidateResultMessage",null),(0,l.__decorate)([of],rk.prototype,"syncDecorations",null),(0,l.__decorate)([of],rk.prototype,"getDecoratedTestPosition",null),(0,O.registerSingleton)(tE,rk,O.InstantiationType.Delayed),(0,O.registerSingleton)(iP.IUserDataInitializationService,class{constructor(){this.requiresInitialization=async()=>!1,this.whenInitializationFinished=async()=>{},this.initializeRequiredResources=async()=>{},this.initializeInstalledExtensions=async()=>{},this.initializeOtherResources=async()=>{}}},O.InstantiationType.Delayed),(0,O.registerSingleton)(S.IDiagnosticsService,w.NullDiagnosticsService,O.InstantiationType.Delayed),(0,O.registerSingleton)(tn.INotebookSearchService,class{notebookSearch(){return{openFilesToScan:new h.ResourceSet,completeData:Promise.resolve({results:[],messages:[]}),allScannedFiles:Promise.resolve(new h.ResourceSet)}}},O.InstantiationType.Delayed);class rA{sendChatRequest(){(0,o_.unsupported)()}selectLanguageModels(){(0,o_.unsupported)()}computeTokenLength(){(0,o_.unsupported)()}registerLanguageModelChat(){(0,o_.unsupported)()}makeLanguageModelChatRequest(){(0,o_.unsupported)()}constructor(){this.onDidChangeLanguageModels=c.Event.None,this.getLanguageModelIds=()=>[],this.lookupLanguageModel=()=>void 0}}(0,l.__decorate)([of],rA.prototype,"sendChatRequest",null),(0,l.__decorate)([of],rA.prototype,"selectLanguageModels",null),(0,l.__decorate)([of],rA.prototype,"computeTokenLength",null),(0,l.__decorate)([of],rA.prototype,"registerLanguageModelChat",null),(0,l.__decorate)([of],rA.prototype,"makeLanguageModelChatRequest",null),(0,O.registerSingleton)(eP.ILanguageModelsService,rA,O.InstantiationType.Delayed);class rM{onDidChangeCommands(){(0,o_.unsupported)()}registerSlashData(){(0,o_.unsupported)()}registerSlashCallback(){(0,o_.unsupported)()}registerSlashCommand(){(0,o_.unsupported)()}executeCommand(){(0,o_.unsupported)()}getCommands(){(0,o_.unsupported)()}hasCommand(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rM.prototype,"onDidChangeCommands",null),(0,l.__decorate)([of],rM.prototype,"registerSlashData",null),(0,l.__decorate)([of],rM.prototype,"registerSlashCallback",null),(0,l.__decorate)([of],rM.prototype,"registerSlashCommand",null),(0,l.__decorate)([of],rM.prototype,"executeCommand",null),(0,l.__decorate)([of],rM.prototype,"getCommands",null),(0,l.__decorate)([of],rM.prototype,"hasCommand",null),(0,O.registerSingleton)(eT.IChatSlashCommandService,rM,O.InstantiationType.Delayed);class rL{attachContext(){(0,o_.unsupported)()}getDynamicVariables(){(0,o_.unsupported)()}getDynamicReferences(){(0,o_.unsupported)()}registerVariable(){(0,o_.unsupported)()}getVariables(){(0,o_.unsupported)()}resolveVariables(){(0,o_.unsupported)()}hasVariable(){(0,o_.unsupported)()}constructor(){this.getVariable=()=>void 0,this.resolveVariable=async()=>[]}}(0,l.__decorate)([of],rL.prototype,"attachContext",null),(0,l.__decorate)([of],rL.prototype,"getDynamicVariables",null),(0,l.__decorate)([of],rL.prototype,"getDynamicReferences",null),(0,l.__decorate)([of],rL.prototype,"registerVariable",null),(0,l.__decorate)([of],rL.prototype,"getVariables",null),(0,l.__decorate)([of],rL.prototype,"resolveVariables",null),(0,l.__decorate)([of],rL.prototype,"hasVariable",null),(0,O.registerSingleton)(eR.IChatVariablesService,rL,O.InstantiationType.Delayed);class rT{getRelatedInformation(){(0,o_.unsupported)()}registerAiRelatedInformationProvider(){(0,o_.unsupported)()}constructor(){this.isEnabled=()=>!1}}(0,l.__decorate)([of],rT.prototype,"getRelatedInformation",null),(0,l.__decorate)([of],rT.prototype,"registerAiRelatedInformationProvider",null),(0,O.registerSingleton)(tR.IAiRelatedInformationService,rT,O.InstantiationType.Delayed);class rR{getEmbeddingVector(){(0,o_.unsupported)()}registerAiEmbeddingVectorProvider(){(0,o_.unsupported)()}constructor(){this.isEnabled=()=>!1}}(0,l.__decorate)([of],rR.prototype,"getEmbeddingVector",null),(0,l.__decorate)([of],rR.prototype,"registerAiEmbeddingVectorProvider",null),(0,O.registerSingleton)(tT.IAiEmbeddingVectorService,rR,O.InstantiationType.Delayed);class rN{async createNewMessage(e){return{id:String(rN._nextId++),data:e}}async validate(){return!0}async sign(e){return e}}rN._nextId=1,(0,O.registerSingleton)(Y.ISignService,rN,O.InstantiationType.Delayed);class rP{isEnabledForProfile(){(0,o_.unsupported)()}stopProfile(){(0,o_.unsupported)()}start(){(0,o_.unsupported)()}stop(){(0,o_.unsupported)()}constructor(){this.lastRunProfileIds=new Set,this.onDidChange=c.Event.None,this.isSpecificallyEnabledFor=()=>!1,this.isEnabledForAParentOf=()=>!1,this.isEnabledForAChildOf=()=>!1,this.isEnabled=()=>!1}}(0,l.__decorate)([of],rP.prototype,"isEnabledForProfile",null),(0,l.__decorate)([of],rP.prototype,"stopProfile",null),(0,l.__decorate)([of],rP.prototype,"start",null),(0,l.__decorate)([of],rP.prototype,"stop",null),(0,O.registerSingleton)(tw,rP,O.InstantiationType.Delayed);class rO{didSelectTestInExplorer(){(0,o_.unsupported)()}get text(){return(0,o_.unsupported)()}get reveal(){return(0,o_.unsupported)()}get globList(){return(0,o_.unsupported)()}get includeTags(){return(0,o_.unsupported)()}get excludeTags(){return(0,o_.unsupported)()}get fuzzy(){return(0,o_.unsupported)()}focusInput(){(0,o_.unsupported)()}setText(){(0,o_.unsupported)()}toggleFilteringFor(){(0,o_.unsupported)()}constructor(){this.onDidSelectTestInExplorer=c.Event.None,this.onDidRequestInputFocus=c.Event.None,this.isFilteringFor=()=>!1}}(0,l.__decorate)([of],rO.prototype,"didSelectTestInExplorer",null),(0,l.__decorate)([of],rO.prototype,"text",null),(0,l.__decorate)([of],rO.prototype,"reveal",null),(0,l.__decorate)([of],rO.prototype,"globList",null),(0,l.__decorate)([of],rO.prototype,"includeTags",null),(0,l.__decorate)([of],rO.prototype,"excludeTags",null),(0,l.__decorate)([of],rO.prototype,"fuzzy",null),(0,l.__decorate)([of],rO.prototype,"focusInput",null),(0,l.__decorate)([of],rO.prototype,"setText",null),(0,l.__decorate)([of],rO.prototype,"toggleFilteringFor",null),(0,O.registerSingleton)(tf,rO,O.InstantiationType.Delayed);class rF{get historyVisible(){return(0,o_.unsupported)()}tryPeekFirstError(){(0,o_.unsupported)()}peekUri(){(0,o_.unsupported)()}openCurrentInEditor(){(0,o_.unsupported)()}open(){(0,o_.unsupported)()}closeAllPeeks(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rF.prototype,"historyVisible",null),(0,l.__decorate)([of],rF.prototype,"tryPeekFirstError",null),(0,l.__decorate)([of],rF.prototype,"peekUri",null),(0,l.__decorate)([of],rF.prototype,"openCurrentInEditor",null),(0,l.__decorate)([of],rF.prototype,"open",null),(0,l.__decorate)([of],rF.prototype,"closeAllPeeks",null),(0,O.registerSingleton)(tI,rF,O.InstantiationType.Delayed);class rK{open(){(0,o_.unsupported)()}constructor(){this.getWindow=()=>void 0,this.onDidOpenAuxiliaryWindow=c.Event.None,this.hasWindow=()=>!1}}(0,l.__decorate)([of],rK.prototype,"open",null),(0,O.registerSingleton)(tK,rK,O.InstantiationType.Delayed);class rW{createTextToSpeechSession(){(0,o_.unsupported)()}recognizeKeyword(){(0,o_.unsupported)()}registerSpeechProvider(){(0,o_.unsupported)()}createSpeechToTextSession(){(0,o_.unsupported)()}constructor(){this.onDidStartTextToSpeechSession=c.Event.None,this.onDidEndTextToSpeechSession=c.Event.None,this.hasActiveTextToSpeechSession=!1,this.onDidChangeHasSpeechProvider=c.Event.None,this.onDidStartSpeechToTextSession=c.Event.None,this.onDidEndSpeechToTextSession=c.Event.None,this.hasActiveSpeechToTextSession=!1,this.onDidStartKeywordRecognition=c.Event.None,this.onDidEndKeywordRecognition=c.Event.None,this.hasActiveKeywordRecognition=!1,this.onDidRegisterSpeechProvider=c.Event.None,this.onDidUnregisterSpeechProvider=c.Event.None,this.hasSpeechProvider=!1}}(0,l.__decorate)([of],rW.prototype,"createTextToSpeechSession",null),(0,l.__decorate)([of],rW.prototype,"recognizeKeyword",null),(0,l.__decorate)([of],rW.prototype,"registerSpeechProvider",null),(0,l.__decorate)([of],rW.prototype,"createSpeechToTextSession",null),(0,O.registerSingleton)(tl.ISpeechService,rW,O.InstantiationType.Delayed);class rz{get showInline(){return(0,o_.unsupported)()}get filterToTest(){return(0,o_.unsupported)()}get selected(){return(0,o_.unsupported)()}openCoverage(){(0,o_.unsupported)()}closeCoverage(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rz.prototype,"showInline",null),(0,l.__decorate)([of],rz.prototype,"filterToTest",null),(0,l.__decorate)([of],rz.prototype,"selected",null),(0,l.__decorate)([of],rz.prototype,"openCoverage",null),(0,l.__decorate)([of],rz.prototype,"closeCoverage",null),(0,O.registerSingleton)(t_,rz,O.InstantiationType.Delayed);class rV{acceptRequest(){(0,o_.unsupported)()}acceptResponse(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rV.prototype,"acceptRequest",null),(0,l.__decorate)([of],rV.prototype,"acceptResponse",null),(0,O.registerSingleton)(eA.IChatAccessibilityService,rV,O.InstantiationType.Delayed);class rB{clearHistory(){(0,o_.unsupported)()}saveHistory(){(0,o_.unsupported)()}constructor(){this.onDidClearHistory=c.Event.None,this.getHistory=()=>[]}}(0,l.__decorate)([of],rB.prototype,"clearHistory",null),(0,l.__decorate)([of],rB.prototype,"saveHistory",null),(0,O.registerSingleton)(eN.IChatWidgetHistoryService,rB,O.InstantiationType.Delayed),(0,O.registerSingleton)(eA.IChatCodeBlockContextProviderService,class{constructor(){this.providers=[],this.registerProvider=()=>u.Disposable.None}},O.InstantiationType.Delayed);class rH{moveSession(){(0,o_.unsupported)()}getCodeEditor(){(0,o_.unsupported)()}stashSession(){(0,o_.unsupported)()}createSession(){(0,o_.unsupported)()}releaseSession(){(0,o_.unsupported)()}registerSessionKeyComputer(){(0,o_.unsupported)()}recordings(){(0,o_.unsupported)()}dispose(){(0,o_.unsupported)()}constructor(){this.onDidMoveSession=c.Event.None,this.onDidMoveSessio=c.Event.None,this.onDidStashSession=c.Event.None,this.onWillStartSession=c.Event.None,this.onDidEndSession=c.Event.None,this.getSession=()=>void 0}}(0,l.__decorate)([of],rH.prototype,"moveSession",null),(0,l.__decorate)([of],rH.prototype,"getCodeEditor",null),(0,l.__decorate)([of],rH.prototype,"stashSession",null),(0,l.__decorate)([of],rH.prototype,"createSession",null),(0,l.__decorate)([of],rH.prototype,"releaseSession",null),(0,l.__decorate)([of],rH.prototype,"registerSessionKeyComputer",null),(0,l.__decorate)([of],rH.prototype,"recordings",null),(0,l.__decorate)([of],rH.prototype,"dispose",null),(0,O.registerSingleton)(eq.IInlineChatSessionService,rH,O.InstantiationType.Delayed);class rU{computeDiff(){(0,o_.unsupported)()}constructor(){this.canComputeDiff=()=>!1,this.canPromptRecommendation=async()=>!1}}(0,l.__decorate)([of],rU.prototype,"computeDiff",null),(0,O.registerSingleton)(e8.INotebookEditorWorkerService,rU,O.InstantiationType.Delayed);class rG{getKernels(){(0,o_.unsupported)()}addMostRecentKernel(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rG.prototype,"getKernels",null),(0,l.__decorate)([of],rG.prototype,"addMostRecentKernel",null),(0,O.registerSingleton)(e2.INotebookKernelHistoryService,rG,O.InstantiationType.Delayed);class rq{executeNotebookCells(){(0,o_.unsupported)()}cancelNotebookCells(){(0,o_.unsupported)()}cancelNotebookCellHandles(){(0,o_.unsupported)()}registerExecutionParticipant(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rq.prototype,"executeNotebookCells",null),(0,l.__decorate)([of],rq.prototype,"cancelNotebookCells",null),(0,l.__decorate)([of],rq.prototype,"cancelNotebookCellHandles",null),(0,l.__decorate)([of],rq.prototype,"registerExecutionParticipant",null),(0,O.registerSingleton)(e0.INotebookExecutionService,rq,O.InstantiationType.Delayed),(0,O.registerSingleton)(e3,class{},O.InstantiationType.Delayed);class rj{info(){(0,o_.unsupported)()}debug(){(0,o_.unsupported)()}warn(){(0,o_.unsupported)()}error(){(0,o_.unsupported)()}}(0,l.__decorate)([of],rj.prototype,"info",null),(0,l.__decorate)([of],rj.prototype,"debug",null),(0,l.__decorate)([of],rj.prototype,"warn",null),(0,l.__decorate)([of],rj.prototype,"error",null),(0,O.registerSingleton)(e5.INotebookLoggingService,rj,O.InstantiationType.Delayed);class rQ{getWalkthroughs(){(0,o_.unsupported)()}getWalkthrough(){(0,o_.unsupported)()}registerWalkthrough(){(0,o_.unsupported)()}progressByEvent(){(0,o_.unsupported)()}progressStep(){(0,o_.unsupported)()}deprogressStep(){(0,o_.unsupported)()}markWalkthroughOpened(){(0,o_.unsupported)()}constructor(){this.onDidAddWalkthrough=c.Event.None,this.onDidRemoveWalkthrough=c.Event.None,this.onDidChangeWalkthrough=c.Event.None,this.onDidProgressStep=c.Event.None}}(0,l.__decorate)([of],rQ.prototype,"getWalkthroughs",null),(0,l.__decorate)([of],rQ.prototype,"getWalkthrough",null),(0,l.__decorate)([of],rQ.prototype,"registerWalkthrough",null),(0,l.__decorate)([of],rQ.prototype,"progressByEvent",null),(0,l.__decorate)([of],rQ.prototype,"progressStep",null),(0,l.__decorate)([of],rQ.prototype,"deprogressStep",null),(0,l.__decorate)([of],rQ.prototype,"markWalkthroughOpened",null),(0,O.registerSingleton)(tM,rQ,O.InstantiationType.Delayed);class rY{switch(){(0,o_.unsupported)()}getPreviousUserDataSyncStore(){(0,o_.unsupported)()}constructor(){this.onDidChangeUserDataSyncStore=c.Event.None,this.userDataSyncStore=void 0}}(0,l.__decorate)([of],rY.prototype,"switch",null),(0,l.__decorate)([of],rY.prototype,"getPreviousUserDataSyncStore",null),(0,O.registerSingleton)(ev.IUserDataSyncStoreManagementService,rY,O.InstantiationType.Delayed);class rZ{setAuthToken(){(0,o_.unsupported)()}manifest(){(0,o_.unsupported)()}readResource(){(0,o_.unsupported)()}writeResource(){(0,o_.unsupported)()}deleteResource(){(0,o_.unsupported)()}getAllResourceRefs(){(0,o_.unsupported)()}resolveResourceContent(){(0,o_.unsupported)()}getAllCollections(){(0,o_.unsupported)()}createCollection(){(0,o_.unsupported)()}deleteCollection(){(0,o_.unsupported)()}getActivityData(){(0,o_.unsupported)()}clear(){(0,o_.unsupported)()}constructor(){this.onDidChangeDonotMakeRequestsUntil=c.Event.None,this.donotMakeRequestsUntil=void 0,this.onTokenFailed=c.Event.None,this.onTokenSucceed=c.Event.None}}(0,l.__decorate)([of],rZ.prototype,"setAuthToken",null),(0,l.__decorate)([of],rZ.prototype,"manifest",null),(0,l.__decorate)([of],rZ.prototype,"readResource",null),(0,l.__decorate)([of],rZ.prototype,"writeResource",null),(0,l.__decorate)([of],rZ.prototype,"deleteResource",null),(0,l.__decorate)([of],rZ.prototype,"getAllResourceRefs",null),(0,l.__decorate)([of],rZ.prototype,"resolveResourceContent",null),(0,l.__decorate)([of],rZ.prototype,"getAllCollections",null),(0,l.__decorate)([of],rZ.prototype,"createCollection",null),(0,l.__decorate)([of],rZ.prototype,"deleteCollection",null),(0,l.__decorate)([of],rZ.prototype,"getActivityData",null),(0,l.__decorate)([of],rZ.prototype,"clear",null),(0,O.registerSingleton)(ev.IUserDataSyncStoreService,rZ,O.InstantiationType.Delayed);class rX{getLevel(){(0,o_.unsupported)()}setLevel(){(0,o_.unsupported)()}trace(){(0,o_.unsupported)()}debug(){(0,o_.unsupported)()}info(){(0,o_.unsupported)()}warn(){(0,o_.unsupported)()}error(){(0,o_.unsupported)()}flush(){(0,o_.unsupported)()}dispose(){(0,o_.unsupported)()}constructor(){this.onDidChangeLogLevel=c.Event.None}}(0,l.__decorate)([of],rX.prototype,"getLevel",null),(0,l.__decorate)([of],rX.prototype,"setLevel",null),(0,l.__decorate)([of],rX.prototype,"trace",null),(0,l.__decorate)([of],rX.prototype,"debug",null),(0,l.__decorate)([of],rX.prototype,"info",null),(0,l.__decorate)([of],rX.prototype,"warn",null),(0,l.__decorate)([of],rX.prototype,"error",null),(0,l.__decorate)([of],rX.prototype,"flush",null),(0,l.__decorate)([of],rX.prototype,"dispose",null),(0,O.registerSingleton)(ev.IUserDataSyncLogService,rX,O.InstantiationType.Delayed);class r${createSyncTask(){(0,o_.unsupported)()}createManualSyncTask(){(0,o_.unsupported)()}resolveContent(){(0,o_.unsupported)()}accept(){(0,o_.unsupported)()}reset(){(0,o_.unsupported)()}resetRemote(){(0,o_.unsupported)()}cleanUpRemoteData(){(0,o_.unsupported)()}resetLocal(){(0,o_.unsupported)()}hasLocalData(){(0,o_.unsupported)()}hasPreviouslySynced(){(0,o_.unsupported)()}replace(){(0,o_.unsupported)()}saveRemoteActivityData(){(0,o_.unsupported)()}extractActivityData(){(0,o_.unsupported)()}constructor(){this.status=em.SyncStatus.Uninitialized,this.onDidChangeStatus=c.Event.None,this.conflicts=[],this.onDidChangeConflicts=c.Event.None,this.onDidChangeLocal=c.Event.None,this.onSyncErrors=c.Event.None,this.onDidChangeLastSyncTime=c.Event.None,this.onDidResetRemote=c.Event.None,this.onDidResetLocal=c.Event.None}}(0,l.__decorate)([of],r$.prototype,"createSyncTask",null),(0,l.__decorate)([of],r$.prototype,"createManualSyncTask",null),(0,l.__decorate)([of],r$.prototype,"resolveContent",null),(0,l.__decorate)([of],r$.prototype,"accept",null),(0,l.__decorate)([of],r$.prototype,"reset",null),(0,l.__decorate)([of],r$.prototype,"resetRemote",null),(0,l.__decorate)([of],r$.prototype,"cleanUpRemoteData",null),(0,l.__decorate)([of],r$.prototype,"resetLocal",null),(0,l.__decorate)([of],r$.prototype,"hasLocalData",null),(0,l.__decorate)([of],r$.prototype,"hasPreviouslySynced",null),(0,l.__decorate)([of],r$.prototype,"replace",null),(0,l.__decorate)([of],r$.prototype,"saveRemoteActivityData",null),(0,l.__decorate)([of],r$.prototype,"extractActivityData",null),(0,O.registerSingleton)(ev.IUserDataSyncService,r$,O.InstantiationType.Delayed);class rJ{getMachines(){(0,o_.unsupported)()}addCurrentMachine(){(0,o_.unsupported)()}removeCurrentMachine(){(0,o_.unsupported)()}renameMachine(){(0,o_.unsupported)()}setEnablements(){(0,o_.unsupported)()}constructor(){this.onDidChange=c.Event.None}}(0,l.__decorate)([of],rJ.prototype,"getMachines",null),(0,l.__decorate)([of],rJ.prototype,"addCurrentMachine",null),(0,l.__decorate)([of],rJ.prototype,"removeCurrentMachine",null),(0,l.__decorate)([of],rJ.prototype,"renameMachine",null),(0,l.__decorate)([of],rJ.prototype,"setEnablements",null),(0,O.registerSingleton)(ef,rJ,O.InstantiationType.Delayed);class r0{getRemoteSyncedProfiles(){(0,o_.unsupported)()}getLocalSyncedProfiles(){(0,o_.unsupported)()}getRemoteSyncResourceHandles(){(0,o_.unsupported)()}getLocalSyncResourceHandles(){(0,o_.unsupported)()}getAssociatedResources(){(0,o_.unsupported)()}getMachineId(){(0,o_.unsupported)()}getLocalSyncedMachines(){(0,o_.unsupported)()}resolveContent(){(0,o_.unsupported)()}resolveUserDataSyncResource(){(0,o_.unsupported)()}}(0,l.__decorate)([of],r0.prototype,"getRemoteSyncedProfiles",null),(0,l.__decorate)([of],r0.prototype,"getLocalSyncedProfiles",null),(0,l.__decorate)([of],r0.prototype,"getRemoteSyncResourceHandles",null),(0,l.__decorate)([of],r0.prototype,"getLocalSyncResourceHandles",null),(0,l.__decorate)([of],r0.prototype,"getAssociatedResources",null),(0,l.__decorate)([of],r0.prototype,"getMachineId",null),(0,l.__decorate)([of],r0.prototype,"getLocalSyncedMachines",null),(0,l.__decorate)([of],r0.prototype,"resolveContent",null),(0,l.__decorate)([of],r0.prototype,"resolveUserDataSyncResource",null),(0,O.registerSingleton)(ev.IUserDataSyncResourceProviderService,r0,O.InstantiationType.Delayed);class r1{writeResource(){(0,o_.unsupported)()}getAllResourceRefs(){(0,o_.unsupported)()}resolveResourceContent(){(0,o_.unsupported)()}}(0,l.__decorate)([of],r1.prototype,"writeResource",null),(0,l.__decorate)([of],r1.prototype,"getAllResourceRefs",null),(0,l.__decorate)([of],r1.prototype,"resolveResourceContent",null),(0,O.registerSingleton)(ev.IUserDataSyncLocalStoreService,r1,O.InstantiationType.Delayed);class r2{resolveUserBindings(){(0,o_.unsupported)()}resolveFormattingOptions(){(0,o_.unsupported)()}resolveDefaultIgnoredSettings(){(0,o_.unsupported)()}constructor(){this.resolveDefaultCoreIgnoredSettings=async()=>[]}}(0,l.__decorate)([of],r2.prototype,"resolveUserBindings",null),(0,l.__decorate)([of],r2.prototype,"resolveFormattingOptions",null),(0,l.__decorate)([of],r2.prototype,"resolveDefaultIgnoredSettings",null),(0,O.registerSingleton)(ev.IUserDataSyncUtilService,r2,O.InstantiationType.Delayed);class r3{getDefaultProfileToUse(){(0,o_.unsupported)()}createProfile(){(0,o_.unsupported)()}createAndEnterProfile(){(0,o_.unsupported)()}createAndEnterTransientProfile(){(0,o_.unsupported)()}removeProfile(){(0,o_.unsupported)()}updateProfile(){(0,o_.unsupported)()}switchProfile(){(0,o_.unsupported)()}getBuiltinProfileTemplates(){(0,o_.unsupported)()}}(0,l.__decorate)([of],r3.prototype,"getDefaultProfileToUse",null),(0,l.__decorate)([of],r3.prototype,"createProfile",null),(0,l.__decorate)([of],r3.prototype,"createAndEnterProfile",null),(0,l.__decorate)([of],r3.prototype,"createAndEnterTransientProfile",null),(0,l.__decorate)([of],r3.prototype,"removeProfile",null),(0,l.__decorate)([of],r3.prototype,"updateProfile",null),(0,l.__decorate)([of],r3.prototype,"switchProfile",null),(0,l.__decorate)([of],r3.prototype,"getBuiltinProfileTemplates",null),(0,O.registerSingleton)(iF.IUserDataProfileManagementService,r3,O.InstantiationType.Delayed);class r5{addEntry(){(0,o_.unsupported)()}updateEntry(){(0,o_.unsupported)()}removeEntry(){(0,o_.unsupported)()}moveEntries(){(0,o_.unsupported)()}removeAll(){(0,o_.unsupported)()}constructor(){this.onDidAddEntry=c.Event.None,this.onDidChangeEntry=c.Event.None,this.onDidReplaceEntry=c.Event.None,this.onDidRemoveEntry=c.Event.None,this.onDidMoveEntries=c.Event.None,this.onDidRemoveEntries=c.Event.None,this.getEntries=async()=>[],this.getAll=async()=>[]}}(0,l.__decorate)([of],r5.prototype,"addEntry",null),(0,l.__decorate)([of],r5.prototype,"updateEntry",null),(0,l.__decorate)([of],r5.prototype,"removeEntry",null),(0,l.__decorate)([of],r5.prototype,"moveEntries",null),(0,l.__decorate)([of],r5.prototype,"removeAll",null),(0,O.registerSingleton)(iq,r5,O.InstantiationType.Delayed);class r4{markChanged(){(0,o_.unsupported)()}}(0,l.__decorate)([of],r4.prototype,"markChanged",null),(0,O.registerSingleton)(eG.IInlineChatSavingService,r4,O.InstantiationType.Delayed);class r6{addNotebookDocument(){(0,o_.unsupported)()}removeNotebookDocument(){(0,o_.unsupported)()}constructor(){this.getNotebook=()=>void 0}}(0,l.__decorate)([of],r6.prototype,"addNotebookDocument",null),(0,l.__decorate)([of],r6.prototype,"removeNotebookDocument",null),(0,O.registerSingleton)(im.INotebookDocumentService,r6,O.InstantiationType.Delayed);class r8{registerTree(){(0,o_.unsupported)()}getVisualizedNodeFor(){(0,o_.unsupported)()}getVisualizedChildren(){(0,o_.unsupported)()}editTreeItem(){(0,o_.unsupported)()}getApplicableFor(){(0,o_.unsupported)()}register(){(0,o_.unsupported)()}}(0,l.__decorate)([of],r8.prototype,"registerTree",null),(0,l.__decorate)([of],r8.prototype,"getVisualizedNodeFor",null),(0,l.__decorate)([of],r8.prototype,"getVisualizedChildren",null),(0,l.__decorate)([of],r8.prototype,"editTreeItem",null),(0,l.__decorate)([of],r8.prototype,"getApplicableFor",null),(0,l.__decorate)([of],r8.prototype,"register",null),(0,O.registerSingleton)(eW.IDebugVisualizerService,r8,O.InstantiationType.Delayed);class r9{getLevel(){(0,o_.unsupported)()}setLevel(){(0,o_.unsupported)()}trace(){(0,o_.unsupported)()}debug(){(0,o_.unsupported)()}info(){(0,o_.unsupported)()}warn(){(0,o_.unsupported)()}error(){(0,o_.unsupported)()}flush(){(0,o_.unsupported)()}dispose(){(0,o_.unsupported)()}constructor(){this.onDidChangeLogLevel=c.Event.None}}(0,l.__decorate)([of],r9.prototype,"getLevel",null),(0,l.__decorate)([of],r9.prototype,"setLevel",null),(0,l.__decorate)([of],r9.prototype,"trace",null),(0,l.__decorate)([of],r9.prototype,"debug",null),(0,l.__decorate)([of],r9.prototype,"info",null),(0,l.__decorate)([of],r9.prototype,"warn",null),(0,l.__decorate)([of],r9.prototype,"error",null),(0,l.__decorate)([of],r9.prototype,"flush",null),(0,l.__decorate)([of],r9.prototype,"dispose",null),(0,O.registerSingleton)(eV,r9,O.InstantiationType.Delayed);class r7{initialize(){(0,o_.unsupported)()}read(){(0,o_.unsupported)()}write(){(0,o_.unsupported)()}delete(){(0,o_.unsupported)()}list(){(0,o_.unsupported)()}getMachineById(){(0,o_.unsupported)()}constructor(){this.SIZE_LIMIT=0,this.isSignedIn=!1,this.onDidSignIn=c.Event.None,this.onDidSignOut=c.Event.None,this.storeClient=void 0,this.lastReadResources=new Map,this.lastWrittenResources=new Map}}(0,l.__decorate)([of],r7.prototype,"initialize",null),(0,l.__decorate)([of],r7.prototype,"read",null),(0,l.__decorate)([of],r7.prototype,"write",null),(0,l.__decorate)([of],r7.prototype,"delete",null),(0,l.__decorate)([of],r7.prototype,"list",null),(0,l.__decorate)([of],r7.prototype,"getMachineById",null),(0,O.registerSingleton)(ez,r7,O.InstantiationType.Delayed),(0,O.registerSingleton)(eZ.IMultiDiffSourceResolverService,class{constructor(){this.registerResolver=()=>u.Disposable.None,this.resolve=async()=>void 0}},O.InstantiationType.Delayed),(0,O.registerSingleton)(td,class{getTags(){return Promise.resolve({})}async getTelemetryWorkspaceId(e,t){}getHashedRemotesFromUri(e,t){return Promise.resolve([])}},O.InstantiationType.Delayed);class se{setEnablement(){(0,o_.unsupported)()}getEnablementData(){(0,o_.unsupported)()}getAccess(){(0,o_.unsupported)()}setStatus(){(0,o_.unsupported)()}constructor(){this.getAllAccessDataForExtension=()=>new Map,this.onDidChangeEnablement=c.Event.None,this.isEnabled=()=>!0,this.onDidChangeAccessData=c.Event.None,this.getAccessData=()=>void 0}}(0,l.__decorate)([of],se.prototype,"setEnablement",null),(0,l.__decorate)([of],se.prototype,"getEnablementData",null),(0,l.__decorate)([of],se.prototype,"getAccess",null),(0,l.__decorate)([of],se.prototype,"setStatus",null),(0,O.registerSingleton)(tY.IExtensionFeaturesManagementService,se,O.InstantiationType.Delayed),(0,O.registerSingleton)(tG.IEditorPaneService,class{constructor(){this.onWillInstantiateEditorPane=c.Event.None,this.didInstantiateEditorPane=()=>!1}},O.InstantiationType.Delayed);class st{matches(){(0,o_.unsupported)()}getWorkspaceStateFolders(){(0,o_.unsupported)()}}(0,l.__decorate)([of],st.prototype,"matches",null),(0,l.__decorate)([of],st.prototype,"getWorkspaceStateFolders",null),(0,O.registerSingleton)(iY,st,O.InstantiationType.Delayed);class si{getDefaultLogLevels(){(0,o_.unsupported)()}setDefaultLogLevel(){(0,o_.unsupported)()}migrateLogLevels(){(0,o_.unsupported)()}constructor(){this.onDidChangeDefaultLogLevels=c.Event.None,this.getDefaultLogLevel=async()=>W.LogLevel.Off}}(0,l.__decorate)([of],si.prototype,"getDefaultLogLevels",null),(0,l.__decorate)([of],si.prototype,"setDefaultLogLevel",null),(0,l.__decorate)([of],si.prototype,"migrateLogLevels",null),(0,O.registerSingleton)(eY,si,O.InstantiationType.Delayed),(0,O.registerSingleton)(tH.ICustomEditorLabelService,class{constructor(){this.onDidChange=c.Event.None,this.getName=()=>void 0}},O.InstantiationType.Delayed);class so{start(){(0,o_.unsupported)()}resume(){(0,o_.unsupported)()}stop(){(0,o_.unsupported)()}constructor(){this.isActive=()=>!1}}(0,l.__decorate)([of],so.prototype,"start",null),(0,l.__decorate)([of],so.prototype,"resume",null),(0,l.__decorate)([of],so.prototype,"stop",null),(0,O.registerSingleton)(t8,so,O.InstantiationType.Delayed),(0,O.registerSingleton)(oe,class{async isPure(){return{isPure:!1,proof:[]}}},O.InstantiationType.Delayed),(0,O.registerSingleton)(ot.ITrustedDomainService,class{isValid(){return!1}},O.InstantiationType.Delayed);class sn{registerToolData(){(0,o_.unsupported)()}registerToolImplementation(){(0,o_.unsupported)()}invokeTool(){(0,o_.unsupported)()}constructor(){this.getTool=()=>void 0,this.getToolByName=()=>void 0,this.onDidChangeTools=c.Event.None,this.getTools=()=>[]}}(0,l.__decorate)([of],sn.prototype,"registerToolData",null),(0,l.__decorate)([of],sn.prototype,"registerToolImplementation",null),(0,l.__decorate)([of],sn.prototype,"invokeTool",null),(0,O.registerSingleton)(oi.ILanguageModelToolsService,sn,O.InstantiationType.Delayed);class sr{openReporter(){(0,o_.unsupported)()}reloadWithExtensionsDisabled(){(0,o_.unsupported)()}showConfirmCloseDialog(){(0,o_.unsupported)()}showClipboardDialog(){(0,o_.unsupported)()}sendReporterMenu(){(0,o_.unsupported)()}closeReporter(){(0,o_.unsupported)()}}(0,l.__decorate)([of],sr.prototype,"openReporter",null),(0,l.__decorate)([of],sr.prototype,"reloadWithExtensionsDisabled",null),(0,l.__decorate)([of],sr.prototype,"showConfirmCloseDialog",null),(0,l.__decorate)([of],sr.prototype,"showClipboardDialog",null),(0,l.__decorate)([of],sr.prototype,"sendReporterMenu",null),(0,l.__decorate)([of],sr.prototype,"closeReporter",null),(0,O.registerSingleton)(t9.IIssueFormService,sr,O.InstantiationType.Delayed);class ss{registerCodeMapperProvider(){(0,o_.unsupported)()}constructor(){this.mapCodeFromResponse=async()=>void 0,this.mapCode=async()=>void 0}}(0,l.__decorate)([of],ss.prototype,"registerCodeMapperProvider",null),(0,O.registerSingleton)(on.ICodeMapperService,ss,O.InstantiationType.Delayed);class sa{registerRelatedFilesProvider(){return(0,o_.unsupported)()}get currentEditingSessionObs(){return(0,o_.unsupported)()}triggerEditComputation(){(0,o_.unsupported)()}createSnapshot(){(0,o_.unsupported)()}getSnapshotUri(){(0,o_.unsupported)()}restoreSnapshot(){(0,o_.unsupported)()}startOrContinueEditingSession(){(0,o_.unsupported)()}constructor(){this.getOrRestoreEditingSession=async()=>null,this.hasRelatedFilesProviders=()=>!1,this.getRelatedFiles=async()=>void 0,this.onDidChangeEditingSession=c.Event.None,this.currentAutoApplyOperation=null,this.editingSessionFileLimit=0,this.getEditingSession=()=>null,this.onDidCreateEditingSession=c.Event.None,this.currentEditingSession=null}}(0,l.__decorate)([of],sa.prototype,"registerRelatedFilesProvider",null),(0,l.__decorate)([of],sa.prototype,"currentEditingSessionObs",null),(0,l.__decorate)([of],sa.prototype,"triggerEditComputation",null),(0,l.__decorate)([of],sa.prototype,"createSnapshot",null),(0,l.__decorate)([of],sa.prototype,"getSnapshotUri",null),(0,l.__decorate)([of],sa.prototype,"restoreSnapshot",null),(0,l.__decorate)([of],sa.prototype,"startOrContinueEditingSession",null),(0,O.registerSingleton)(or.IChatEditingService,sa,O.InstantiationType.Delayed);class sl{register(){(0,o_.unsupported)()}constructor(){this.onDidChange=c.Event.None,this.lookUp=()=>void 0}}(0,l.__decorate)([of],sl.prototype,"register",null),(0,O.registerSingleton)(os.IActionViewItemService,sl,O.InstantiationType.Delayed),(0,O.registerSingleton)(oa.ITreeSitterTokenizationFeature,class{},O.InstantiationType.Delayed);class sd{registerIgnoredFileProvider(){(0,o_.unsupported)()}constructor(){this.fileIsIgnored=async()=>!1}}(0,l.__decorate)([of],sd.prototype,"registerIgnoredFileProvider",null),(0,O.registerSingleton)(ol.ILanguageModelIgnoredFilesService,sd,O.InstantiationType.Delayed),(0,O.registerSingleton)(k.IAllowedExtensionsService,class{constructor(){this.onDidChangeAllowedExtensions=c.Event.None,this.isAllowed=()=>!0}},O.InstantiationType.Delayed);class sc{get quotas(){return(0,o_.unsupported)()}acceptQuotas(){(0,o_.unsupported)()}clearQuotas(){(0,o_.unsupported)()}constructor(){this.onDidChangeQuotas=c.Event.None}}(0,l.__decorate)([of],sc.prototype,"quotas",null),(0,l.__decorate)([of],sc.prototype,"acceptQuotas",null),(0,l.__decorate)([of],sc.prototype,"clearQuotas",null),(0,O.registerSingleton)(od.IChatQuotasService,sc,O.InstantiationType.Delayed);class su{revert(){(0,o_.unsupported)()}}(0,l.__decorate)([of],su.prototype,"revert",null),(0,O.registerSingleton)(oc.INotebookSynchronizerService,su,O.InstantiationType.Delayed);class sh{getOrCreate(){(0,o_.unsupported)()}}(0,l.__decorate)([of],sh.prototype,"getOrCreate",null),(0,O.registerSingleton)(ou.INotebookOriginalCellModelFactory,sh,O.InstantiationType.Delayed);class sp{getOrCreate(){(0,o_.unsupported)()}}(0,l.__decorate)([of],sp.prototype,"getOrCreate",null),(0,O.registerSingleton)(oh.INotebookOriginalModelReferenceFactory,sp,O.InstantiationType.Delayed);class sg{getOrCreate(){(0,o_.unsupported)()}}(0,l.__decorate)([of],sg.prototype,"getOrCreate",null),(0,O.registerSingleton)(op.INotebookModelSynchronizerFactory,sg,O.InstantiationType.Delayed),(0,O.registerSingleton)(og.IDirtyDiffModelService,class{constructor(){this.getDirtyDiffModel=()=>void 0,this.getDiffModel=()=>void 0}},O.InstantiationType.Delayed);class sm{get providers(){return(0,o_.unsupported)()}registerTerminalCompletionProvider(){(0,o_.unsupported)()}provideCompletions(){(0,o_.unsupported)()}}(0,l.__decorate)([of],sm.prototype,"providers",null),(0,l.__decorate)([of],sm.prototype,"registerTerminalCompletionProvider",null),(0,l.__decorate)([of],sm.prototype,"provideCompletions",null),(0,O.registerSingleton)(om.ITerminalCompletionService,sm,O.InstantiationType.Delayed),e.s([],225911)},195171,e=>{"use strict";var t=e.i(383962),i=e.i(569038),o=e.i(782353),n=e.i(358764);let r="^([\\w_-]+)$",s="^(normal|italic|(oblique[ \\w\\s-]+))$",a="^(normal|bold|lighter|bolder|(\\d{0-1000}))$",l={type:"object",allowComments:!0,allowTrailingCommas:!0,properties:{fonts:{type:"array",items:{type:"object",properties:{id:{type:"string",description:(0,t.localize)(11906,"The ID of the font."),pattern:r,patternErrorMessage:(0,t.localize)(11907,"The ID must only contain letters, numbers, underscore and minus.")},src:{type:"array",description:(0,t.localize)(11908,"The location of the font."),items:{type:"object",properties:{path:{type:"string",description:(0,t.localize)(11909,"The font path, relative to the current product icon theme file.")},format:{type:"string",description:(0,t.localize)(11910,"The format of the font."),enum:["woff","woff2","truetype","opentype","embedded-opentype","svg"]}},required:["path","format"]}},weight:{type:"string",description:(0,t.localize)(11911,"The weight of the font. See https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight for valid values."),anyOf:[{enum:["normal","bold","lighter","bolder"]},{type:"string",pattern:a}]},style:{type:"string",description:(0,t.localize)(11912,"The style of the font. See https://developer.mozilla.org/en-US/docs/Web/CSS/font-style for valid values."),anyOf:[{enum:["normal","italic","oblique"]},{type:"string",pattern:s}]}},required:["id","src"]}},iconDefinitions:{description:(0,t.localize)(11913,"Association of icon name to a font character."),$ref:n.iconsSchemaId}}};function d(){i.Registry.as(o.Extensions.JSONContribution).registerSchema("vscode://schemas/product-icon-theme",l)}e.s(["fontCharacterRegex",()=>"^([^\\\\]|\\\\[a-fA-F0-9]+)$","fontColorRegex",()=>"^#[0-9a-fA-F]{0,6}$","fontFormatRegex",()=>"^woff|woff2|truetype|opentype|embedded-opentype|svg$","fontIdRegex",()=>r,"fontSizeRegex",()=>"^([\\w_.%+-]+)$","fontStyleRegex",()=>s,"fontWeightRegex",()=>a,"registerProductIconThemeSchemas",()=>d])},65583,e=>{"use strict";var t,i,o,n=e.i(308165),r=e.i(145384),s=e.i(436120),a=e.i(678417),l=e.i(309187),d=e.i(357969),c=e.i(918299),u=e.i(488131),h=e.i(13310),p=e.i(341541),g=e.i(141212),m=e.i(403197),v=s,_=e.i(323659),f=e.i(137479),y=e.i(756970),C=e.i(693655),b=e.i(945588),S=e.i(786480);e.i(184765);var w=e.i(537397),E=e.i(765809);e.i(491481),e.i(827678),e.i(789672),e.i(847307),e.i(491120),e.i(165071);class I extends m.Widget{getDomNode(){return this._domNode}render(){(0,g.clearNode)(this._domNode),this._domNode.style.backgroundColor=(0,b.asCssVariableWithDefault)(E.buttonBackground,(0,b.asCssVariable)(w.editorBackground)),this._domNode.style.color=(0,b.asCssVariableWithDefault)(E.buttonForeground,(0,b.asCssVariable)(w.editorForeground)),this._domNode.style.border="1px solid ".concat((0,b.asCssVariable)(S.contrastBorder)),(0,g.append)(this._domNode,(0,g.$)("")).textContent=this.label,this.onclick(this._domNode,()=>this._onClick.fire())}constructor(e){super(),this.label=e,this._onClick=this._register(new r.Emitter),this.onClick=this._onClick.event,this._domNode=(0,g.$)(".floating-click-widget"),this._domNode.style.padding="6px 11px",this._domNode.style.borderRadius="2px",this._domNode.style.cursor="pointer",this._domNode.style.zIndex="1"}}let x=class extends v.Disposable{render(){let e=this._register(new v.DisposableStore),t=()=>{if(e.clear(),!this.isVisible())return;let t=(0,_.getFlatActionBarActions)(this.menu.getActions({renderShortTitle:!0,shouldForwardArgs:!0}));if(0===t.length)return;let[i]=t,o=this.createWidget(i,e);e.add(o),e.add(o.onClick(()=>i.run(this.getActionArg()))),o.render()};this._register(this.menu.onDidChange(t)),t()}getActionArg(){}isVisible(){return!0}constructor(e,t,i){super(),this.renderEmitter=new r.Emitter,this.onDidRender=this.renderEmitter.event,this.menu=this._register(t.createMenu(e,i))}};x=(0,n.__decorate)([(0,n.__param)(1,f.IMenuService),(0,n.__param)(2,y.IContextKeyService)],x);let D=class extends x{createWidget(e,t){let i=this.instantiationService.createInstance(I,e.label),o=i.getDomNode();return this.options.container.appendChild(o),t.add((0,v.toDisposable)(()=>o.remove())),i}getActionArg(){return this.options.getActionArg()}constructor(e,t,i,o){super(e.menuId,i,o),this.options=e,this.instantiationService=t,this.render()}};D=(0,n.__decorate)([(0,n.__param)(1,C.IInstantiationService),(0,n.__param)(2,f.IMenuService),(0,n.__param)(3,y.IContextKeyService)],D);var k=e.i(8114),A=e.i(352700),M=e.i(810602);let L=(o=t=class extends s.Disposable{removeHighlightRange(){if(this.editor&&this.rangeHighlightDecorationId){let e=this.rangeHighlightDecorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e)}),this._onHighlightRemoved.fire()}this.rangeHighlightDecorationId=null}highlightRange(e,t){t=null!=t?t:this.getEditor(e),(0,l.isCodeEditor)(t)?this.doHighlightRange(t,e):(0,l.isCompositeEditor)(t)&&(0,l.isCodeEditor)(t.activeCodeEditor)&&this.doHighlightRange(t.activeCodeEditor,e)}doHighlightRange(e,t){this.removeHighlightRange(),e.changeDecorations(e=>{this.rangeHighlightDecorationId=e.addDecoration(t.range,this.createRangeHighlightDecoration(t.isWholeLine))}),this.setEditor(e)}getEditor(e){var t;let i=null==(t=this.editorService.activeEditor)?void 0:t.resource;if(i&&(0,a.isEqual)(i,e.resource)&&(0,l.isCodeEditor)(this.editorService.activeTextEditorControl))return this.editorService.activeTextEditorControl}setEditor(e){this.editor!==e&&(this.editorDisposables.clear(),this.editor=e,this.editorDisposables.add(this.editor.onDidChangeCursorPosition(e=>{(e.reason===u.CursorChangeReason.NotSet||e.reason===u.CursorChangeReason.Explicit||e.reason===u.CursorChangeReason.Undo||e.reason===u.CursorChangeReason.Redo)&&this.removeHighlightRange()})),this.editorDisposables.add(this.editor.onDidChangeModel(()=>{this.removeHighlightRange()})),this.editorDisposables.add(this.editor.onDidDispose(()=>{this.removeHighlightRange(),this.editor=null})))}createRangeHighlightDecoration(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e?o._WHOLE_LINE_RANGE_HIGHLIGHT:o._RANGE_HIGHLIGHT}dispose(){var e;super.dispose(),(null==(e=this.editor)?void 0:e.getModel())&&(this.removeHighlightRange(),this.editor=null)}constructor(e){super(),this.editorService=e,this._onHighlightRemoved=this._register(new r.Emitter),this.onHighlightRemoved=this._onHighlightRemoved.event,this.rangeHighlightDecorationId=null,this.editor=null,this.editorDisposables=this._register(new s.DisposableStore)}},t._WHOLE_LINE_RANGE_HIGHLIGHT=p.ModelDecorationOptions.register({description:"codeeditor-range-highlight-whole",stickiness:h.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}),t._RANGE_HIGHLIGHT=p.ModelDecorationOptions.register({description:"codeeditor-range-highlight",stickiness:h.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight"}),t);L=o=(0,n.__decorate)([(0,n.__param)(0,M.IEditorService)],L);let T=class extends I{getId(){return"editor.overlayWidget.floatingClickWidget"}getPosition(){return{preference:l.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}}render(){super.render(),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}constructor(e,t,i,o){super(i&&o.lookupKeybinding(i)?"".concat(t," (").concat(o.lookupKeybinding(i).getLabel(),")"):t),this.editor=e}};T=(0,n.__decorate)([(0,n.__param)(3,A.IKeybindingService)],T);let R=((i=class extends x{createWidget(e){return this.instantiationService.createInstance(T,this.editor,e.label,e.id)}isVisible(){var e;return!(this.editor instanceof d.EmbeddedCodeEditorWidget)&&(null==(e=this.editor)?void 0:e.hasModel())&&!this.editor.getOption(c.EditorOption.inDiffEditor)}getActionArg(){var e;return null==(e=this.editor.getModel())?void 0:e.uri}constructor(e,t,i,o){super(k.MenuId.EditorContent,i,o),this.editor=e,this.instantiationService=t,this.render()}}).ID="editor.contrib.floatingClickMenu",i);R=(0,n.__decorate)([(0,n.__param)(1,C.IInstantiationService),(0,n.__param)(2,f.IMenuService),(0,n.__param)(3,y.IContextKeyService)],R),e.s(["FloatingEditorClickMenu",()=>R,"FloatingEditorClickWidget",()=>T,"RangeHighlightDecorations",()=>L],65583)},118144,338882,319219,e=>{"use strict";var t,i,o,n,r,s,a,l=e.i(308165),d=e.i(550483),c=e.i(247921),u=e.i(901485),h=e.i(886202),p=e.i(756970),g=e.i(693655),m=e.i(982534);let v=class extends u.DiffEditorWidget{getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){(0,d.mixin)(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}constructor(e,t,i,o,n,r,s,a,l){super(e,o.getRawOptions(),i,n,r,s,a,l),this._parentEditor=o,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(o.onDidChangeConfiguration(e=>this._onParentConfigurationChanged(e)))}};v=(0,l.__decorate)([(0,l.__param)(4,p.IContextKeyService),(0,l.__param)(5,g.IInstantiationService),(0,l.__param)(6,c.ICodeEditorService),(0,l.__param)(7,h.IAccessibilitySignalService),(0,l.__param)(8,m.IEditorProgressService)],v),e.s(["EmbeddedDiffEditorWidget",()=>v],118144);var _=e.i(383962);(0,e.i(521549).default)('.monaco-editor .dirty-diff-glyph{margin-left:5px;z-index:5}.monaco-editor .dirty-diff-glyph:before{content:"";height:100%;left:-2px;position:absolute;width:0}.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-glyph:before{transition:width 80ms linear,left 80ms linear,transform 80ms linear}.monaco-editor.modified-in-monaco-diff-editor .margin-view-overlays>div>.dirty-diff-glyph{display:none}.monaco-editor .dirty-diff-added{border-left-color:var(--vscode-editorGutter-addedBackground);border-left-style:solid}.monaco-editor .dirty-diff-added:before{background:var(--vscode-editorGutter-addedBackground)}.monaco-editor .dirty-diff-added-pattern{background-repeat:repeat-y}.monaco-editor .dirty-diff-added-pattern,.monaco-editor .dirty-diff-added-pattern:before{background-image:linear-gradient(-45deg,var(--vscode-editorGutter-addedBackground) 25%,var(--vscode-editorGutter-background) 25%,var(--vscode-editorGutter-background) 50%,var(--vscode-editorGutter-addedBackground) 50%,var(--vscode-editorGutter-addedBackground) 75%,var(--vscode-editorGutter-background) 75%,var(--vscode-editorGutter-background))}.monaco-editor .dirty-diff-added-pattern:before{transform:translateX(3px)}.monaco-editor .dirty-diff-modified{border-left-color:var(--vscode-editorGutter-modifiedBackground);border-left-style:solid}.monaco-editor .dirty-diff-modified:before{background:var(--vscode-editorGutter-modifiedBackground)}.monaco-editor .dirty-diff-modified-pattern{background-image:linear-gradient(-45deg,var(--vscode-editorGutter-modifiedBackground) 25%,var(--vscode-editorGutter-background) 25%,var(--vscode-editorGutter-background) 50%,var(--vscode-editorGutter-modifiedBackground) 50%,var(--vscode-editorGutter-modifiedBackground) 75%,var(--vscode-editorGutter-background) 75%,var(--vscode-editorGutter-background));background-repeat:repeat-y}.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-added,.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-added-pattern,.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-modified,.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-modified-pattern{transition:opacity .5s}.monaco-editor .dirty-diff-modified-pattern:before{background-image:linear-gradient(-45deg,var(--vscode-editorGutter-modifiedBackground) 25%,var(--vscode-editorGutter-background) 25%,var(--vscode-editorGutter-background) 50%,var(--vscode-editorGutter-modifiedBackground) 50%,var(--vscode-editorGutter-modifiedBackground) 75%,var(--vscode-editorGutter-background) 75%,var(--vscode-editorGutter-background));transform:translateX(3px)}.monaco-editor .margin:hover .dirty-diff-added,.monaco-editor .margin:hover .dirty-diff-added-pattern,.monaco-editor .margin:hover .dirty-diff-modified,.monaco-editor .margin:hover .dirty-diff-modified-pattern{opacity:1}.monaco-editor .dirty-diff-deleted:after{border-bottom:4px solid transparent;border-left:4px solid var(--vscode-editorGutter-deletedBackground);border-top:4px solid transparent;bottom:-4px;box-sizing:border-box;content:"";height:0;pointer-events:none;position:absolute;width:4px;z-index:9}.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-deleted:after{transition:border-top-width 80ms linear,border-bottom-width 80ms linear,bottom 80ms linear,opacity .5s}.monaco-editor .dirty-diff-deleted:before{background:var(--vscode-editorGutter-deletedBackground);bottom:0;height:0;margin-left:3px}.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-deleted:before{transition:height 80ms linear}.dirty-diff .peekview-title .dropdown{margin-right:10px}.dirty-diff .peekview-title .dropdown.select-container{cursor:default}.dirty-diff .peekview-title .dropdown .monaco-select-box{cursor:pointer;min-height:18px;min-width:100px;padding:0 23px 0 8px}',{});var f=e.i(395806),y=e.i(436120),C=e.i(145384),b=e.i(490582),S=e.i(279691),w=e.i(619223),E=e.i(549523),I=e.i(341541),x=e.i(307955),D=e.i(272117),k=e.i(945588);e.i(786480),e.i(184765);var A=e.i(537397);e.i(765809),e.i(491481),e.i(827678),e.i(789672),e.i(847307),e.i(491120),e.i(165071);var M=e.i(309187),L=e.i(710252),T=e.i(489230),R=e.i(166253),N=e.i(716526),P=e.i(332217),O=e.i(747053),F=e.i(882798),K=e.i(564485),W=e.i(918299),z=e.i(955130),V=e.i(352700),B=e.i(678417),H=e.i(8114),U=e.i(137479),G=e.i(323659),q=e.i(236924),j=e.i(13310),Q=e.i(68858),Y=e.i(141212),Z=e.i(347997),X=e.i(225920),$=e.i(524819),J=e.i(358764),ee=e.i(304729),et=e.i(610620),ei=e.i(394839),eo=e.i(257945),en=e.i(446099),er=e.i(286230),es=e.i(441900),ea=e.i(810602),el=e.i(450569),ed=e.i(180997),ec=e.i(503035),eu=z,eh=e.i(545731),ep=e.i(429053),eg=e.i(223658);let em=class extends ep.SelectActionViewItem{setSelection(e){let t=this.optionsItems.findIndex(t=>t.provider===e);this.select(t)}getActionContext(e,t){return this.optionsItems[t]}render(e){super.render(e),this.setFocusable(!0)}constructor(e,t,i,o,n){var r;let s=t.map(e=>({provider:e,text:e})),a=t.indexOf(i);-1===a&&(a=0);let l={...eg.defaultSelectBoxStyles},d=n.getColorTheme(),c=d.getColor(A.editorBackground),u=d.getColor(T.peekViewTitleBackground);l.selectBackground=(null!=(r=null==u?void 0:u.makeOpaque(c))?r:c).lighten(.6).toString(),super(null,e,s,a,o,l,{ariaLabel:(0,_.localize)(8427,"Switch quick diff base")}),this.optionsItems=s}};em=(0,l.__decorate)([(0,l.__param)(3,eh.IContextViewService),(0,l.__param)(4,D.IThemeService)],em);class ev extends eu.Action{async run(e){return this.callback(e)}constructor(e){super(ev.ID,ev.LABEL,void 0,void 0),this.callback=e}}ev.ID="quickDiff.base.switch",ev.LABEL=(0,_.localize)(8428,"Switch Quick Diff Base");var e_=e.i(187979),ef=e.i(583388),ey=e.i(595315),eC=e.i(899553);class eb extends z.ActionRunner{runAction(e,t){return e instanceof H.MenuItemAction?e.run(...t):super.runAction(e,t)}}let eS=new R.RawContextKey("dirtyDiffVisible",!1);function ew(e){return 0===e.modifiedEndLineNumber?0===e.modifiedStartLineNumber?1:e.modifiedStartLineNumber:e.modifiedEndLineNumber}let eE=class extends z.Action{run(){return Promise.resolve(this.instantiationService.invokeFunction(e=>this.action.run(e,this.editor,null)))}constructor(e,t,i,o,n){let r=o.lookupKeybinding(t.id);super(t.id,t.label+(r?" (".concat(r.getLabel(),")"):""),i),this.instantiationService=n,this.action=t,this.editor=e}};function eI(e){return 0===e.originalEndLineNumber?n.Add:0===e.modifiedEndLineNumber?n.Delete:n.Modify}function ex(e){for(let t of e.get(c.ICodeEditorService).listDiffEditors())if(t.hasTextFocus()&&t instanceof v)return t.getParentEditor();return(0,T.getOuterEditor)(e)}eE=(0,l.__decorate)([(0,l.__param)(3,V.IKeybindingService),(0,l.__param)(4,g.IInstantiationService)],eE),function(e){e[e.Modify=0]="Modify",e[e.Add=1]="Add",e[e.Delete=2]="Delete"}(n||(n={}));let eD=class extends T.PeekViewWidget{get provider(){return this._provider}get index(){return this._index}get visibleRange(){let e=this.diffEditor.getModifiedEditor().getVisibleRanges();return e.length>=0?e[0]:void 0}showChange(e){var t;let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=this.model.changes[e],r=o.change;if(this._index=e,this.contextKeyService.createKey("originalResourceScheme",this.model.changes[e].uri.scheme),this.updateActions(),this._provider=o.label,this.change=r,!this.model.original)return;C.Event.once(this.diffEditor.onDidUpdateDiff)(()=>setTimeout(()=>this.revealChange(r),0));let s=this.model.getDiffEditorModel(o.uri.toString());if(!s)return;this.diffEditor.setModel(s),null==(t=this.dropdown)||t.setSelection(o.label);let a=new O.Position(ew(r),1),l=this.editor.getOption(W.EditorOption.lineHeight),d=Math.floor(this.editor.getLayoutInfo().height/l),c=Math.min(function(e){let t=e.modifiedEndLineNumber-e.modifiedStartLineNumber+1,i=e.originalEndLineNumber-e.originalStartLineNumber+1;return 0===e.originalEndLineNumber?t:0===e.modifiedEndLineNumber?i:t+i}(r)+8,Math.floor(d/3));this.renderTitle(o.label);let u=eI(r),h=function(e,t){switch(t){case n.Modify:return e.getColor(eP);case n.Add:return e.getColor(eO);case n.Delete:return e.getColor(eF)}}(this.themeService.getColorTheme(),u);this.style({frameColor:h,arrowColor:h});let p=[],g=e;for(let e of this.model.changes)e.label===this.model.changes[this._index].label&&(p.push(e.change),o===e&&(g=p.length-1));this._actionbarWidget.context=[s.modified.uri,p,g],i&&(this.show(a,c),this.editor.setPosition(a),this.editor.focus())}renderTitle(e){let t,i=this.model.mapChanges.get(e),o=i.indexOf(this._index);this.shouldUseDropdown()?(t=this.model.changes.length>1?(0,_.localize)(8431,"{0} of {1} changes",o+1,i.length):(0,_.localize)(8432,"{0} of {1} change",o+1,i.length),this.dropdownContainer.style.display="inherit"):(t=this.model.changes.length>1?(0,_.localize)(8429,"{0} - {1} of {2} changes",e,o+1,i.length):(0,_.localize)(8430,"{0} - {1} of {2} change",e,o+1,i.length),this.dropdownContainer.style.display="none"),this.setTitle(this.title,t)}switchQuickDiff(e){let t=null==e?void 0:e.provider;if(t===this.model.changes[this._index].label)return;let i=this._index<this.model.changes.length-1?this._index+1:0;for(let e=i;e!==this._index;e<this.model.changes.length-1?e++:e=0)if(this.model.changes[e].label===t){i=e;break}let o=this._index>0?this._index-1:this.model.changes.length-1;for(let e=o;e!==this._index;e>=0?e--:e=this.model.changes.length-1)if(this.model.changes[e].label===t){o=e;break}let n=Math.abs(this.model.changes[i].change.modifiedEndLineNumber-this.model.changes[this._index].change.modifiedEndLineNumber)<Math.abs(this.model.changes[o].change.modifiedEndLineNumber-this.model.changes[this._index].change.modifiedEndLineNumber)?i:o;this.showChange(n,!1)}shouldUseDropdown(){let e=0;if(this.model.mapChanges.size>1){let t=Array.from(this.model.mapChanges.keys());for(let i=0;i<t.length&&e<=1;i++)this.model.mapChanges.get(t[i]).length>0&&e++}return e>=2}updateActions(){if(!this._actionbarWidget)return;let e=this.instantiationService.createInstance(eE,this.editor,new ek(this.editor),et.ThemeIcon.asClassName(J.gotoPreviousLocation)),t=this.instantiationService.createInstance(eE,this.editor,new eA(this.editor),et.ThemeIcon.asClassName(J.gotoNextLocation));this._disposables.add(e),this._disposables.add(t),this.menu&&this.menu.dispose(),this.menu=this.menuService.createMenu(H.MenuId.SCMChangeContext,this.contextKeyService);let i=(0,G.getFlatActionBarActions)(this.menu.getActions({shouldForwardArgs:!0}));this._actionbarWidget.clear(),this._actionbarWidget.push(i.reverse(),{label:!1,icon:!0}),this._actionbarWidget.push([t,e],{label:!1,icon:!0}),this._actionbarWidget.push(new z.Action("peekview.close",(0,_.localize)(8433,"Close"),et.ThemeIcon.asClassName(ee.Codicon.close),!0,()=>this.dispose()),{label:!1,icon:!0})}_fillHead(e){super._fillHead(e,!0),this.dropdownContainer=(0,Y.prepend)(this._titleElement,(0,Y.$)(".dropdown")),this.dropdown=this.instantiationService.createInstance(em,new ev(e=>this.switchQuickDiff(e)),this.model.quickDiffs.map(e=>e.label),this.model.changes[this._index].label),this.dropdown.render(this.dropdownContainer),this.updateActions()}_getActionBarOptions(){let e=new eb;return e.onDidRun(e=>{e.action instanceof eE||e.error||this.dispose()}),{...super._getActionBarOptions(),actionRunner:e}}_fillBody(e){this.diffEditor=this.instantiationService.createInstance(v,e,{scrollBeyondLastLine:!0,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1},renderSideBySide:!1,readOnly:!1,renderIndicators:!1,diffAlgorithm:"advanced",ignoreTrimWhitespace:!1,stickyScroll:{enabled:!1}},{},this.editor),this._disposables.add(this.diffEditor)}_onWidth(e){void 0!==this.height&&this.diffEditor.layout({height:this.height,width:e})}_doLayoutBody(e,t){super._doLayoutBody(e,t),this.diffEditor.layout({height:e,width:t}),void 0===this.height&&this.change&&this.revealChange(this.change),this.height=e}revealChange(e){let t,i;0===e.modifiedEndLineNumber?(t=e.modifiedStartLineNumber,i=e.modifiedStartLineNumber+1):e.originalEndLineNumber>0?(t=e.modifiedStartLineNumber-1,i=e.modifiedEndLineNumber+1):(t=e.modifiedStartLineNumber,i=e.modifiedEndLineNumber),this.diffEditor.revealLinesInCenter(t,i,q.ScrollType.Immediate)}_applyTheme(e){let t=e.getColor(T.peekViewBorder)||er.Color.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(T.peekViewTitleBackground)||er.Color.transparent,primaryHeadingColor:e.getColor(T.peekViewTitleForeground),secondaryHeadingColor:e.getColor(T.peekViewTitleInfoForeground)})}revealRange(e){this.editor.revealLineInCenterIfOutsideViewport(e.endLineNumber,q.ScrollType.Smooth)}hasFocus(){return this.diffEditor.hasTextFocus()}dispose(){var e;super.dispose(),null==(e=this.menu)||e.dispose()}constructor(e,t,i,o,n,r){super(e,{isResizeable:!0,frameWidth:1,keepEditorSelection:!0,className:"dirty-diff"},o),this.model=t,this.themeService=i,this.menuService=n,this.contextKeyService=r,this._index=0,this._provider="",this.height=void 0,this._disposables.add(i.onDidColorThemeChange(this._applyTheme,this)),this._applyTheme(i.getColorTheme()),this.model.original.length>0&&(r=r.createOverlay([["originalResourceScheme",this.model.original[0].uri.scheme],["originalResourceSchemes",this.model.original.map(e=>e.uri.scheme)]])),this.create(),e.hasModel()?this.title=(0,B.basename)(e.getModel().uri):this.title="",this.setTitle(this.title)}};eD=(0,l.__decorate)([(0,l.__param)(2,D.IThemeService),(0,l.__param)(3,g.IInstantiationService),(0,l.__param)(4,U.IMenuService),(0,l.__param)(5,p.IContextKeyService)],eD);class ek extends L.EditorAction{run(e){var t;let i=null!=(t=this.outerEditor)?t:ex(e);if(!i)return;let o=eN.get(i);o&&o.canNavigate()&&o.previous()}constructor(e){super({id:"editor.action.dirtydiff.previous",label:(0,_.localize2)(8434,"Show Previous Change"),precondition:eo.TextCompareEditorActiveContext.toNegated(),kbOpts:{kbExpr:N.EditorContextKeys.editorTextFocus,primary:P.KeyMod.Shift|P.KeyMod.Alt|P.KeyCode.F3,weight:K.KeybindingWeight.EditorContrib}}),this.outerEditor=e}}(0,L.registerEditorAction)(ek);class eA extends L.EditorAction{run(e){var t;let i=null!=(t=this.outerEditor)?t:ex(e);if(!i)return;let o=eN.get(i);o&&o.canNavigate()&&o.next()}constructor(e){super({id:"editor.action.dirtydiff.next",label:(0,_.localize2)(8435,"Show Next Change"),precondition:eo.TextCompareEditorActiveContext.toNegated(),kbOpts:{kbExpr:N.EditorContextKeys.editorTextFocus,primary:P.KeyMod.Alt|P.KeyCode.F3,weight:K.KeybindingWeight.EditorContrib}}),this.outerEditor=e}}(0,L.registerEditorAction)(eA),H.MenuRegistry.appendMenuItem(H.MenuId.MenubarGoMenu,{group:"7_change_nav",command:{id:"editor.action.dirtydiff.next",title:(0,_.localize)(8436,"Next &&Change")},order:1}),H.MenuRegistry.appendMenuItem(H.MenuId.MenubarGoMenu,{group:"7_change_nav",command:{id:"editor.action.dirtydiff.previous",title:(0,_.localize)(8437,"Previous &&Change")},order:2});class eM extends L.EditorAction{async run(e){let t=ex(e),i=e.get(h.IAccessibilitySignalService),o=e.get(ed.IAccessibilityService),n=e.get(c.ICodeEditorService);if(!t||!t.hasModel())return;let r=eN.get(t);if(!r||!r.modelRegistry)return;let s=t.getPosition().lineNumber,a=r.modelRegistry.getModel(t.getModel(),t);if(!a||0===a.changes.length)return;let l=a.findPreviousClosestChange(s,!1),d=a.changes[l];await eR(d.change,i),eT(d.change,t,o,n)}constructor(){super({id:"workbench.action.editor.previousChange",label:(0,_.localize2)(8438,"Go to Previous Change"),precondition:eo.TextCompareEditorActiveContext.toNegated(),kbOpts:{kbExpr:N.EditorContextKeys.editorTextFocus,primary:P.KeyMod.Shift|P.KeyMod.Alt|P.KeyCode.F5,weight:K.KeybindingWeight.EditorContrib}})}}(0,L.registerEditorAction)(eM);class eL extends L.EditorAction{async run(e){let t=e.get(h.IAccessibilitySignalService),i=ex(e),o=e.get(ed.IAccessibilityService),n=e.get(c.ICodeEditorService);if(!i||!i.hasModel())return;let r=eN.get(i);if(!r||!r.modelRegistry)return;let s=i.getPosition().lineNumber,a=r.modelRegistry.getModel(i.getModel(),i);if(!a||0===a.changes.length)return;let l=a.findNextClosestChange(s,!1),d=a.changes[l].change;await eR(d,t),eT(d,i,o,n)}constructor(){super({id:"workbench.action.editor.nextChange",label:(0,_.localize2)(8439,"Go to Next Change"),precondition:eo.TextCompareEditorActiveContext.toNegated(),kbOpts:{kbExpr:N.EditorContextKeys.editorTextFocus,primary:P.KeyMod.Alt|P.KeyCode.F5,weight:K.KeybindingWeight.EditorContrib}})}}function eT(e,t,i,o){let n=new O.Position(e.modifiedStartLineNumber,1);if(t.setPosition(n),t.revealPositionInCenter(n),i.isScreenReaderOptimized()){var r;t.setSelection({startLineNumber:e.modifiedStartLineNumber,startColumn:0,endLineNumber:e.modifiedStartLineNumber,endColumn:Number.MAX_VALUE}),null==(r=o.getActiveCodeEditor())||r.writeScreenReaderContent("diff-navigation")}}async function eR(e,t){switch(eI(e)){case n.Add:t.playSignal(el.AccessibilitySignal.diffLineInserted,{allowManyInParallel:!0,source:"dirtyDiffDecoration"});break;case n.Delete:t.playSignal(el.AccessibilitySignal.diffLineDeleted,{allowManyInParallel:!0,source:"dirtyDiffDecoration"});break;case n.Modify:t.playSignal(el.AccessibilitySignal.diffLineModified,{allowManyInParallel:!0,source:"dirtyDiffDecoration"})}}(0,L.registerEditorAction)(eL),K.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"closeDirtyDiff",weight:K.KeybindingWeight.EditorContrib+50,primary:P.KeyCode.Escape,secondary:[P.KeyMod.Shift|P.KeyCode.Escape],when:R.ContextKeyExpr.and(eS),handler:e=>{let t=ex(e);if(!t)return;let i=eN.get(t);i&&i.close()}});let eN=(i=t=class extends y.Disposable{static get(e){return e.getContribution(i.ID)}onDidChangeGutterAction(){let e=this.configurationService.getValue("scm.diffDecorationsGutterAction");this.gutterActionDisposables.clear(),"diff"===e?(this.gutterActionDisposables.add(this.editor.onMouseDown(e=>this.onEditorMouseDown(e))),this.gutterActionDisposables.add(this.editor.onMouseUp(e=>this.onEditorMouseUp(e))),this.stylesheet.textContent="\n				.monaco-editor .dirty-diff-glyph {\n					cursor: pointer;\n				}\n\n				.monaco-editor .margin-view-overlays .dirty-diff-glyph:hover::before {\n					height: 100%;\n					width: 6px;\n					left: -6px;\n				}\n\n				.monaco-editor .margin-view-overlays .dirty-diff-deleted:hover::after {\n					bottom: 0;\n					border-top-width: 0;\n					border-bottom-width: 0;\n				}\n			"):this.stylesheet.textContent=""}canNavigate(){var e;return!this.widget||(null==(e=this.widget)?void 0:e.index)===-1||!!this.model&&this.model.changes.length>1}refresh(){var e;null==(e=this.widget)||e.showChange(this.widget.index,!1)}next(e){let t;if(this.assertWidget()&&this.widget&&this.model){if(this.editor.hasModel()&&("number"==typeof e||!this.widget.provider))t=this.model.findNextClosestChange("number"==typeof e?e:this.editor.getPosition().lineNumber,!0,this.widget.provider);else{var i;let e=null!=(i=this.model.mapChanges.get(this.widget.provider))?i:this.model.mapChanges.values().next().value,o=e.findIndex(e=>e===this.widget.index);t=e[(0,F.rot)(o+1,e.length)]}this.widget.showChange(t)}}previous(e){let t;if(this.assertWidget()&&this.widget&&this.model){if(this.editor.hasModel()&&"number"==typeof e)t=this.model.findPreviousClosestChange("number"==typeof e?e:this.editor.getPosition().lineNumber,!0,this.widget.provider);else{var i;let e=null!=(i=this.model.mapChanges.get(this.widget.provider))?i:this.model.mapChanges.values().next().value,o=e.findIndex(e=>e===this.widget.index);t=e[(0,F.rot)(o-1,e.length)]}this.widget.showChange(t)}}close(){this.session.dispose(),this.session=y.Disposable.None}assertWidget(){if(!this.enabled)return!1;if(this.widget)return!!this.model&&0!==this.model.changes.length||(this.close(),!1);if(!this.modelRegistry)return!1;let e=this.editor.getModel();if(!e)return!1;let t=this.modelRegistry.getModel(e,this.editor);if(!t||0===t.changes.length)return!1;this.model=t,this.widget=this.instantiationService.createInstance(eD,this.editor,t),this.isDirtyDiffVisible.set(!0);let i=new y.DisposableStore;return i.add(C.Event.once(this.widget.onDidClose)(this.close,this)),C.Event.chain(t.onDidChange,e=>e.filter(e=>e.diff.length>0).map(e=>e.diff))(this.onDidModelChange,this,i),i.add(this.widget),i.add((0,y.toDisposable)(()=>{this.model=null,this.widget=null,this.isDirtyDiffVisible.set(!1),this.editor.focus()})),this.session=i,!0}onDidModelChange(e){if(!(!this.model||!this.widget||this.widget.hasFocus())){for(let t of e)if(t.start<=this.widget.index)return void this.next();this.refresh()}}onEditorMouseDown(e){this.mouseDownInfo=null;let t=e.target.range;if(!t||!e.event.leftButton||e.target.type!==M.MouseTargetType.GUTTER_LINE_DECORATIONS||!e.target.element||0>e.target.element.className.indexOf("dirty-diff-glyph"))return;let i=e.target.detail,o=e.target.element.offsetLeft,n=i.offsetX-o;n<-3||n>3||(this.mouseDownInfo={lineNumber:t.startLineNumber})}onEditorMouseUp(e){var t;if(!this.mouseDownInfo)return;let{lineNumber:i}=this.mouseDownInfo;this.mouseDownInfo=null;let o=e.target.range;if(!o||o.startLineNumber!==i||e.target.type!==M.MouseTargetType.GUTTER_LINE_DECORATIONS||!this.modelRegistry)return;let n=this.editor.getModel();if(!n)return;let r=this.modelRegistry.getModel(n,this.editor);if(!r)return;let s=r.changes.findIndex(e=>{var t;return t=e.change,1===i&&0===t.modifiedStartLineNumber&&0===t.modifiedEndLineNumber||i>=t.modifiedStartLineNumber&&i<=(t.modifiedEndLineNumber||t.modifiedStartLineNumber)});s<0||(s===(null==(t=this.widget)?void 0:t.index)?this.close():this.next(i))}getChanges(){if(!this.modelRegistry||!this.editor.hasModel())return[];let e=this.modelRegistry.getModel(this.editor.getModel(),this.editor);return e?e.changes.map(e=>e.change):[]}dispose(){this.gutterActionDisposables.dispose(),super.dispose()}constructor(e,t,i,o){if(super(),this.editor=e,this.configurationService=i,this.instantiationService=o,this.modelRegistry=null,this.model=null,this.widget=null,this.session=y.Disposable.None,this.mouseDownInfo=null,this.enabled=!1,this.gutterActionDisposables=new y.DisposableStore,this.enabled=!t.getContextKeyValue("isInDiffEditor"),this.stylesheet=(0,Z.createStyleSheet)(void 0,void 0,this._store),this.enabled){this.isDirtyDiffVisible=eS.bindTo(t),this._register(e.onDidChangeModel(()=>this.close()));let o=C.Event.filter(i.onDidChangeConfiguration,e=>e.affectsConfiguration("scm.diffDecorationsGutterAction"));this._register(o(this.onDidChangeGutterAction,this)),this.onDidChangeGutterAction()}}},t.ID="editor.contrib.dirtydiff",t);eN=i=(0,l.__decorate)([(0,l.__param)(1,p.IContextKeyService),(0,l.__param)(2,w.IConfigurationService),(0,l.__param)(3,g.IInstantiationService)],eN);let eP=(0,k.registerColor)("editorGutter.modifiedBackground",{dark:"#1B81A8",light:"#2090D3",hcDark:"#1B81A8",hcLight:"#2090D3"},(0,_.localize)(8440,"Editor gutter background color for lines that are modified.")),eO=(0,k.registerColor)("editorGutter.addedBackground",{dark:"#487E02",light:"#48985D",hcDark:"#487E02",hcLight:"#48985D"},(0,_.localize)(8441,"Editor gutter background color for lines that are added.")),eF=(0,k.registerColor)("editorGutter.deletedBackground",A.editorErrorForeground,(0,_.localize)(8442,"Editor gutter background color for lines that are deleted.")),eK=(0,k.registerColor)("minimapGutter.modifiedBackground",eP,(0,_.localize)(8443,"Minimap gutter background color for lines that are modified.")),eW=(0,k.registerColor)("minimapGutter.addedBackground",eO,(0,_.localize)(8444,"Minimap gutter background color for lines that are added.")),ez=(0,k.registerColor)("minimapGutter.deletedBackground",eF,(0,_.localize)(8445,"Minimap gutter background color for lines that are deleted.")),eV=(0,k.registerColor)("editorOverviewRuler.modifiedForeground",(0,k.transparent)(eP,.6),(0,_.localize)(8446,"Overview ruler marker color for modified content.")),eB=(0,k.registerColor)("editorOverviewRuler.addedForeground",(0,k.transparent)(eO,.6),(0,_.localize)(8447,"Overview ruler marker color for added content.")),eH=(0,k.registerColor)("editorOverviewRuler.deletedForeground",(0,k.transparent)(eF,.6),(0,_.localize)(8448,"Overview ruler marker color for deleted content.")),eU=o=class extends y.Disposable{static createDecoration(e,t,i){let o={description:"dirty-diff-decoration",isWholeLine:i.isWholeLine};return i.gutter&&(o.linesDecorationsClassName="dirty-diff-glyph ".concat(e),o.linesDecorationsTooltip=t),i.overview.active&&(o.overviewRuler={color:(0,x.themeColorFromId)(i.overview.color),position:j.OverviewRulerLane.Left}),i.minimap.active&&(o.minimap={color:(0,x.themeColorFromId)(i.minimap.color),position:j.MinimapPosition.Gutter}),I.ModelDecorationOptions.createDynamic(o)}onDidChange(){if(!this.editorModel)return;let e=this.model.quickDiffs.filter(e=>e.visible),t=this.configurationService.getValue("scm.diffDecorationsGutterPattern"),i=this.model.changes.filter(t=>e.some(e=>e.label===t.label)).map(e=>{let i=e.change,o=eI(i),r=i.modifiedStartLineNumber,s=i.modifiedEndLineNumber||r;switch(o){case n.Add:return{range:{startLineNumber:r,startColumn:1,endLineNumber:s,endColumn:1},options:t.added?this.addedPatternOptions:this.addedOptions};case n.Delete:return{range:{startLineNumber:r,startColumn:Number.MAX_VALUE,endLineNumber:r,endColumn:Number.MAX_VALUE},options:this.deletedOptions};case n.Modify:return{range:{startLineNumber:r,startColumn:1,endLineNumber:s,endColumn:1},options:t.modified?this.modifiedPatternOptions:this.modifiedOptions}}});this.decorationsCollection?this.decorationsCollection.set(i):this.decorationsCollection=this.codeEditor.createDecorationsCollection(i)}dispose(){if(super.dispose(),this.decorationsCollection){var e;null==(e=this.decorationsCollection)||e.clear()}this.editorModel=null,this.decorationsCollection=void 0}constructor(e,t,i,n){super(),this.codeEditor=t,this.model=i,this.configurationService=n,this.editorModel=e;let r=n.getValue("scm.diffDecorations"),s="all"===r||"gutter"===r,a="all"===r||"overview"===r,l="all"===r||"minimap"===r,d=(0,_.localize)(8449,"Added lines");this.addedOptions=o.createDecoration("dirty-diff-added",d,{gutter:s,overview:{active:a,color:eB},minimap:{active:l,color:eW},isWholeLine:!0}),this.addedPatternOptions=o.createDecoration("dirty-diff-added-pattern",d,{gutter:s,overview:{active:a,color:eB},minimap:{active:l,color:eW},isWholeLine:!0});let c=(0,_.localize)(8450,"Changed lines");this.modifiedOptions=o.createDecoration("dirty-diff-modified",c,{gutter:s,overview:{active:a,color:eV},minimap:{active:l,color:eK},isWholeLine:!0}),this.modifiedPatternOptions=o.createDecoration("dirty-diff-modified-pattern",c,{gutter:s,overview:{active:a,color:eV},minimap:{active:l,color:eK},isWholeLine:!0}),this.deletedOptions=o.createDecoration("dirty-diff-deleted",(0,_.localize)(8451,"Removed lines"),{gutter:s,overview:{active:a,color:eH},minimap:{active:l,color:ez},isWholeLine:!1}),this._register(n.onDidChangeConfiguration(e=>{e.affectsConfiguration("scm.diffDecorationsGutterPattern")&&this.onDidChange()})),this._register(i.onDidChange(this.onDidChange,this))}};function eG(e,t){let i=e.modifiedStartLineNumber-t.modifiedStartLineNumber;return 0!==i||0!=(i=e.modifiedEndLineNumber-t.modifiedEndLineNumber)||0!=(i=e.originalStartLineNumber-t.originalStartLineNumber)?i:e.originalEndLineNumber-t.originalEndLineNumber}async function eq(e,t,i,o){let n=await e.getQuickDiffs(t,i,o);return n.length>0?n[0].originalResource:null}eU=o=(0,l.__decorate)([(0,l.__param)(3,w.IConfigurationService)],eU);let ej=class extends y.Disposable{get original(){return this._originalTextModels}get changes(){return this._changes}get mapChanges(){return this._mapChanges}get quickDiffs(){return this._quickDiffs}getQuickDiffResults(){return this._quickDiffs.map(e=>{let t=this._changes.filter(t=>t.label===e.label).map(e=>e.change),i=(0,ey.lineRangeMappingFromChanges)(t);return{original:e.originalResource,modified:this._model.resource,changes:i}})}getDiffEditorModel(e){if(!this._originalModels.has(e))return;let t=this._originalModels.get(e);return{modified:this._model.textEditorModel,original:t.textEditorModel}}onDidAddRepository(e){let t=new y.DisposableStore;this.repositoryDisposables.add(t),t.add((0,y.toDisposable)(()=>this.repositoryDisposables.delete(t))),t.add(e.provider.onDidChangeResources(this.triggerDiff,this));let i=C.Event.filter(this.scmService.onDidRemoveRepository,t=>t===e);t.add(i(()=>(0,y.dispose)(t),null)),this.triggerDiff()}triggerDiff(){this.diffDelayer&&this.diffDelayer.trigger(async()=>{let e=await this.diff(),t=Array.from(this._originalModels.values());!e||this._disposed||this._model.isDisposed()||t.some(e=>e.isDisposed())||(t.every(e=>0===e.textEditorModel.getValueLength())&&(e.changes=[]),e.changes||(e.changes=[]),this.setChanges(e.changes,e.mapChanges))}).catch(e=>(0,ei.onUnexpectedError)(e))}setChanges(e,t){let i=(0,Q.sortedDiff)(this._changes,e,(e,t)=>eG(e.change,t.change));this._changes=e,this._mapChanges=t,this._onDidChange.fire({changes:e,diff:i})}diff(){return this.progressService.withProgress({location:en.ProgressLocation.Scm,delay:250},async()=>{let e=await this.getQuickDiffsPromise();if(this._disposed||this._model.isDisposed()||0===e.length)return Promise.resolve({changes:[],mapChanges:new Map});let t=e.filter(e=>this.editorWorkerService.canComputeDirtyDiff(e.originalResource,this._model.resource));if(0===t.length)return Promise.resolve({changes:[],mapChanges:new Map});let i=this.configurationService.getValue("scm.diffDecorationsIgnoreTrimWhitespace"),o="inherit"===i?this.configurationService.getValue("diffEditor.ignoreTrimWhitespace"):"false"!==i,n=[];for(let e of t){let t=await this._diff(e.originalResource,this._model.resource,o);if(t)for(let i of t)i&&n.push({change:i,label:e.label,uri:e.originalResource})}let r=n.sort((e,t)=>eG(e.change,t.change)),s=new Map;for(let e=0;e<r.length;e++){let t=r[e].label;s.has(t)||s.set(t,[]),s.get(t).push(e)}return{changes:r,mapChanges:s}})}async _diff(e,t,i){if(void 0===this.algorithm)return this.editorWorkerService.computeDirtyDiff(e,t,i);let o=await this.editorWorkerService.computeDiff(e,t,{computeMoves:!1,ignoreTrimWhitespace:i,maxComputationTimeMs:Number.MAX_SAFE_INTEGER},this.algorithm);return o?(0,u.toLineChanges)(eC.DiffState.fromDiffResult(o)):null}getQuickDiffsPromise(){return this._quickDiffsPromise?this._quickDiffsPromise:(this._quickDiffsPromise=this.getOriginalResource().then(async e=>this._disposed?[]:0===e.length?(this._quickDiffs=[],this._originalModels.clear(),this._originalTextModels=[],[]):(0,Q.equals)(this._quickDiffs,e,(e,t)=>e.originalResource.toString()===t.originalResource.toString()&&e.label===t.label)?e:(this.originalModelDisposables.clear(),this._originalModels.clear(),this._originalTextModels=[],this._quickDiffs=e,(await Promise.all(e.map(async e=>{try{let t=await this.textModelResolverService.createModelReference(e.originalResource);if(this._disposed)return t.dispose(),[];if(this._originalModels.set(e.originalResource.toString(),t.object),this._originalTextModels.push(t.object.textEditorModel),(0,X.isTextFileEditorModel)(t.object)){let e=this._model.getEncoding();e&&t.object.setEncoding(e,X.EncodingMode.Decode)}return this.originalModelDisposables.add(t),this.originalModelDisposables.add(t.object.textEditorModel.onDidChangeContent(()=>this.triggerDiff())),e}catch(e){return[]}}))).flat())),this._quickDiffsPromise.finally(()=>{this._quickDiffsPromise=void 0}))}async getOriginalResource(){var e;if(this._disposed)return Promise.resolve([]);let t=this._model.resource,i=this._chatEditingService.currentEditingSession;if(i&&(null==(e=i.getEntry(t))?void 0:e.state.get())===e_.WorkingSetEntryState.Modified)return Promise.resolve([]);let o=this._model.textEditorModel?(0,j.shouldSynchronizeModel)(this._model.textEditorModel):void 0,n=await this.quickDiffService.getQuickDiffs(t,this._model.getLanguageId(),o);return void 0!==this.algorithm?n.filter(e=>!e.isSCM):n}findNextClosestChange(e){let t,i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=arguments.length>2?arguments[2]:void 0;if(!o&&i){var n;t=null==(n=this.quickDiffs.find(e=>e.isSCM))?void 0:n.label}let r=[];for(let n=0;n<this.changes.length;n++){if(o&&this.changes[n].label!==o)continue;let s=this.changes[n],a=r.length;if(i){if(ew(s.change)>=e)if(!t||s.label===t)return n;else r.push(n)}else if(s.change.modifiedStartLineNumber>e)return n;if(r.length>0&&r.length===a)return r[0]}return r.length>0?r[0]:0}findPreviousClosestChange(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=arguments.length>2?arguments[2]:void 0;for(let o=this.changes.length-1;o>=0;o--){if(i&&this.changes[o].label!==i)continue;let n=this.changes[o].change;if(t){if(n.modifiedStartLineNumber<=e)return o}else if(ew(n)<e)return o}return this.changes.length-1}dispose(){super.dispose(),this._disposed=!0,this._quickDiffs=[],this._originalModels.clear(),this._originalTextModels=[],this.diffDelayer.cancel(),this.repositoryDisposables.forEach(e=>(0,y.dispose)(e)),this.repositoryDisposables.clear()}constructor(e,t,i,o,n,r,s,a,l){for(let d of(super(),this.algorithm=t,this.scmService=i,this.quickDiffService=o,this.editorWorkerService=n,this.configurationService=r,this.textModelResolverService=s,this._chatEditingService=a,this.progressService=l,this._quickDiffs=[],this._originalModels=new Map,this._originalTextModels=[],this.diffDelayer=new f.ThrottledDelayer(200),this.repositoryDisposables=new Set,this.originalModelDisposables=this._register(new y.DisposableStore),this._disposed=!1,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._changes=[],this._mapChanges=new Map,this._model=e,this._register(e.textEditorModel.onDidChangeContent(()=>this.triggerDiff())),this._register(C.Event.filter(r.onDidChangeConfiguration,e=>e.affectsConfiguration("scm.diffDecorationsIgnoreTrimWhitespace")||e.affectsConfiguration("diffEditor.ignoreTrimWhitespace"))(this.triggerDiff,this)),this._register(i.onDidAddRepository(this.onDidAddRepository,this)),i.repositories))this.onDidAddRepository(d);this._register(this._model.onDidChangeEncoding(()=>{this.diffDelayer.cancel(),this._quickDiffs=[],this._originalModels.clear(),this._originalTextModels=[],this._quickDiffsPromise=void 0,this.setChanges([],new Map),this.triggerDiff()})),this._register(this.quickDiffService.onDidChangeQuickDiffProviders(()=>this.triggerDiff())),this._register(this._chatEditingService.onDidChangeEditingSession(()=>this.triggerDiff())),this.triggerDiff()}};ej=(0,l.__decorate)([(0,l.__param)(2,E.ISCMService),(0,l.__param)(3,ec.IQuickDiffService),(0,l.__param)(4,S.IEditorWorkerService),(0,l.__param)(5,w.IConfigurationService),(0,l.__param)(6,b.ITextModelService),(0,l.__param)(7,ef.IChatEditingService),(0,l.__param)(8,m.IProgressService)],ej);class eQ{dispose(){this.decorator.dispose(),this.model.dispose()}constructor(e,t){this.model=e,this.decorator=t}}let eY=class extends y.Disposable{onDidChangeConfiguration(){"none"!==this.configurationService.getValue("scm.diffDecorations")?this.enable():this.disable()}onDidChangeDiffWidthConfiguration(){let e=this.configurationService.getValue("scm.diffDecorationsGutterWidth");(isNaN(e)||e<=0||e>5)&&(e=3),this.setViewState({...this.viewState,width:e})}onDidChangeDiffVisibilityConfiguration(){let e=this.configurationService.getValue("scm.diffDecorationsGutterVisibility");this.setViewState({...this.viewState,visibility:e})}setViewState(e){this.viewState=e,this.stylesheet.textContent="\n			.monaco-editor .dirty-diff-added,\n			.monaco-editor .dirty-diff-modified {\n				border-left-width:".concat(e.width,"px;\n			}\n			.monaco-editor .dirty-diff-added-pattern,\n			.monaco-editor .dirty-diff-added-pattern:before,\n			.monaco-editor .dirty-diff-modified-pattern,\n			.monaco-editor .dirty-diff-modified-pattern:before {\n				background-size: ").concat(e.width,"px ").concat(e.width,"px;\n			}\n			.monaco-editor .dirty-diff-added,\n			.monaco-editor .dirty-diff-added-pattern,\n			.monaco-editor .dirty-diff-modified,\n			.monaco-editor .dirty-diff-modified-pattern,\n			.monaco-editor .dirty-diff-deleted {\n				opacity: ").concat(+("always"===e.visibility),";\n			}\n		")}enable(){this.enabled&&this.disable(),this.transientDisposables.add(C.Event.any(this.editorService.onDidCloseEditor,this.editorService.onDidVisibleEditorsChange)(()=>this.onEditorsChanged())),this.onEditorsChanged(),this.enabled=!0}disable(){if(this.enabled){for(let[,e]of(this.transientDisposables.clear(),this.items))(0,y.dispose)(e.values());this.items.clear(),this.enabled=!1}}onEditorsChanged(){for(let t of this.editorService.visibleTextEditorControls)if((0,M.isCodeEditor)(t)){let i=t.getModel(),o=eN.get(t);if(o&&(o.modelRegistry=this),i&&(!this.items.has(i.uri)||!this.items.get(i.uri).has(t.getId()))){let o=this.textFileService.files.get(i.uri);if(null==o?void 0:o.isResolved()){var e;let n=this.instantiationService.createInstance(ej,o,void 0),r=new eU(o.textEditorModel,t,n,this.configurationService);this.items.has(i.uri)||this.items.set(i.uri,new Map),null==(e=this.items.get(i.uri))||e.set(t.getId(),new eQ(n,r))}}}for(let[e,t]of this.items)for(let i of t.keys())if(!this.editorService.visibleTextEditorControls.find(t=>{var o;return(0,M.isCodeEditor)(t)&&(null==(o=t.getModel())?void 0:o.uri.toString())===e.toString()&&t.getId()===i})&&t.has(i)){let o=t.get(i);null==o||o.dispose(),t.delete(i),0===t.size&&this.items.delete(e)}}getModel(e,t){var i,o;return null==(o=this.items.get(e.uri))||null==(i=o.get(t.getId()))?void 0:i.model}dispose(){this.disable(),super.dispose()}constructor(e,t,i,o){super(),this.editorService=e,this.instantiationService=t,this.configurationService=i,this.textFileService=o,this.enabled=!1,this.viewState={width:3,visibility:"always"},this.items=new es.ResourceMap,this.transientDisposables=this._register(new y.DisposableStore),this.stylesheet=(0,Z.createStyleSheet)(void 0,void 0,this._store);let n=C.Event.filter(i.onDidChangeConfiguration,e=>e.affectsConfiguration("scm.diffDecorations"));this._register(n(this.onDidChangeConfiguration,this)),this.onDidChangeConfiguration();let r=C.Event.filter(i.onDidChangeConfiguration,e=>e.affectsConfiguration("scm.diffDecorationsGutterWidth"));this._register(r(this.onDidChangeDiffWidthConfiguration,this)),this.onDidChangeDiffWidthConfiguration();let s=C.Event.filter(i.onDidChangeConfiguration,e=>e.affectsConfiguration("scm.diffDecorationsGutterVisibility"));this._register(s(this.onDidChangeDiffVisibilityConfiguration,this)),this.onDidChangeDiffVisibilityConfiguration()}};eY=(0,l.__decorate)([(0,l.__param)(0,ea.IEditorService),(0,l.__param)(1,g.IInstantiationService),(0,l.__param)(2,w.IConfigurationService),(0,l.__param)(3,$.ITextFileService)],eY),(0,L.registerEditorContribution)(eN.ID,eN,L.EditorContributionInstantiation.AfterFirstRender),e.s(["getOriginalResource",()=>eq,"minimapGutterAddedBackground",()=>eW,"minimapGutterDeletedBackground",()=>ez,"minimapGutterModifiedBackground",()=>eK,"overviewRulerAddedForeground",()=>eB,"overviewRulerDeletedForeground",()=>eH,"overviewRulerModifiedForeground",()=>eV],338882);var eZ=e.i(6423),eX=y,e$=L,eJ=e.i(312582);let e0="transientWordWrapState",e1="isWordWrapMinified",e2="isDominatedByLongLines",e3=new R.RawContextKey("canToggleWordWrap",!1,!0),e5=new R.RawContextKey("editorWordWrap",!1,(0,_.localize)(4737,"Whether the editor is currently using word wrapping."));function e4(e,t,i){i.setTransientModelProperty(e,e0,t)}function e6(e,t){return t.getTransientModelProperty(e,e0)}let e8="editor.action.toggleWordWrap";class e9 extends e$.EditorAction{run(e,t){let i,o=e.get(c.ICodeEditorService);if(!tt(o,t))return;let n=t.getModel();i=e6(n,o)?null:{wordWrapOverride:-1===t.getOption(W.EditorOption.wrappingInfo).wrappingColumn?"on":"off"},e4(n,i,o);let r=function(e,t){if(!e.getOption(W.EditorOption.inDiffEditor))return null;for(let i of t.listDiffEditors()){let t=i.getOriginalEditor(),o=i.getModifiedEditor();if(t===e||o===e)return i}return null}(t,o);if(r){let e=r.getOriginalEditor(),n=r.getModifiedEditor(),s=e===t?n:e;tt(o,s)&&(e4(s.getModel(),i,o),r.updateOptions({}))}}constructor(){super({id:e8,label:(0,_.localize2)(4738,"View: Toggle Word Wrap"),precondition:void 0,kbOpts:{kbExpr:null,primary:P.KeyMod.Alt|P.KeyCode.KeyZ,weight:K.KeybindingWeight.EditorContrib}})}}let e7=((r=class extends eX.Disposable{_applyWordWrapState(e){let t=e?e.wordWrapOverride:"inherit";this._editor.updateOptions({wordWrapOverride2:t})}constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._codeEditorService=i;let o=this._editor.getOptions().get(W.EditorOption.wrappingInfo),n=this._contextKeyService.createKey(e1,o.isWordWrapMinified),r=this._contextKeyService.createKey(e2,o.isDominatedByLongLines),s=!1;this._register(e.onDidChangeConfiguration(e=>{if(!e.hasChanged(W.EditorOption.wrappingInfo))return;let t=this._editor.getOptions().get(W.EditorOption.wrappingInfo);n.set(t.isWordWrapMinified),r.set(t.isDominatedByLongLines),s||a()})),this._register(e.onDidChangeModel(e=>{a()})),this._register(i.onDidChangeTransientModelProperty(()=>{a()}));let a=()=>{if(!tt(this._codeEditorService,this._editor))return;let e=e6(this._editor.getModel(),this._codeEditorService);try{s=!0,this._applyWordWrapState(e)}finally{s=!1}}}}).ID="editor.contrib.toggleWordWrapController",r);e7=(0,l.__decorate)([(0,l.__param)(1,p.IContextKeyService),(0,l.__param)(2,c.ICodeEditorService)],e7);let te=((s=class extends eX.Disposable{_ensureSyncedWordWrapToggle(){let e=this._diffEditor.getOriginalEditor(),t=this._diffEditor.getModifiedEditor();if(!e.hasModel()||!t.hasModel())return;let i=e6(e.getModel(),this._codeEditorService),o=e6(t.getModel(),this._codeEditorService);i&&!o&&tt(this._codeEditorService,e)&&(e4(t.getModel(),i,this._codeEditorService),this._diffEditor.updateOptions({})),!i&&o&&tt(this._codeEditorService,t)&&(e4(e.getModel(),o,this._codeEditorService),this._diffEditor.updateOptions({}))}constructor(e,t){super(),this._diffEditor=e,this._codeEditorService=t,this._register(this._diffEditor.onDidChangeModel(()=>{this._ensureSyncedWordWrapToggle()}))}}).ID="diffeditor.contrib.toggleWordWrapController",s);function tt(e,t){if(!t||t.isSimpleWidget||!t.getModel())return!1;if(t.getOption(W.EditorOption.inDiffEditor)){for(let i of e.listDiffEditors())if(i.getOriginalEditor()===t&&!i.renderSideBySide)return!1}return!0}te=(0,l.__decorate)([(0,l.__param)(1,c.ICodeEditorService)],te);let ti=((a=class extends eX.Disposable{_update(){let e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();this._activeEditor!==e&&(this._activeEditorListener.clear(),this._activeEditor=e,e&&(this._activeEditorListener.add(e.onDidChangeModel(()=>this._updateFromCodeEditor())),this._activeEditorListener.add(e.onDidChangeConfiguration(e=>{e.hasChanged(W.EditorOption.wrappingInfo)&&this._updateFromCodeEditor()})),this._updateFromCodeEditor()))}_updateFromCodeEditor(){if(!tt(this._codeEditorService,this._activeEditor))return this._setValues(!1,!1);{let e=this._activeEditor.getOption(W.EditorOption.wrappingInfo);this._setValues(!0,-1!==e.wrappingColumn)}}_setValues(e,t){this._canToggleWordWrap.set(e),this._editorWordWrap.set(t)}constructor(e,t,i){super(),this._editorService=e,this._codeEditorService=t,this._contextService=i,this._register(C.Event.runAndSubscribe(Y.onDidRegisterWindow,e=>{let{window:t,disposables:i}=e;i.add((0,Y.addDisposableListener)(t,"focus",()=>this._update(),!0)),i.add((0,Y.addDisposableListener)(t,"blur",()=>this._update(),!0))},{window:eZ.mainWindow,disposables:this._store})),this._register(this._editorService.onDidActiveEditorChange(()=>this._update())),this._canToggleWordWrap=e3.bindTo(this._contextService),this._editorWordWrap=e5.bindTo(this._contextService),this._activeEditor=null,this._activeEditorListener=new eX.DisposableStore,this._update()}}).ID="workbench.contrib.editorWordWrapContextKeyTracker",a);ti=(0,l.__decorate)([(0,l.__param)(0,ea.IEditorService),(0,l.__param)(1,c.ICodeEditorService),(0,l.__param)(2,p.IContextKeyService)],ti),(0,eJ.registerWorkbenchContribution2)(ti.ID,ti,eJ.WorkbenchPhase.AfterRestored),(0,e$.registerEditorContribution)(e7.ID,e7,e$.EditorContributionInstantiation.Eager),(0,e$.registerDiffEditorContribution)(te.ID,te),(0,e$.registerEditorAction)(e9),H.MenuRegistry.appendMenuItem(H.MenuId.EditorTitle,{command:{id:e8,title:(0,_.localize)(4739,"Disable wrapping for this file"),icon:ee.Codicon.wordWrap},group:"navigation",order:1,when:R.ContextKeyExpr.and(R.ContextKeyExpr.has(e2),R.ContextKeyExpr.has(e1))}),H.MenuRegistry.appendMenuItem(H.MenuId.EditorTitle,{command:{id:e8,title:(0,_.localize)(4740,"Enable wrapping for this file"),icon:ee.Codicon.wordWrap},group:"navigation",order:1,when:R.ContextKeyExpr.and(N.EditorContextKeys.inDiffEditor.negate(),R.ContextKeyExpr.has(e2),R.ContextKeyExpr.not(e1))}),H.MenuRegistry.appendMenuItem(H.MenuId.MenubarViewMenu,{command:{id:e8,title:(0,_.localize)(4741,"&&Word Wrap"),toggled:e5,precondition:e3},order:1,group:"6_editor"}),e.s(["readTransientState",()=>e6,"writeTransientState",()=>e4],319219)},150132,262465,934767,816921,528045,328124,869177,272431,64918,853788,788722,251046,710249,405560,753725,779461,804810,906696,676101,364316,e=>{"use strict";var t,i,o,n,r,s,a,l,d,c=e.i(308165),u=e.i(383962),h=e.i(542073),p=e.i(678417),g=e.i(839435),m=e.i(436120),v=e.i(683146),_=e.i(569038),f=e.i(299665),y=e.i(628463),C=e.i(312582),b=e.i(693655);let S=h.ExtensionsRegistry.registerExtensionPoint({extensionPoint:"jsonValidation",defaultExtensionKind:["workspace","web"],jsonSchema:{description:(0,u.localize)(2453,"Contributes json schema configuration."),type:"array",defaultSnippets:[{body:[{fileMatch:"${1:file.json}",url:"${2:url}"}]}],items:{type:"object",defaultSnippets:[{body:{fileMatch:"${1:file.json}",url:"${2:url}"}}],properties:{fileMatch:{type:["string","array"],description:(0,u.localize)(2454,'The file pattern (or an array of patterns) to match, for example "package.json" or "*.launch". Exclusion patterns start with \'!\''),items:{type:["string"]}},url:{description:(0,u.localize)(2455,"A schema URL ('http:', 'https:') or relative path to the extension folder ('./')."),type:"string"}}}}});class w{constructor(){S.setHandler(e=>{for(let t of e){let e=t.value,i=t.collector,o=t.description.extensionLocation;if(!e||!Array.isArray(e))return void i.error((0,u.localize)(2456,"'configuration.jsonValidation' must be a array"));e.forEach(e=>{if(!(0,g.isString)(e.fileMatch)&&!(Array.isArray(e.fileMatch)&&e.fileMatch.every(g.isString)))return void i.error((0,u.localize)(2457,"'configuration.jsonValidation.fileMatch' must be defined as a string or an array of strings."));let t=e.url;if(!(0,g.isString)(t))return void i.error((0,u.localize)(2458,"'configuration.jsonValidation.url' must be a URL or relative path"));if(t.startsWith("./"))try{let e=(0,p.joinPath)(o,t);(0,p.isEqualOrParent)(e,o)||i.warn((0,u.localize)(2459,"Expected `contributes.{0}.url` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",S.name,e.toString(),o.path))}catch(e){i.error((0,u.localize)(2460,"'configuration.jsonValidation.url' is an invalid relative URL: {0}",e.message))}else if(!/^[^:/?#]+:\/\//.test(t))return void i.error((0,u.localize)(2461,"'configuration.jsonValidation.url' must be an absolute URL or start with './'  to reference schemas located in the extension."))})}})}}class E extends m.Disposable{shouldRender(e){var t;return!!(null==(t=e.contributes)?void 0:t.jsonValidation)}render(e){var t;let i=(null==(t=e.contributes)?void 0:t.jsonValidation)||[];return i.length?{data:{headers:[(0,u.localize)(2462,"File Match"),(0,u.localize)(2463,"Schema")],rows:i.map(e=>[new y.MarkdownString().appendMarkdown("`".concat(Array.isArray(e.fileMatch)?e.fileMatch.join(", "):e.fileMatch,"`")),e.url])},dispose:()=>{}}:{data:{headers:[],rows:[]},dispose:()=>{}}}constructor(){super(...arguments),this.type="table"}}_.Registry.as(v.Extensions.ExtensionFeaturesRegistry).registerExtensionFeature({id:"jsonValidation",label:(0,u.localize)(2464,"JSON Validation"),access:{canToggle:!1},renderer:new f.SyncDescriptor(E)});let I=((t=class{constructor(e){this.instantiationService=e,this.instantiationService.createInstance(w)}}).ID="workbench.contrib.jsonValidationExtensionPoint",t);I=(0,c.__decorate)([(0,c.__param)(0,b.IInstantiationService)],I),(0,C.registerWorkbenchContribution2)(I.ID,I,C.WorkbenchPhase.BlockStartup),e.s([],150132);var x=e.i(945588);e.i(786480),e.i(184765),e.i(537397),e.i(765809),e.i(491481),e.i(827678),e.i(789672),e.i(847307),e.i(491120),e.i(165071);var D=e.i(286230),k=m;let A=_.Registry.as(x.Extensions.ColorContribution),M=A.getColorReferenceSchema(),L="^\\w+[.\\w+]*$",T=h.ExtensionsRegistry.registerExtensionPoint({extensionPoint:"colors",jsonSchema:{description:(0,u.localize)(11810,"Contributes extension defined themable colors"),type:"array",items:{type:"object",properties:{id:{type:"string",description:(0,u.localize)(11811,"The identifier of the themable color"),pattern:L,patternErrorMessage:(0,u.localize)(11812,"Identifiers must only contain letters, digits and dots and can not start with a dot")},description:{type:"string",description:(0,u.localize)(11813,"The description of the themable color")},defaults:{type:"object",properties:{light:{description:(0,u.localize)(11814,"The default color for light themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default."),type:"string",anyOf:[M,{type:"string",format:"color-hex"}]},dark:{description:(0,u.localize)(11815,"The default color for dark themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default."),type:"string",anyOf:[M,{type:"string",format:"color-hex"}]},highContrast:{description:(0,u.localize)(11816,"The default color for high contrast dark themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default. If not provided, the `dark` color is used as default for high contrast dark themes."),type:"string",anyOf:[M,{type:"string",format:"color-hex"}]},highContrastLight:{description:(0,u.localize)(11817,"The default color for high contrast light themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default. If not provided, the `light` color is used as default for high contrast light themes."),type:"string",anyOf:[M,{type:"string",format:"color-hex"}]}},required:["light","dark"]}}}}});class R{constructor(){T.setHandler((e,t)=>{for(let e of t.added){let t=e.value,n=e.collector;if(!t||!Array.isArray(t))return void n.error((0,u.localize)(11818,"'configuration.colors' must be a array"));let r=(e,t)=>{if(e.length>0)if("#"===e[0])return D.Color.Format.CSS.parseHex(e);else return e;return n.error((0,u.localize)(11819,"{0} must be either a color value in hex (#RRGGBB[AA] or #RGB[A]) or the identifier of a themable color which provides the default.",t)),D.Color.red};for(let e of t){var i,o;if("string"!=typeof e.id||0===e.id.length)return void n.error((0,u.localize)(11820,"'configuration.colors.id' must be defined and can not be empty"));if(!e.id.match(L))return void n.error((0,u.localize)(11821,"'configuration.colors.id' must only contain letters, digits and dots and can not start with a dot"));if("string"!=typeof e.description||0===e.id.length)return void n.error((0,u.localize)(11822,"'configuration.colors.description' must be defined and can not be empty"));let t=e.defaults;if(!t||"object"!=typeof t||"string"!=typeof t.light||"string"!=typeof t.dark)return void n.error((0,u.localize)(11823,"'configuration.colors.defaults' must be defined and must contain 'light' and 'dark'"));if(t.highContrast&&"string"!=typeof t.highContrast)return void n.error((0,u.localize)(11824,"If defined, 'configuration.colors.defaults.highContrast' must be a string."));if(t.highContrastLight&&"string"!=typeof t.highContrastLight)return void n.error((0,u.localize)(11825,"If defined, 'configuration.colors.defaults.highContrastLight' must be a string."));A.registerColor(e.id,{light:r(t.light,"configuration.colors.defaults.light"),dark:r(t.dark,"configuration.colors.defaults.dark"),hcDark:r(null!=(i=t.highContrast)?i:t.dark,"configuration.colors.defaults.highContrast"),hcLight:r(null!=(o=t.highContrastLight)?o:t.light,"configuration.colors.defaults.highContrastLight")},e.description)}}for(let e of t.removed)for(let t of e.value)A.deregisterColor(t.id)})}}class N extends k.Disposable{shouldRender(e){var t;return!!(null==(t=e.contributes)?void 0:t.colors)}render(e){var t;let i=(null==(t=e.contributes)?void 0:t.colors)||[];if(!i.length)return{data:{headers:[],rows:[]},dispose:()=>{}};let o=[(0,u.localize)(11826,"ID"),(0,u.localize)(11827,"Description"),(0,u.localize)(11828,"Dark Default"),(0,u.localize)(11829,"Light Default"),(0,u.localize)(11830,"High Contrast Default")],n=e=>"#"===e[0]?D.Color.fromHex(e):void 0;return{data:{headers:o,rows:i.sort((e,t)=>e.id.localeCompare(t.id)).map(e=>{var t,i,o;return[new y.MarkdownString().appendMarkdown("`".concat(e.id,"`")),e.description,null!=(t=n(e.defaults.dark))?t:new y.MarkdownString().appendMarkdown("`".concat(e.defaults.dark,"`")),null!=(i=n(e.defaults.light))?i:new y.MarkdownString().appendMarkdown("`".concat(e.defaults.light,"`")),null!=(o=n(e.defaults.highContrast))?o:new y.MarkdownString().appendMarkdown("`".concat(e.defaults.highContrast,"`"))]})},dispose:()=>{}}}constructor(){super(...arguments),this.type="table"}}_.Registry.as(v.Extensions.ExtensionFeaturesRegistry).registerExtensionFeature({id:"colors",label:(0,u.localize)(11831,"Colors"),access:{canToggle:!1},renderer:new f.SyncDescriptor(N)});let P=((i=class{constructor(e){this.instantiationService=e,this.instantiationService.createInstance(R)}}).ID="workbench.contrib.colorExtensionPoint",i);P=(0,c.__decorate)([(0,c.__param)(0,b.IInstantiationService)],P),(0,C.registerWorkbenchContribution2)(P.ID,P,C.WorkbenchPhase.BlockStartup),e.s([],262465);var O=e.i(358764),F=e.i(610620),K=e.i(912097),W=e.i(195171);let z=_.Registry.as(O.Extensions.IconContribution),V=z.getIconReferenceSchema(),B="^".concat(F.ThemeIcon.iconNameSegment,"(-").concat(F.ThemeIcon.iconNameSegment,")+$"),H=h.ExtensionsRegistry.registerExtensionPoint({extensionPoint:"icons",jsonSchema:{description:(0,u.localize)(11892,"Contributes extension defined themable icons"),type:"object",propertyNames:{pattern:B,description:(0,u.localize)(11893,"The identifier of the themable icon"),patternErrorMessage:(0,u.localize)(11894,"Identifiers can only contain letters, digits and minuses and need to consist of at least two segments in the form `component-iconname`.")},additionalProperties:{type:"object",properties:{description:{type:"string",description:(0,u.localize)(11895,"The description of the themable icon")},default:{anyOf:[V,{type:"object",properties:{fontPath:{description:(0,u.localize)(11896,"The path of the icon font that defines the icon."),type:"string"},fontCharacter:{description:(0,u.localize)(11897,"The character for the icon in the icon font."),type:"string",pattern:W.fontCharacterRegex,patternErrorMessage:(0,u.localize)(11898,"The fontCharacter must be a single letter or a backslash followed by unicode code points in hexadecimal.")}},required:["fontPath","fontCharacter"],defaultSnippets:[{body:{fontPath:"${1:myiconfont.woff}",fontCharacter:"${2:\\\\E001}"}}]}],description:(0,u.localize)(11899,"The default of the icon. Either a reference to an extisting ThemeIcon or an icon in an icon font.")}},required:["description","default"],defaultSnippets:[{body:{description:"${1:my icon}",default:{fontPath:"${2:myiconfont.woff}",fontCharacter:"${3:\\\\E001}"}}}]},defaultSnippets:[{body:{"${1:my-icon-id}":{description:"${2:my icon}",default:{fontPath:"${3:myiconfont.woff}",fontCharacter:"${4:\\\\E001}"}}}}]}});class U{constructor(){H.setHandler((e,t)=>{for(let e of t.added){let t=e.value,n=e.collector;if(!t||"object"!=typeof t)return void n.error((0,u.localize)(11900,"'configuration.icons' must be an object with the icon names as properties."));for(let r in t){if(!r.match(B))return void n.error((0,u.localize)(11901,"'configuration.icons' keys represent the icon id and can only contain letter, digits and minuses. They need to consist of at least two segments in the form `component-iconname`."));let s=t[r];if("string"!=typeof s.description||0===s.description.length)return void n.error((0,u.localize)(11902,"'configuration.icons.description' must be defined and can not be empty"));let a=s.default;if("string"==typeof a)z.registerIcon(r,{id:a},s.description);else if("object"==typeof a&&"string"==typeof a.fontPath&&"string"==typeof a.fontCharacter){var i,o;let t=(0,K.extname)(a.fontPath).substring(1),l=G[t];if(!l)return void n.warn((0,u.localize)(11903,"Expected `contributes.icons.default.fontPath` to have file extension 'woff', woff2' or 'ttf', is '{0}'.",t));let d=e.description.extensionLocation,c=(0,p.joinPath)(d,a.fontPath),h=(i=e.description,o=a.fontPath,K.posix.join(i.identifier.value,o)),g=z.registerIconFont(h,{src:[{location:c,format:l}]});if(!(0,p.isEqualOrParent)(c,d))return void n.warn((0,u.localize)(11904,"Expected `contributes.icons.default.fontPath` ({0}) to be included inside extension's folder ({0}).",c.path,d.path));z.registerIcon(r,{fontCharacter:a.fontCharacter,font:{id:h,definition:g}},s.description)}else n.error((0,u.localize)(11905,"'configuration.icons.default' must be either a reference to the id of an other theme icon (string) or a icon definition (object) with properties `fontPath` and `fontCharacter`."))}}for(let e of t.removed){let t=e.value;for(let e in t)z.deregisterIcon(e)}})}}let G={ttf:"truetype",woff:"woff",woff2:"woff2"},q=((o=class{constructor(e){this.instantiationService=e,this.instantiationService.createInstance(U)}}).ID="workbench.contrib.iconExtensionPoint",o);q=(0,c.__decorate)([(0,c.__param)(0,b.IInstantiationService)],q),(0,C.registerWorkbenchContribution2)(q.ID,q,C.WorkbenchPhase.BlockStartup),e.s([],934767);var j=e.i(8114),Q=e.i(265216),Y=j,Z=e.i(137479),X=e.i(322549);class $ extends Y.Action2{run(e){e.get(Z.IMenuService).resetHiddenStates(),e.get(X.ILogService).info("did RESET all menu hidden states")}constructor(){super({id:"menu.resetHiddenStates",title:(0,u.localize2)(1616,"Reset All Menus"),category:Q.Categories.View,f1:!0})}}e.i(595904),e.i(777700),(0,j.registerAction2)($),e.s([],816921);var J=e.i(710252),ee=e.i(247921),et=e.i(495115),ei=e.i(619223),eo=e.i(756970),en=e.i(633921),er=e.i(780379);let es=class extends et.ReferencesController{constructor(e,t,i,o,n,r,s){super(!1,e,t,i,o,n,r,s)}};es=(0,c.__decorate)([(0,c.__param)(1,eo.IContextKeyService),(0,c.__param)(2,ee.ICodeEditorService),(0,c.__param)(3,en.INotificationService),(0,c.__param)(4,b.IInstantiationService),(0,c.__param)(5,er.IStorageService),(0,c.__param)(6,ei.IConfigurationService)],es),(0,J.registerEditorContribution)(et.ReferencesController.ID,es,J.EditorContributionInstantiation.Lazy),e.s([],528045);var ea=m,el=e.i(68858);e.i(145384);var ed=e.i(264111);e.i(368994);var ec=e.i(760837),eu=e.i(477958),eh=e.i(118144),ep=e.i(623947);let eg=new class{register(e){return this._implementations.push(e),{dispose:()=>{let t=this._implementations.indexOf(e);-1!==t&&this._implementations.splice(t,1)}}}getImplementations(){return this._implementations}constructor(){this._implementations=[]}};e.s(["AccessibleViewRegistry",()=>eg],328124);var em=e.i(39400),ev=e.i(65583),e_=e.i(78732),ef=e.i(141212),ey=e.i(304729),eC=e.i(332217),eb=J,eS=e.i(901485),ew=e.i(716526),eE=j,eI=e.i(166253),ex=e.i(564485);e.i(724146);class eD extends eE.Action2{run(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let n=e.get(ei.IConfigurationService),r=!n.getValue("diffEditor.hideUnchangedRegions.enabled");n.updateValue("diffEditor.hideUnchangedRegions.enabled",r)}constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:(0,u.localize2)(149,"Toggle Collapse Unchanged Regions"),icon:ey.Codicon.map,toggled:eI.ContextKeyExpr.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:eI.ContextKeyExpr.has("isInDiffEditor"),menu:{when:eI.ContextKeyExpr.has("isInDiffEditor"),id:eE.MenuId.EditorTitle,order:22,group:"navigation"}})}}class ek extends eE.Action2{run(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let n=e.get(ei.IConfigurationService),r=!n.getValue("diffEditor.experimental.showMoves");n.updateValue("diffEditor.experimental.showMoves",r)}constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:(0,u.localize2)(150,"Toggle Show Moved Code Blocks"),precondition:eI.ContextKeyExpr.has("isInDiffEditor")})}}class eA extends eE.Action2{run(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let n=e.get(ei.IConfigurationService),r=!n.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");n.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",r)}constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:(0,u.localize2)(151,"Toggle Use Inline View When Space Is Limited"),precondition:eI.ContextKeyExpr.has("isInDiffEditor")})}}let eM=(0,u.localize2)(152,"Diff Editor");class eL extends eb.EditorAction2{runEditorCommand(e,t,i){let o=eW(e);if(o instanceof eS.DiffEditorWidget)if(i&&i.dryRun)return{destinationSelection:o.mapToOtherSide().destinationSelection};else o.switchSide()}constructor(){super({id:"diffEditor.switchSide",title:(0,u.localize2)(153,"Switch Side"),icon:ey.Codicon.arrowSwap,precondition:eI.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:eM})}}class eT extends eb.EditorAction2{runEditorCommand(e,t){for(var i=arguments.length,o=Array(i>2?i-2:0),n=2;n<i;n++)o[n-2]=arguments[n];let r=eW(e);r instanceof eS.DiffEditorWidget&&r.exitCompareMove()}constructor(){super({id:"diffEditor.exitCompareMove",title:(0,u.localize2)(154,"Exit Compare Move"),icon:ey.Codicon.close,precondition:ew.EditorContextKeys.comparingMovedCode,f1:!1,category:eM,keybinding:{weight:1e4,primary:eC.KeyCode.Escape}})}}class eR extends eb.EditorAction2{runEditorCommand(e,t){for(var i=arguments.length,o=Array(i>2?i-2:0),n=2;n<i;n++)o[n-2]=arguments[n];let r=eW(e);r instanceof eS.DiffEditorWidget&&r.collapseAllUnchangedRegions()}constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:(0,u.localize2)(155,"Collapse All Unchanged Regions"),icon:ey.Codicon.fold,precondition:eI.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:eM})}}class eN extends eb.EditorAction2{runEditorCommand(e,t){for(var i=arguments.length,o=Array(i>2?i-2:0),n=2;n<i;n++)o[n-2]=arguments[n];let r=eW(e);r instanceof eS.DiffEditorWidget&&r.showAllUnchangedRegions()}constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:(0,u.localize2)(156,"Show All Unchanged Regions"),icon:ey.Codicon.unfold,precondition:eI.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:eM})}}class eP extends eE.Action2{run(e,t){var i,o,n,r;let s=(i=e,o=t.originalUri,n=t.modifiedUri,i.get(ee.ICodeEditorService).listDiffEditors().find(e=>{var t,i;let r=e.getModifiedEditor(),s=e.getOriginalEditor();return r&&(null==(t=r.getModel())?void 0:t.uri.toString())===n.toString()&&s&&(null==(i=s.getModel())?void 0:i.uri.toString())===o.toString()})||null);if(s instanceof eS.DiffEditorWidget){s.revertRangeMappings(null!=(r=t.mapping.innerChanges)?r:[])}}constructor(){super({id:"diffEditor.revert",title:(0,u.localize2)(157,"Revert"),f1:!1,category:eM})}}let eO=(0,u.localize2)(158,"Accessible Diff Viewer");class eF extends eE.Action2{run(e){let t=eW(e);null==t||t.accessibleDiffViewerNext()}constructor(){super({id:eF.id,title:(0,u.localize2)(159,"Go to Next Difference"),category:eO,precondition:eI.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:eC.KeyCode.F7,weight:ex.KeybindingWeight.EditorContrib},f1:!0})}}eF.id="editor.action.accessibleDiffViewer.next";class eK extends eE.Action2{run(e){let t=eW(e);null==t||t.accessibleDiffViewerPrev()}constructor(){super({id:eK.id,title:(0,u.localize2)(160,"Go to Previous Difference"),category:eO,precondition:eI.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:eC.KeyMod.Shift|eC.KeyCode.F7,weight:ex.KeybindingWeight.EditorContrib},f1:!0})}}function eW(e){let t=e.get(ee.ICodeEditorService).listDiffEditors(),i=(0,ef.getActiveElement)();if(i){for(let e of t)if(function(e,t){let i=t;for(;i;){if(i===e)return!0;i=i.parentElement}return!1}(e.getContainerDomNode(),i))return e}return null}eK.id="editor.action.accessibleDiffViewer.prev",e.s(["AccessibleDiffViewerNext",()=>eF,"AccessibleDiffViewerPrev",()=>eK,"CollapseAllUnchangedRegions",()=>eR,"ExitCompareMove",()=>eT,"RevertHunkOrSelection",()=>eP,"ShowAllUnchangedRegions",()=>eN,"SwitchSide",()=>eL,"ToggleCollapseUnchangedRegions",()=>eD,"ToggleShowMovedCodeBlocks",()=>ek,"ToggleUseInlineViewWhenSpaceIsLimited",()=>eA],869177);var ez=e.i(14575),eV=e.i(352700),eB=e.i(135517),eH=m,eU=e.i(918299),eG=e.i(588624),eq=e.i(836387),ej=(e.i(857200),e.i(191604));e.i(887778);var eQ=e.i(937301),eY=e.i(149900),eZ=e.i(211023),eX=e.i(840970),e$=j;class eJ extends e$.Action2{run(){let e=!eX.TabFocus.getTabFocusMode();eX.TabFocus.setTabFocusMode(e),e?(0,eZ.alert)((0,u.localize)(1494,"Pressing Tab will now move focus to the next focusable element")):(0,eZ.alert)((0,u.localize)(1495,"Pressing Tab will now insert the tab character"))}constructor(){super({id:eJ.ID,title:(0,u.localize2)(1492,"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:eC.KeyMod.CtrlCmd|eC.KeyCode.KeyM,mac:{primary:eC.KeyMod.WinCtrl|eC.KeyMod.Shift|eC.KeyCode.KeyM},weight:ex.KeybindingWeight.EditorContrib},metadata:{description:(0,u.localize2)(1493,"Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}}eJ.ID="editor.action.toggleTabFocusMode",(0,e$.registerAction2)(eJ),e.s(["ToggleTabFocusModeAction",()=>eJ],272431);!function(e){e.intro=(0,u.localize)(4851,"The editor contains commentable range(s). Some useful commands include:"),e.tabFocus=(0,u.localize)(4852,"This widget contains a text area, for composition of new comments, and actions, that can be tabbed to once tab moves focus mode has been enabled with the command Toggle Tab Key Moves Focus{0}.","<keybinding:".concat(eJ.ID,">")),e.commentCommands=(0,u.localize)(4853,"Some useful comment commands include:"),e.escape=(0,u.localize)(4854,"- Dismiss Comment (Escape)"),e.nextRange=(0,u.localize)(4855,"- Go to Next Commenting Range{0}.","<keybinding:".concat(eY.CommentCommandId.NextRange,">")),e.previousRange=(0,u.localize)(4856,"- Go to Previous Commenting Range{0}.","<keybinding:".concat(eY.CommentCommandId.PreviousRange,">")),e.nextCommentThread=(0,u.localize)(4857,"- Go to Next Comment Thread{0}.","<keybinding:".concat(eY.CommentCommandId.NextThread,">")),e.previousCommentThread=(0,u.localize)(4858,"- Go to Previous Comment Thread{0}.","<keybinding:".concat(eY.CommentCommandId.PreviousThread,">")),e.nextCommentedRange=(0,u.localize)(4859,"- Go to Next Commented Range{0}.","<keybinding:".concat(eY.CommentCommandId.NextCommentedRange,">")),e.previousCommentedRange=(0,u.localize)(4860,"- Go to Previous Commented Range{0}.","<keybinding:".concat(eY.CommentCommandId.PreviousCommentedRange,">")),e.addComment=(0,u.localize)(4861,"- Add Comment on Current Selection{0}.","<keybinding:".concat(eY.CommentCommandId.Add,">")),e.submitComment=(0,u.localize)(4862,"- Submit Comment{0}.","<keybinding:".concat(eY.CommentCommandId.Submit,">"))}(n||(n={})),m.Disposable,e.i(708312),e.i(571188),eH.Disposable;let e0=class extends eH.Disposable{onClose(){this._editor.focus()}provideContent(){let e=this._editor.getOptions(),t=[];e.get(eU.EditorOption.inDiffEditor)?e.get(eU.EditorOption.readOnly)?t.push(eG.AccessibilityHelpNLS.readonlyDiffEditor):t.push(eG.AccessibilityHelpNLS.editableDiffEditor):e.get(eU.EditorOption.readOnly)?t.push(eG.AccessibilityHelpNLS.readonlyEditor):t.push(eG.AccessibilityHelpNLS.editableEditor),t.push(eG.AccessibilityHelpNLS.listSignalSounds),t.push(eG.AccessibilityHelpNLS.listAlerts);let i=function(e,t){if(ej.ChatContextKeys.enabled.getValue(t))return[eG.AccessibilityHelpNLS.quickChat,eG.AccessibilityHelpNLS.startInlineChat].join("\n")}(this._keybindingService,this._contextKeyService);i&&t.push(i);let o=e1(this._keybindingService,this._contextKeyService,this._editor);return o&&t.push(o),e.get(eU.EditorOption.stickyScroll).enabled&&t.push(eG.AccessibilityHelpNLS.stickScroll),e.get(eU.EditorOption.tabFocusMode)?t.push(eG.AccessibilityHelpNLS.tabFocusModeOnMsg):t.push(eG.AccessibilityHelpNLS.tabFocusModeOffMsg),t.push(eG.AccessibilityHelpNLS.codeFolding),t.push(eG.AccessibilityHelpNLS.intellisense),t.push(eG.AccessibilityHelpNLS.showOrFocusHover),t.push(eG.AccessibilityHelpNLS.goToSymbol),t.push(eG.AccessibilityHelpNLS.startDebugging),t.push(eG.AccessibilityHelpNLS.setBreakpoint),t.push(eG.AccessibilityHelpNLS.debugExecuteSelection),t.push(eG.AccessibilityHelpNLS.addToWatch),t.join("\n")}constructor(e,t,i){super(),this._editor=e,this._keybindingService=t,this._contextKeyService=i,this.id=ez.AccessibleViewProviderId.Editor,this.options={type:ez.AccessibleViewType.Help,readMoreUrl:"https://go.microsoft.com/fwlink/?linkid=851010"},this.verbositySettingKey=eB.AccessibilityVerbositySettingId.Editor}};function e1(e,t,i){if(t.getContext(i.getDomNode()).getValue(eQ.CommentContextKeys.activeEditorHasCommentingRange.key))return[n.intro,n.addComment,n.nextCommentThread,n.previousCommentThread,n.nextRange,n.previousRange].join("\n")}e0=(0,c.__decorate)([(0,c.__param)(1,eV.IKeybindingService),(0,c.__param)(2,eo.IContextKeyService)],e0);var e2=e.i(810602),e3=e.i(286894);let e5=((r=class extends ea.Disposable{constructor(e,t,i,o){if(super(),this._diffEditor=e,this._instantiationService=t,this._textResourceConfigurationService=i,this._notificationService=o,!(this._diffEditor instanceof eh.EmbeddedDiffEditorWidget)){let e=(0,eu.observableFromEvent)(this,e=>this._diffEditor.onDidUpdateDiff(e),()=>this._diffEditor.getDiffComputationResult()).map(e=>e&&!e.identical&&0===e.changes2.length);this._register((0,ed.autorunWithStore)((t,i)=>{if(e.read(t)){let e=i.add(this._instantiationService.createInstance(ev.FloatingEditorClickWidget,this._diffEditor.getModifiedEditor(),(0,u.localize)(4684,"Show Whitespace Differences"),null));i.add(e.onClick(()=>{this._textResourceConfigurationService.updateValue(this._diffEditor.getModel().modified.uri,"diffEditor.ignoreTrimWhitespace",!1)})),e.render()}})),this._register(this._diffEditor.onDidUpdateDiff(()=>{let e=this._diffEditor.getDiffComputationResult();e&&e.quitEarly&&this._notificationService.prompt(e3.default.Warning,(0,u.localize)(4685,"The diff algorithm was stopped early (after {0} ms.)",this._diffEditor.maxComputationTime),[{label:(0,u.localize)(4686,"Remove Limit"),run:()=>{this._textResourceConfigurationService.updateValue(this._diffEditor.getModel().modified.uri,"diffEditor.maxComputationTime",0)}}],{})}))}}}).ID="editor.contrib.diffEditorHelper",r);e5=(0,c.__decorate)([(0,c.__param)(1,b.IInstantiationService),(0,c.__param)(2,ep.ITextResourceConfigurationService),(0,c.__param)(3,en.INotificationService)],e5),(0,J.registerDiffEditorContribution)(e5.ID,e5),_.Registry.as(e_.Extensions.ConfigurationMigration).registerConfigurationMigrations([{key:"diffEditor.experimental.collapseUnchangedRegions",migrateFn:(e,t)=>[["diffEditor.hideUnchangedRegions.enabled",{value:e}],["diffEditor.experimental.collapseUnchangedRegions",{value:void 0}]]}]),eg.register(new class{getProvider(e){let t=e.get(e2.IEditorService),i=e.get(ee.ICodeEditorService),o=e.get(eV.IKeybindingService),n=e.get(eo.IContextKeyService);if(!(t.activeTextEditorControl instanceof eS.DiffEditorWidget))return;let r=i.getActiveCodeEditor()||i.getFocusedCodeEditor();if(!r)return;let s=(0,u.localize)(4679,"Run the command Diff Editor: Switch Side{0} to toggle between the original and modified editors.","<keybinding:diffEditor.switchSide>"),a=(0,u.localize)(4680,"The setting, accessibility.verbosity.diffEditorActive, controls if a diff editor announcement is made when it becomes the active editor."),l=[(0,u.localize)(4681,"You are in a diff editor."),(0,u.localize)(4682,"View the next{0} or previous{1} diff in diff review mode, which is optimized for screen readers.","<keybinding:"+eF.id+">","<keybinding:"+eK.id+">"),s,a,(0,u.localize)(4683,"To control which accessibility signals should be played, the following settings can be configured: {0}.","accessibility.signals.diffLineDeleted, accessibility.signals.diffLineInserted, accessibility.signals.diffLineModified")],d=e1(o,n,r);return d&&l.push(d),new ez.AccessibleContentProvider(ez.AccessibleViewProviderId.DiffEditor,{type:ez.AccessibleViewType.Help},()=>l.join("\n"),()=>r.focus(),eB.AccessibilityVerbositySettingId.DiffEditor)}constructor(){this.priority=105,this.name="diff-editor",this.when=eI.ContextKeyEqualsExpr.create("isInDiffEditor",!0),this.type=ez.AccessibleViewType.Help}}),e.s([],64918);var e4=m;let e6=((s=class extends e4.Disposable{_update(){let e=this._editor.getModel();if(e&&e.isTooLargeForTokenization()){let t=(0,u.localize)(4706,"{0}: tokenization, wrapping, folding, codelens, word highlighting and sticky scroll have been turned off for this large file in order to reduce memory usage and avoid freezing or crashing.",(0,K.basename)(e.uri.path));this._notificationService.prompt(e3.default.Info,t,[{label:(0,u.localize)(4707,"Forcefully Enable Features"),run:()=>{this._configurationService.updateValue("editor.largeFileOptimizations",!1).then(()=>{this._notificationService.info((0,u.localize)(4708,"Please reopen file in order for this setting to take effect."))},e=>{this._notificationService.error(e)})}}],{neverShowAgain:{id:"editor.contrib.largeFileOptimizationsWarner"}})}}constructor(e,t,i){super(),this._editor=e,this._notificationService=t,this._configurationService=i,this._register(this._editor.onDidChangeModel(e=>this._update())),this._update()}}).ID="editor.contrib.largeFileOptimizationsWarner",s);e6=(0,c.__decorate)([(0,c.__param)(1,en.INotificationService),(0,c.__param)(2,ei.IConfigurationService)],e6),(0,J.registerEditorContribution)(e6.ID,e6,J.EditorContributionInstantiation.AfterFirstRender),e.s([],853788);var e8=e.i(262799),e9=m,e7=e.i(225696),te=e.i(448493),tt=e.i(309187),ti=e.i(224961),to=e.i(475424),tn=e.i(319225);class tr{getEditOperations(e,t){let i=ts(e,this._cursors,this._trimInRegexesAndStrings);for(let e=0,o=i.length;e<o;e++){let o=i[e];t.addEditOperation(o.range,o.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}constructor(e,t,i){this._selection=e,this._cursors=t,this._selectionId=null,this._trimInRegexesAndStrings=i}}function ts(e,t,i){t.sort((e,t)=>e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber);for(let e=t.length-2;e>=0;e--)t[e].lineNumber===t[e+1].lineNumber&&t.splice(e,1);let o=[],n=0,r=0,s=t.length;for(let a=1,l=e.getLineCount();a<=l;a++){let l=e.getLineContent(a),d=l.length+1,c=0;if(r<s&&t[r].lineNumber===a&&(c=t[r].column,r++,c===d)||0===l.length)continue;let u=(0,te.lastNonWhitespaceIndex)(l),h=0;if(-1===u)h=1;else{if(u===l.length-1)continue;h=u+2}if(!i){if(!e.tokenization.hasAccurateTokensForLine(a))continue;let t=e.tokenization.getLineTokens(a),i=t.getStandardTokenType(t.findTokenIndexAtOffset(h));if(i===tn.StandardTokenType.String||i===tn.StandardTokenType.RegEx)continue}h=Math.max(c,h),o[n++]=ti.EditOperation.delete(new to.Range(a,h,a,d))}return o}e.s(["TrimTrailingWhitespaceCommand",()=>tr,"trimTrailingWhitespace",()=>ts],788722);var ta=e.i(747053),tl=e.i(418964),td=e.i(544421),tc=e.i(314536),tu=e.i(974804),th=e.i(240043),tp=e.i(601244),tg=e.i(446099),tm=e.i(261583),tv=e.i(890696),t_=J,tf=e.i(13310),ty=e.i(279691),tC=e.i(490582),tb=e.i(338882),tS=e.i(503035);async function tw(e,t){let i=e.get(tS.IQuickDiffService),o=e.get(ty.IEditorWorkerService),n=e.get(tC.ITextModelService),r=await (0,tb.getOriginalResource)(i,t.uri,t.getLanguageId(),(0,tf.shouldSynchronizeModel)(t));if(!r)return null;let s=[],a=await n.createModelReference(r);try{if(!o.canComputeDirtyDiff(r,t.uri))return;let e=await o.computeDirtyDiff(r,t.uri,!1);if(!(0,el.isNonEmptyArray)(e))return;for(let i of e)s.push(t.validateRange(new to.Range(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber||i.modifiedStartLineNumber,Number.MAX_SAFE_INTEGER)))}finally{a.dispose()}return s}(0,t_.registerEditorAction)(class extends t_.EditorAction{async run(e,t){let i=e.get(b.IInstantiationService);if(!t.hasModel())return;let o=await i.invokeFunction(tw,t.getModel());if((0,el.isNonEmptyArray)(o))return i.invokeFunction(th.formatDocumentRangesWithSelectedProvider,t,o,th.FormattingMode.Explicit,tg.Progress.None,ec.CancellationToken.None,!0)}constructor(){super({id:"editor.action.formatChanges",label:(0,u.localize2)(6753,"Format Modified Lines"),precondition:eI.ContextKeyExpr.and(ew.EditorContextKeys.writable,ew.EditorContextKeys.hasDocumentSelectionFormattingProvider)})}}),e.s(["getModifiedRanges",()=>tw],251046);var tE=e.i(976204),tI=e.i(297334),tx=e.i(524819);let tD=class{async participate(e,t){if(!e.textEditorModel)return;let i=this.configurationService.getValue("files.trimTrailingWhitespace",{overrideIdentifier:e.textEditorModel.getLanguageId(),resource:e.resource}),o=this.configurationService.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:e.textEditorModel.getLanguageId(),resource:e.resource});i&&this.doTrimTrailingWhitespace(e.textEditorModel,t.reason===tv.SaveReason.AUTO,o)}doTrimTrailingWhitespace(e,t,i){let o=[],n=[],r=tk(e,this.codeEditorService);if(r&&(o=r.getSelections(),t)){var s;n=o.map(e=>e.getPosition());let t=null==(s=tp.SnippetController2.get(r))?void 0:s.getSessionEnclosingRange();if(t)for(let i=t.startLineNumber;i<=t.endLineNumber;i++)n.push(new ta.Position(i,e.getLineMaxColumn(i)))}let a=ts(e,n,i);a.length&&e.pushEditOperations(o,a,e=>o)}constructor(e,t){this.configurationService=e,this.codeEditorService=t}};function tk(e,t){let i=null;if(e.isAttachedToEditor()){for(let o of t.listCodeEditors())if(o.hasModel()&&o.getModel()===e){if(o.hasTextFocus())return o;i=o}}return i}tD=(0,c.__decorate)([(0,c.__param)(0,ei.IConfigurationService),(0,c.__param)(1,ee.ICodeEditorService)],tD);let tA=class{async participate(e,t){e.textEditorModel&&this.configurationService.getValue("files.insertFinalNewline",{overrideIdentifier:e.textEditorModel.getLanguageId(),resource:e.resource})&&this.doInsertFinalNewLine(e.textEditorModel)}doInsertFinalNewLine(e){let t=e.getLineCount(),i=e.getLineContent(t),o=-1===(0,te.lastNonWhitespaceIndex)(i);if(!t||o)return;let n=[ti.EditOperation.insert(new ta.Position(t,e.getLineMaxColumn(t)),e.getEOL())],r=tk(e,this.codeEditorService);r?r.executeEdits("insertFinalNewLine",n,r.getSelections()):e.pushEditOperations([],n,()=>null)}constructor(e,t){this.configurationService=e,this.codeEditorService=t}};tA=(0,c.__decorate)([(0,c.__param)(0,ei.IConfigurationService),(0,c.__param)(1,ee.ICodeEditorService)],tA);let tM=class{async participate(e,t){e.textEditorModel&&this.configurationService.getValue("files.trimFinalNewlines",{overrideIdentifier:e.textEditorModel.getLanguageId(),resource:e.resource})&&this.doTrimFinalNewLines(e.textEditorModel,t.reason===tv.SaveReason.AUTO)}findLastNonEmptyLine(e){for(let t=e.getLineCount();t>=1;t--)if(e.getLineLength(t)>0)return t;return 0}doTrimFinalNewLines(e,t){let i=e.getLineCount();if(1===i)return;let o=[],n=0,r=tk(e,this.codeEditorService);if(r&&(o=r.getSelections(),t))for(let e=0,t=o.length;e<t;e++){let t=o[e].positionLineNumber;t>n&&(n=t)}let s=Math.max(this.findLastNonEmptyLine(e)+1,n+1),a=e.validateRange(new to.Range(s,1,i,e.getLineMaxColumn(i)));a.isEmpty()||(e.pushEditOperations(o,[ti.EditOperation.delete(a)],e=>o),null==r||r.setSelections(o))}constructor(e,t){this.configurationService=e,this.codeEditorService=t}};tM=(0,c.__decorate)([(0,c.__param)(0,ei.IConfigurationService),(0,c.__param)(1,ee.ICodeEditorService)],tM);let tL=class{async participate(e,t,i,o){if(!e.textEditorModel||t.reason===tv.SaveReason.AUTO)return;let n=e.textEditorModel,r={overrideIdentifier:n.getLanguageId(),resource:n.uri},s=new tg.Progress(e=>{i.report({message:(0,u.localize)(4723,"Running '{0}' Formatter ([configure]({1})).",e.displayName||e.extensionId&&e.extensionId.value||"???","command:workbench.action.openSettings?%5B%22editor.formatOnSave%22%5D")})});if(!this.configurationService.getValue("editor.formatOnSave",r))return;let a=tk(n,this.codeEditorService)||n,l=this.configurationService.getValue("editor.formatOnSaveMode",r);if("file"===l)await this.instantiationService.invokeFunction(th.formatDocumentWithSelectedProvider,a,th.FormattingMode.Silent,s,o);else{let e=await this.instantiationService.invokeFunction(tw,(0,tt.isCodeEditor)(a)?a.getModel():a);null===e&&"modificationsIfAvailable"===l?await this.instantiationService.invokeFunction(th.formatDocumentWithSelectedProvider,a,th.FormattingMode.Silent,s,o):e&&await this.instantiationService.invokeFunction(th.formatDocumentRangesWithSelectedProvider,a,e,th.FormattingMode.Silent,s,o,!1)}}constructor(e,t,i){this.configurationService=e,this.codeEditorService=t,this.instantiationService=i}};tL=(0,c.__decorate)([(0,c.__param)(0,ei.IConfigurationService),(0,c.__param)(1,ee.ICodeEditorService),(0,c.__param)(2,b.IInstantiationService)],tL);let tT=class extends e9.Disposable{async triggerCodeActionsCommand(){if(this.configurationService.getValue("editor.codeActions.triggerOnFocusChange")&&"afterDelay"===this.configurationService.getValue("files.autoSave")){var e;let t=null==(e=this.codeEditorService.getActiveCodeEditor())?void 0:e.getModel();if(!t)return;let i={overrideIdentifier:t.getLanguageId(),resource:t.uri},o=this.configurationService.getValue("editor.codeActionsOnSave",i);if(!o||Array.isArray(o))return;let n=Object.keys(o).filter(e=>o[e]&&"always"===o[e]&&tu.CodeActionKind.Source.contains(new e8.HierarchicalKind(e))),r=new ec.CancellationTokenSource,s=[];for(let e of n)s.push(new e8.HierarchicalKind(e));await this.applyOnSaveActions(t,s,[],tg.Progress.None,r.token)}}async participate(e,t,i,o){if(!e.textEditorModel)return;let n=e.textEditorModel,r={overrideIdentifier:n.getLanguageId(),resource:n.uri},s=this.configurationService.getValue("editor.codeActionsOnSave",r);if(!s||t.reason===tv.SaveReason.AUTO||t.reason!==tv.SaveReason.EXPLICIT&&Array.isArray(s))return;let a=Array.isArray(s)?s:Object.keys(s).filter(e=>s[e]&&"never"!==s[e]),l=this.createCodeActionsOnSave(a);if(Array.isArray(s)||l.sort((e,t)=>tu.CodeActionKind.SourceFixAll.contains(e)?tu.CodeActionKind.SourceFixAll.contains(t)?0:-1:+!!tu.CodeActionKind.SourceFixAll.contains(t)),!l.length)return;let d=Array.isArray(s)?[]:Object.keys(s).filter(e=>"never"===s[e]).map(e=>new e8.HierarchicalKind(e));i.report({message:(0,u.localize)(4724,"Quick Fixes")});let c=Array.isArray(s)?l:l.filter(e=>"always"===s[e.value]||("explicit"===s[e.value]||!0===s[e.value])&&t.reason===tv.SaveReason.EXPLICIT);await this.applyOnSaveActions(n,c,d,i,o)}createCodeActionsOnSave(e){let t=e.map(e=>new e8.HierarchicalKind(e));return t.filter(e=>t.every(t=>t.equals(e)||!t.contains(e)))}async applyOnSaveActions(e,t,i,o,n){let r=new class{_report(){o.report({message:(0,u.localize)(4725,"Getting code actions from {0} ([configure]({1})).",[...this._names].map(e=>"'".concat(e,"'")).join(", "),"command:workbench.action.openSettings?%5B%22editor.codeActionsOnSave%22%5D")})}report(e){e.displayName&&!this._names.has(e.displayName)&&(this._names.add(e.displayName),this._report())}constructor(){this._names=new Set}};for(let s of t){let t=new e7.StopWatch,a=await this.getActionsToRun(e,s,i,r,n);if(this.telemetryService.publicLog2("codeAction.appliedOnSave",{codeAction:s.value,duration:t.elapsed()}),n.isCancellationRequested)return void a.dispose();try{for(let e of a.validActions)if(o.report({message:(0,u.localize)(4726,"Applying code action '{0}'.",e.action.title)}),await this.instantiationService.invokeFunction(tc.applyCodeAction,e,tc.ApplyCodeActionReason.OnSave,{},n),n.isCancellationRequested)return}catch(e){}finally{a.dispose()}}}getActionsToRun(e,t,i,o,n){return(0,tc.getCodeActions)(this.languageFeaturesService.codeActionProvider,e,e.getFullModelRange(),{type:tl.CodeActionTriggerType.Auto,triggerAction:tu.CodeActionTriggerSource.OnSave,filter:{include:t,excludes:i,includeSourceActions:!0}},o,n)}constructor(e,t,i,o,n,r,s){super(),this.configurationService=e,this.instantiationService=t,this.languageFeaturesService=i,this.hostService=o,this.editorService=n,this.codeEditorService=r,this.telemetryService=s,this._register(this.hostService.onDidChangeFocus(()=>{this.triggerCodeActionsCommand()})),this._register(this.editorService.onDidActiveEditorChange(()=>{this.triggerCodeActionsCommand()}))}};tT=(0,c.__decorate)([(0,c.__param)(0,ei.IConfigurationService),(0,c.__param)(1,b.IInstantiationService),(0,c.__param)(2,td.ILanguageFeaturesService),(0,c.__param)(3,tE.IHostService),(0,c.__param)(4,e2.IEditorService),(0,c.__param)(5,ee.ICodeEditorService),(0,c.__param)(6,tm.ITelemetryService)],tT);let tR=class extends e9.Disposable{registerSaveParticipants(){this._register(this.textFileService.files.addSaveParticipant(this.instantiationService.createInstance(tD))),this._register(this.textFileService.files.addSaveParticipant(this.instantiationService.createInstance(tT))),this._register(this.textFileService.files.addSaveParticipant(this.instantiationService.createInstance(tL))),this._register(this.textFileService.files.addSaveParticipant(this.instantiationService.createInstance(tA))),this._register(this.textFileService.files.addSaveParticipant(this.instantiationService.createInstance(tM)))}constructor(e,t){super(),this.instantiationService=e,this.textFileService=t,this.registerSaveParticipants()}};tR=(0,c.__decorate)([(0,c.__param)(0,b.IInstantiationService),(0,c.__param)(1,tx.ITextFileService)],tR),_.Registry.as(C.Extensions.Workbench).registerWorkbenchContribution(tR,tI.LifecyclePhase.Restored),e.s([],710249);var tN=j;class tP extends tN.Action2{async run(e){let t=e.get(ei.IConfigurationService),i=!t.getValue("editor.minimap.enabled");return t.updateValue("editor.minimap.enabled",i)}constructor(){super({id:tP.ID,title:{...(0,u.localize2)(4727,"Toggle Minimap"),mnemonicTitle:(0,u.localize)(4728,"&&Minimap")},category:Q.Categories.View,f1:!0,toggled:eI.ContextKeyExpr.equals("config.editor.minimap.enabled",!0),menu:{id:tN.MenuId.MenubarAppearanceMenu,group:"4_editor",order:1}})}}tP.ID="editor.action.toggleMinimap",(0,tN.registerAction2)(tP),e.s([],405560);var tO=m,tF=e.i(509592),tK=j;class tW extends tK.Action2{run(e){let t=e.get(ei.IConfigurationService),i="ctrlCmd"===t.getValue("editor").multiCursorModifier?"alt":"ctrlCmd";return t.updateValue(tW.multiCursorModifierConfigurationKey,i)}constructor(){super({id:tW.ID,title:(0,u.localize2)(4729,"Toggle Multi-Cursor Modifier"),f1:!0})}}tW.ID="workbench.action.toggleMultiCursorModifier",tW.multiCursorModifierConfigurationKey="editor.multiCursorModifier";let tz=new eI.RawContextKey("multiCursorModifier","altKey"),tV=class extends tO.Disposable{_update(){let e="ctrlCmd"===this.configurationService.getValue("editor").multiCursorModifier?"ctrlCmd":"altKey";this._multiCursorModifier.set(e)}constructor(e,t){super(),this.configurationService=e,this._multiCursorModifier=tz.bindTo(t),this._update(),this._register(e.onDidChangeConfiguration(e=>{e.affectsConfiguration("editor.multiCursorModifier")&&this._update()}))}};tV=(0,c.__decorate)([(0,c.__param)(0,ei.IConfigurationService),(0,c.__param)(1,eo.IContextKeyService)],tV),_.Registry.as(C.Extensions.Workbench).registerWorkbenchContribution(tV,tI.LifecyclePhase.Restored),(0,tK.registerAction2)(tW),tK.MenuRegistry.appendMenuItem(tK.MenuId.MenubarSelectionMenu,{group:"4_config",command:{id:tW.ID,title:(0,u.localize)(4730,"Switch to Alt+Click for Multi-Cursor")},when:tz.isEqualTo("ctrlCmd"),order:1}),tK.MenuRegistry.appendMenuItem(tK.MenuId.MenubarSelectionMenu,{group:"4_config",command:{id:tW.ID,title:tF.isMacintosh?(0,u.localize)(4731,"Switch to Cmd+Click for Multi-Cursor"):(0,u.localize)(4732,"Switch to Ctrl+Click for Multi-Cursor")},when:tz.isEqualTo("altKey"),order:1}),e.s([],753725);var tB=j;class tH extends tB.Action2{run(e){let t=e.get(ei.IConfigurationService),i=!t.getValue("editor.renderControlCharacters");return t.updateValue("editor.renderControlCharacters",i)}constructor(){super({id:tH.ID,title:{...(0,u.localize2)(4733,"Toggle Control Characters"),mnemonicTitle:(0,u.localize)(4734,"Render &&Control Characters")},category:Q.Categories.View,f1:!0,toggled:eI.ContextKeyExpr.equals("config.editor.renderControlCharacters",!0),menu:{id:tB.MenuId.MenubarAppearanceMenu,group:"4_editor",order:5}})}}tH.ID="editor.action.toggleRenderControlCharacter",(0,tB.registerAction2)(tH),e.s([],779461);var tU=j;class tG extends tU.Action2{run(e){let t,i=e.get(ei.IConfigurationService);return t="none"===i.getValue("editor.renderWhitespace")?"all":"none",i.updateValue("editor.renderWhitespace",t)}constructor(){super({id:tG.ID,title:{...(0,u.localize2)(4735,"Toggle Render Whitespace"),mnemonicTitle:(0,u.localize)(4736,"&&Render Whitespace")},category:Q.Categories.View,f1:!0,toggled:eI.ContextKeyExpr.notEquals("config.editor.renderWhitespace","none"),menu:{id:tU.MenuId.MenubarAppearanceMenu,group:"4_editor",order:4}})}}tG.ID="editor.action.toggleRenderWhitespace",(0,tU.registerAction2)(tG),e.s([],804810);var tq=e.i(955130),tj=m,tQ=e.i(545731),tY=e.i(815486);_.Registry.add("gutterActionsRegistry",new class{registerGutterActionsGenerator(e){return this._registeredGutterActionsGenerators.add(e),{dispose:()=>{this._registeredGutterActionsGenerators.delete(e)}}}getGutterActionsGenerators(){return Array.from(this._registeredGutterActionsGenerators.values())}constructor(){this._registeredGutterActionsGenerators=new Set}});let tZ=_.Registry.as("gutterActionsRegistry"),tX=((a=class extends tj.Disposable{show(e){this.doShow(e,!0)}doShow(e,t){let i=this.editor.getModel();if(!e.event.rightButton&&!(tF.isMacintosh&&e.event.leftButton&&e.event.ctrlKey)&&!t||e.target.type!==tt.MouseTargetType.GUTTER_LINE_NUMBERS&&e.target.type!==tt.MouseTargetType.GUTTER_GLYPH_MARGIN||!e.target.position||!i)return;let o=e.target.position.lineNumber,n=this.contextKeyService.createOverlay([["editorLineNumber",o]]),r=this.menuService.createMenu(j.MenuId.EditorLineNumberContext,n),s=[];this.instantiationService.invokeFunction(t=>{for(let e of tZ.getGutterActionsGenerators()){let i=new Map;for(let[n,r]of(e({lineNumber:o,editor:this.editor,accessor:t},{push:function(e){var t;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"navigation",n=null!=(t=i.get(o))?t:[];n.push(e),i.set(o,n)}}),i.entries()))s.push([n,r])}s.sort((e,t)=>e[0].localeCompare(t[0]));let n=r.getActions({arg:{lineNumber:o,uri:i.uri},shouldForwardArgs:!0});if(s.push(...n),e.target.type===tt.MouseTargetType.GUTTER_LINE_NUMBERS){let e=this.editor.getSelections(),t={startLineNumber:o,endLineNumber:o,startColumn:1,endColumn:i.getLineLength(o)+1};(null==e?void 0:e.some(e=>!e.isEmpty()&&null!==e.intersectRanges(t)))||this.editor.setSelection(t,tY.TextEditorSelectionSource.PROGRAMMATIC)}this.contextMenuService.showContextMenu({getAnchor:()=>e.event,getActions:()=>tq.Separator.join(...s.map(e=>e[1])),onHide:()=>r.dispose()})})}constructor(e,t,i,o,n){super(),this.editor=e,this.contextMenuService=t,this.menuService=i,this.contextKeyService=o,this.instantiationService=n,this._register(this.editor.onMouseDown(e=>this.doShow(e,!1)))}}).ID="workbench.contrib.editorLineNumberContextMenu",a);tX=(0,c.__decorate)([(0,c.__param)(1,tQ.IContextMenuService),(0,c.__param)(2,Z.IMenuService),(0,c.__param)(3,eo.IContextKeyService),(0,c.__param)(4,b.IInstantiationService)],tX),(0,J.registerEditorContribution)(tX.ID,tX,J.EditorContributionInstantiation.AfterFirstRender),e.s([],906696);var t$=J,tJ=e.i(268850),t0=e.i(883333),t1=e.i(206605),t2=e.i(681408),t3=e.i(976233),t5=m,t4=e.i(657170),t6=e.i(122357),t8=e.i(582006),t9=e.i(749351),t7=e.i(256120),ie=e.i(785310),it=e.i(857717);let ii=(d=l=class extends t5.Disposable{async _updateConfigValues(){await this._extensionService.whenInstalledExtensionsRegistered();let e=[...this._extensionService.extensions];for(let o of(e=e.sort((e,t)=>{var i,o;let n=null==(i=e.categories)?void 0:i.find(e=>"Formatters"===e||"Programming Languages"===e),r=null==(o=t.categories)?void 0:o.find(e=>"Formatters"===e||"Programming Languages"===e);return n&&!r?-1:!n&&r?1:e.name.localeCompare(t.name)}),d.extensionIds.length=0,d.extensionItemLabels.length=0,d.extensionDescriptions.length=0,d.extensionIds.push(null),d.extensionItemLabels.push((0,u.localize)(6730,"None")),d.extensionDescriptions.push((0,u.localize)(6731,"None")),e))if(o.main||o.browser){var t,i;d.extensionIds.push(o.identifier.value),d.extensionItemLabels.push(null!=(t=o.displayName)?t:""),d.extensionDescriptions.push(null!=(i=o.description)?i:"")}}static _maybeQuotes(e){return e.match(/\s/)?"'".concat(e,"'"):e}async _analyzeFormatter(e,t,i){let o=this._configService.getValue(d.configName,{resource:i.uri,overrideIdentifier:i.getLanguageId()});if(o){let n=t.find(e=>t0.ExtensionIdentifier.equals(e.extensionId,o));if(n)return n;let r=await this._extensionService.getExtension(o);if(r&&this._extensionEnablementService.isEnabled((0,t2.toExtension)(r))){let t=this._languageService.getLanguageName(i.getLanguageId())||i.getLanguageId();return e===th.FormattingKind.File?(0,u.localize)(6732,"Extension '{0}' is configured as formatter but it cannot format '{1}'-files",r.displayName||r.name,t):(0,u.localize)(6733,"Extension '{0}' is configured as formatter but it can only format '{1}'-files as a whole, not selections or parts of it.",r.displayName||r.name,t)}}else if(1===t.length)return t[0];let n=this._languageService.getLanguageName(i.getLanguageId())||i.getLanguageId();return o?(0,u.localize)(6735,"Extension '{0}' is configured as formatter but not available. Select a different default formatter to continue.",o):(0,u.localize)(6734,"There are multiple formatters for '{0}' files. One of them should be configured as default formatter.",d._maybeQuotes(n))}async _selectFormatter(e,t,i,o){let n=await this._analyzeFormatter(o,e,t);if("string"!=typeof n)return n;if(i!==th.FormattingMode.Silent){let{confirmed:i}=await this._dialogService.confirm({message:(0,u.localize)(6736,"Configure Default Formatter"),detail:n,primaryButton:(0,u.localize)(6737,"&&Configure...")});if(i)return this._pickAndPersistDefaultFormatter(e,t)}else this._notificationService.prompt(e3.default.Info,n,[{label:(0,u.localize)(6738,"Configure..."),run:()=>this._pickAndPersistDefaultFormatter(e,t)}],{priority:em.NotificationPriority.SILENT})}async _pickAndPersistDefaultFormatter(e,t){let i=e.map((e,t)=>({index:t,label:e.displayName||(e.extensionId?e.extensionId.value:"?"),description:e.extensionId&&e.extensionId.value})),o=this._languageService.getLanguageName(t.getLanguageId())||t.getLanguageId(),n=await this._quickInputService.pick(i,{placeHolder:(0,u.localize)(6739,"Select a default formatter for '{0}' files",d._maybeQuotes(o))});if(n&&e[n.index].extensionId)return this._configService.updateValue(d.configName,e[n.index].extensionId.value,{resource:t.uri,overrideIdentifier:t.getLanguageId()}),e[n.index]}_updateStatus(){this._languageStatusStore.clear();let e=(0,tt.getCodeEditor)(this._editorService.activeTextEditorControl);if(!e||!e.hasModel())return;let t=e.getModel(),i=(0,th.getRealAndSyntheticDocumentFormattersOrdered)(this._languageFeaturesService.documentFormattingEditProvider,this._languageFeaturesService.documentRangeFormattingEditProvider,t);if(0===i.length)return;let o=new ec.CancellationTokenSource;this._languageStatusStore.add((0,t5.toDisposable)(()=>o.dispose(!0))),this._analyzeFormatter(th.FormattingKind.File,i,t).then(e=>{if(o.token.isCancellationRequested||"string"!=typeof e)return;let n={id:"formatter/configure/dfl/".concat((0,it.generateUuid)()),title:(0,u.localize)(6740,"Configure...")};this._languageStatusStore.add(ie.CommandsRegistry.registerCommand(n.id,()=>this._pickAndPersistDefaultFormatter(i,t))),this._languageStatusStore.add(this._languageStatusService.addStatus({id:"formatter.conflict",name:(0,u.localize)(6741,"Formatter Conflicts"),selector:{language:t.getLanguageId(),pattern:t.uri.fsPath},severity:e3.default.Error,label:(0,u.localize)(6742,"Formatting"),detail:e,busy:!1,source:"",command:n,accessibilityInfo:void 0}))})}constructor(e,t,i,o,n,r,s,a,l,c){super(),this._extensionService=e,this._extensionEnablementService=t,this._configService=i,this._notificationService=o,this._dialogService=n,this._quickInputService=r,this._languageService=s,this._languageFeaturesService=a,this._languageStatusService=l,this._editorService=c,this._languageStatusStore=this._store.add(new t5.DisposableStore),this._store.add(this._extensionService.onDidChangeExtensions(this._updateConfigValues,this)),this._store.add(th.FormattingConflicts.setFormatterSelector((e,t,i,o)=>this._selectFormatter(e,t,i,o))),this._store.add(c.onDidActiveEditorChange(this._updateStatus,this)),this._store.add(a.documentFormattingEditProvider.onDidChange(this._updateStatus,this)),this._store.add(a.documentRangeFormattingEditProvider.onDidChange(this._updateStatus,this)),this._store.add(i.onDidChangeConfiguration(e=>e.affectsConfiguration(d.configName)&&this._updateStatus())),this._updateConfigValues()}},l.configName="editor.defaultFormatter",l.extensionIds=[],l.extensionItemLabels=[],l.extensionDescriptions=[],l);function io(e,t,i,o){function n(e){return e.extensionId?t0.ExtensionIdentifier.toKey(e.extensionId):"unknown"}e.publicLog2("formatterpick",{mode:t,extensions:i.map(n),pick:o?n(o):"none"})}async function ir(e,t,i){let o,n=e.get(tJ.IQuickInputService),r=e.get(ei.IConfigurationService),s=e.get(t4.ILanguageService),a={resource:t.uri,overrideIdentifier:t.getLanguageId()},l=r.getValue(ii.configName,a),d=i.map((e,t)=>{let i=t0.ExtensionIdentifier.equals(e.extensionId,l),n={index:t,label:e.displayName||"",description:i?(0,u.localize)(6744,"(default)"):void 0};return i&&(o=n),n}),c={label:(0,u.localize)(6745,"Configure Default Formatter...")},h=await n.pick([...d,{type:"separator"},c],{placeHolder:(0,u.localize)(6746,"Select a formatter"),activeItem:o});if(h){if(h!==c)return h.index;{let e=s.getLanguageName(t.getLanguageId())||t.getLanguageId(),o=await n.pick(d,{placeHolder:(0,u.localize)(6739,"Select a default formatter for '{0}' files",ii._maybeQuotes(e))});o&&i[o.index].extensionId&&r.updateValue(ii.configName,i[o.index].extensionId.value,a);return}}}ii=d=(0,c.__decorate)([(0,c.__param)(0,t3.IExtensionService),(0,c.__param)(1,t6.IWorkbenchExtensionEnablementService),(0,c.__param)(2,ei.IConfigurationService),(0,c.__param)(3,en.INotificationService),(0,c.__param)(4,t9.IDialogService),(0,c.__param)(5,tJ.IQuickInputService),(0,c.__param)(6,t4.ILanguageService),(0,c.__param)(7,td.ILanguageFeaturesService),(0,c.__param)(8,t7.ILanguageStatusService),(0,c.__param)(9,e2.IEditorService)],ii),_.Registry.as(C.Extensions.Workbench).registerWorkbenchContribution(ii,tI.LifecyclePhase.Restored),_.Registry.as(t1.Extensions.Configuration).registerConfiguration({...t8.editorConfigurationBaseNode,properties:{[ii.configName]:{description:(0,u.localize)(6743,"Defines a default formatter which takes precedence over all other formatter settings. Must be the identifier of an extension contributing a formatter."),type:["string","null"],default:null,enum:ii.extensionIds,enumItemLabels:ii.extensionItemLabels,markdownEnumDescriptions:ii.extensionDescriptions}}}),(0,t$.registerEditorAction)(class extends t$.EditorAction{async run(e,t,i){if(!t.hasModel())return;let o=e.get(b.IInstantiationService),n=e.get(tm.ITelemetryService),r=e.get(td.ILanguageFeaturesService),s=t.getModel(),a=(0,th.getRealAndSyntheticDocumentFormattersOrdered)(r.documentFormattingEditProvider,r.documentRangeFormattingEditProvider,s),l=await o.invokeFunction(ir,s,a);"number"==typeof l&&await o.invokeFunction(th.formatDocumentWithProvider,a[l],t,th.FormattingMode.Explicit,ec.CancellationToken.None),io(n,"document",a,"number"==typeof l&&a[l]||void 0)}constructor(){super({id:"editor.action.formatDocument.multiple",label:(0,u.localize)(6747,"Format Document With..."),alias:"Format Document...",precondition:eI.ContextKeyExpr.and(ew.EditorContextKeys.writable,ew.EditorContextKeys.hasMultipleDocumentFormattingProvider),contextMenuOpts:{group:"1_modification",order:1.3}})}}),(0,t$.registerEditorAction)(class extends t$.EditorAction{async run(e,t){if(!t.hasModel())return;let i=e.get(b.IInstantiationService),o=e.get(td.ILanguageFeaturesService),n=e.get(tm.ITelemetryService),r=t.getModel(),s=t.getSelection();s.isEmpty()&&(s=new to.Range(s.startLineNumber,1,s.startLineNumber,r.getLineMaxColumn(s.startLineNumber)));let a=o.documentRangeFormattingEditProvider.ordered(r),l=await i.invokeFunction(ir,r,a);"number"==typeof l&&await i.invokeFunction(th.formatDocumentRangesWithProvider,a[l],t,s,ec.CancellationToken.None,!0),io(n,"range",a,"number"==typeof l&&a[l]||void 0)}constructor(){super({id:"editor.action.formatSelection.multiple",label:(0,u.localize)(6748,"Format Selection With..."),alias:"Format Code...",precondition:eI.ContextKeyExpr.and(eI.ContextKeyExpr.and(ew.EditorContextKeys.writable),ew.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider),contextMenuOpts:{when:eI.ContextKeyExpr.and(ew.EditorContextKeys.hasNonEmptySelection),group:"1_modification",order:1.31}})}}),e.s([],676101);var is=J,ia=e.i(439351);(0,is.registerEditorAction)(class extends is.EditorAction{async run(e,t){if(!t.hasModel())return;let i=e.get(eq.ICommandService),o=e.get(ia.IExtensionsWorkbenchService),n=e.get(en.INotificationService),r=e.get(t9.IDialogService),s=e.get(td.ILanguageFeaturesService),a=t.getModel(),l=s.documentFormattingEditProvider.all(a).length;if(l>1)return i.executeCommand("editor.action.formatDocument.multiple");if(1===l)return i.executeCommand("editor.action.formatDocument");if(a.isTooLargeForSyncing())n.warn((0,u.localize)(6750,"This file cannot be formatted because it is too large"));else{let e=a.getLanguageId(),t=(0,u.localize)(6751,"There is no formatter for '{0}' files installed.",e),{confirmed:i}=await r.confirm({message:t,primaryButton:(0,u.localize)(6752,"&&Install Formatter...")});i&&o.openSearch("category:formatters ".concat(e))}}constructor(){super({id:"editor.action.formatDocument.none",label:(0,u.localize2)(6749,"Format Document"),precondition:eI.ContextKeyExpr.and(ew.EditorContextKeys.writable,ew.EditorContextKeys.hasDocumentFormattingProvider.toNegated()),kbOpts:{kbExpr:ew.EditorContextKeys.editorTextFocus,primary:eC.KeyMod.Shift|eC.KeyMod.Alt|eC.KeyCode.KeyF,linux:{primary:eC.KeyMod.CtrlCmd|eC.KeyMod.Shift|eC.KeyCode.KeyI},weight:ex.KeybindingWeight.EditorContrib}})}}),e.s([],364316)},158367,e=>{"use strict";let t="editor.semanticHighlighting";function i(e,i,o){var n;let r=null==(n=o.getValue(t,{overrideIdentifier:e.getLanguageId(),resource:e.uri}))?void 0:n.enabled;return"boolean"==typeof r?r:i.getColorTheme().semanticHighlighting}e.s(["SEMANTIC_HIGHLIGHTING_SETTING_ID",()=>t,"isSemanticColoringEnabled",()=>i])},430771,e=>{"use strict";var t=e.i(308165),i=e.i(383962),o=e.i(166253),n=e.i(352700),r=e.i(268850),s=e.i(436120),a=e.i(309187),l=e.i(380755),d=e.i(810602);let c="inQuickOpen",u=new o.RawContextKey(c,!1,(0,i.localize)(3397,"Whether keyboard focus is inside the quick open control")),h=o.ContextKeyExpr.has(c),p="inFilesPicker";function g(e,t){return i=>{let o=i.get(n.IKeybindingService),s=i.get(r.IQuickInputService),a=o.lookupKeybindings(e);s.navigate(!!t,{keybindings:a})}}o.ContextKeyExpr.and(h,o.ContextKeyExpr.has(p));let m=class extends s.Disposable{set(){if(this._editorViewState)return;let e=this.editorService.activeEditorPane;if(e){var t,i;this._editorViewState={group:e.group,editor:e.input,state:null!=(i=null==(t=(0,a.getIEditor)(e.getControl()))?void 0:t.saveViewState())?i:void 0}}}async openTransientEditor(e,t){var i;e.options={...e.options,transient:!0};let o=await this.editorService.openEditor(e,t);return(null==o?void 0:o.input)&&o.input!==(null==(i=this._editorViewState)?void 0:i.editor)&&o.group.isTransient(o.input)&&this.openedTransientEditors.add(o.input),o}async restore(){if(this._editorViewState){for(let e of this.openedTransientEditors)if(!e.isDirty())for(let t of this.editorGroupsService.groups)t.isTransient(e)&&await t.closeEditor(e,{preserveFocus:!0});await this._editorViewState.group.openEditor(this._editorViewState.editor,{viewState:this._editorViewState.state,preserveFocus:!0}),this.reset()}}reset(){this._editorViewState=void 0,this.openedTransientEditors.clear()}dispose(){super.dispose(),this.reset()}constructor(e,t){super(),this.editorService=e,this.editorGroupsService=t,this._editorViewState=void 0,this.openedTransientEditors=new Set}};m=(0,t.__decorate)([(0,t.__param)(0,d.IEditorService),(0,t.__param)(1,l.IEditorGroupsService)],m),e.s(["InQuickPickContextKey",()=>u,"PickerEditorState",()=>m,"defaultQuickAccessContextKeyValue",()=>p,"getQuickNavigateHandler",()=>g,"inQuickPickContext",()=>h])},994633,393662,71252,659199,e=>{"use strict";class t{calculateScores(e,t){let i=this.computeEmbedding(e),o=new Map,n=[];for(let[e,r]of this.documents){if(t.isCancellationRequested)return[];for(let t of r.chunks){let r=this.computeSimilarityScore(t,i,o);r>0&&n.push({key:e,score:r})}}return n}static termFrequencies(e){var i,o=t.splitTerms(e);let n=new Map;for(let e of o)n.set(e,(null!=(i=n.get(e))?i:0)+1);return n}static*splitTerms(e){let t=e=>e.toLowerCase();for(let[i]of e.matchAll(RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield t(i);let e=i.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(e.length>1)for(let i of e)i.length>2&&RegExp("\\p{Letter}{3,}","gu").test(i)&&(yield t(i))}}updateDocuments(e){for(let{key:t}of e)this.deleteDocument(t);for(let o of e){let e=[];for(let n of o.textChunks){let o=t.termFrequencies(n);for(let e of o.keys()){var i;this.chunkOccurrences.set(e,(null!=(i=this.chunkOccurrences.get(e))?i:0)+1)}e.push({text:n,tf:o})}this.chunkCount+=e.length,this.documents.set(o.key,{chunks:e})}return this}deleteDocument(e){let t=this.documents.get(e);if(t)for(let i of(this.documents.delete(e),this.chunkCount-=t.chunks.length,t.chunks))for(let e of i.tf.keys()){let t=this.chunkOccurrences.get(e);if("number"==typeof t){let i=t-1;i<=0?this.chunkOccurrences.delete(e):this.chunkOccurrences.set(e,i)}}}computeSimilarityScore(e,t,i){let o=0;for(let[n,r]of Object.entries(t)){let t=e.tf.get(n);if(!t)continue;let s=i.get(n);"number"!=typeof s&&(s=this.computeIdf(n),i.set(n,s)),o+=t*s*r}return o}computeEmbedding(e){let i=t.termFrequencies(e);return this.computeTfidf(i)}computeIdf(e){var t;let i=null!=(t=this.chunkOccurrences.get(e))?t:0;return i>0?Math.log((this.chunkCount+1)/i):0}computeTfidf(e){let t=Object.create(null);for(let[i,o]of e){let e=this.computeIdf(i);e>0&&(t[i]=o*e)}return t}constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}}function i(e){var t,i;let o=e.slice(0);o.sort((e,t)=>t.score-e.score);let n=null!=(i=null==(t=o[0])?void 0:t.score)?i:0;if(n>0)for(let e of o)e.score/=n;return o}e.s(["TfIdfCalculator",()=>t,"normalizeTfIdfScores",()=>i],994633),function(e){e[e.SymbolInformation=1]="SymbolInformation",e[e.CommandInformation=2]="CommandInformation",e[e.SearchInformation=3]="SearchInformation",e[e.SettingInformation=4]="SettingInformation"}(o||(o={})),e.s(["RelatedInformationType",()=>o],393662);var o,n,r=e.i(308165),s=e.i(383962),a=e.i(68858),l=e.i(448493),d=e.i(509592),c=e.i(951806),u=e.i(808363),h=e.i(8114),p=e.i(557582),g=e.i(352700),m=e.i(190566),v=e.i(785310),_=e.i(710252);function f(e){let t=[],i=new Map,o=(o,n)=>{if(!i.has(o)){if((i.set(o,!0),"_"!==o[0]&&0!==o.indexOf("vscode."))&&!0!==e.get(o)){if(!n){let e=v.CommandsRegistry.getCommand(o);if(e&&"object"==typeof e.metadata&&(0,a.isNonEmptyArray)(e.metadata.args))return}t.push(o)}}};for(let e of h.MenuRegistry.getMenuItems(h.MenuId.CommandPalette))(0,h.isIMenuItem)(e)&&o(e.command.id,!0);for(let e of _.EditorExtensionsRegistry.getEditorActions())o(e.id,!0);for(let e of v.CommandsRegistry.getCommands().keys())o(e,!1);return t}e.s(["getAllUnboundCommands",()=>f],71252);var y=e.i(839435),C=e.i(976233),b=e.i(883333),S=e.i(166253);let w="keybinding.entry.template",E=(0,s.localize)(11683,"System"),I=(0,s.localize)(11684,"Extension"),x=(0,s.localize)(11685,"User");function D(e,t){return"@command:".concat(e).concat(t?" +when:".concat(t):"")}let k=(0,c.or)(c.matchesPrefix,c.matchesWords,c.matchesContiguousSubString),A=/@command:\s*([^\+]+)/i,M=/\+when:\s*(.+)/i,L=/@source:\s*(user|default|system|extension)/i,T=/@ext:\s*((".+")|([^\s]+))/i,R=/@keybinding:\s*((\".+\")|(\S+))/i,N=n=class extends p.EditorModel{fetch(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t?this._keybindingItemsSortedByPrecedence:this._keybindingItems,o=A.exec(e);if(o&&o[1]){let t=o[1].trim(),r=i.filter(e=>e.command===t);if(r.length){let i=M.exec(e);if(i&&i[1]){let e=i[1].trim();r=this.filterByWhen(r,t,e)}}return r.map(e=>({id:n.getId(e),keybindingItem:e,templateId:w}))}if(L.test(e))i=this.filterBySource(i,e),e=e.replace(L,"");else{let t=T.exec(e);if(t&&(t[2]||t[3])){let o=t[2]?t[2].substring(1,t[2].length-1):t[3];i=this.filterByExtension(i,o),e=e.replace(T,"")}else{let t=R.exec(e);t&&(t[2]||t[3])&&(e=t[2]||'"'.concat(t[3],'"'))}}return(e=e.trim())?this.filterByText(i,e):i.map(e=>({id:n.getId(e),keybindingItem:e,templateId:w}))}filterBySource(e,t){return/@source:\s*default/i.test(t)||/@source:\s*system/i.test(t)?e.filter(e=>e.source===E):/@source:\s*user/i.test(t)?e.filter(e=>e.source===x):/@source:\s*extension/i.test(t)?e.filter(e=>!(0,y.isString)(e.source)||e.source===I):e}filterByExtension(e,t){return t=t.toLowerCase().trim(),e.filter(e=>{var i;return!(0,y.isString)(e.source)&&(b.ExtensionIdentifier.equals(e.source.identifier,t)||(null==(i=e.source.displayName)?void 0:i.toLowerCase())===t.toLowerCase())})}filterByText(e,t){let i='"'===t.charAt(0),o='"'===t.charAt(t.length-1),r=i&&o;i&&(t=t.substring(1)),o&&(t=t.substring(0,t.length-1));let s=[],a=(t=t.trim()).split(" "),l=this.splitKeybindingWords(a);for(let i of e){let e=new P(this.modifierLabels,i,t,a,l,r);(e.commandIdMatches||e.commandLabelMatches||e.commandDefaultLabelMatches||e.sourceMatches||e.whenMatches||e.keybindingMatches||e.extensionIdMatches||e.extensionLabelMatches)&&s.push({id:n.getId(i),templateId:w,commandLabelMatches:e.commandLabelMatches||void 0,commandDefaultLabelMatches:e.commandDefaultLabelMatches||void 0,keybindingItem:i,keybindingMatches:e.keybindingMatches||void 0,commandIdMatches:e.commandIdMatches||void 0,sourceMatches:e.sourceMatches||void 0,whenMatches:e.whenMatches||void 0,extensionIdMatches:e.extensionIdMatches||void 0,extensionLabelMatches:e.extensionLabelMatches||void 0})}return s}filterByWhen(e,t,i){if(0===e.length)return[];let o=e.filter(e=>e.when===i);if(o.length)return o;let r=e[0].commandLabel,s=new m.ResolvedKeybindingItem(void 0,t,null,S.ContextKeyExpr.deserialize(i),!1,null,!1),a=new Map([[t,r]]);return[n.toKeybindingEntry(t,s,a,this.getExtensionsMapping())]}splitKeybindingWords(e){let t=[];for(let i of e)t.push(...(0,a.coalesce)(i.split("+")));return t}async resolve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=this.getExtensionsMapping();this._keybindingItemsSortedByPrecedence=[];let i=new Map;for(let o of this.keybindingsService.getKeybindings())o.command&&(this._keybindingItemsSortedByPrecedence.push(n.toKeybindingEntry(o.command,o,e,t)),i.set(o.command,!0));let o=this.keybindingsService.getDefaultKeybindings().map(e=>e.command);for(let r of f(i)){let i=new m.ResolvedKeybindingItem(void 0,r,null,void 0,-1===o.indexOf(r),null,!1);this._keybindingItemsSortedByPrecedence.push(n.toKeybindingEntry(r,i,e,t))}return this._keybindingItemsSortedByPrecedence=(0,a.distinct)(this._keybindingItemsSortedByPrecedence,e=>n.getId(e)),this._keybindingItems=this._keybindingItemsSortedByPrecedence.slice(0).sort((e,t)=>n.compareKeybindingData(e,t)),super.resolve()}static getId(e){var t,i;return e.command+(null!=(i=null==e||null==(t=e.keybinding)?void 0:t.getAriaLabel())?i:"")+e.when+((0,y.isString)(e.source)?e.source:e.source.identifier.value)}getExtensionsMapping(){let e=new b.ExtensionIdentifierMap;for(let t of this.extensionService.extensions)e.set(t.identifier,t);return e}static compareKeybindingData(e,t){return e.keybinding&&!t.keybinding?-1:t.keybinding&&!e.keybinding?1:e.commandLabel&&!t.commandLabel?-1:t.commandLabel&&!e.commandLabel?1:e.commandLabel&&t.commandLabel&&e.commandLabel!==t.commandLabel?e.commandLabel.localeCompare(t.commandLabel):e.command===t.command?e.keybindingItem.isDefault?1:-1:e.command.localeCompare(t.command)}static toKeybindingEntry(e,t,i,o){let r=h.MenuRegistry.getCommand(e),s=i.get(e),a=x;if(t.isDefault){var l,d,c;let e=null!=(d=t.extensionId)?d:t.resolvedKeybinding||null==r||null==(l=r.source)?void 0:l.id;a=e?null!=(c=o.get(e))?c:I:E}return{keybinding:t.resolvedKeybinding,keybindingItem:t,command:e,commandLabel:n.getCommandLabel(r,s),commandDefaultLabel:n.getCommandDefaultLabel(r),when:t.when?t.when.serialize():"",source:a}}static getCommandDefaultLabel(e){if(!d.Language.isDefaultVariant()&&e&&e.title&&e.title.original){let t=e.category?e.category.original:void 0,i=e.title.original;return t?(0,s.localize)(11686,"{0}: {1}",t,i):i}return null}static getCommandLabel(e,t){if(e){let t=e.category?"string"==typeof e.category?e.category:e.category.value:void 0,i="string"==typeof e.title?e.title:e.title.value;return t?(0,s.localize)(11686,"{0}: {1}",t,i):i}return t||""}constructor(e,t,i){super(),this.keybindingsService=t,this.extensionService=i,this._keybindingItems=[],this._keybindingItemsSortedByPrecedence=[],this.modifierLabels={ui:u.UILabelProvider.modifierLabels[e],aria:u.AriaLabelProvider.modifierLabels[e],user:u.UserSettingsLabelProvider.modifierLabels[e]}}};N=n=(0,r.__decorate)([(0,r.__param)(1,g.IKeybindingService),(0,r.__param)(2,C.IExtensionService)],N);class P{matches(e,t,i,o){let n=e?k(e,t):null;return n||(n=this.matchesWords(o,t,i)),n&&(n=this.filterAndSort(n)),n}matchesWords(e,t,i){let o=[];for(let n of e){let e=i(n,t);if(e)o=[...o||[],...e];else{o=null;break}}return o}filterAndSort(e){return(0,a.distinct)(e,e=>e.start+"."+e.end).filter(t=>!e.some(e=>(e.start!==t.start||e.end!==t.end)&&e.start<=t.start&&e.end>=t.end)).sort((e,t)=>e.start-t.start)}matchesKeybinding(e,t,i,o){let[n,r]=e.getChords(),s=e.getUserSettingsLabel(),a=e.getAriaLabel(),d=e.getLabel();if(s&&0===(0,l.compareIgnoreCase)(t,s)||a&&0===(0,l.compareIgnoreCase)(t,a)||d&&0===(0,l.compareIgnoreCase)(t,d))return{firstPart:this.createCompleteMatch(n),chordPart:this.createCompleteMatch(r)};let c={},u={},h=[],p=[],g=[],m=!0;for(let e=0;e<i.length;e++){let t=i[e],s=!1,a=!1;m=m&&!c.keyCode;let l=!u.keyCode;if(m&&(s=this.matchPart(n,c,t,o),c.keyCode)){for(let e of g)-1===p.indexOf(e)&&h.splice(h.indexOf(e),1);u={},g=[],l=!1}l&&(a=this.matchPart(r,u,t,o)),s&&p.push(e),a&&g.push(e),(s||a)&&h.push(e),m=m&&this.isModifier(t)}return h.length===i.length&&(!o||this.isCompleteMatch(n,c)&&((0,y.isEmptyObject)(u)||this.isCompleteMatch(r,u)))?this.hasAnyMatch(c)||this.hasAnyMatch(u)?{firstPart:c,chordPart:u}:null:null}matchPart(e,t,i,o){let n=!1;return this.matchesMetaModifier(e,i)&&(n=!0,t.metaKey=!0),this.matchesCtrlModifier(e,i)&&(n=!0,t.ctrlKey=!0),this.matchesShiftModifier(e,i)&&(n=!0,t.shiftKey=!0),this.matchesAltModifier(e,i)&&(n=!0,t.altKey=!0),this.matchesKeyCode(e,i,o)&&(t.keyCode=!0,n=!0),n}matchesKeyCode(e,t,i){if(!e)return!1;let o=e.keyAriaLabel||"";if(i||1===o.length||1===t.length){if(0===(0,l.compareIgnoreCase)(o,t))return!0}else if((0,c.matchesContiguousSubString)(t,o))return!0;return!1}matchesMetaModifier(e,t){return!!e&&!!e.metaKey&&this.wordMatchesMetaModifier(t)}matchesCtrlModifier(e,t){return!!e&&!!e.ctrlKey&&this.wordMatchesCtrlModifier(t)}matchesShiftModifier(e,t){return!!e&&!!e.shiftKey&&this.wordMatchesShiftModifier(t)}matchesAltModifier(e,t){return!!e&&!!e.altKey&&this.wordMatchesAltModifier(t)}hasAnyMatch(e){return!!e.altKey||!!e.ctrlKey||!!e.metaKey||!!e.shiftKey||!!e.keyCode}isCompleteMatch(e,t){return!e||!!t.keyCode&&(!e.metaKey||!!t.metaKey)&&(!e.altKey||!!t.altKey)&&(!e.ctrlKey||!!t.ctrlKey)&&(!e.shiftKey||!!t.shiftKey)}createCompleteMatch(e){let t={};return e&&(t.keyCode=!0,e.metaKey&&(t.metaKey=!0),e.altKey&&(t.altKey=!0),e.ctrlKey&&(t.ctrlKey=!0),e.shiftKey&&(t.shiftKey=!0)),t}isModifier(e){return!!(this.wordMatchesAltModifier(e)||this.wordMatchesCtrlModifier(e)||this.wordMatchesMetaModifier(e)||this.wordMatchesShiftModifier(e))}wordMatchesAltModifier(e){return!!((0,l.equalsIgnoreCase)(this.modifierLabels.ui.altKey,e)||(0,l.equalsIgnoreCase)(this.modifierLabels.aria.altKey,e)||(0,l.equalsIgnoreCase)(this.modifierLabels.user.altKey,e)||(0,l.equalsIgnoreCase)((0,s.localize)(11687,"option"),e))}wordMatchesCtrlModifier(e){return!!((0,l.equalsIgnoreCase)(this.modifierLabels.ui.ctrlKey,e)||(0,l.equalsIgnoreCase)(this.modifierLabels.aria.ctrlKey,e)||(0,l.equalsIgnoreCase)(this.modifierLabels.user.ctrlKey,e))}wordMatchesMetaModifier(e){return!!((0,l.equalsIgnoreCase)(this.modifierLabels.ui.metaKey,e)||(0,l.equalsIgnoreCase)(this.modifierLabels.aria.metaKey,e)||(0,l.equalsIgnoreCase)(this.modifierLabels.user.metaKey,e)||(0,l.equalsIgnoreCase)((0,s.localize)(11688,"meta"),e))}wordMatchesShiftModifier(e){return!!((0,l.equalsIgnoreCase)(this.modifierLabels.ui.shiftKey,e)||(0,l.equalsIgnoreCase)(this.modifierLabels.aria.shiftKey,e)||(0,l.equalsIgnoreCase)(this.modifierLabels.user.shiftKey,e))}constructor(e,t,i,o,n,r){this.modifierLabels=e,this.commandIdMatches=null,this.commandLabelMatches=null,this.commandDefaultLabelMatches=null,this.sourceMatches=null,this.whenMatches=null,this.keybindingMatches=null,this.extensionIdMatches=null,this.extensionLabelMatches=null,r||(this.commandIdMatches=this.matches(i,t.command,(0,c.or)(c.matchesWords,c.matchesCamelCase),o),this.commandLabelMatches=t.commandLabel?this.matches(i,t.commandLabel,(e,i)=>(0,c.matchesWords)(e,t.commandLabel,!0),o):null,this.commandDefaultLabelMatches=t.commandDefaultLabel?this.matches(i,t.commandDefaultLabel,(e,i)=>(0,c.matchesWords)(e,t.commandDefaultLabel,!0),o):null,this.whenMatches=t.when?this.matches(null,t.when,(0,c.or)(c.matchesWords,c.matchesCamelCase),o):null,(0,y.isString)(t.source)?this.sourceMatches=this.matches(i,t.source,(e,i)=>(0,c.matchesWords)(e,t.source,!0),o):this.extensionLabelMatches=t.source.displayName?this.matches(i,t.source.displayName,(e,i)=>(0,c.matchesWords)(e,t.commandLabel,!0),o):null),this.keybindingMatches=t.keybinding?this.matchesKeybinding(t.keybinding,i,n,r):null}}e.s(["KEYBINDING_ENTRY_TEMPLATE_ID",()=>w,"KeybindingsEditorModel",()=>N,"createKeybindingCommandQuery",()=>D],659199)},565323,71786,49811,197379,817061,561126,967226,974317,734709,1010,92121,199511,591921,329381,259206,860906,647564,547184,267026,609746,977574,814793,e=>{"use strict";let t=[];function i(e){t.push(e)}function o(){return t.slice(0)}e.s(["getEditorFeatures",()=>o,"registerEditorFeature",()=>i],565323),e.s(["showWindowLogActionId",()=>"workbench.action.showWindowLog","windowLogId",()=>"rendererLog"],71786);var n,r,s,a,l,d,c,u,h,p,g,m,v,_,f,y,C,b,S,w,E,I,x,D,k,A=e.i(395806),M=e.i(332217),L=e.i(436120),T=e.i(521549);(0,T.default)(".monaco-editor .bracket-match{background-color:var(--vscode-editorBracketMatch-background);border:1px solid var(--vscode-editorBracketMatch-border);box-sizing:border-box}",{});var R=e.i(710252),N=e.i(918299),P=e.i(747053),O=e.i(475424),F=e.i(91418),K=e.i(716526),W=e.i(13310),z=e.i(341541),V=e.i(383962),B=e.i(8114),H=e.i(564485),U=e.i(945588),G=e.i(786480);e.i(184765);var q=e.i(537397),j=e.i(765809);e.i(491481),e.i(827678);var Q=e.i(789672);e.i(847307),e.i(491120),e.i(165071);var Y=e.i(307955);let Z=(0,U.registerColor)("editorOverviewRuler.bracketMatchForeground","#A0A0A0",(0,V.localize)(827,"Overview ruler marker color for matching brackets."));class X extends R.EditorAction{run(e,t){var i;null==(i=et.get(t))||i.jumpToBracket()}constructor(){super({id:"editor.action.jumpToBracket",label:(0,V.localize2)(828,"Go to Bracket"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:M.KeyMod.CtrlCmd|M.KeyMod.Shift|M.KeyCode.Backslash,weight:H.KeybindingWeight.EditorContrib}})}}class $ extends R.EditorAction{run(e,t,i){var o;let n=!0;i&&!1===i.selectBrackets&&(n=!1),null==(o=et.get(t))||o.selectToBracket(n)}constructor(){super({id:"editor.action.selectToBracket",label:(0,V.localize2)(829,"Select to Bracket"),precondition:void 0,metadata:{description:(0,V.localize2)(830,"Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}}class J extends R.EditorAction{run(e,t){var i;null==(i=et.get(t))||i.removeBrackets(this.id)}constructor(){super({id:"editor.action.removeBrackets",label:(0,V.localize2)(831,"Remove Brackets"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:M.KeyMod.CtrlCmd|M.KeyMod.Alt|M.KeyCode.Backspace,weight:H.KeybindingWeight.EditorContrib}})}}class ee{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class et extends L.Disposable{static get(e){return e.getContribution(et.ID)}jumpToBracket(){if(!this._editor.hasModel())return;let e=this._editor.getModel(),t=this._editor.getSelections().map(t=>{let i=t.getStartPosition(),o=e.bracketPairs.matchBracket(i),n=null;if(o)o[0].containsPosition(i)&&!o[1].containsPosition(i)?n=o[1].getStartPosition():o[1].containsPosition(i)&&(n=o[0].getStartPosition());else{let t=e.bracketPairs.findEnclosingBrackets(i);if(t)n=t[1].getStartPosition();else{let t=e.bracketPairs.findNextBracket(i);t&&t.range&&(n=t.range.getStartPosition())}}return n?new F.Selection(n.lineNumber,n.column,n.lineNumber,n.column):new F.Selection(i.lineNumber,i.column,i.lineNumber,i.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;let t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(o=>{let n=o.getStartPosition(),r=t.bracketPairs.matchBracket(n);if(!r&&!(r=t.bracketPairs.findEnclosingBrackets(n))){let e=t.bracketPairs.findNextBracket(n);e&&e.range&&(r=t.bracketPairs.matchBracket(e.range.getStartPosition()))}let s=null,a=null;if(r){r.sort(O.Range.compareRangesUsingStarts);let[t,i]=r;if(s=e?t.getStartPosition():t.getEndPosition(),a=e?i.getEndPosition():i.getStartPosition(),i.containsPosition(n)){let e=s;s=a,a=e}}s&&a&&i.push(new F.Selection(s.lineNumber,s.column,a.lineNumber,a.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}removeBrackets(e){if(!this._editor.hasModel())return;let t=this._editor.getModel();this._editor.getSelections().forEach(i=>{let o=i.getPosition(),n=t.bracketPairs.matchBracket(o);n||(n=t.bracketPairs.findEnclosingBrackets(o)),n&&(this._editor.pushUndoStop(),this._editor.executeEdits(e,[{range:n[0],text:""},{range:n[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(let i of this._lastBracketsData){let o=i.brackets;o&&(e[t++]={range:o[0],options:i.options},e[t++]={range:o[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}let e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}let t=this._editor.getModel(),i=t.getVersionId(),o=[];this._lastVersionId===i&&(o=this._lastBracketsData);let n=[],r=0;for(let t=0,i=e.length;t<i;t++){let i=e[t];i.isEmpty()&&(n[r++]=i.getStartPosition())}n.length>1&&n.sort(P.Position.compare);let s=[],a=0,l=0,d=o.length;for(let e=0,i=n.length;e<i;e++){let i=n[e];for(;l<d&&o[l].position.isBefore(i);)l++;if(l<d&&o[l].position.equals(i))s[a++]=o[l];else{let e=t.bracketPairs.matchBracket(i,20),o=et._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;e||"always"!==this._matchBrackets||(e=t.bracketPairs.findEnclosingBrackets(i,20),o=et._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),s[a++]=new ee(i,e,o)}}this._lastBracketsData=s,this._lastVersionId=i}constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new A.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(N.EditorOption.matchBrackets),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(N.EditorOption.matchBrackets)&&(this._matchBrackets=this._editor.getOption(N.EditorOption.matchBrackets),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}}et.ID="editor.contrib.bracketMatchingController",et._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=z.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"bracket-match",overviewRuler:{color:(0,Y.themeColorFromId)(Z),position:W.OverviewRulerLane.Center}}),et._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=z.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"bracket-match"}),(0,R.registerEditorContribution)(et.ID,et,R.EditorContributionInstantiation.AfterFirstRender),(0,R.registerEditorAction)($),(0,R.registerEditorAction)(X),(0,R.registerEditorAction)(J),B.MenuRegistry.appendMenuItem(B.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:(0,V.localize)(832,"Go to &&Bracket")},order:2}),e.s(["BracketMatchingController",()=>et],49811);var ei=e.i(110976),eo=e.i(141212),en=e.i(509592),er=e.i(68174),es=e.i(166253),ea=e.i(768412),el=e.i(379835),ed=R,ec=e.i(247921),eu=e.i(236924),eh=e.i(176921);let ep="9_cutcopypaste",eg=en.isNative||document.queryCommandSupported("cut"),em=en.isNative||document.queryCommandSupported("copy"),ev=void 0!==navigator.clipboard&&!ei.isFirefox||document.queryCommandSupported("paste");function e_(e){return e.register(),e}let ef=eg?e_(new ed.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:en.isNative?{primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyX,win:{primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyX,secondary:[M.KeyMod.Shift|M.KeyCode.Delete]},weight:H.KeybindingWeight.EditorContrib}:void 0,menuOpts:[{menuId:B.MenuId.MenubarEditMenu,group:"2_ccp",title:(0,V.localize)(836,"Cu&&t"),order:1},{menuId:B.MenuId.EditorContext,group:ep,title:(0,V.localize)(837,"Cut"),when:K.EditorContextKeys.writable,order:1},{menuId:B.MenuId.CommandPalette,group:"",title:(0,V.localize)(837,"Cut"),order:1},{menuId:B.MenuId.SimpleEditorContext,group:ep,title:(0,V.localize)(837,"Cut"),when:K.EditorContextKeys.writable,order:1}]})):void 0,ey=em?e_(new ed.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:en.isNative?{primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyC,win:{primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyC,secondary:[M.KeyMod.CtrlCmd|M.KeyCode.Insert]},weight:H.KeybindingWeight.EditorContrib}:void 0,menuOpts:[{menuId:B.MenuId.MenubarEditMenu,group:"2_ccp",title:(0,V.localize)(838,"&&Copy"),order:2},{menuId:B.MenuId.EditorContext,group:ep,title:(0,V.localize)(839,"Copy"),order:2},{menuId:B.MenuId.CommandPalette,group:"",title:(0,V.localize)(839,"Copy"),order:1},{menuId:B.MenuId.SimpleEditorContext,group:ep,title:(0,V.localize)(839,"Copy"),order:2}]})):void 0;B.MenuRegistry.appendMenuItem(B.MenuId.MenubarEditMenu,{submenu:B.MenuId.MenubarCopy,title:(0,V.localize2)(840,"Copy As"),group:"2_ccp",order:3}),B.MenuRegistry.appendMenuItem(B.MenuId.EditorContext,{submenu:B.MenuId.EditorContextCopy,title:(0,V.localize2)(840,"Copy As"),group:ep,order:3}),B.MenuRegistry.appendMenuItem(B.MenuId.EditorContext,{submenu:B.MenuId.EditorContextShare,title:(0,V.localize2)(841,"Share"),group:"11_share",order:-1,when:es.ContextKeyExpr.and(es.ContextKeyExpr.notEquals("resourceScheme","output"),K.EditorContextKeys.editorTextFocus)}),B.MenuRegistry.appendMenuItem(B.MenuId.ExplorerContext,{submenu:B.MenuId.ExplorerContextShare,title:(0,V.localize2)(841,"Share"),group:"11_share",order:-1});let eC=ev?e_(new ed.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:en.isNative?{primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyV,win:{primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyV,secondary:[M.KeyMod.Shift|M.KeyCode.Insert]},linux:{primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyV,secondary:[M.KeyMod.Shift|M.KeyCode.Insert]},weight:H.KeybindingWeight.EditorContrib}:void 0,menuOpts:[{menuId:B.MenuId.MenubarEditMenu,group:"2_ccp",title:(0,V.localize)(842,"&&Paste"),order:4},{menuId:B.MenuId.EditorContext,group:ep,title:(0,V.localize)(843,"Paste"),when:K.EditorContextKeys.writable,order:4},{menuId:B.MenuId.CommandPalette,group:"",title:(0,V.localize)(843,"Paste"),order:1},{menuId:B.MenuId.SimpleEditorContext,group:ep,title:(0,V.localize)(843,"Paste"),when:K.EditorContextKeys.writable,order:4}]})):void 0;class eb extends ed.EditorAction{run(e,t){t.hasModel()&&(!t.getOption(N.EditorOption.emptySelectionClipboard)&&t.getSelection().isEmpty()||(ea.CopyOptions.forceCopyWithSyntaxHighlighting=!0,t.focus(),t.getContainerDomNode().ownerDocument.execCommand("copy"),ea.CopyOptions.forceCopyWithSyntaxHighlighting=!1))}constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:(0,V.localize2)(844,"Copy With Syntax Highlighting"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.textInputFocus,primary:0,weight:H.KeybindingWeight.EditorContrib}})}}function eS(e,t){e&&(e.addImplementation(1e4,"code-editor",(e,i)=>{let o=e.get(ec.ICodeEditorService).getFocusedCodeEditor();if(o&&o.hasTextFocus()){let e=o.getOption(N.EditorOption.emptySelectionClipboard),i=o.getSelection();return!!(i&&i.isEmpty())&&!e||(o.getOption(N.EditorOption.experimentalEditContextEnabled)&&"cut"===t?(o.getContainerDomNode().ownerDocument.execCommand("copy"),o.trigger(void 0,eu.Handler.Cut,void 0)):o.getContainerDomNode().ownerDocument.execCommand(t),!0)}return!1}),e.addImplementation(0,"generic-dom",(e,i)=>((0,eo.getActiveDocument)().execCommand(t),!0)))}eS(ef,"cut"),eS(ey,"copy"),eC&&(eC.addImplementation(1e4,"code-editor",(e,t)=>{let i=e.get(ec.ICodeEditorService),o=e.get(er.IClipboardService),n=i.getFocusedCodeEditor();if(n&&n.hasModel()&&n.hasTextFocus()){let e;if(n.getOption(N.EditorOption.experimentalEditContextEnabled)){let t=el.NativeEditContextRegistry.get(n.getId());if(t){let i=t.textArea;t.onWillPaste(),i.focus(),e=n.getContainerDomNode().ownerDocument.execCommand("paste"),i.domNode.textContent="",t.domNode.focus()}else e=!1}else e=n.getContainerDomNode().ownerDocument.execCommand("paste");if(e){var r,s;return null!=(s=null==(r=eh.CopyPasteController.get(n))?void 0:r.finishedPaste())?s:Promise.resolve()}return!en.isWeb||(async()=>{let e=await o.readText();if(""!==e){let t=ea.InMemoryClipboardMetadataManager.INSTANCE.get(e),i=!1,o=null,r=null;t&&(i=n.getOption(N.EditorOption.emptySelectionClipboard)&&!!t.isFromEmptySelection,o=void 0!==t.multicursorText?t.multicursorText:null,r=t.mode),n.trigger("keyboard",eu.Handler.Paste,{text:e,pasteOnNewLine:i,multicursorText:o,mode:r})}})()}return!1}),eC.addImplementation(0,"generic-dom",(e,t)=>((0,eo.getActiveDocument)().execCommand("paste"),!0))),em&&(0,ed.registerEditorAction)(eb),e.s(["CopyAction",()=>ey,"CutAction",()=>ef,"PasteAction",()=>eC],197379);var ew=e.i(308165),eE=L,eI=e.i(448493),ex=R,eD=e.i(425156),ek=e.i(374267),eA=e.i(756600),eM=e.i(515888),eL=e.i(488131),eT=e.i(887122);class eR{dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){let e=this._findScopeDecorationIds.map(e=>this._editor.getModel().getDecorationRange(e)).filter(e=>!!e);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){let t=this._decorations.indexOf(e);return t>=0?t+1:1}getDecorationRangeAt(e){let t=e<this._decorations.length?this._decorations[e]:null;return t?this._editor.getModel().getDecorationRange(t):null}getCurrentMatchesPosition(e){for(let t of this._editor.getModel().getDecorationsInRange(e)){let e=t.options;if(e===eR._FIND_MATCH_DECORATION||e===eR._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(t.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let o=0,n=this._decorations.length;o<n;o++){let n=this._editor.getModel().getDecorationRange(this._decorations[o]);if(e.equalsRange(n)){t=this._decorations[o],i=o+1;break}}return(null!==this._highlightedDecorationId||null!==t)&&this._editor.changeDecorations(e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,eR._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,eR._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let i=this._editor.getModel().getDecorationRange(t);if(i.startLineNumber!==i.endLineNumber&&1===i.endColumn){let e=i.endLineNumber-1,t=this._editor.getModel().getLineMaxColumn(e);i=new O.Range(i.startLineNumber,i.startColumn,e,t)}this._rangeHighlightDecorationId=e.addDecoration(i,eR._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let o=eR._FIND_MATCH_DECORATION,n=[];if(e.length>1e3){o=eR._FIND_MATCH_NO_OVERVIEW_DECORATION;let t=this._editor.getModel().getLineCount(),i=Math.max(2,Math.ceil(3/(this._editor.getLayoutInfo().height/t))),r=e[0].range.startLineNumber,s=e[0].range.endLineNumber;for(let t=1,o=e.length;t<o;t++){let o=e[t].range;s+i>=o.startLineNumber?o.endLineNumber>s&&(s=o.endLineNumber):(n.push({range:new O.Range(r,1,s,1),options:eR._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),r=o.startLineNumber,s=o.endLineNumber)}n.push({range:new O.Range(r,1,s,1),options:eR._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let r=Array(e.length);for(let t=0,i=e.length;t<i;t++)r[t]={range:e[t].range,options:o};this._decorations=i.deltaDecorations(this._decorations,r),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,n),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(e=>i.removeDecoration(e)),this._findScopeDecorationIds=[]),(null==t?void 0:t.length)&&(this._findScopeDecorationIds=t.map(e=>i.addDecoration(e,eR._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],o=this._editor.getModel().getDecorationRange(i);if(o&&!(o.endLineNumber>e.lineNumber)&&(o.endLineNumber<e.lineNumber||!(o.endColumn>e.column)))return o}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,i=this._decorations.length;t<i;t++){let i=this._decorations[t],o=this._editor.getModel().getDecorationRange(i);if(o&&!(o.startLineNumber<e.lineNumber)&&(o.startLineNumber>e.lineNumber||!(o.startColumn<e.column)))return o}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=(e=e.concat(this._decorations)).concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}}eR._CURRENT_FIND_MATCH_DECORATION=z.ModelDecorationOptions.register({description:"current-find-match",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:13,className:"currentFindMatch",inlineClassName:"currentFindMatchInline",showIfCollapsed:!0,overviewRuler:{color:(0,Y.themeColorFromId)(q.overviewRulerFindMatchForeground),position:W.OverviewRulerLane.Center},minimap:{color:(0,Y.themeColorFromId)(Q.minimapFindMatch),position:W.MinimapPosition.Inline}}),eR._FIND_MATCH_DECORATION=z.ModelDecorationOptions.register({description:"find-match",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:10,className:"findMatch",inlineClassName:"findMatchInline",showIfCollapsed:!0,overviewRuler:{color:(0,Y.themeColorFromId)(q.overviewRulerFindMatchForeground),position:W.OverviewRulerLane.Center},minimap:{color:(0,Y.themeColorFromId)(Q.minimapFindMatch),position:W.MinimapPosition.Inline}}),eR._FIND_MATCH_NO_OVERVIEW_DECORATION=z.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch",showIfCollapsed:!0}),eR._FIND_MATCH_ONLY_OVERVIEW_DECORATION=z.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,overviewRuler:{color:(0,Y.themeColorFromId)(q.overviewRulerFindMatchForeground),position:W.OverviewRulerLane.Center}}),eR._RANGE_HIGHLIGHT_DECORATION=z.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}),eR._FIND_SCOPE_DECORATION=z.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0}),e.s(["FindDecorations",()=>eR],817061);class eN{getEditOperations(e,t){if(this._ranges.length>0){let e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort((e,t)=>O.Range.compareRangesUsingStarts(e.range,t.range));let i=[],o=e[0];for(let t=1;t<e.length;t++)o.range.endLineNumber===e[t].range.startLineNumber&&o.range.endColumn===e[t].range.startColumn?(o.range=o.range.plusRange(e[t].range),o.text=o.text+e[t].text):(i.push(o),o=e[t]);for(let e of(i.push(o),i))t.addEditOperation(e.range,e.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}}var eP=e.i(266931);function eO(e,t){if(!e||""===e[0])return t;{let i=eF(e,t,"-"),o=eF(e,t,"_");if(i&&!o)return eK(e,t,"-");if(!i&&o)return eK(e,t,"_");if(e[0].toUpperCase()===e[0])return t.toUpperCase();if(e[0].toLowerCase()===e[0])return t.toLowerCase();if((0,eI.containsUppercaseCharacter)(e[0][0])&&t.length>0)return t[0].toUpperCase()+t.substr(1);else if(e[0][0].toUpperCase()!==e[0][0]&&t.length>0)return t[0].toLowerCase()+t.substr(1);else return t}}function eF(e,t,i){return -1!==e[0].indexOf(i)&&-1!==t.indexOf(i)&&e[0].split(i).length===t.split(i).length}function eK(e,t,i){let o=t.split(i),n=e[0].split(i),r="";return o.forEach((e,t)=>{r+=eO([n[t]],e)+i}),r.slice(0,-1)}e.s(["buildReplaceStringWithCasePreserved",()=>eO],561126),function(e){e[e.StaticValue=0]="StaticValue",e[e.DynamicPieces=1]="DynamicPieces"}(n||(n={}));class eW{constructor(e){this.staticValue=e,this.kind=n.StaticValue}}class ez{constructor(e){this.pieces=e,this.kind=n.DynamicPieces}}class eV{static fromStaticValue(e){return new eV([eB.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===n.DynamicPieces}buildReplaceString(e,t){if(this._state.kind===n.StaticValue)if(t)return eO(e,this._state.staticValue);else return this._state.staticValue;let i="";for(let t=0,o=this._state.pieces.length;t<o;t++){let o=this._state.pieces[t];if(null!==o.staticValue){i+=o.staticValue;continue}let n=eV._substitute(o.matchIndex,e);if(null!==o.caseOps&&o.caseOps.length>0){let e=[],t=o.caseOps.length,i=0;for(let r=0,s=n.length;r<s;r++){if(i>=t){e.push(n.slice(r));break}switch(o.caseOps[i]){case"U":e.push(n[r].toUpperCase());break;case"u":e.push(n[r].toUpperCase()),i++;break;case"L":e.push(n[r].toLowerCase());break;case"l":e.push(n[r].toLowerCase()),i++;break;default:e.push(n[r])}}n=e.join("")}i+=n}return i}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new eW(e[0].staticValue):this._state=new ez(e):this._state=new eW("")}}class eB{static staticValue(e){return new eB(e,-1,null)}static matchIndex(e){return new eB(null,e,null)}static caseOps(e,t){return new eB(null,e,t)}constructor(e,t,i){this.staticValue=e,this.matchIndex=t,i&&0!==i.length?this.caseOps=i.slice(0):this.caseOps=null}}class eH{emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=eB.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=eB.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=eB.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new eV(this._result)}constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}}function eU(e){if(!e||0===e.length)return new eV(null);let t=[],i=new eH(e);for(let o=0,n=e.length;o<n;o++){let r=e.charCodeAt(o);if(r===eP.CharCode.Backslash){if(++o>=n)break;let r=e.charCodeAt(o);switch(r){case eP.CharCode.Backslash:i.emitUnchanged(o-1),i.emitStatic("\\",o+1);break;case eP.CharCode.n:i.emitUnchanged(o-1),i.emitStatic("\n",o+1);break;case eP.CharCode.t:i.emitUnchanged(o-1),i.emitStatic("	",o+1);break;case eP.CharCode.u:case eP.CharCode.U:case eP.CharCode.l:case eP.CharCode.L:i.emitUnchanged(o-1),i.emitStatic("",o+1),t.push(String.fromCharCode(r))}continue}if(r===eP.CharCode.DollarSign){if(++o>=n)break;let r=e.charCodeAt(o);if(r===eP.CharCode.DollarSign){i.emitUnchanged(o-1),i.emitStatic("$",o+1);continue}if(r===eP.CharCode.Digit0||r===eP.CharCode.Ampersand){i.emitUnchanged(o-1),i.emitMatchIndex(0,o+1,t),t.length=0;continue}if(eP.CharCode.Digit1<=r&&r<=eP.CharCode.Digit9){let s=r-eP.CharCode.Digit0;if(o+1<n){let n=e.charCodeAt(o+1);if(eP.CharCode.Digit0<=n&&n<=eP.CharCode.Digit9){o++,s=10*s+(n-eP.CharCode.Digit0),i.emitUnchanged(o-2),i.emitMatchIndex(s,o+1,t),t.length=0;continue}}i.emitUnchanged(o-1),i.emitMatchIndex(s,o+1,t),t.length=0;continue}}}return i.finalize()}e.s(["ReplacePattern",()=>eV,"parseReplaceString",()=>eU],967226);let eG=new es.RawContextKey("findWidgetVisible",!1),eq=eG.toNegated(),ej=new es.RawContextKey("findInputFocussed",!1),eQ=new es.RawContextKey("replaceInputFocussed",!1),eY={primary:M.KeyMod.Alt|M.KeyCode.KeyC,mac:{primary:M.KeyMod.CtrlCmd|M.KeyMod.Alt|M.KeyCode.KeyC}},eZ={primary:M.KeyMod.Alt|M.KeyCode.KeyW,mac:{primary:M.KeyMod.CtrlCmd|M.KeyMod.Alt|M.KeyCode.KeyW}},eX={primary:M.KeyMod.Alt|M.KeyCode.KeyR,mac:{primary:M.KeyMod.CtrlCmd|M.KeyMod.Alt|M.KeyCode.KeyR}},e$={primary:M.KeyMod.Alt|M.KeyCode.KeyL,mac:{primary:M.KeyMod.CtrlCmd|M.KeyMod.Alt|M.KeyCode.KeyL}},eJ={primary:M.KeyMod.Alt|M.KeyCode.KeyP,mac:{primary:M.KeyMod.CtrlCmd|M.KeyMod.Alt|M.KeyCode.KeyP}},e0={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"};class e1{dispose(){this._isDisposed=!0,(0,L.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;void 0!==t?null!==t&&(i=Array.isArray(t)?t:[t]):i=this._decorations.getFindScopes(),null!==i&&(i=i.map(e=>{if(e.startLineNumber!==e.endLineNumber){let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new O.Range(e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}return e}));let o=this._findMatches(i,!1,19999);this._decorations.set(o,i);let n=this._editor.getSelection(),r=this._decorations.getCurrentMatchesPosition(n);if(0===r&&o.length>0){let e=(0,ek.findFirstIdxMonotonousOrArrLen)(o.map(e=>e.range),e=>O.Range.compareRangesUsingStarts(e,n)>=0);r=e>0?e-1+1:r}this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),e&&this._editor.getOption(N.EditorOption.find).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,eu.ScrollType.Smooth),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,eu.ScrollType.Smooth)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:o}=e,n=this._editor.getModel();return t||1===o?(1===i?i=n.getLineCount():i--,o=n.getLineMaxColumn(i)):o--,new P.Position(i,o)}_moveToPrevMatch(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._state.canNavigateBack()){let t=this._decorations.matchAfterPosition(e);t&&this._setCurrentFindMatch(t);return}if(19999>this._decorations.getCount()){let t=this._decorations.matchBeforePosition(e);t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),t&&this._setCurrentFindMatch(t);return}if(this._cannotFind())return;let i=this._decorations.getFindScope(),o=e1._getSearchRange(this._editor.getModel(),i);o.getEndPosition().isBefore(e)&&(e=o.getEndPosition()),e.isBefore(o.getStartPosition())&&(e=o.getEndPosition());let{lineNumber:n,column:r}=e,s=this._editor.getModel(),a=new P.Position(n,r),l=s.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,!1);if(l&&l.range.isEmpty()&&l.range.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),l=s.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,!1)),l){if(!t&&!o.containsRange(l.range))return this._moveToPrevMatch(l.range.getStartPosition(),!0);this._setCurrentFindMatch(l.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:o}=e,n=this._editor.getModel();return t||o===n.getLineMaxColumn(i)?(i===n.getLineCount()?i=1:i++,o=1):o++,new P.Position(i,o)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){let t=this._decorations.matchBeforePosition(e);t&&this._setCurrentFindMatch(t);return}if(19999>this._decorations.getCount()){let t=this._decorations.matchAfterPosition(e);t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),t&&this._setCurrentFindMatch(t);return}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._cannotFind())return null;let n=this._decorations.getFindScope(),r=e1._getSearchRange(this._editor.getModel(),n);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());let{lineNumber:s,column:a}=e,l=this._editor.getModel(),d=new P.Position(s,a),c=l.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,t);return(i&&c&&c.range.isEmpty()&&c.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),c=l.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,t)),c)?o||r.containsRange(c.range)?c:this._getNextMatch(c.range.getEndPosition(),t,i,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(e){let t=this._decorations.getDecorationRangeAt(e);t&&this._setCurrentFindMatch(t)}moveToMatch(e){this._moveToMatch(e)}_getReplacePattern(){return this._state.isRegex?eU(this._state.replaceString):eV.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let o=e.buildReplaceString(i.matches,this._state.preserveCase),n=new eM.ReplaceCommand(t,o);this._executeEditorCommand("replace",n),this._decorations.setStartPosition(new P.Position(t.startLineNumber,t.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){let o=(e||[null]).map(e=>e1._getSearchRange(this._editor.getModel(),e));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,t,i)}replaceAll(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=19999?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){let e,t=new eT.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let e="mu";i.ignoreCase&&(e+="i"),i.global&&(e+="g"),i=new RegExp(i.source,e)}let o=this._editor.getModel(),n=o.getValue(W.EndOfLinePreference.LF),r=o.getFullModelRange(),s=this._getReplacePattern(),a=this._state.preserveCase;e=s.hasReplacementPatterns||a?n.replace(i,function(){return s.buildReplaceString(arguments,a)}):n.replace(i,s.buildReplaceString(null,a));let l=new eM.ReplaceCommandThatPreservesSelection(r,e,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}_regularReplaceAll(e){let t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,eA.Constants.MAX_SAFE_SMALL_INTEGER),o=[];for(let e=0,n=i.length;e<n;e++)o[e]=t.buildReplaceString(i[e].matches,this._state.preserveCase);let n=new eN(this._editor.getSelection(),i.map(e=>e.range),o);this._executeEditorCommand("replaceAll",n)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,eA.Constants.MAX_SAFE_SMALL_INTEGER).map(e=>new F.Selection(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)),i=this._editor.getSelection();for(let e=0,o=t.length;e<o;e++)if(t[e].equalsRange(i)){t=[i].concat(t.slice(0,e)).concat(t.slice(e+1));break}this._editor.setSelections(t)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}constructor(e,t){this._toDispose=new L.DisposableStore,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new A.TimeoutTimer,this._decorations=new eR(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new A.RunOnceScheduler(()=>{if(this._editor.hasModel())return this.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(e=>{(e.reason===eL.CursorChangeReason.Explicit||e.reason===eL.CursorChangeReason.Undo||e.reason===eL.CursorChangeReason.Redo)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this.research(!1,this._state.searchScope)}}e.s(["CONTEXT_FIND_INPUT_FOCUSED",()=>ej,"CONTEXT_FIND_WIDGET_NOT_VISIBLE",()=>eq,"CONTEXT_FIND_WIDGET_VISIBLE",()=>eG,"CONTEXT_REPLACE_INPUT_FOCUSED",()=>eQ,"FIND_IDS",()=>e0,"FindModelBoundToEditorModel",()=>e1,"MATCHES_LIMIT",()=>19999,"ToggleCaseSensitiveKeybinding",()=>eY,"TogglePreserveCaseKeybinding",()=>eJ,"ToggleRegexKeybinding",()=>eX,"ToggleSearchScopeKeybinding",()=>e$,"ToggleWholeWordKeybinding",()=>eZ],974317),(0,T.default)(".monaco-editor .findOptionsWidget{background-color:var(--vscode-editorWidget-background);border:2px solid var(--vscode-contrastBorder);box-shadow:0 0 8px 2px var(--vscode-widget-shadow);color:var(--vscode-editorWidget-foreground)}",{});var e2=e.i(669373),e3=e.i(403197),e5=e.i(309187),e4=e.i(120337);class e6 extends e3.Widget{_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?" (".concat(t.getLabel(),")"):""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e6.ID}getDomNode(){return this._domNode}getPosition(){return{preference:e5.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}constructor(e,t,i){super(),this._hideSoon=this._register(new A.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");let o={inputActiveOptionBorder:(0,U.asCssVariable)(j.inputActiveOptionBorder),inputActiveOptionForeground:(0,U.asCssVariable)(j.inputActiveOptionForeground),inputActiveOptionBackground:(0,U.asCssVariable)(j.inputActiveOptionBackground)},n=this._register((0,e4.createInstantHoverDelegate)());this.caseSensitive=this._register(new e2.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(e0.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:n,...o})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new e2.WholeWordsToggle({appendTitle:this._keybindingLabelFor(e0.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:n,...o})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new e2.RegexToggle({appendTitle:this._keybindingLabelFor(e0.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:n,...o})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register((0,eo.addDisposableListener)(this._domNode,eo.EventType.MOUSE_LEAVE,e=>this._onMouseLeave())),this._register((0,eo.addDisposableListener)(this._domNode,"mouseover",e=>this._onMouseOver()))}}e6.ID="editor.contrib.findOptionsWidget";var e8=e.i(145384),e9=L;function e7(e,t){return e===r.True||e!==r.False&&t}!function(e){e[e.NotSet=0]="NotSet",e[e.True=1]="True",e[e.False=2]="False"}(r||(r={}));class te extends e9.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return e7(this._isRegexOverride,this._isRegex)}get wholeWord(){return e7(this._wholeWordOverride,this._wholeWord)}get matchCase(){return e7(this._matchCaseOverride,this._matchCase)}get preserveCase(){return e7(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}get isSearching(){return this._isSearching}get filters(){return this._filters}changeMatchInfo(e,t,i){let o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},n=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,o.matchesPosition=!0,n=!0),this._matchesCount!==t&&(this._matchesCount=t,o.matchesCount=!0,n=!0),void 0===i||O.Range.equalsRange(this._currentMatch,i)||(this._currentMatch=i,o.currentMatch=!0,n=!0),n&&this._onFindReplaceStateChange.fire(o)}change(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},n=!1,s=this.isRegex,a=this.wholeWord,l=this.matchCase,d=this.preserveCase;if(void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,n=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,n=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,n=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,n=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope){var c;(null==(c=e.searchScope)?void 0:c.every(e=>{var t;return null==(t=this._searchScope)?void 0:t.some(t=>!O.Range.equalsRange(t,e))}))||(this._searchScope=e.searchScope,o.searchScope=!0,n=!0)}void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,n=!0),void 0!==e.isSearching&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,n=!0),void 0!==e.filters&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,n=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:r.NotSet,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:r.NotSet,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:r.NotSet,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:r.NotSet,s!==this.isRegex&&(n=!0,o.isRegex=!0),a!==this.wholeWord&&(n=!0,o.wholeWord=!0),l!==this.matchCase&&(n=!0,o.matchCase=!0),d!==this.preserveCase&&(n=!0,o.preserveCase=!0),n&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=19999}constructor(){super(),this._onFindReplaceStateChange=this._register(new e8.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=r.NotSet,this._wholeWord=!1,this._wholeWordOverride=r.NotSet,this._matchCase=!1,this._matchCaseOverride=r.NotSet,this._preserveCase=!1,this._preserveCaseOverride=r.NotSet,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}}e.s(["FindOptionOverride",()=>r,"FindReplaceState",()=>te],734709);var tt=e.i(211023),ti=e.i(309073),to=e.i(258529),tn=e3,tr=e.i(304729),ts=e.i(394839);(0,T.default)(".monaco-editor .find-widget{background-color:var(--vscode-editorWidget-background);border-bottom:1px solid var(--vscode-widget-border);border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-left:1px solid var(--vscode-widget-border);border-right:1px solid var(--vscode-widget-border);box-shadow:0 0 8px 2px var(--vscode-widget-shadow);box-sizing:border-box;color:var(--vscode-editorWidget-foreground);height:33px;line-height:19px;overflow:hidden;padding:0 4px;position:absolute;transform:translateY(calc(-100% - 10px));transition:transform .2s linear;z-index:35}.monaco-workbench.reduce-motion .monaco-editor .find-widget{transition:transform 0ms linear}.monaco-editor .find-widget textarea{margin:0}.monaco-editor .find-widget.hiddenEditor{display:none}.monaco-editor .find-widget.replaceToggled>.replace-part{display:flex}.monaco-editor .find-widget.visible{transform:translateY(0)}.monaco-editor .find-widget .monaco-inputbox.synthetic-focus{outline:1px solid -webkit-focus-ring-color;outline-color:var(--vscode-focusBorder);outline-offset:-1px}.monaco-editor .find-widget .monaco-inputbox .input{background-color:transparent;min-height:0}.monaco-editor .find-widget .monaco-findInput .input{font-size:13px}.monaco-editor .find-widget>.find-part,.monaco-editor .find-widget>.replace-part{display:flex;font-size:12px;margin:3px 25px 0 17px}.monaco-editor .find-widget>.find-part .monaco-inputbox,.monaco-editor .find-widget>.replace-part .monaco-inputbox{min-height:25px}.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-right:22px}.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.mirror,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-bottom:2px;padding-top:2px}.monaco-editor .find-widget>.find-part .find-actions,.monaco-editor .find-widget>.replace-part .replace-actions{align-items:center;display:flex;height:25px}.monaco-editor .find-widget .monaco-findInput{display:flex;flex:1;vertical-align:middle}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element{width:100%}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical{opacity:0}.monaco-editor .find-widget .matchesCount{box-sizing:border-box;display:flex;flex:initial;height:25px;line-height:23px;margin:0 0 0 3px;padding:2px 0 0 2px;text-align:center;vertical-align:middle}.monaco-editor .find-widget .button{align-items:center;background-position:50%;background-repeat:no-repeat;border-radius:5px;cursor:pointer;display:flex;flex:initial;height:16px;justify-content:center;margin-left:3px;padding:3px;width:16px}.monaco-editor .find-widget .codicon-find-selection{border-radius:5px;height:22px;padding:3px;width:22px}.monaco-editor .find-widget .button.left{margin-left:0;margin-right:3px}.monaco-editor .find-widget .button.wide{padding:1px 6px;top:-1px;width:auto}.monaco-editor .find-widget .button.toggle{border-radius:0;box-sizing:border-box;height:100%;left:3px;position:absolute;top:0;width:18px}.monaco-editor .find-widget .button.toggle.disabled{display:none}.monaco-editor .find-widget .disabled{color:var(--vscode-disabledForeground);cursor:default}.monaco-editor .find-widget>.replace-part{display:none}.monaco-editor .find-widget>.replace-part>.monaco-findInput{display:flex;flex:auto;flex-grow:0;flex-shrink:0;position:relative;vertical-align:middle}.monaco-editor .find-widget>.replace-part>.monaco-findInput>.controls{position:absolute;right:2px;top:3px}.monaco-editor .find-widget.reduced-find-widget .matchesCount{display:none}.monaco-editor .find-widget.narrow-find-widget{max-width:257px!important}.monaco-editor .find-widget.collapsed-find-widget{max-width:170px!important}.monaco-editor .find-widget.collapsed-find-widget .button.next,.monaco-editor .find-widget.collapsed-find-widget .button.previous,.monaco-editor .find-widget.collapsed-find-widget .button.replace,.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,.monaco-editor .find-widget.collapsed-find-widget>.find-part .monaco-findInput .controls{display:none}.monaco-editor .find-widget.no-results .matchesCount{color:var(--vscode-errorForeground)}.monaco-editor .findMatch{animation-duration:0;animation-name:inherit!important;background-color:var(--vscode-editor-findMatchHighlightBackground)}.monaco-editor .currentFindMatch{background-color:var(--vscode-editor-findMatchBackground);border:2px solid var(--vscode-editor-findMatchBorder);box-sizing:border-box;padding:1px}.monaco-editor .findScope{background-color:var(--vscode-editor-findRangeHighlightBackground)}.monaco-editor .find-widget .monaco-sash{background-color:var(--vscode-editorWidget-resizeBorder,var(--vscode-editorWidget-border));left:0!important}.monaco-editor.hc-black .find-widget .button:before{left:2px;position:relative;top:1px}.monaco-editor .find-widget .button:not(.disabled):hover,.monaco-editor .find-widget .codicon-find-selection:hover{background-color:var(--vscode-toolbar-hoverBackground)!important}.monaco-editor.findMatch{background-color:var(--vscode-editor-findMatchHighlightBackground)}.monaco-editor.currentFindMatch{background-color:var(--vscode-editor-findMatchBackground)}.monaco-editor.findScope{background-color:var(--vscode-editor-findRangeHighlightBackground)}.monaco-editor.findMatch{background-color:var(--vscode-editorWidget-background)}.monaco-editor .find-widget>.button.codicon-widget-close{position:absolute;right:4px;top:5px}",{});var ta=e.i(43642),tl=e.i(29874),td=e.i(683831),tc=e.i(413174),tu=e.i(358764),th=e.i(610620),tp=e.i(784731),tg=e.i(839435),tm=e.i(223658);let tv=(0,tu.registerIcon)("find-collapsed",tr.Codicon.chevronRight,(0,V.localize)(970,"Icon to indicate that the editor find widget is collapsed.")),t_=(0,tu.registerIcon)("find-expanded",tr.Codicon.chevronDown,(0,V.localize)(971,"Icon to indicate that the editor find widget is expanded.")),tf=(0,tu.registerIcon)("find-selection",tr.Codicon.selection,(0,V.localize)(972,"Icon for 'Find in Selection' in the editor find widget.")),ty=(0,tu.registerIcon)("find-replace",tr.Codicon.replace,(0,V.localize)(973,"Icon for 'Replace' in the editor find widget.")),tC=(0,tu.registerIcon)("find-replace-all",tr.Codicon.replaceAll,(0,V.localize)(974,"Icon for 'Replace All' in the editor find widget.")),tb=(0,tu.registerIcon)("find-previous-match",tr.Codicon.arrowUp,(0,V.localize)(975,"Icon for 'Find Previous' in the editor find widget.")),tS=(0,tu.registerIcon)("find-next-match",tr.Codicon.arrowDown,(0,V.localize)(976,"Icon for 'Find Next' in the editor find widget.")),tw=(0,V.localize)(977,"Find / Replace"),tE=(0,V.localize)(978,"Find"),tI=(0,V.localize)(979,"Find"),tx=(0,V.localize)(980,"Previous Match"),tD=(0,V.localize)(981,"Next Match"),tk=(0,V.localize)(982,"Find in Selection"),tA=(0,V.localize)(983,"Close"),tM=(0,V.localize)(984,"Replace"),tL=(0,V.localize)(985,"Replace"),tT=(0,V.localize)(986,"Replace"),tR=(0,V.localize)(987,"Replace All"),tN=(0,V.localize)(988,"Toggle Replace"),tP=(0,V.localize)(989,"Only the first {0} results are highlighted, but all find operations work on the entire text.",19999),tO=(0,V.localize)(990,"{0} of {1}"),tF=(0,V.localize)(991,"No results"),tK=69,tW="ctrlEnterReplaceAll.windows.donotask",tz=en.isMacintosh?M.KeyMod.WinCtrl:M.KeyMod.CtrlCmd;class tV{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function tB(e,t,i){let o=!!t.match(/\n/);if(i&&o&&i.selectionStart>0)return void e.stopPropagation()}function tH(e,t,i){let o=!!t.match(/\n/);if(i&&o&&i.selectionEnd<i.value.length)return void e.stopPropagation()}class tU extends tn.Widget{getId(){return tU.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:e5.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(N.EditorOption.readOnly)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=(0,eo.getTotalWidth)(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let e=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",e),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ts.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){var e;let t;if(this._matchesCount.style.minWidth=tK+"px",this._state.matchesCount>=19999?this._matchesCount.title=tP:this._matchesCount.title="",null==(e=this._matchesCount.firstChild)||e.remove(),this._state.matchesCount>0){let e=String(this._state.matchesCount);this._state.matchesCount>=19999&&(e+="+");let i=String(this._state.matchesPosition);"0"===i&&(i="?"),t=(0,eI.format)(tO,i,e)}else t=tF;this._matchesCount.appendChild(document.createTextNode(t)),(0,tt.alert)(this._getAriaLabel(t,this._state.currentMatch,this._state.searchString)),tK=Math.max(tK,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===tF)return""===i?(0,V.localize)(992,"{0} found",e):(0,V.localize)(993,"{0} found for '{1}'",e,i);if(t){let o=(0,V.localize)(994,"{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),n=this._codeEditor.getModel();if(n&&t.startLineNumber<=n.getLineCount()&&t.startLineNumber>=1){let e=n.getLineContent(t.startLineNumber);return"".concat(e,", ").concat(o)}return o}return(0,V.localize)(995,"{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(N.EditorOption.readOnly);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;let e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(N.EditorOption.find).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{let t=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=t}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(N.EditorOption.find).seedSearchStringFromSelection&&e){let i=this._codeEditor.getDomNode();if(i){let o=(0,eo.getDomNodePagePosition)(i),n=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),r=o.left+(n?n.left:0),s=n?n.top:0;if(this._viewZone&&s<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);let i=(0,eo.getTopLeftOffset)(this._domNode).left;r>i&&(t=!1);let n=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());o.left+(n?n.left:0)>i&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(N.EditorOption.find).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;let t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones(i=>{t.heightInPx=this._getHeight(),this._viewZoneId=i.addZone(t),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+t.heightInPx)})}_showViewZone(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!this._isVisible||!this._codeEditor.getOption(N.EditorOption.find).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new tV(0));let t=this._viewZone;this._codeEditor.changeViewZones(i=>{if(void 0!==this._viewZoneId){let o=this._getHeight();if(o===t.heightInPx)return;let n=o-t.heightInPx;t.heightInPx=o,i.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+n);return}{let o=this._getHeight();if((o-=this._codeEditor.getOption(N.EditorOption.padding).top)<=0)return;t.heightInPx=o,this._viewZoneId=i.addZone(t),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;let e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");let t=e.width,i=e.minimap.minimapWidth,o=!1,n=!1,r=!1;if(this._resized&&(0,eo.getTotalWidth)(this._domNode)>419){this._domNode.style.maxWidth="".concat(t-28-i-15,"px"),this._replaceInput.width=(0,eo.getTotalWidth)(this._findInput.domNode);return}if(447+i>=t&&(n=!0),447+i-tK>=t&&(r=!0),447+i-tK>=t+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",r),this._domNode.classList.toggle("reduced-find-widget",n),r||o||(this._domNode.style.maxWidth="".concat(t-28-i-15,"px")),this._findInput.layout({collapsedFindWidget:o,narrowFindWidget:r,reducedFindWidget:n}),this._resized){let e=this._findInput.inputBox.element.clientWidth;e>0&&(this._replaceInput.width=e)}else this._isReplaceVisible&&(this._replaceInput.width=(0,eo.getTotalWidth)(this._findInput.domNode))}_getHeight(){let e;return e=4+(this._findInput.inputBox.height+2),this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4}_tryUpdateHeight(){let e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height="".concat(e,"px"),!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));let t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||O.Range.equalsRange(e,t)?null:e}).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(tz|M.KeyCode.Enter))if(this._keybindingService.dispatchEvent(e,e.target))return void e.preventDefault();else{this._findInput.inputBox.insertAtCursor("\n"),e.preventDefault();return}if(e.equals(M.KeyCode.Tab)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(M.KeyMod.CtrlCmd|M.KeyCode.DownArrow)){this._codeEditor.focus(),e.preventDefault();return}return e.equals(M.KeyCode.UpArrow)?tB(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(M.KeyCode.DownArrow)?tH(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){if(e.equals(tz|M.KeyCode.Enter))if(this._keybindingService.dispatchEvent(e,e.target))return void e.preventDefault();else{en.isWindows&&en.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info((0,V.localize)(996,"Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(tW,!0,tc.StorageScope.PROFILE,tc.StorageTarget.USER)),this._replaceInput.inputBox.insertAtCursor("\n"),e.preventDefault();return}if(e.equals(M.KeyCode.Tab)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(M.KeyMod.Shift|M.KeyCode.Tab)){this._findInput.focus(),e.preventDefault();return}if(e.equals(M.KeyMod.CtrlCmd|M.KeyCode.DownArrow)){this._codeEditor.focus(),e.preventDefault();return}return e.equals(M.KeyCode.UpArrow)?tB(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(M.KeyCode.DownArrow)?tH(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?" (".concat(t.getLabel(),")"):""}_buildDomNode(){let e=this._codeEditor.getOption(N.EditorOption.find).history;this._findInput=this._register(new tl.ContextScopedFindInput(null,this._contextViewProvider,{width:221,label:tE,placeholder:tI,appendCaseSensitiveLabel:this._keybindingLabelFor(e0.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(e0.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(e0.ToggleRegexCommand),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return RegExp(e,"gu"),null}catch(e){return{content:e.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,td.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:tm.defaultInputBoxStyles,toggleStyles:tm.defaultToggleStyles,history:"workspace"===e?this._findWidgetSearchHistory:new Set([])},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(e=>this._onFindInputKeyDown(e))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(e=>{e.equals(M.KeyMod.Shift|M.KeyCode.Tab)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())})),this._register(this._findInput.onRegexKeyDown(e=>{e.equals(M.KeyCode.Tab)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(e=>{this._tryUpdateHeight()&&this._showViewZone()})),en.isLinux&&this._register(this._findInput.onMouseDown(e=>this._onFindInputMouseDown(e))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();let t=this._register((0,e4.createInstantHoverDelegate)());this._prevBtn=this._register(new tG({label:tx+this._keybindingLabelFor(e0.PreviousMatchFindAction),icon:tb,hoverDelegate:t,onTrigger:()=>{(0,tg.assertIsDefined)(this._codeEditor.getAction(e0.PreviousMatchFindAction)).run().then(void 0,ts.onUnexpectedError)}},this._hoverService)),this._nextBtn=this._register(new tG({label:tD+this._keybindingLabelFor(e0.NextMatchFindAction),icon:tS,hoverDelegate:t,onTrigger:()=>{(0,tg.assertIsDefined)(this._codeEditor.getAction(e0.NextMatchFindAction)).run().then(void 0,ts.onUnexpectedError)}},this._hoverService));let i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);let o=document.createElement("div");o.className="find-actions",i.appendChild(o),o.appendChild(this._matchesCount),o.appendChild(this._prevBtn.domNode),o.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new ti.Toggle({icon:tf,title:tk+this._keybindingLabelFor(e0.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:t,inputActiveOptionBackground:(0,U.asCssVariable)(j.inputActiveOptionBackground),inputActiveOptionBorder:(0,U.asCssVariable)(j.inputActiveOptionBorder),inputActiveOptionForeground:(0,U.asCssVariable)(j.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let e=this._codeEditor.getSelections();(e=e.map(e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty())?null:e).filter(e=>!!e)).length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)})),o.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new tG({label:tA+this._keybindingLabelFor(e0.CloseFindWidgetCommand),icon:tu.widgetClose,hoverDelegate:t,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(M.KeyCode.Tab)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new tl.ContextScopedReplaceInput(null,void 0,{label:tM,placeholder:tL,appendPreserveCaseLabel:this._keybindingLabelFor(e0.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,td.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:tm.defaultInputBoxStyles,toggleStyles:tm.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(e=>this._onReplaceInputKeyDown(e))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(e=>{e.equals(M.KeyCode.Tab)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())}));let n=this._register((0,e4.createInstantHoverDelegate)());this._replaceBtn=this._register(new tG({label:tT+this._keybindingLabelFor(e0.ReplaceOneAction),icon:ty,hoverDelegate:n,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(M.KeyMod.Shift|M.KeyCode.Tab)&&(this._closeBtn.focus(),e.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new tG({label:tR+this._keybindingLabelFor(e0.ReplaceAllAction),icon:tC,hoverDelegate:n,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));let r=document.createElement("div");r.className="replace-part",r.appendChild(this._replaceInput.domNode);let s=document.createElement("div");s.className="replace-actions",r.appendChild(s),s.appendChild(this._replaceBtn.domNode),s.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new tG({label:tN,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=(0,eo.getTotalWidth)(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=tw,this._domNode.role="dialog",this._domNode.style.width="".concat(419,"px"),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(r),this._resizeSash=this._register(new to.Sash(this._domNode,this,{orientation:to.Orientation.VERTICAL,size:2})),this._resized=!1;let a=419;this._register(this._resizeSash.onDidStart(()=>{a=(0,eo.getTotalWidth)(this._domNode)})),this._register(this._resizeSash.onDidChange(e=>{this._resized=!0;let t=a+e.startX-e.currentX;!(t<419)&&(t>(parseFloat((0,eo.getComputedStyle)(this._domNode).maxWidth)||0)||(this._domNode.style.width="".concat(t,"px"),this._isReplaceVisible&&(this._replaceInput.width=(0,eo.getTotalWidth)(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight()))})),this._register(this._resizeSash.onDidReset(()=>{let e=(0,eo.getTotalWidth)(this._domNode);if(e<419)return;let t=419;if(!this._resized||419===e){let e=this._codeEditor.getLayoutInfo();t=e.width-28-e.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width="".concat(t,"px"),this._isReplaceVisible&&(this._replaceInput.width=(0,eo.getTotalWidth)(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){let e=this._codeEditor.getOption(N.EditorOption.accessibilitySupport);this._findInput.setFocusInputOnOptionClick(e!==ta.AccessibilitySupport.Enabled)}getViewState(){let e=!1;return this._viewZone&&this._viewZoneId&&(e=this._viewZone.heightInPx>this._codeEditor.getScrollTop()),{widgetViewZoneVisible:e,scrollTop:this._codeEditor.getScrollTop()}}setViewState(e){e&&e.widgetViewZoneVisible&&this._layoutViewZone(e.scrollTop)}constructor(e,t,i,o,n,r,s,a,l,d,c){super(),this._hoverService=d,this._findWidgetSearchHistory=c,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=o,this._keybindingService=n,this._contextKeyService=r,this._storageService=a,this._notificationService=l,this._ctrlEnterReplaceAllWarningPrompted=!!a.getBoolean(tW,tc.StorageScope.PROFILE),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new A.Delayer(500),this._register((0,L.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(e=>{if(e.hasChanged(N.EditorOption.readOnly)&&(this._codeEditor.getOption(N.EditorOption.readOnly)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(N.EditorOption.layoutInfo)&&this._tryUpdateWidgetWidth(),e.hasChanged(N.EditorOption.accessibilitySupport)&&this.updateAccessibilitySupport(),e.hasChanged(N.EditorOption.find)){let e=this._codeEditor.getOption(N.EditorOption.find).loop;this._state.change({loop:e},!1);let t=this._codeEditor.getOption(N.EditorOption.find).addExtraSpaceOnTop;t&&!this._viewZone&&(this._viewZone=new tV(0),this._showViewZone()),!t&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){let e=await this._controller.getGlobalBufferTerm();e&&e!==this._state.searchString&&(this._state.change({searchString:e},!1),this._findInput.select())}})),this._findInputFocused=ej.bindTo(r),this._findFocusTracker=this._register((0,eo.trackFocus)(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=eQ.bindTo(r),this._replaceFocusTracker=this._register((0,eo.trackFocus)(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(N.EditorOption.find).addExtraSpaceOnTop&&(this._viewZone=new tV(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(e=>{if(e.scrollTopChanged)return void this._layoutViewZone();setTimeout(()=>{this._layoutViewZone()},0)}))}}tU.ID="editor.contrib.findWidget";class tG extends tn.Widget{get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...th.ThemeIcon.asClassNameArray(tv)),this._domNode.classList.add(...th.ThemeIcon.asClassNameArray(t_))):(this._domNode.classList.remove(...th.ThemeIcon.asClassNameArray(t_)),this._domNode.classList.add(...th.ThemeIcon.asClassNameArray(tv)))}constructor(e,t){var i;super(),this._opts=e;let o="button";this._opts.className&&(o=o+" "+this._opts.className),this._opts.icon&&(o=o+" "+th.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=o,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(t.setupManagedHover(null!=(i=e.hoverDelegate)?i:(0,e4.getDefaultHoverDelegate)("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,e=>{this._opts.onTrigger(),e.preventDefault()}),this.onkeydown(this._domNode,e=>{var t,i;if(e.equals(M.KeyCode.Space)||e.equals(M.KeyCode.Enter)){this._opts.onTrigger(),e.preventDefault();return}null==(t=(i=this._opts).onKeyDown)||t.call(i,e)})}}(0,Y.registerThemingParticipant)((e,t)=>{let i=e.getColor(q.editorFindMatchHighlightBorder);i&&t.addRule(".monaco-editor .findMatch { border: 1px ".concat((0,tp.isHighContrast)(e.type)?"dotted":"solid"," ").concat(i,"; box-sizing: border-box; }"));let o=e.getColor(q.editorFindRangeHighlightBorder);o&&t.addRule(".monaco-editor .findScope { border: 1px ".concat((0,tp.isHighContrast)(e.type)?"dashed":"solid"," ").concat(o,"; }"));let n=e.getColor(G.contrastBorder);n&&t.addRule(".monaco-editor .find-widget { border: 1px solid ".concat(n,"; }"));let r=e.getColor(q.editorFindMatchForeground);r&&t.addRule(".monaco-editor .findMatchInline { color: ".concat(r,"; }"));let s=e.getColor(q.editorFindMatchHighlightForeground);s&&t.addRule(".monaco-editor .currentFindMatchInline { color: ".concat(s,"; }"))}),e.s(["FindWidget",()=>tU,"NLS_MATCHES_LOCATION",()=>tO,"NLS_NO_RESULTS",()=>tF,"SimpleButton",()=>tG,"findNextMatchIcon",()=>tS,"findPreviousMatchIcon",()=>tb,"findReplaceAllIcon",()=>tC,"findReplaceIcon",()=>ty,"findSelectionIcon",()=>tf],1010);var tq=e.i(756970),tj=e.i(545731),tQ=e.i(352700);e.i(39400);var tY=e.i(633921),tZ=e.i(268850),tX=e.i(780379),t$=e.i(272117),tJ=e.i(357790);let t0=(a=s=class{static getOrCreate(e){return a._instance||(a._instance=new a(e)),a._instance}delete(e){let t=this.inMemoryValues.delete(e);return this.save(),t}add(e){return this.inMemoryValues.add(e),this.save(),this}has(e){return this.inMemoryValues.has(e)}clear(){this.inMemoryValues.clear(),this.save()}forEach(e,t){return this.load(),this.inMemoryValues.forEach(e)}replace(e){this.inMemoryValues=new Set(e),this.save()}load(){let e,t=this.storageService.get(a.FIND_HISTORY_KEY,tc.StorageScope.WORKSPACE);if(t)try{e=JSON.parse(t)}catch(e){}this.inMemoryValues=new Set(e||[])}save(){let e=[];return this.inMemoryValues.forEach(t=>e.push(t)),new Promise(t=>{this.storageService.store(a.FIND_HISTORY_KEY,JSON.stringify(e),tc.StorageScope.WORKSPACE,tc.StorageTarget.USER),this._onDidChangeEmitter.fire(e),t()})}constructor(e){this.storageService=e,this.inMemoryValues=new Set,this._onDidChangeEmitter=new e8.Emitter,this.onDidChange=this._onDidChangeEmitter.event,this.load()}},s.FIND_HISTORY_KEY="workbench.find.history",s._instance=null,s);t0=a=(0,ew.__decorate)([(0,ew.__param)(0,tX.IStorageService)],t0);var t1=e.i(286894);function t2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.hasModel())return null;let o=e.getSelection();if("single"===t&&o.startLineNumber===o.endLineNumber||"multiple"===t){if(o.isEmpty()){let t=e.getConfiguredWordAtPosition(o.getStartPosition());if(t&&!1===i)return t.word}else if(524288>e.getModel().getValueLengthInRange(o))return e.getModel().getValueInRange(o)}return null}!function(e){e[e.NoFocusChange=0]="NoFocusChange",e[e.FocusFindInput=1]="FocusFindInput",e[e.FocusReplaceInput=2]="FocusReplaceInput"}(c||(c={}));let t3=(d=l=class extends eE.Disposable{get editor(){return this._editor}static get(e){return e.getContribution(d.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,tc.StorageScope.WORKSPACE,tc.StorageTarget.MACHINE),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,tc.StorageScope.WORKSPACE,tc.StorageTarget.MACHINE),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,tc.StorageScope.WORKSPACE,tc.StorageTarget.MACHINE),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,tc.StorageScope.WORKSPACE,tc.StorageTarget.MACHINE)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",tc.StorageScope.WORKSPACE,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",tc.StorageScope.WORKSPACE,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",tc.StorageScope.WORKSPACE,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",tc.StorageScope.WORKSPACE,this._state.preserveCase)},!1)}isFindInputFocused(){return!!ej.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();(e=e.map(e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty())?null:e).filter(e=>!!e)).length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=(0,eI.escapeRegExpCharacters)(e)),this._state.change({searchString:e},!1)}highlightFindOptions(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}async _start(e,t){if(this.disposeModel(),!this._editor.hasModel())return;let i={...t,isRevealed:!0};if("single"===e.seedSearchStringFromSelection){let t=t2(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);t&&(this._state.isRegex?i.searchString=(0,eI.escapeRegExpCharacters)(t):i.searchString=t)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){let t=t2(this._editor,e.seedSearchStringFromSelection);t&&(i.searchString=t)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){let e=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;e&&(i.searchString=e)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){let e=this._editor.getSelections();e.some(e=>!e.isEmpty())&&(i.searchScope=e)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new e1(this._editor,this._state))}start(e,t){return this._start(e,t)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}goToMatch(e){return!!this._model&&(this._model.moveToMatch(e),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){if(this._model){var e;return(null==(e=this._editor.getModel())?void 0:e.isTooLargeForHeapOperation())?(this._notificationService.warn((0,V.localize)(955,"The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0)}return!1}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}async getGlobalBufferTerm(){return this._editor.getOption(N.EditorOption.find).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(e){this._editor.getOption(N.EditorOption.find).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}constructor(e,t,i,o,n,r){super(),this._editor=e,this._findWidgetVisible=eG.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=o,this._notificationService=n,this._hoverService=r,this._updateHistoryDelayer=new A.Delayer(500),this._state=this._register(new te),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",tc.StorageScope.WORKSPACE,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",tc.StorageScope.WORKSPACE,!1),isRegex:this._storageService.getBoolean("editor.isRegex",tc.StorageScope.WORKSPACE,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",tc.StorageScope.WORKSPACE,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:c.NoFocusChange,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(N.EditorOption.find).loop})}))}},l.ID="editor.contrib.findController",l);t3=d=(0,ew.__decorate)([(0,ew.__param)(1,tq.IContextKeyService),(0,ew.__param)(2,tX.IStorageService),(0,ew.__param)(3,er.IClipboardService),(0,ew.__param)(4,tY.INotificationService),(0,ew.__param)(5,tJ.IHoverService)],t3);let t5=class extends t3{async _start(e,t){this._widget||this._createFindWidget();let i=this._editor.getSelection(),o=!1;switch(this._editor.getOption(N.EditorOption.find).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":o=!!i&&i.startLineNumber!==i.endLineNumber}e.updateSearchScope=e.updateSearchScope||o,await super._start(e,t),this._widget&&(e.shouldFocus===c.FocusReplaceInput?this._widget.focusReplaceInput():e.shouldFocus===c.FocusFindInput&&this._widget.focusFindInput())}highlightFindOptions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new tU(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService,this._findWidgetSearchHistory)),this._findOptionsWidget=this._register(new e6(this._editor,this._state,this._keybindingService))}saveViewState(){var e;return null==(e=this._widget)?void 0:e.getViewState()}restoreViewState(e){var t;null==(t=this._widget)||t.setViewState(e)}constructor(e,t,i,o,n,r,s,a,l){super(e,i,s,a,r,l),this._contextViewService=t,this._keybindingService=o,this._themeService=n,this._widget=null,this._findOptionsWidget=null,this._findWidgetSearchHistory=t0.getOrCreate(s)}};t5=(0,ew.__decorate)([(0,ew.__param)(1,tj.IContextViewService),(0,ew.__param)(2,tq.IContextKeyService),(0,ew.__param)(3,tQ.IKeybindingService),(0,ew.__param)(4,t$.IThemeService),(0,ew.__param)(5,tY.INotificationService),(0,ew.__param)(6,tX.IStorageService),(0,ew.__param)(7,er.IClipboardService),(0,ew.__param)(8,tJ.IHoverService)],t5),(0,ex.registerMultiEditorAction)(new ex.MultiEditorAction({id:e0.StartFindAction,label:(0,V.localize2)(956,"Find"),precondition:es.ContextKeyExpr.or(K.EditorContextKeys.focus,es.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyF,weight:H.KeybindingWeight.EditorContrib},menuOpts:{menuId:B.MenuId.MenubarEditMenu,group:"3_find",title:(0,V.localize)(957,"&&Find"),order:1}})).addImplementation(0,(e,t,i)=>{let o=t3.get(t);return!!o&&o.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(N.EditorOption.find).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(N.EditorOption.find).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(N.EditorOption.find).globalFindClipboard,shouldFocus:c.FocusFindInput,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(N.EditorOption.find).loop})});let t4={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class t6 extends ex.EditorAction{async run(e,t,i){let o=t3.get(t);if(o){let e=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:void 0!==i.replaceString,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};await o.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===o.getState().searchString.length&&"never"!==t.getOption(N.EditorOption.find).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(N.EditorOption.find).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:c.FocusFindInput,shouldAnimate:!0,updateSearchScope:(null==i?void 0:i.findInSelection)||!1,loop:t.getOption(N.EditorOption.find).loop},e),o.setGlobalBufferTerm(o.getState().searchString)}}constructor(){super({id:e0.StartFindWithArgs,label:(0,V.localize2)(958,"Find With Arguments"),precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:H.KeybindingWeight.EditorContrib},metadata:t4})}}class t8 extends ex.EditorAction{async run(e,t){let i=t3.get(t);i&&(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:c.NoFocusChange,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(N.EditorOption.find).loop}),i.setGlobalBufferTerm(i.getState().searchString))}constructor(){super({id:e0.StartFindWithSelection,label:(0,V.localize2)(959,"Find With Selection"),precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyE},weight:H.KeybindingWeight.EditorContrib}})}}class t9 extends ex.EditorAction{async run(e,t){let i=t3.get(t);i&&!this._run(i)&&(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===i.getState().searchString.length&&"never"!==t.getOption(N.EditorOption.find).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(N.EditorOption.find).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:c.NoFocusChange,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(N.EditorOption.find).loop}),this._run(i))}}class t7 extends ex.EditorAction{run(e,t,i){let o=t3.get(t);if(!o)return;let n=o.getState().matchesCount;if(n<1)return void e.get(tY.INotificationService).notify({severity:t1.default.Warning,message:(0,V.localize)(963,"No matches. Try searching for something else.")});let r=e.get(tZ.IQuickInputService),s=new eE.DisposableStore,a=s.add(r.createInputBox());a.placeholder=(0,V.localize)(964,"Type a number to go to a specific match (between 1 and {0})",n);let l=e=>{let t=parseInt(e);if(isNaN(t))return;let i=o.getState().matchesCount;return t>0&&t<=i?t-1:t<0&&t>=-i?i+t:void 0},d=e=>{let i=l(e);if("number"==typeof i){a.validationMessage=void 0,o.goToMatch(i);let e=o.getState().currentMatch;e&&this.addDecorations(t,e)}else a.validationMessage=(0,V.localize)(965,"Please type a number between 1 and {0}",o.getState().matchesCount),this.clearDecorations(t)};s.add(a.onDidChangeValue(e=>{d(e)})),s.add(a.onDidAccept(()=>{let e=l(a.value);"number"==typeof e?(o.goToMatch(e),a.hide()):a.validationMessage=(0,V.localize)(965,"Please type a number between 1 and {0}",o.getState().matchesCount)})),s.add(a.onDidHide(()=>{this.clearDecorations(t),s.dispose()})),a.show()}clearDecorations(e){e.changeDecorations(e=>{this._highlightDecorations=e.deltaDecorations(this._highlightDecorations,[])})}addDecorations(e,t){e.changeDecorations(e=>{this._highlightDecorations=e.deltaDecorations(this._highlightDecorations,[{range:t,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,Y.themeColorFromId)(eD.overviewRulerRangeHighlight),position:W.OverviewRulerLane.Full}}}])})}constructor(){super({id:e0.GoToMatchFindAction,label:(0,V.localize2)(962,"Go to Match..."),precondition:eG}),this._highlightDecorations=[]}}class ie extends ex.EditorAction{async run(e,t){let i=t3.get(t);if(!i)return;let o=t2(t,"single",!1);o&&i.setSearchString(o),this._run(i)||(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:c.NoFocusChange,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(N.EditorOption.find).loop}),this._run(i))}}(0,ex.registerMultiEditorAction)(new ex.MultiEditorAction({id:e0.StartFindReplaceAction,label:(0,V.localize2)(968,"Replace"),precondition:es.ContextKeyExpr.or(K.EditorContextKeys.focus,es.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyH,mac:{primary:M.KeyMod.CtrlCmd|M.KeyMod.Alt|M.KeyCode.KeyF},weight:H.KeybindingWeight.EditorContrib},menuOpts:{menuId:B.MenuId.MenubarEditMenu,group:"3_find",title:(0,V.localize)(969,"&&Replace"),order:2}})).addImplementation(0,(e,t,i)=>{if(!t.hasModel()||t.getOption(N.EditorOption.readOnly))return!1;let o=t3.get(t);if(!o)return!1;let n=t.getSelection(),r=o.isFindInputFocused(),s=!n.isEmpty()&&n.startLineNumber===n.endLineNumber&&"never"!==t.getOption(N.EditorOption.find).seedSearchStringFromSelection&&!r,a=r||s?c.FocusReplaceInput:c.FocusFindInput;return o.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(N.EditorOption.find).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(N.EditorOption.find).seedSearchStringFromSelection,shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(N.EditorOption.find).loop})}),(0,ex.registerEditorContribution)(t3.ID,t5,ex.EditorContributionInstantiation.Eager),(0,ex.registerEditorAction)(t6),(0,ex.registerEditorAction)(t8),(0,ex.registerEditorAction)(class extends t9{_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}constructor(){super({id:e0.NextMatchFindAction,label:(0,V.localize2)(960,"Find Next"),precondition:void 0,kbOpts:[{kbExpr:K.EditorContextKeys.focus,primary:M.KeyCode.F3,mac:{primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyG,secondary:[M.KeyCode.F3]},weight:H.KeybindingWeight.EditorContrib},{kbExpr:es.ContextKeyExpr.and(K.EditorContextKeys.focus,ej),primary:M.KeyCode.Enter,weight:H.KeybindingWeight.EditorContrib}]})}}),(0,ex.registerEditorAction)(class extends t9{_run(e){return e.moveToPrevMatch()}constructor(){super({id:e0.PreviousMatchFindAction,label:(0,V.localize2)(961,"Find Previous"),precondition:void 0,kbOpts:[{kbExpr:K.EditorContextKeys.focus,primary:M.KeyMod.Shift|M.KeyCode.F3,mac:{primary:M.KeyMod.CtrlCmd|M.KeyMod.Shift|M.KeyCode.KeyG,secondary:[M.KeyMod.Shift|M.KeyCode.F3]},weight:H.KeybindingWeight.EditorContrib},{kbExpr:es.ContextKeyExpr.and(K.EditorContextKeys.focus,ej),primary:M.KeyMod.Shift|M.KeyCode.Enter,weight:H.KeybindingWeight.EditorContrib}]})}}),(0,ex.registerEditorAction)(t7),(0,ex.registerEditorAction)(class extends ie{_run(e){return e.moveToNextMatch()}constructor(){super({id:e0.NextSelectionMatchFindAction,label:(0,V.localize2)(966,"Find Next Selection"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.focus,primary:M.KeyMod.CtrlCmd|M.KeyCode.F3,weight:H.KeybindingWeight.EditorContrib}})}}),(0,ex.registerEditorAction)(class extends ie{_run(e){return e.moveToPrevMatch()}constructor(){super({id:e0.PreviousSelectionMatchFindAction,label:(0,V.localize2)(967,"Find Previous Selection"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.focus,primary:M.KeyMod.CtrlCmd|M.KeyMod.Shift|M.KeyCode.F3,weight:H.KeybindingWeight.EditorContrib}})}});let it=ex.EditorCommand.bindToContribution(t3.get);(0,ex.registerEditorCommand)(new it({id:e0.CloseFindWidgetCommand,precondition:eG,handler:e=>e.closeFindWidget(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:es.ContextKeyExpr.and(K.EditorContextKeys.focus,es.ContextKeyExpr.not("isComposing")),primary:M.KeyCode.Escape,secondary:[M.KeyMod.Shift|M.KeyCode.Escape]}})),(0,ex.registerEditorCommand)(new it({id:e0.ToggleCaseSensitiveCommand,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:K.EditorContextKeys.focus,primary:eY.primary,mac:eY.mac,win:eY.win,linux:eY.linux}})),(0,ex.registerEditorCommand)(new it({id:e0.ToggleWholeWordCommand,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:K.EditorContextKeys.focus,primary:eZ.primary,mac:eZ.mac,win:eZ.win,linux:eZ.linux}})),(0,ex.registerEditorCommand)(new it({id:e0.ToggleRegexCommand,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:K.EditorContextKeys.focus,primary:eX.primary,mac:eX.mac,win:eX.win,linux:eX.linux}})),(0,ex.registerEditorCommand)(new it({id:e0.ToggleSearchScopeCommand,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:K.EditorContextKeys.focus,primary:e$.primary,mac:e$.mac,win:e$.win,linux:e$.linux}})),(0,ex.registerEditorCommand)(new it({id:e0.TogglePreserveCaseCommand,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:K.EditorContextKeys.focus,primary:eJ.primary,mac:eJ.mac,win:eJ.win,linux:eJ.linux}})),(0,ex.registerEditorCommand)(new it({id:e0.ReplaceOneAction,precondition:eG,handler:e=>e.replace(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:K.EditorContextKeys.focus,primary:M.KeyMod.CtrlCmd|M.KeyMod.Shift|M.KeyCode.Digit1}})),(0,ex.registerEditorCommand)(new it({id:e0.ReplaceOneAction,precondition:eG,handler:e=>e.replace(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:es.ContextKeyExpr.and(K.EditorContextKeys.focus,eQ),primary:M.KeyCode.Enter}})),(0,ex.registerEditorCommand)(new it({id:e0.ReplaceAllAction,precondition:eG,handler:e=>e.replaceAll(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:K.EditorContextKeys.focus,primary:M.KeyMod.CtrlCmd|M.KeyMod.Alt|M.KeyCode.Enter}})),(0,ex.registerEditorCommand)(new it({id:e0.ReplaceAllAction,precondition:eG,handler:e=>e.replaceAll(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:es.ContextKeyExpr.and(K.EditorContextKeys.focus,eQ),primary:void 0,mac:{primary:M.KeyMod.CtrlCmd|M.KeyCode.Enter}}})),(0,ex.registerEditorCommand)(new it({id:e0.SelectAllMatchesAction,precondition:eG,handler:e=>e.selectAllMatches(),kbOpts:{weight:H.KeybindingWeight.EditorContrib+5,kbExpr:K.EditorContextKeys.focus,primary:M.KeyMod.Alt|M.KeyCode.Enter}})),e.s(["CommonFindController",()=>t3,"getSelectionSearchString",()=>t2],92121);var ii=e.i(628463);(0,T.default)(".monaco-editor .goto-definition-link{color:var(--vscode-editorLink-activeForeground)!important;cursor:pointer;text-decoration:underline}",{});var io=e.i(857798),ir=e.i(657170),is=e.i(490582),ia=e.i(865792),il=e.i(489230),id=e.i(610916),ic=e.i(535068),iu=e.i(544421);let ih=(h=u=class{static get(e){return e.getContribution(h.ID)}async startFindDefinitionFromCursor(e){await this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(e,t){if(e.target.type===e5.MouseTargetType.CONTENT_WIDGET&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}let i=e.target.position;this.startFindDefinition(i)}async startFindDefinition(e){var t;let i;this.toUnhookForKeyboard.clear();let o=e?null==(t=this.editor.getModel())?void 0:t.getWordAtPosition(e):null;if(!o){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===o.startColumn&&this.currentWordAtPosition.endColumn===o.endColumn&&this.currentWordAtPosition.word===o.word)return;this.currentWordAtPosition=o;let n=new io.EditorState(this.editor,io.CodeEditorStateFlag.Position|io.CodeEditorStateFlag.Value|io.CodeEditorStateFlag.Selection|io.CodeEditorStateFlag.Scroll);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,A.createCancelablePromise)(t=>this.findDefinition(e,t));try{i=await this.previousPromise}catch(e){(0,ts.onUnexpectedError)(e);return}if(!i||!i.length||!n.validate(this.editor))return void this.removeLinkDecorations();let r=i[0].originSelectionRange?O.Range.lift(i[0].originSelectionRange):new O.Range(e.lineNumber,o.startColumn,e.lineNumber,o.endColumn);if(i.length>1){let e=r;for(let{originSelectionRange:t}of i)t&&(e=O.Range.plusRange(e,t));this.addDecoration(e,new ii.MarkdownString().appendText((0,V.localize)(1088,"Click to show {0} definitions.",i.length)))}else{let e=i[0];if(!e.uri)return;this.textModelResolverService.createModelReference(e.uri).then(t=>{if(!t.object||!t.object.textEditorModel)return void t.dispose();let{object:{textEditorModel:i}}=t,{startLineNumber:o}=e.range;if(o<1||o>i.getLineCount())return void t.dispose();let n=this.getPreviewValue(i,o,e),s=this.languageService.guessLanguageIdByFilepathOrFirstLine(i.uri);this.addDecoration(r,n?new ii.MarkdownString().appendCodeblock(s||"",n):void 0),t.dispose()})}}getPreviewValue(e,t,i){let o=i.range;return o.endLineNumber-o.startLineNumber>=h.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,o)}stripIndentationFromPreviewRange(e,t,i){let o=e.getLineFirstNonWhitespaceColumn(t);for(let n=t+1;n<i.endLineNumber;n++)o=Math.min(o,e.getLineFirstNonWhitespaceColumn(n));return e.getValueInRange(i).replace(RegExp("^\\s{".concat(o-1,"}"),"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){let i=e.getLineFirstNonWhitespaceColumn(t),o=Math.min(e.getLineCount(),t+h.MAX_SOURCE_PREVIEW_LINES),n=t+1;for(;n<o&&i!==e.getLineFirstNonWhitespaceColumn(n);n++);return new O.Range(t,1,n+1,1)}addDecoration(e,t){this.linkDecorations.set([{range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}}])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){var i;return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===e5.MouseTargetType.CONTENT_TEXT&&!((null==(i=e.target.detail.injectedText)?void 0:i.options)instanceof z.ModelDecorationInjectedTextOptions)&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){let i=this.editor.getModel();return i?(0,ic.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,i,e,!1,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(e=>{let i=!t&&this.editor.getOption(N.EditorOption.definitionLinkOpensInPeek)&&!this.isInPeekEditor(e);return new id.DefinitionAction({openToSide:t,openInPeek:i,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(e)})}isInPeekEditor(e){let t=e.get(tq.IContextKeyService);return il.PeekContext.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}constructor(e,t,i,o){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=o,this.toUnhook=new L.DisposableStore,this.toUnhookForKeyboard=new L.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();let n=new ia.ClickLinkGesture(e);this.toUnhook.add(n),this.toUnhook.add(n.onMouseMoveOrRelevantKeyDown(e=>{let[t,i]=e;this.startFindDefinitionFromMouse(t,null!=i?i:void 0)})),this.toUnhook.add(n.onExecute(e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).catch(e=>{(0,ts.onUnexpectedError)(e)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(n.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}},u.ID="editor.contrib.gotodefinitionatposition",u.MAX_SOURCE_PREVIEW_LINES=8,u);ih=h=(0,ew.__decorate)([(0,ew.__param)(1,is.ITextModelService),(0,ew.__param)(2,ir.ILanguageService),(0,ew.__param)(3,iu.ILanguageFeaturesService)],ih),(0,R.registerEditorContribution)(ih.ID,ih,R.EditorContributionInstantiation.BeforeFirstInteraction),e.s(["GotoDefinitionAtPositionEditorContribution",()=>ih],199511),(0,T.default)(".extension-editor .codicon.codicon-error,.extensions-viewlet>.extensions .codicon.codicon-error,.markers-panel .marker-icon .codicon.codicon-error,.markers-panel .marker-icon.error,.monaco-editor .zone-widget .codicon.codicon-error,.preferences-editor .codicon.codicon-error,.text-search-provider-messages .providerMessage .codicon.codicon-error{color:var(--vscode-problemsErrorIcon-foreground)}.extension-editor .codicon.codicon-warning,.extensions-viewlet>.extensions .codicon.codicon-warning,.markers-panel .marker-icon .codicon.codicon-warning,.markers-panel .marker-icon.warning,.monaco-editor .zone-widget .codicon.codicon-warning,.preferences-editor .codicon.codicon-warning,.text-search-provider-messages .providerMessage .codicon.codicon-warning{color:var(--vscode-problemsWarningIcon-foreground)}.extension-editor .codicon.codicon-info,.extensions-viewlet>.extensions .codicon.codicon-info,.markers-panel .marker-icon .codicon.codicon-info,.markers-panel .marker-icon.info,.monaco-editor .zone-widget .codicon.codicon-info,.preferences-editor .codicon.codicon-info,.text-search-provider-messages .providerMessage .codicon.codicon-info{color:var(--vscode-problemsInfoIcon-foreground)}",{}),(p||(p={})).className=function(e){switch(e){case t1.default.Ignore:return"severity-ignore "+th.ThemeIcon.asClassName(tr.Codicon.info);case t1.default.Info:return th.ThemeIcon.asClassName(tr.Codicon.info);case t1.default.Warning:return th.ThemeIcon.asClassName(tr.Codicon.warning);case t1.default.Error:return th.ThemeIcon.asClassName(tr.Codicon.error);default:return""}},e.s(["SeverityIcon",()=>p],591921);var ip=L,ig=R,im=e.i(945064);(0,T.default)(".monaco-editor .focused .selectionHighlight{background-color:var(--vscode-editor-selectionHighlightBackground);border:1px solid var(--vscode-editor-selectionHighlightBorder);box-sizing:border-box}.monaco-editor.hc-black .focused .selectionHighlight,.monaco-editor.hc-light .focused .selectionHighlight{border-style:dotted}.monaco-editor .wordHighlight{background-color:var(--vscode-editor-wordHighlightBackground);border:1px solid var(--vscode-editor-wordHighlightBorder);box-sizing:border-box}.monaco-editor.hc-black .wordHighlight,.monaco-editor.hc-light .wordHighlight{border-style:dotted}.monaco-editor .wordHighlightStrong{background-color:var(--vscode-editor-wordHighlightStrongBackground);border:1px solid var(--vscode-editor-wordHighlightStrongBorder);box-sizing:border-box}.monaco-editor.hc-black .wordHighlightStrong,.monaco-editor.hc-light .wordHighlightStrong{border-style:dotted}.monaco-editor .wordHighlightText{background-color:var(--vscode-editor-wordHighlightTextBackground);border:1px solid var(--vscode-editor-wordHighlightTextBorder);box-sizing:border-box}.monaco-editor.hc-black .wordHighlightText,.monaco-editor.hc-light .wordHighlightText{border-style:dotted}",{});var iv=e.i(418964);let i_=(0,U.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},(0,V.localize)(1526,"Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,U.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},(0,V.localize)(1527,"Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,U.registerColor)("editor.wordHighlightTextBackground",i_,(0,V.localize)(1528,"Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);let iy=(0,U.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:G.activeContrastBorder,hcLight:G.activeContrastBorder},(0,V.localize)(1529,"Border color of a symbol during read-access, like reading a variable."));(0,U.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:G.activeContrastBorder,hcLight:G.activeContrastBorder},(0,V.localize)(1530,"Border color of a symbol during write-access, like writing to a variable.")),(0,U.registerColor)("editor.wordHighlightTextBorder",iy,(0,V.localize)(1531,"Border color of a textual occurrence for a symbol."));let iC=(0,U.registerColor)("editorOverviewRuler.wordHighlightForeground","#A0A0A0CC",(0,V.localize)(1532,"Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ib=(0,U.registerColor)("editorOverviewRuler.wordHighlightStrongForeground","#C0A0C0CC",(0,V.localize)(1533,"Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),iS=(0,U.registerColor)("editorOverviewRuler.wordHighlightTextForeground",q.overviewRulerSelectionHighlightForeground,(0,V.localize)(1534,"Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),iw=z.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlightStrong",overviewRuler:{color:(0,Y.themeColorFromId)(ib),position:W.OverviewRulerLane.Center},minimap:{color:(0,Y.themeColorFromId)(Q.minimapSelectionOccurrenceHighlight),position:W.MinimapPosition.Inline}}),iE=z.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlightText",overviewRuler:{color:(0,Y.themeColorFromId)(iS),position:W.OverviewRulerLane.Center},minimap:{color:(0,Y.themeColorFromId)(Q.minimapSelectionOccurrenceHighlight),position:W.MinimapPosition.Inline}}),iI=z.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:{color:(0,Y.themeColorFromId)(q.overviewRulerSelectionHighlightForeground),position:W.OverviewRulerLane.Center},minimap:{color:(0,Y.themeColorFromId)(Q.minimapSelectionOccurrenceHighlight),position:W.MinimapPosition.Inline}}),ix=z.ModelDecorationOptions.register({description:"selection-highlight",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight"}),iD=z.ModelDecorationOptions.register({description:"word-highlight",stickiness:W.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlight",overviewRuler:{color:(0,Y.themeColorFromId)(iC),position:W.OverviewRulerLane.Center},minimap:{color:(0,Y.themeColorFromId)(Q.minimapSelectionOccurrenceHighlight),position:W.MinimapPosition.Inline}});(0,Y.registerThemingParticipant)((e,t)=>{let i=e.getColor(q.editorSelectionHighlight);i&&t.addRule(".monaco-editor .selectionHighlight { background-color: ".concat(i.transparent(.5),"; }"))});var ik=e.i(693655);function iA(e,t){let i=t.filter(t=>!e.find(e=>e.equals(t)));if(i.length>=1){let e=i.map(e=>"line ".concat(e.viewState.position.lineNumber," column ").concat(e.viewState.position.column)).join(", "),t=1===i.length?(0,V.localize)(1265,"Cursor added: {0}",e):(0,V.localize)(1266,"Cursors added: {0}",e);(0,tt.status)(t)}}class iM extends ig.EditorAction{run(e,t,i){if(!t.hasModel())return;let o=!0;i&&!1===i.logicalLine&&(o=!1);let n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();let r=n.getCursorStates();n.setCursorStates(i.source,eL.CursorChangeReason.Explicit,im.CursorMoveCommands.addCursorUp(n,r,o)),n.revealTopMostCursor(i.source),iA(r,n.getCursorStates())}constructor(){super({id:"editor.action.insertCursorAbove",label:(0,V.localize2)(1267,"Add Cursor Above"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:M.KeyMod.CtrlCmd|M.KeyMod.Alt|M.KeyCode.UpArrow,linux:{primary:M.KeyMod.Shift|M.KeyMod.Alt|M.KeyCode.UpArrow,secondary:[M.KeyMod.CtrlCmd|M.KeyMod.Shift|M.KeyCode.UpArrow]},weight:H.KeybindingWeight.EditorContrib},menuOpts:{menuId:B.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,V.localize)(1268,"&&Add Cursor Above"),order:2}})}}class iL extends ig.EditorAction{run(e,t,i){if(!t.hasModel())return;let o=!0;i&&!1===i.logicalLine&&(o=!1);let n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();let r=n.getCursorStates();n.setCursorStates(i.source,eL.CursorChangeReason.Explicit,im.CursorMoveCommands.addCursorDown(n,r,o)),n.revealBottomMostCursor(i.source),iA(r,n.getCursorStates())}constructor(){super({id:"editor.action.insertCursorBelow",label:(0,V.localize2)(1269,"Add Cursor Below"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:M.KeyMod.CtrlCmd|M.KeyMod.Alt|M.KeyCode.DownArrow,linux:{primary:M.KeyMod.Shift|M.KeyMod.Alt|M.KeyCode.DownArrow,secondary:[M.KeyMod.CtrlCmd|M.KeyMod.Shift|M.KeyCode.DownArrow]},weight:H.KeybindingWeight.EditorContrib},menuOpts:{menuId:B.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,V.localize)(1270,"A&&dd Cursor Below"),order:3}})}}class iT extends ig.EditorAction{getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let o=e.startLineNumber;o<e.endLineNumber;o++){let e=t.getLineMaxColumn(o);i.push(new F.Selection(o,e,o,e))}e.endColumn>1&&i.push(new F.Selection(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;let i=t.getModel(),o=t.getSelections(),n=t._getViewModel(),r=n.getCursorStates(),s=[];o.forEach(e=>this.getCursorsForSelection(e,i,s)),s.length>0&&t.setSelections(s),iA(r,n.getCursorStates())}constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:(0,V.localize2)(1271,"Add Cursors to Line Ends"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:M.KeyMod.Shift|M.KeyMod.Alt|M.KeyCode.KeyI,weight:H.KeybindingWeight.EditorContrib},menuOpts:{menuId:B.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,V.localize)(1272,"Add C&&ursors to Line Ends"),order:4}})}}class iR extends ig.EditorAction{run(e,t){if(!t.hasModel())return;let i=t.getSelections(),o=t.getModel().getLineCount(),n=[];for(let e=i[0].startLineNumber;e<=o;e++)n.push(new F.Selection(e,i[0].startColumn,e,i[0].endColumn));let r=t._getViewModel(),s=r.getCursorStates();n.length>0&&t.setSelections(n),iA(s,r.getCursorStates())}constructor(){super({id:"editor.action.addCursorsToBottom",label:(0,V.localize2)(1273,"Add Cursors To Bottom"),precondition:void 0})}}class iN extends ig.EditorAction{run(e,t){if(!t.hasModel())return;let i=t.getSelections(),o=[];for(let e=i[0].startLineNumber;e>=1;e--)o.push(new F.Selection(e,i[0].startColumn,e,i[0].endColumn));let n=t._getViewModel(),r=n.getCursorStates();o.length>0&&t.setSelections(o),iA(r,n.getCursorStates())}constructor(){super({id:"editor.action.addCursorsToTop",label:(0,V.localize2)(1274,"Add Cursors To Top"),precondition:void 0})}}class iP{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class iO{static create(e,t){let i,o,n;if(!e.hasModel())return null;let r=t.getState();if(!e.hasTextFocus()&&r.isRevealed&&r.searchString.length>0)return new iO(e,t,!1,r.searchString,r.wholeWord,r.matchCase,null);let s=!1,a=e.getSelections();1===a.length&&a[0].isEmpty()?(s=!0,i=!0,o=!0):(i=r.wholeWord,o=r.matchCase);let l=e.getSelection(),d=null;if(l.isEmpty()){let t=e.getConfiguredWordAtPosition(l.getStartPosition());if(!t)return null;n=t.word,d=new F.Selection(l.startLineNumber,t.startColumn,l.startLineNumber,t.endColumn)}else n=e.getModel().getValueInRange(l).replace(/\r\n/g,"\n");return new iO(e,t,s,n,i,o,d)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let e=this._getNextMatch();return e?new iP(this._editor.getSelections().concat(e),e,eu.ScrollType.Smooth):null}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let e=this._getNextMatch();if(!e)return null;let t=this._editor.getSelections();return new iP(t.slice(0,t.length-1).concat(e),e,eu.ScrollType.Smooth)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();let e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,!1);return i?new F.Selection(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let e=this._getPreviousMatch();return e?new iP(this._editor.getSelections().concat(e),e,eu.ScrollType.Smooth):null}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let e=this._getPreviousMatch();if(!e)return null;let t=this._editor.getSelections();return new iP(t.slice(0,t.length-1).concat(e),e,eu.ScrollType.Smooth)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();let e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,!1);return i?new F.Selection(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();let t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,!1,eA.Constants.MAX_SAFE_SMALL_INTEGER):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,!1,eA.Constants.MAX_SAFE_SMALL_INTEGER)}constructor(e,t,i,o,n,r,s){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=o,this.wholeWord=n,this.matchCase=r,this.currentMatch=s}}class iF extends ip.Disposable{static get(e){return e.getContribution(iF.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){let t=iO.create(this._editor,e);if(!t)return;this._session=t;let i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=r.True,i.matchCaseOverride=r.True,i.isRegexOverride=r.False),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(e=>{(e.matchCase||e.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){let e={wholeWordOverride:r.NotSet,matchCaseOverride:r.NotSet,isRegexOverride:r.NotSet};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;let i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new F.Selection(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){let t=this._editor.getSelections();if(t.length>1){let i=e.getState().matchCase;if(!iV(this._editor.getModel(),t,i)){let e=this._editor.getModel(),i=[];for(let o=0,n=t.length;o<n;o++)i[o]=this._expandEmptyToWord(e,t[o]);this._editor.setSelections(i);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null,i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){let e=this._editor.getModel();t=i.searchScope?e.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,!1,eA.Constants.MAX_SAFE_SMALL_INTEGER):e.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(N.EditorOption.wordSeparators):null,!1,eA.Constants.MAX_SAFE_SMALL_INTEGER)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){let e=this._editor.getSelection();for(let i=0,o=t.length;i<o;i++){let o=t[i];if(o.range.intersectRanges(e)){t[i]=t[0],t[0]=o;break}}this._setSelections(t.map(e=>new F.Selection(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)))}}selectAllUsingSelections(e){e.length>0&&this._setSelections(e)}constructor(e){super(),this._sessionDispose=this._register(new ip.DisposableStore),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}}iF.ID="editor.contrib.multiCursorController";class iK extends ig.EditorAction{run(e,t){let i=iF.get(t);if(!i)return;let o=t._getViewModel();if(o){let n=o.getCursorStates(),r=t3.get(t);if(r)this._run(i,r);else{let o=e.get(ik.IInstantiationService).createInstance(t3,t);this._run(i,o),o.dispose()}iA(n,o.getCursorStates())}}}class iW{findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(O.Range.compareRangesUsingStarts)),this._cachedFindMatches}constructor(e,t,i,o,n){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=o,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,n&&this._model===n._model&&this._searchText===n._searchText&&this._matchCase===n._matchCase&&this._wordSeparators===n._wordSeparators&&this._modelVersionId===n._modelVersionId&&(this._cachedFindMatches=n._cachedFindMatches)}}let iz=(m=g=class extends ip.Disposable{_update(){this._setState(m._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;let o=i.getSelection();if(o.startLineNumber!==o.endLineNumber)return null;let n=iF.get(i);if(!n)return null;let r=t3.get(i);if(!r)return null;let s=n.getSession(r);if(!s){let e=i.getSelections();if(e.length>1){let t=r.getState().matchCase;if(!iV(i.getModel(),e,t))return null}s=iO.create(i,r)}if(!s||s.currentMatch||/^[ \t]+$/.test(s.searchText)||s.searchText.length>200)return null;let a=r.getState(),l=a.matchCase;if(a.isRevealed){let e=a.searchString;l||(e=e.toLowerCase());let t=s.searchText;if(l||(t=t.toLowerCase()),e===t&&s.matchCase===a.matchCase&&s.wholeWord===a.wholeWord&&!a.isRegex)return null}return new iW(i.getModel(),s.searchText,s.matchCase,s.wholeWord?i.getOption(N.EditorOption.wordSeparators):null,e)}_setState(e){if(this.state=e,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;let t=this.editor.getModel();if(t.isTooLargeForTokenization())return;let i=this.state.findMatches(),o=this.editor.getSelections();o.sort(O.Range.compareRangesUsingStarts);let n=[];for(let e=0,t=0,r=i.length,s=o.length;e<r;){let r=i[e];if(t>=s)n.push(r),e++;else{let i=O.Range.compareRangesUsingStarts(r,o[t]);i<0?((o[t].isEmpty()||!O.Range.areIntersecting(r,o[t]))&&n.push(r),e++):(i>0||e++,t++)}}let r="off"!==this.editor.getOption(N.EditorOption.occurrencesHighlight),s=this._languageFeaturesService.documentHighlightProvider.has(t)&&r,a=n.map(e=>({range:e,options:s?ix:iI}));this._decorations.set(a)}dispose(){this._setState(null),super.dispose()}constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(N.EditorOption.selectionHighlight),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new A.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(t=>{this._isEnabled=e.getOption(N.EditorOption.selectionHighlight)})),this._register(e.onDidChangeCursorSelection(e=>{this._isEnabled&&(e.selection.isEmpty()?e.reason===eL.CursorChangeReason.Explicit?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(e=>{this._setState(null)})),this._register(e.onDidChangeModelContent(e=>{this._isEnabled&&this.updateSoon.schedule()}));let i=t3.get(e);i&&this._register(i.getState().onFindReplaceStateChange(e=>{this._update()})),this.updateSoon.schedule()}},g.ID="editor.contrib.selectionHighlighter",g);function iV(e,t,i){let o=iB(e,t[0],!i);for(let n=1,r=t.length;n<r;n++){let r=t[n];if(r.isEmpty()||o!==iB(e,r,!i))return!1}return!0}function iB(e,t,i){let o=e.getValueInRange(t);return i?o.toLowerCase():o}iz=m=(0,ew.__decorate)([(0,ew.__param)(1,iu.ILanguageFeaturesService)],iz);class iH extends ig.EditorAction{run(e,t,i){if(!t.hasModel())return;let o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let n=Array.from(o.getCursorStates()),r=n.shift();r&&(n.push(r),o.setCursorStates(i.source,eL.CursorChangeReason.Explicit,n),o.revealPrimaryCursor(i.source,!0),iA(n,o.getCursorStates()))}constructor(){super({id:"editor.action.focusNextCursor",label:(0,V.localize2)(1284,"Focus Next Cursor"),metadata:{description:(0,V.localize)(1285,"Focuses the next cursor"),args:[]},precondition:void 0})}}class iU extends ig.EditorAction{run(e,t,i){if(!t.hasModel())return;let o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let n=Array.from(o.getCursorStates()),r=n.pop();r&&(n.unshift(r),o.setCursorStates(i.source,eL.CursorChangeReason.Explicit,n),o.revealPrimaryCursor(i.source,!0),iA(n,o.getCursorStates()))}constructor(){super({id:"editor.action.focusPreviousCursor",label:(0,V.localize2)(1286,"Focus Previous Cursor"),metadata:{description:(0,V.localize)(1287,"Focuses the previous cursor"),args:[]},precondition:void 0})}}(0,ig.registerEditorContribution)(iF.ID,iF,ig.EditorContributionInstantiation.Lazy),(0,ig.registerEditorContribution)(iz.ID,iz,ig.EditorContributionInstantiation.AfterFirstRender),(0,ig.registerEditorAction)(iM),(0,ig.registerEditorAction)(iL),(0,ig.registerEditorAction)(iT),(0,ig.registerEditorAction)(class extends iK{_run(e,t){e.addSelectionToNextFindMatch(t)}constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:(0,V.localize2)(1275,"Add Selection To Next Find Match"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.focus,primary:M.KeyMod.CtrlCmd|M.KeyCode.KeyD,weight:H.KeybindingWeight.EditorContrib},menuOpts:{menuId:B.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,V.localize)(1276,"Add &&Next Occurrence"),order:5}})}}),(0,ig.registerEditorAction)(class extends iK{_run(e,t){e.addSelectionToPreviousFindMatch(t)}constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:(0,V.localize2)(1277,"Add Selection To Previous Find Match"),precondition:void 0,menuOpts:{menuId:B.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,V.localize)(1278,"Add P&&revious Occurrence"),order:6}})}}),(0,ig.registerEditorAction)(class extends iK{_run(e,t){e.moveSelectionToNextFindMatch(t)}constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:(0,V.localize2)(1279,"Move Last Selection To Next Find Match"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.focus,primary:(0,M.KeyChord)(M.KeyMod.CtrlCmd|M.KeyCode.KeyK,M.KeyMod.CtrlCmd|M.KeyCode.KeyD),weight:H.KeybindingWeight.EditorContrib}})}}),(0,ig.registerEditorAction)(class extends iK{_run(e,t){e.moveSelectionToPreviousFindMatch(t)}constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:(0,V.localize2)(1280,"Move Last Selection To Previous Find Match"),precondition:void 0})}}),(0,ig.registerEditorAction)(class extends iK{_run(e,t){e.selectAll(t)}constructor(){super({id:"editor.action.selectHighlights",label:(0,V.localize2)(1281,"Select All Occurrences of Find Match"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.focus,primary:M.KeyMod.CtrlCmd|M.KeyMod.Shift|M.KeyCode.KeyL,weight:H.KeybindingWeight.EditorContrib},menuOpts:{menuId:B.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,V.localize)(1282,"Select All &&Occurrences"),order:7}})}}),(0,ig.registerEditorAction)(class extends iK{_run(e,t){e.selectAll(t)}constructor(){super({id:"editor.action.changeAll",label:(0,V.localize2)(1283,"Change All Occurrences"),precondition:es.ContextKeyExpr.and(K.EditorContextKeys.writable,K.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:M.KeyMod.CtrlCmd|M.KeyCode.F2,weight:H.KeybindingWeight.EditorContrib},contextMenuOpts:{group:"1_modification",order:1.2}})}}),(0,ig.registerEditorAction)(iR),(0,ig.registerEditorAction)(iN),(0,ig.registerEditorAction)(iH),(0,ig.registerEditorAction)(iU),e.s(["MultiCursorSelectionController",()=>iF],329381);var iG=e.i(760837),iq=e.i(292473),ij=e.i(323235),iQ=e.i(785310),iY=e.i(836387),iZ=e.i(933530);function iX(e){return e&&!!e.data}function i$(e){return e&&Array.isArray(e.edits)}class iJ{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function i0(e,t){return e.has(t)}async function i1(e,t,i,o,n){let r=function(e,t){let i=e.orderedGroups(t);return i.length>0?i[0]:[]}(e,t),s=await Promise.all(r.map(async e=>{let r,s=null;try{r=await e.provideDocumentSemanticTokens(t,e===i?o:null,n)}catch(e){s=e,r=null}return r&&(iX(r)||i$(r))||(r=null),new iJ(e,r,s)}));for(let e of s){if(e.error)throw e.error;if(e.tokens)return e}return s.length>0?s[0]:null}class i2{constructor(e,t){this.provider=e,this.tokens=t}}function i3(e,t){return e.has(t)}function i5(e,t){let i=e.orderedGroups(t);return i.length>0?i[0]:[]}async function i4(e,t,i,o){let n=i5(e,t),r=await Promise.all(n.map(async e=>{let n;try{n=await e.provideDocumentRangeSemanticTokens(t,i,o)}catch(e){(0,ts.onUnexpectedExternalError)(e),n=null}return n&&iX(n)||(n=null),new i2(e,n)}));for(let e of r)if(e.tokens)return e;return r.length>0?r[0]:null}iQ.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n]=i;(0,tg.assertType)(n instanceof iq.URI);let r=e.get(ij.IModelService).getModel(n);if(!r)return;let{documentSemanticTokensProvider:s}=e.get(iu.ILanguageFeaturesService),a=function(e,t){let i=e.orderedGroups(t);return i.length>0?i[0]:null}(s,r);return a?a[0].getLegend():e.get(iY.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",n)}),iQ.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n]=i;(0,tg.assertType)(n instanceof iq.URI);let r=e.get(ij.IModelService).getModel(n);if(!r)return;let{documentSemanticTokensProvider:s}=e.get(iu.ILanguageFeaturesService);if(!i0(s,r))return e.get(iY.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",n,r.getFullModelRange());let a=await i1(s,r,null,null,iG.CancellationToken.None);if(!a)return;let{provider:l,tokens:d}=a;if(!d||!iX(d))return;let c=(0,iZ.encodeSemanticTokensDto)({id:0,type:"full",data:d.data});return d.resultId&&l.releaseDocumentSemanticTokens(d.resultId),c}),iQ.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n,r]=i;(0,tg.assertType)(n instanceof iq.URI);let s=e.get(ij.IModelService).getModel(n);if(!s)return;let{documentRangeSemanticTokensProvider:a}=e.get(iu.ILanguageFeaturesService),l=i5(a,s);if(0===l.length)return;if(1===l.length)return l[0].getLegend();if(!r||!O.Range.isIRange(r))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),l[0].getLegend();let d=await i4(a,s,O.Range.lift(r),iG.CancellationToken.None);if(d)return d.provider.getLegend()}),iQ.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n,r]=i;(0,tg.assertType)(n instanceof iq.URI),(0,tg.assertType)(O.Range.isIRange(r));let s=e.get(ij.IModelService).getModel(n);if(!s)return;let{documentRangeSemanticTokensProvider:a}=e.get(iu.ILanguageFeaturesService),l=await i4(a,s,O.Range.lift(r),iG.CancellationToken.None);if(l&&l.tokens)return(0,iZ.encodeSemanticTokensDto)({id:0,type:"full",data:l.tokens.data})}),e.s(["getDocumentRangeSemanticTokens",()=>i4,"getDocumentSemanticTokens",()=>i1,"hasDocumentRangeSemanticTokensProvider",()=>i3,"hasDocumentSemanticTokensProvider",()=>i0,"isSemanticTokens",()=>iX,"isSemanticTokensEdits",()=>i$],259206);var i6=L,i8=e.i(158367),i9=e.i(977681),i7=e.i(619223),oe=e.i(555690),ot=e.i(225696),oi=e.i(623096);let oo=(_=v=class extends i6.Disposable{static get(e){return e.getContribution(_.ID)}_cancelAll(){for(let e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;let e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!(0,i8.isSemanticColoringEnabled)(e,this._themeService,this._configurationService)||!i3(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}let t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(t=>this._requestRange(e,t)))}_requestRange(e,t){let i=e.getVersionId(),o=(0,A.createCancelablePromise)(i=>Promise.resolve(i4(this._provider,e,t,i))),n=new ot.StopWatch(!1);return o.then(o=>{if(this._debounceInformation.update(e,n.elapsed()),!o||!o.tokens||e.isDisposed()||e.getVersionId()!==i)return;let{provider:r,tokens:s}=o,a=this._semanticTokensStylingService.getStyling(r);e.tokenization.setPartialSemanticTokens(t,(0,i9.toMultilineTokens2)(s,a,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}constructor(e,t,i,o,n,r){super(),this._semanticTokensStylingService=t,this._themeService=i,this._configurationService=o,this._editor=e,this._provider=r.documentRangeSemanticTokensProvider,this._debounceInformation=n.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new A.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];let s=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{s()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),s()})),this._register(this._editor.onDidChangeModelContent(e=>{this._cancelAll(),s()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),s()})),this._register(this._configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(i8.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),s())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),s()})),s()}},v.ID="editor.contrib.viewportSemanticTokens",v);oo=_=(0,ew.__decorate)([(0,ew.__param)(1,oi.ISemanticTokensStylingService),(0,ew.__param)(2,t$.IThemeService),(0,ew.__param)(3,i7.IConfigurationService),(0,ew.__param)(4,oe.ILanguageFeatureDebounceService),(0,ew.__param)(5,iu.ILanguageFeaturesService)],oo),(0,R.registerEditorContribution)(oo.ID,oo,R.EditorContributionInstantiation.AfterFirstRender),e.s(["ViewportSemanticTokensContribution",()=>oo],860906);var on=e.i(68858),or=R,os=e.i(84515);class oa{provideSelectionRanges(e,t){let i=[];for(let o of t){let t=[];i.push(t),this.selectSubwords&&this._addInWordRanges(t,e,o),this._addWordRanges(t,e,o),this._addWhitespaceLine(t,e,o),t.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){let o=t.getWordAtPosition(i);if(!o)return;let{word:n,startColumn:r}=o,s=i.column-r,a=s,l=s,d=0;for(;a>=0;a--){let e=n.charCodeAt(a);if(a!==s&&(e===eP.CharCode.Underline||e===eP.CharCode.Dash)||(0,eI.isLowerAsciiLetter)(e)&&(0,eI.isUpperAsciiLetter)(d))break;d=e}for(a+=1;l<n.length;l++){let e=n.charCodeAt(l);if((0,eI.isUpperAsciiLetter)(e)&&(0,eI.isLowerAsciiLetter)(d)||e===eP.CharCode.Underline||e===eP.CharCode.Dash)break;d=e}a<l&&e.push({range:new O.Range(i.lineNumber,r+a,i.lineNumber,r+l)})}_addWordRanges(e,t,i){let o=t.getWordAtPosition(i);o&&e.push({range:new O.Range(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new O.Range(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}constructor(e=!0){this.selectSubwords=e}}class ol{mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;let i=new ol(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}constructor(e,t){this.index=e,this.ranges=t}}let od=(y=f=class{static get(e){return e.getContribution(y.ID)}dispose(){var e;null==(e=this._selectionListener)||e.dispose()}async run(e){if(!this._editor.hasModel())return;let t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||await ou(this._languageFeaturesService.selectionRangeProvider,i,t.map(e=>e.getPosition()),this._editor.getOption(N.EditorOption.smartSelect),iG.CancellationToken.None).then(e=>{var i;if((0,on.isNonEmptyArray)(e)&&e.length===t.length&&this._editor.hasModel()&&(0,on.equals)(this._editor.getSelections(),t,(e,t)=>e.equalsSelection(t))){for(let i=0;i<e.length;i++)e[i]=e[i].filter(e=>e.containsPosition(t[i].getStartPosition())&&e.containsPosition(t[i].getEndPosition())),e[i].unshift(t[i]);this._state=e.map(e=>new ol(0,e)),null==(i=this._selectionListener)||i.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{if(!this._ignoreSelection){var e;null==(e=this._selectionListener)||e.dispose(),this._state=void 0}})}}),!this._state)return;this._state=this._state.map(t=>t.mov(e));let o=this._state.map(e=>F.Selection.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(o)}finally{this._ignoreSelection=!1}}constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}},f.ID="editor.contrib.smartSelectController",f);od=y=(0,ew.__decorate)([(0,ew.__param)(1,iu.ILanguageFeaturesService)],od);class oc extends or.EditorAction{async run(e,t){let i=od.get(t);i&&await i.run(this._forward)}constructor(e,t){super(t),this._forward=e}}async function ou(e,t,i,o,n){let r=e.all(t).concat(new oa(o.selectSubwords));1===r.length&&r.unshift(new os.BracketSelectionRangeProvider);let s=[],a=[];for(let e of r)s.push(Promise.resolve(e.provideSelectionRanges(t,i,n)).then(e=>{if((0,on.isNonEmptyArray)(e)&&e.length===i.length)for(let t=0;t<i.length;t++)for(let o of(a[t]||(a[t]=[]),e[t]))O.Range.isIRange(o.range)&&O.Range.containsPosition(o.range,i[t])&&a[t].push(O.Range.lift(o.range))},ts.onUnexpectedExternalError));return await Promise.all(s),a.map(e=>{let i;if(0===e.length)return[];e.sort((e,t)=>P.Position.isBefore(e.getStartPosition(),t.getStartPosition())?1:P.Position.isBefore(t.getStartPosition(),e.getStartPosition())?-1:P.Position.isBefore(e.getEndPosition(),t.getEndPosition())?-1:1*!!P.Position.isBefore(t.getEndPosition(),e.getEndPosition()));let n=[];for(let t of e)(!i||O.Range.containsRange(t,i)&&!O.Range.equalsRange(t,i))&&(n.push(t),i=t);if(!o.selectLeadingAndTrailingWhitespace)return n;let r=[n[0]];for(let e=1;e<n.length;e++){let i=n[e-1],o=n[e];if(o.startLineNumber!==i.startLineNumber||o.endLineNumber!==i.endLineNumber){let e=new O.Range(i.startLineNumber,t.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,t.getLineLastNonWhitespaceColumn(i.endLineNumber));e.containsRange(i)&&!e.equalsRange(i)&&o.containsRange(e)&&!o.equalsRange(e)&&r.push(e);let n=new O.Range(i.startLineNumber,1,i.endLineNumber,t.getLineMaxColumn(i.endLineNumber));n.containsRange(i)&&!n.equalsRange(e)&&o.containsRange(n)&&!o.equalsRange(n)&&r.push(n)}r.push(o)}return r})}iQ.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,or.registerEditorContribution)(od.ID,od,or.EditorContributionInstantiation.Lazy),(0,or.registerEditorAction)(class extends oc{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:(0,V.localize2)(1367,"Expand Selection"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:M.KeyMod.Shift|M.KeyMod.Alt|M.KeyCode.RightArrow,mac:{primary:M.KeyMod.CtrlCmd|M.KeyMod.WinCtrl|M.KeyMod.Shift|M.KeyCode.RightArrow,secondary:[M.KeyMod.WinCtrl|M.KeyMod.Shift|M.KeyCode.RightArrow]},weight:H.KeybindingWeight.EditorContrib},menuOpts:{menuId:B.MenuId.MenubarSelectionMenu,group:"1_basic",title:(0,V.localize)(1368,"&&Expand Selection"),order:2}})}}),(0,or.registerEditorAction)(class extends oc{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:(0,V.localize2)(1369,"Shrink Selection"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:M.KeyMod.Shift|M.KeyMod.Alt|M.KeyCode.LeftArrow,mac:{primary:M.KeyMod.CtrlCmd|M.KeyMod.WinCtrl|M.KeyMod.Shift|M.KeyCode.LeftArrow,secondary:[M.KeyMod.WinCtrl|M.KeyMod.Shift|M.KeyCode.LeftArrow]},weight:H.KeybindingWeight.EditorContrib},menuOpts:{menuId:B.MenuId.MenubarSelectionMenu,group:"1_basic",title:(0,V.localize)(1370,"&&Shrink Selection"),order:3}})}}),iQ.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n,r]=i;(0,tg.assertType)(iq.URI.isUri(n));let s=e.get(iu.ILanguageFeaturesService).selectionRangeProvider,a=await e.get(is.ITextModelService).createModelReference(n);try{return ou(s,a.object.textEditorModel,r,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},iG.CancellationToken.None)}finally{a.dispose()}}),e.s(["SmartSelectController",()=>od],647564);var oh=L,op=e.i(678417),og=e.i(749351);let om="ignoreUnusualLineTerminators",ov=((C=class extends oh.Disposable{async _checkForUnusualLineTerminators(){var e,t;let i;if("off"===this._config||!this._editor.hasModel())return;let o=this._editor.getModel();if(o.mightContainUnusualLineTerminators()){if(!(!0===(e=this._codeEditorService,e.getModelProperty(o.uri,om))||this._editor.getOption(N.EditorOption.readOnly))){if("auto"===this._config)return void o.removeUnusualLineTerminators(this._editor.getSelections());if(!this._isPresentingDialog){try{this._isPresentingDialog=!0,i=await this._dialogService.confirm({title:(0,V.localize)(1521,"Unusual Line Terminators"),message:(0,V.localize)(1522,"Detected unusual line terminators"),detail:(0,V.localize)(1523,"The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,op.basename)(o.uri)),primaryButton:(0,V.localize)(1524,"&&Remove Unusual Line Terminators"),cancelButton:(0,V.localize)(1525,"Ignore")})}finally{this._isPresentingDialog=!1}if(!i.confirmed)return void(t=this._codeEditorService,t.setModelProperty(o.uri,om,!0));o.removeUnusualLineTerminators(this._editor.getSelections())}}}}constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._isPresentingDialog=!1,this._config=this._editor.getOption(N.EditorOption.unusualLineTerminators),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(N.EditorOption.unusualLineTerminators)&&(this._config=this._editor.getOption(N.EditorOption.unusualLineTerminators),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(e=>{e.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}}).ID="editor.contrib.unusualLineTerminatorsDetector",C);ov=(0,ew.__decorate)([(0,ew.__param)(1,og.IDialogService),(0,ew.__param)(2,ec.ICodeEditorService)],ov),(0,R.registerEditorContribution)(ov.ID,ov,R.EditorContributionInstantiation.AfterFirstRender),e.s(["UnusualLineTerminatorsDetector",()=>ov],547184);var o_=L,of=e.i(441900),oy=e.i(533412),oC=e.i(322549),ob=R,oS=e.i(542157),ow=e.i(447722),oE=L;class oI{provideDocumentHighlights(e,t,i){let o=e.getWordAtPosition({lineNumber:t.lineNumber,column:t.column});return o?e.isDisposed()?void 0:e.findMatches(o.word,!0,!1,!0,ow.USUAL_WORD_SEPARATORS,!1).map(e=>({range:e.range,kind:iv.DocumentHighlightKind.Text})):Promise.resolve([])}provideMultiDocumentHighlights(e,t,i,o){let n=new of.ResourceMap,r=e.getWordAtPosition({lineNumber:t.lineNumber,column:t.column});if(!r)return Promise.resolve(n);for(let t of[e,...i]){if(t.isDisposed())continue;let e=t.findMatches(r.word,!0,!1,!0,ow.USUAL_WORD_SEPARATORS,!1).map(e=>({range:e.range,kind:iv.DocumentHighlightKind.Text}));e&&n.set(t.uri,e)}return n}constructor(){this.selector={language:"*"}}}let ox=class extends oE.Disposable{constructor(e){super(),this._register(e.documentHighlightProvider.register("*",new oI)),this._register(e.multiDocumentHighlightProvider.register("*",new oI))}};ox=(0,ew.__decorate)([(0,ew.__param)(0,iu.ILanguageFeaturesService)],ox);let oD=new es.RawContextKey("hasWordHighlights",!1);function ok(e,t,i,o){let n=e.ordered(t);return(0,A.first)(n.map(e=>()=>Promise.resolve(e.provideDocumentHighlights(t,i,o)).then(void 0,ts.onUnexpectedExternalError)),e=>null!=e).then(e=>{if(e){let i=new of.ResourceMap;return i.set(t.uri,e),i}return new of.ResourceMap})}class oA{get result(){return this._result||(this._result=(0,A.createCancelablePromise)(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){let i=e.getWordAtPosition(t.getPosition());return i?new O.Range(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){let o=t.startLineNumber,n=t.startColumn,r=t.endColumn,s=this._getCurrentWordRange(e,t),a=!!(this._wordRange&&this._wordRange.equalsRange(s));for(let e=0,t=i.length;!a&&e<t;e++){let t=i.getRange(e);t&&t.startLineNumber===o&&t.startColumn<=n&&t.endColumn>=r&&(a=!0)}return a}cancel(){this.result.cancel()}constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}}class oM extends oA{_compute(e,t,i,o){return ok(this._providers,e,t.getPosition(),o).then(e=>e||new of.ResourceMap)}constructor(e,t,i,o){super(e,t,i),this._providers=o}}class oL extends oA{_compute(e,t,i,o){return(function(e,t,i,o,n){let r=e.ordered(t);return(0,A.first)(r.map(e=>()=>{let r=n.filter(e=>(0,W.shouldSynchronizeModel)(e)).filter(t=>(0,oS.score)(e.selector,t.uri,t.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(e.provideMultiDocumentHighlights(t,i,r,o)).then(void 0,ts.onUnexpectedExternalError)}),e=>null!=e)})(this._providers,e,t.getPosition(),o,this._otherModels).then(e=>e||new of.ResourceMap)}constructor(e,t,i,o,n){super(e,t,i),this._providers=o,this._otherModels=n}}(0,ob.registerModelAndPositionCommand)("_executeDocumentHighlights",async(e,t,i)=>{let o=e.get(iu.ILanguageFeaturesService),n=await ok(o.documentHighlightProvider,t,i,iG.CancellationToken.None);return null==n?void 0:n.get(t.uri)});let oT=(w=b=class{hasDecorations(){return this.decorations.length>0}restore(){"off"!==this.occurrencesHighlightEnablement&&(this.runDelayer.cancel(),this._run())}trigger(){this.runDelayer.cancel(),this._run(!1,!0)}stop(){"off"!==this.occurrencesHighlightEnablement&&this._stopAll()}_getSortedHighlights(){return this.decorations.getRanges().sort(O.Range.compareRangesUsingStarts)}moveNext(){let e=this._getSortedHighlights(),t=(e.findIndex(e=>e.containsPosition(this.editor.getPosition()))+1)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);let o=this._getWord();if(o){let n=this.editor.getModel().getLineContent(i.startLineNumber);(0,tt.alert)("".concat(n,", ").concat(t+1," of ").concat(e.length," for '").concat(o.word,"'"))}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),t=(e.findIndex(e=>e.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);let o=this._getWord();if(o){let n=this.editor.getModel().getLineContent(i.startLineNumber);(0,tt.alert)("".concat(n,", ").concat(t+1," of ").concat(e.length," for '").concat(o.word,"'"))}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;let e=w.storedDecorationIDs.get(this.editor.getModel().uri);e&&(this.editor.removeDecorations(e),w.storedDecorationIDs.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(e){let t=this.codeEditorService.listCodeEditors(),i=[];for(let o of t){if(!o.hasModel()||(0,op.isEqual)(o.getModel().uri,e))continue;let t=w.storedDecorationIDs.get(o.getModel().uri);if(!t)continue;o.removeDecorations(t),i.push(o.getModel().uri);let n=oR.get(o);(null==n?void 0:n.wordHighlighter)&&n.wordHighlighter.decorations.length>0&&(n.wordHighlighter.decorations.clear(),n.wordHighlighter.workerRequest=null,n.wordHighlighter._hasWordHighlights.set(!1))}for(let e of i)w.storedDecorationIDs.delete(e)}_stopSingular(){if(this._removeSingleDecorations(),this.editor.hasTextFocus()){var e,t,i,o;(null==(e=this.editor.getModel())?void 0:e.uri.scheme)!==oy.Schemas.vscodeNotebookCell&&(null==(i=w.query)||null==(t=i.modelInfo)?void 0:t.modelURI.scheme)!==oy.Schemas.vscodeNotebookCell?(w.query=null,this._run()):(null==(o=w.query)?void 0:o.modelInfo)&&(w.query.modelInfo=null)}-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(e){this._removeAllDecorations(e),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){var t;if("off"===this.occurrencesHighlightEnablement||e.reason!==eL.CursorChangeReason.Explicit&&(null==(t=this.editor.getModel())?void 0:t.uri.scheme)!==oy.Schemas.vscodeNotebookCell)return void this._stopAll();this._run()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:t,column:i})}getOtherModelsToHighlight(e){if(!e)return[];if(e.uri.scheme===oy.Schemas.vscodeNotebookCell){let t=[];for(let i of this.codeEditorService.listCodeEditors()){let o=i.getModel();o&&o!==e&&o.uri.scheme===oy.Schemas.vscodeNotebookCell&&t.push(o)}return t}let t=[],i=this.codeEditorService.listCodeEditors();for(let o of i){if(!(0,e5.isDiffEditor)(o))continue;let i=o.getModel();i&&e===i.modified&&t.push(i.modified)}if(t.length)return t;if("singleFile"===this.occurrencesHighlightEnablement)return[];for(let o of i){let i=o.getModel();i&&i!==e&&t.push(i)}return t}async _run(e,t){var i,o,n;if(this.editor.hasTextFocus()){let e=this.editor.getSelection();if(!e||e.startLineNumber!==e.endLineNumber){w.query=null,this._stopAll();return}let t=e.startColumn,i=e.endColumn,o=this._getWord();if(!o||o.startColumn>t||o.endColumn<i){w.query=null,this._stopAll();return}w.query={modelInfo:{modelURI:this.model.uri,selection:e}}}else if(!w.query)return void this._stopAll();if(this.lastCursorPositionChangeTime=new Date().getTime(),(0,op.isEqual)(this.editor.getModel().uri,null==(i=w.query.modelInfo)?void 0:i.modelURI)){if(!e){for(let e of this.decorations.getRanges())if(e.containsPosition(this.editor.getPosition()))return}this._stopAll(e?this.model.uri:void 0);let t=++this.workerRequestTokenId;this.workerRequestCompleted=!1;let i=this.getOtherModelsToHighlight(this.editor.getModel());if(!w.query||!w.query.modelInfo)return;let n=await this.textModelService.createModelReference(w.query.modelInfo.modelURI);try{this.workerRequest=this.computeWithModel(n.object.textEditorModel,w.query.modelInfo.selection,i),null==(o=this.workerRequest)||o.result.then(e=>{t===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=e||[],this._beginRenderDecorations())},ts.onUnexpectedError)}catch(e){this.logService.error("Unexpected error during occurrence request. Log: ",e)}finally{n.dispose()}}else if(this.model.uri.scheme===oy.Schemas.vscodeNotebookCell){let e=++this.workerRequestTokenId;if(this.workerRequestCompleted=!1,!w.query||!w.query.modelInfo)return;let i=await this.textModelService.createModelReference(w.query.modelInfo.modelURI);try{this.workerRequest=this.computeWithModel(i.object.textEditorModel,w.query.modelInfo.selection,[this.model]),null==(n=this.workerRequest)||n.result.then(i=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=i||[],this._beginRenderDecorations(t))},ts.onUnexpectedError)}catch(e){this.logService.error("Unexpected error during occurrence request. Log: ",e)}finally{i.dispose()}}}computeWithModel(e,t,i){var o,n;return i.length?(o=this.multiDocumentProviders,new oL(e,t,this.editor.getOption(N.EditorOption.wordSeparators),o,i)):(n=this.providers,new oM(e,t,this.editor.getOption(N.EditorOption.wordSeparators),n))}_beginRenderDecorations(e){let t=new Date().getTime(),i=this.lastCursorPositionChangeTime+(e?0:this.occurrencesHighlightDelay);t>=i?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},i-t)}renderDecorations(){for(let n of(this.renderDecorationsTimer=-1,this.codeEditorService.listCodeEditors())){var e,t,i,o;let r=oR.get(n);if(!r)continue;let s=[],a=null==(e=n.getModel())?void 0:e.uri;if(a&&this.workerRequestValue.has(a)){let e=w.storedDecorationIDs.get(a),l=this.workerRequestValue.get(a);if(l)for(let e of l)e.range&&s.push({range:e.range,options:(o=e.kind)===iv.DocumentHighlightKind.Write?iw:o===iv.DocumentHighlightKind.Text?iE:iD});let d=[];n.changeDecorations(t=>{d=t.deltaDecorations(null!=e?e:[],s)}),w.storedDecorationIDs=w.storedDecorationIDs.set(a,d),s.length>0&&(null==(t=r.wordHighlighter)||t.decorations.set(s),null==(i=r.wordHighlighter)||i._hasWordHighlights.set(!0))}}this.workerRequest=null}dispose(){this._stopSingular(),this.toUnhook.dispose()}constructor(e,t,i,o,n,r,s,a){this.toUnhook=new o_.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new of.ResourceMap,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.runDelayer=this.toUnhook.add(new A.Delayer(50)),this.editor=e,this.providers=t,this.multiDocumentProviders=i,this.codeEditorService=r,this.textModelService=n,this.configurationService=s,this.logService=a,this._hasWordHighlights=oD.bindTo(o),this._ignorePositionChangeEvent=!1,this.occurrencesHighlightEnablement=this.editor.getOption(N.EditorOption.occurrencesHighlight),this.occurrencesHighlightDelay=this.configurationService.getValue("editor.occurrencesHighlightDelay"),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(e=>{this._ignorePositionChangeEvent||"off"!==this.occurrencesHighlightEnablement&&this.runDelayer.trigger(()=>{this._onPositionChanged(e)})})),this.toUnhook.add(e.onDidFocusEditorText(e=>{"off"!==this.occurrencesHighlightEnablement&&(this.workerRequest||this.runDelayer.trigger(()=>{this._run()}))})),this.toUnhook.add(e.onDidChangeModelContent(e=>{(0,oy.matchesScheme)(this.model.uri,"output")||this._stopAll()})),this.toUnhook.add(e.onDidChangeModel(e=>{!e.newModelUrl&&e.oldModelUrl?this._stopSingular():w.query&&this._run()})),this.toUnhook.add(e.onDidChangeConfiguration(e=>{let t=this.editor.getOption(N.EditorOption.occurrencesHighlight);if(this.occurrencesHighlightEnablement!==t)switch(this.occurrencesHighlightEnablement=t,t){case"off":this._stopAll();break;case"singleFile":var i,o;this._stopAll(null==(o=w.query)||null==(i=o.modelInfo)?void 0:i.modelURI);break;case"multiFile":w.query&&this._run(!0);break;default:console.warn("Unknown occurrencesHighlight setting value:",t)}})),this.toUnhook.add(this.configurationService.onDidChangeConfiguration(e=>{if(e.affectsConfiguration("editor.occurrencesHighlightDelay")){let e=s.getValue("editor.occurrencesHighlightDelay");this.occurrencesHighlightDelay!==e&&(this.occurrencesHighlightDelay=e)}})),this.toUnhook.add(e.onDidBlurEditorWidget(()=>{var e,t;let i=this.codeEditorService.getFocusedCodeEditor();i?(null==(e=i.getModel())?void 0:e.uri.scheme)===oy.Schemas.vscodeNotebookCell&&(null==(t=this.editor.getModel())?void 0:t.uri.scheme)!==oy.Schemas.vscodeNotebookCell&&this._stopAll():this._stopAll()})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,w.query&&this._run()}},b.storedDecorationIDs=new of.ResourceMap,b.query=null,b);oT=w=(0,ew.__decorate)([(0,ew.__param)(4,is.ITextModelService),(0,ew.__param)(5,ec.ICodeEditorService),(0,ew.__param)(6,i7.IConfigurationService),(0,ew.__param)(7,oC.ILogService)],oT);let oR=(E=S=class extends o_.Disposable{static get(e){return e.getContribution(E.ID)}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var e;null==(e=this._wordHighlighter)||e.moveNext()}moveBack(){var e;null==(e=this._wordHighlighter)||e.moveBack()}restoreViewState(e){this._wordHighlighter&&e&&this._wordHighlighter.restore()}stopHighlighting(){var e;null==(e=this._wordHighlighter)||e.stop()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}constructor(e,t,i,o,n,r,s){super(),this._wordHighlighter=null;let a=()=>{e.hasModel()&&!e.getModel().isTooLargeForTokenization()&&e.getModel().uri.scheme!==oy.Schemas.accessibleView&&(this._wordHighlighter=new oT(e,i.documentHighlightProvider,i.multiDocumentHighlightProvider,t,n,o,r,s))};this._register(e.onDidChangeModel(e=>{if(this._wordHighlighter){var t,i;e.newModelUrl||(null==(t=e.oldModelUrl)?void 0:t.scheme)===oy.Schemas.vscodeNotebookCell||null==(i=this.wordHighlighter)||i.stop(),this._wordHighlighter.dispose(),this._wordHighlighter=null}a()})),a()}},S.ID="editor.contrib.wordHighlighter",S);oR=E=(0,ew.__decorate)([(0,ew.__param)(1,tq.IContextKeyService),(0,ew.__param)(2,iu.ILanguageFeaturesService),(0,ew.__param)(3,ec.ICodeEditorService),(0,ew.__param)(4,is.ITextModelService),(0,ew.__param)(5,i7.IConfigurationService),(0,ew.__param)(6,oC.ILogService)],oR);class oN extends ob.EditorAction{run(e,t){let i=oR.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}constructor(e,t){super(t),this._isNext=e}}class oP extends ob.EditorAction{run(e,t,i){let o=oR.get(t);o&&o.restoreViewState(!0)}constructor(){super({id:"editor.action.wordHighlight.trigger",label:(0,V.localize2)(1537,"Trigger Symbol Highlight"),precondition:void 0,kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:0,weight:H.KeybindingWeight.EditorContrib}})}}(0,ob.registerEditorContribution)(oR.ID,oR,ob.EditorContributionInstantiation.Eager),(0,ob.registerEditorAction)(class extends oN{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:(0,V.localize2)(1535,"Go to Next Symbol Highlight"),precondition:oD,kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:M.KeyCode.F7,weight:H.KeybindingWeight.EditorContrib}})}}),(0,ob.registerEditorAction)(class extends oN{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:(0,V.localize2)(1536,"Go to Previous Symbol Highlight"),precondition:oD,kbOpts:{kbExpr:K.EditorContextKeys.editorTextFocus,primary:M.KeyMod.Shift|M.KeyCode.F7,weight:H.KeybindingWeight.EditorContrib}})}}),(0,ob.registerEditorAction)(oP),i(ox),e.s(["WordHighlighterContribution",()=>oR],267026),e.s(["ASK_QUICK_QUESTION_ACTION_ID",()=>"workbench.action.quickchat.toggle","CHAT_OPEN_ACTION_ID",()=>"workbench.action.chat.open"],609746);var oO=e.i(972920),oF=e.i(815486);class oK{provide(e,t,i){var o;let n=new L.DisposableStore;e.canAcceptInBackground=!!(null==(o=this.options)?void 0:o.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let r=n.add(new L.MutableDisposable);return r.value=this.doProvide(e,t,i),n.add(this.onDidActiveTextEditorControlChange(()=>{r.value=void 0,r.value=this.doProvide(e,t)})),n}doProvide(e,t,i){let o=new L.DisposableStore,n=this.activeTextEditorControl;if(n&&this.canProvideWithTextEditor(n)){let s={editor:n},a=(0,e5.getCodeEditor)(n);if(a){var r;let e=null!=(r=n.saveViewState())?r:void 0;o.add(a.onDidChangeCursorPosition(()=>{var t;e=null!=(t=n.saveViewState())?t:void 0})),s.restoreViewState=()=>{e&&n===this.activeTextEditorControl&&n.restoreViewState(e)},o.add((0,oO.createSingleCallFunction)(t.onCancellationRequested)(()=>{var e;return null==(e=s.restoreViewState)?void 0:e.call(s)}))}o.add((0,L.toDisposable)(()=>this.clearDecorations(n))),o.add(this.provideWithTextEditor(s,e,t,i))}else o.add(this.provideWithoutTextEditor(e,t));return o}canProvideWithTextEditor(e){return!0}gotoLocation(e,t){let{editor:i}=e;i.setSelection(t.range,oF.TextEditorSelectionSource.JUMP),i.revealRangeInCenter(t.range,eu.ScrollType.Smooth),t.preserveFocus||i.focus();let o=i.getModel();o&&"getLineContent"in o&&(0,tt.status)("".concat(o.getLineContent(t.range.startLineNumber)))}getModel(e){var t;return(0,e5.isDiffEditor)(e)?null==(t=e.getModel())?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(e=>{let i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);let o=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,Y.themeColorFromId)(eD.overviewRulerRangeHighlight),position:W.OverviewRulerLane.Full}}}],[n,r]=e.deltaDecorations(i,o);this.rangeHighlightDecorationId={rangeHighlightId:n,overviewRulerDecorationId:r}})}clearDecorations(e){let t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}}class oW extends oK{provideWithoutTextEditor(e){let t=(0,V.localize)(1311,"Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,L.Disposable.None}provideWithTextEditor(e,t,i){let o=e.editor,n=new L.DisposableStore;n.add(t.onDidAccept(i=>{let[n]=t.selectedItems;if(n){if(!this.isValidLineNumber(o,n.lineNumber))return;this.gotoLocation(e,{range:this.toRange(n.lineNumber,n.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}}));let r=()=>{let e=this.parsePosition(o,t.value.trim().substr(oW.PREFIX.length)),i=this.getPickLabel(o,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,!this.isValidLineNumber(o,e.lineNumber))return void this.clearDecorations(o);let n=this.toRange(e.lineNumber,e.column);o.revealRangeInCenter(n,eu.ScrollType.Smooth),this.addDecorations(o,n)};r(),n.add(t.onDidChangeValue(()=>r()));let s=(0,e5.getCodeEditor)(o);return s&&s.getOptions().get(N.EditorOption.lineNumbers).renderType===N.RenderLineNumbersType.Relative&&(s.updateOptions({lineNumbers:"on"}),n.add((0,L.toDisposable)(()=>s.updateOptions({lineNumbers:"relative"})))),n}toRange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){let i=t.split(/,|:|#/).map(e=>parseInt(e,10)).filter(e=>!isNaN(e)),o=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:o+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?(0,V.localize)(1312,"Go to line {0} and character {1}.",t,i):(0,V.localize)(1313,"Go to line {0}.",t);let o=e.getPosition()||{lineNumber:1,column:1},n=this.lineCount(e);return n>1?(0,V.localize)(1314,"Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",o.lineNumber,o.column,n):(0,V.localize)(1315,"Current Line: {0}, Character: {1}. Type a line number to navigate to.",o.lineNumber,o.column)}isValidLineNumber(e,t){return!!t&&"number"==typeof t&&t>0&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||"number"!=typeof i)return!1;let o=this.getModel(e);if(!o)return!1;let n={lineNumber:t,column:i};return o.validatePosition(n).equals(n)}lineCount(e){var t,i;return null!=(i=null==(t=this.getModel(e))?void 0:t.getLineCount())?i:0}constructor(){super({canAcceptInBackground:!0})}}oW.PREFIX=":",e.s(["AbstractGotoLineQuickAccessProvider",()=>oW],977574);var oz=e.i(370572),oV=e.i(810602),oB=e.i(569038),oH=e.i(462142),oU=e.i(170934),oG=e.i(543103);let oq=(x=I=class extends oK{provideWithoutTextEditor(e){return this.provideLabelPick(e,(0,V.localize)(1316,"To go to a symbol, first open a text editor with symbol information.")),L.Disposable.None}provideWithTextEditor(e,t,i,o){let n=e.editor,r=this.getModel(n);return r?this._languageFeaturesService.documentSymbolProvider.has(r)?this.doProvideWithEditorSymbols(e,r,t,i,o):this.doProvideWithoutEditorSymbols(e,r,t,i):L.Disposable.None}doProvideWithoutEditorSymbols(e,t,i,o){let n=new L.DisposableStore;return this.provideLabelPick(i,(0,V.localize)(1317,"The active text editor does not provide symbol information.")),(async()=>{await this.waitForLanguageSymbolRegistry(t,n)&&!o.isCancellationRequested&&n.add(this.doProvideWithEditorSymbols(e,t,i,o))})(),n}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:iv.SymbolKind.String}],e.ariaLabel=t}async waitForLanguageSymbolRegistry(e,t){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;let i=new A.DeferredPromise,o=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(o.dispose(),i.complete(!0))}));return t.add((0,L.toDisposable)(()=>i.complete(!1))),i.p}doProvideWithEditorSymbols(e,t,i,o,n){var r;let s,a=e.editor,l=new L.DisposableStore;l.add(i.onDidAccept(t=>{let[o]=i.selectedItems;if(o&&o.range){var r;this.gotoLocation(e,{range:o.range.selection,keyMods:i.keyMods,preserveFocus:t.inBackground}),null==n||null==(r=n.handleAccept)||r.call(n,o,t.inBackground),t.inBackground||i.hide()}})),l.add(i.onDidTriggerItemButton(t=>{let{item:o}=t;o&&o.range&&(this.gotoLocation(e,{range:o.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));let d=this.getDocumentSymbols(t,o),c=async e=>{null==s||s.dispose(!0),i.busy=!1,s=new iG.CancellationTokenSource(o),i.busy=!0;try{let n=(0,oU.prepareQuery)(i.value.substr(x.PREFIX.length).trim()),r=await this.doGetSymbolPicks(d,n,void 0,s.token,t);if(o.isCancellationRequested)return;if(r.length>0){if(i.items=r,e&&0===n.original.length){let t=(0,ek.findLast)(r,t=>!!("separator"!==t.type&&t.range&&O.Range.containsPosition(t.range.decoration,e)));t&&(i.activeItems=[t])}}else n.original.length>0?this.provideLabelPick(i,(0,V.localize)(1318,"No matching editor symbols")):this.provideLabelPick(i,(0,V.localize)(1319,"No editor symbols"))}finally{o.isCancellationRequested||(i.busy=!1)}};return l.add(i.onDidChangeValue(()=>c(void 0))),c(null==(r=a.getSelection())?void 0:r.getPosition()),l.add(i.onDidChangeActive(()=>{let[e]=i.activeItems;e&&e.range&&(a.revealRangeInCenter(e.range.selection,eu.ScrollType.Smooth),this.addDecorations(a,e.range.decoration))})),l}async doGetSymbolPicks(e,t,i,o,n){var r,s;let a,l,d,c=await e;if(o.isCancellationRequested)return[];let u=0===t.original.indexOf(x.SCOPE_PREFIX),h=+!!u;t.values&&t.values.length>1?(a=(0,oU.pieceToQuery)(t.values[0]),l=(0,oU.pieceToQuery)(t.values.slice(1))):a=t;let p=null==(s=this.options)||null==(r=s.openSideBySideDirection)?void 0:r.call(s);p&&(d=[{iconClass:"right"===p?th.ThemeIcon.asClassName(tr.Codicon.splitHorizontal):th.ThemeIcon.asClassName(tr.Codicon.splitVertical),tooltip:"right"===p?(0,V.localize)(1320,"Open to the Side"):(0,V.localize)(1321,"Open to the Bottom")}]);let g=[];for(let e=0;e<c.length;e++){let o,r,s,u,p=c[e],m=(0,eI.trim)(p.name),v="$(".concat(iv.SymbolKinds.toIcon(p.kind).id,") ").concat(m),_=v.length-m.length,f=p.containerName;if((null==i?void 0:i.extraContainerLabel)&&(f=f?"".concat(i.extraContainerLabel," • ").concat(f):i.extraContainerLabel),t.original.length>h){let e=!1;if(a!==t&&([o,r]=(0,oU.scoreFuzzy2)(v,{...t,values:void 0},h,_),"number"==typeof o&&(e=!0)),"number"!=typeof o&&([o,r]=(0,oU.scoreFuzzy2)(v,a,h,_),"number"!=typeof o))continue;if(!e&&l){if(f&&l.original.length>0&&([s,u]=(0,oU.scoreFuzzy2)(f,l)),"number"!=typeof s)continue;"number"==typeof o&&(o+=s)}}let y=p.tags&&p.tags.indexOf(iv.SymbolTag.Deprecated)>=0;g.push({index:e,kind:p.kind,score:o,label:v,ariaLabel:(0,iv.getAriaLabelForSymbol)(p.name,p.kind),description:f,highlights:y?void 0:{label:r,description:u},range:{selection:O.Range.collapseToStart(p.selectionRange),decoration:p.range},uri:n.uri,symbolName:m,strikethrough:y,buttons:d})}let m=g.sort((e,t)=>u?this.compareByKindAndScore(e,t):this.compareByScore(e,t)),v=[];if(u){let e,t,i=0;function _(){t&&"number"==typeof e&&i>0&&(t.label=(0,eI.format)(oQ[e]||oj,i))}for(let o of m)e!==o.kind?(_(),e=o.kind,i=1,t={type:"separator"},v.push(t)):i++,v.push(o);_()}else m.length>0&&(v=[{label:(0,V.localize)(1322,"symbols ({0})",g.length),type:"separator"},...m]);return v}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return -1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return -1;else if(e.score<t.score)return 1}return e.index<t.index?-1:+(e.index>t.index)}compareByKindAndScore(e,t){let i=oQ[e.kind]||oj,o=oQ[t.kind]||oj,n=i.localeCompare(o);return 0===n?this.compareByScore(e,t):n}async getDocumentSymbols(e,t){let i=await this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}constructor(e,t,i=Object.create(null)){super(i),this._languageFeaturesService=e,this._outlineModelService=t,this.options=i,this.options.canAcceptInBackground=!0}},I.PREFIX="@",I.SCOPE_PREFIX=":",I.PREFIX_BY_CATEGORY="".concat(I.PREFIX).concat(I.SCOPE_PREFIX),I);oq=x=(0,ew.__decorate)([(0,ew.__param)(0,iu.ILanguageFeaturesService),(0,ew.__param)(1,oG.IOutlineModelService)],oq);let oj=(0,V.localize)(1323,"properties ({0})"),oQ={[iv.SymbolKind.Method]:(0,V.localize)(1324,"methods ({0})"),[iv.SymbolKind.Function]:(0,V.localize)(1325,"functions ({0})"),[iv.SymbolKind.Constructor]:(0,V.localize)(1326,"constructors ({0})"),[iv.SymbolKind.Variable]:(0,V.localize)(1327,"variables ({0})"),[iv.SymbolKind.Class]:(0,V.localize)(1328,"classes ({0})"),[iv.SymbolKind.Struct]:(0,V.localize)(1329,"structs ({0})"),[iv.SymbolKind.Event]:(0,V.localize)(1330,"events ({0})"),[iv.SymbolKind.Operator]:(0,V.localize)(1331,"operators ({0})"),[iv.SymbolKind.Interface]:(0,V.localize)(1332,"interfaces ({0})"),[iv.SymbolKind.Namespace]:(0,V.localize)(1333,"namespaces ({0})"),[iv.SymbolKind.Package]:(0,V.localize)(1334,"packages ({0})"),[iv.SymbolKind.TypeParameter]:(0,V.localize)(1335,"type parameters ({0})"),[iv.SymbolKind.Module]:(0,V.localize)(1336,"modules ({0})"),[iv.SymbolKind.Property]:(0,V.localize)(1323,"properties ({0})"),[iv.SymbolKind.Enum]:(0,V.localize)(1337,"enumerations ({0})"),[iv.SymbolKind.EnumMember]:(0,V.localize)(1338,"enumeration members ({0})"),[iv.SymbolKind.String]:(0,V.localize)(1339,"strings ({0})"),[iv.SymbolKind.File]:(0,V.localize)(1340,"files ({0})"),[iv.SymbolKind.Array]:(0,V.localize)(1341,"arrays ({0})"),[iv.SymbolKind.Number]:(0,V.localize)(1342,"numbers ({0})"),[iv.SymbolKind.Boolean]:(0,V.localize)(1343,"booleans ({0})"),[iv.SymbolKind.Object]:(0,V.localize)(1344,"objects ({0})"),[iv.SymbolKind.Key]:(0,V.localize)(1345,"keys ({0})"),[iv.SymbolKind.Field]:(0,V.localize)(1346,"fields ({0})"),[iv.SymbolKind.Constant]:(0,V.localize)(1347,"constants ({0})")};var oY=B,oZ=e.i(951806),oX=e.i(460412),o$=e.i(308733),oJ=e.i(380755),o0=e.i(135517),o1=e.i(705266);let o2=(k=D=class extends oq{get configuration(){var e;let t=null==(e=this.configurationService.getValue().workbench)?void 0:e.editor;return{openEditorPinned:!(null==t?void 0:t.enablePreviewFromQuickOpen)||!(null==t?void 0:t.enablePreview),openSideBySideDirection:null==t?void 0:t.openSideBySideDirection}}get activeTextEditorControl(){var e;if(!(0,e5.isCompositeEditor)(null==(e=this.editorService.activeEditorPane)?void 0:e.getControl()))return this.editorService.activeTextEditorControl}gotoLocation(e,t){if((t.keyMods.alt||this.configuration.openEditorPinned&&t.keyMods.ctrlCmd||t.forceSideBySide)&&this.editorService.activeEditor){var i;null==(i=e.restoreViewState)||i.call(e);let o={selection:t.range,pinned:t.keyMods.ctrlCmd||this.configuration.openEditorPinned,preserveFocus:t.preserveFocus};this.editorGroupService.sideGroup.openEditor(this.editorService.activeEditor,o)}else super.gotoLocation(e,t)}async getSymbolPicks(e,t,i,o,n){return!await Promise.race([this.waitForLanguageSymbolRegistry(e,o),(0,A.timeout)(k.SYMBOL_PICKS_TIMEOUT)])||n.isCancellationRequested?[]:this.doGetSymbolPicks(this.getDocumentSymbols(e,n),(0,oU.prepareQuery)(t),i,n,e)}provideWithoutTextEditor(e){return this.canPickWithOutlineService()?this.doGetOutlinePicks(e):super.provideWithoutTextEditor(e)}canPickWithOutlineService(){return!!this.editorService.activeEditorPane&&this.outlineService.canCreateOutline(this.editorService.activeEditorPane)}doGetOutlinePicks(e){let t=this.editorService.activeEditorPane;if(!t)return L.Disposable.None;let i=new iG.CancellationTokenSource,o=new L.DisposableStore;return o.add((0,L.toDisposable)(()=>i.dispose(!0))),e.busy=!0,this.outlineService.createOutline(t,oX.OutlineTarget.QuickPick,i.token).then(t=>{if(!t)return;if(i.token.isCancellationRequested)return void t.dispose();o.add(t);let n=t.captureViewState();o.add((0,L.toDisposable)(()=>{0===e.selectedItems.length&&n.dispose()}));let r=t.config.quickPickDataSource.getQuickPickElements(),s=r.map((e,t)=>({kind:iv.SymbolKind.File,index:t,score:0,label:e.label,description:e.description,ariaLabel:e.ariaLabel,iconClasses:e.iconClasses}));o.add(e.onDidAccept(()=>{e.hide();let[i]=e.selectedItems;i&&r[i.index]&&t.reveal(r[i.index].element,{},!1,!1)}));let a=()=>{let t=s.filter(t=>{var i;if("@"===e.value)return t.score=0,t.highlights=void 0,!0;let o=e.value.substring(oq.PREFIX.length).trim(),n=(0,o1.parseLabelWithIcons)(t.label),r=(0,oZ.fuzzyScore)(o,o.toLowerCase(),0,n.text,n.text.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return!!r&&(t.score=r[1],t.highlights={label:null!=(i=(0,o1.matchesFuzzyIconAware)(o,n))?i:void 0},!0)});if(0===t.length){let t=(0,V.localize)(4717,"No matching entries");e.items=[{label:t,index:-1,kind:iv.SymbolKind.String}],e.ariaLabel=t}else e.items=t};a(),o.add(e.onDidChangeValue(a));let l=new L.MutableDisposable;o.add(l),o.add(e.onDidChangeActive(()=>{let[i]=e.activeItems;i&&r[i.index]?l.value=t.preview(r[i.index].element):l.clear()}))}).catch(t=>{(0,ts.onUnexpectedError)(t),e.hide()}).finally(()=>{e.busy=!1}),o}constructor(e,t,i,o,n,r){super(o,r,{openSideBySideDirection:()=>this.configuration.openSideBySideDirection}),this.editorService=e,this.editorGroupService=t,this.configurationService=i,this.outlineService=n,this.onDidActiveTextEditorControlChange=this.editorService.onDidActiveEditorChange}},D.SYMBOL_PICKS_TIMEOUT=8e3,D);o2=k=(0,ew.__decorate)([(0,ew.__param)(0,oV.IEditorService),(0,ew.__param)(1,oJ.IEditorGroupsService),(0,ew.__param)(2,i7.IConfigurationService),(0,ew.__param)(3,iu.ILanguageFeaturesService),(0,ew.__param)(4,o$.IOutlineService),(0,ew.__param)(5,oG.IOutlineModelService)],o2);class o3 extends oY.Action2{run(e){e.get(tZ.IQuickInputService).quickAccess.show(o2.PREFIX,{itemActivation:oz.ItemActivation.NONE})}constructor(){super({id:o3.ID,title:{...(0,V.localize2)(4718,"Go to Symbol in Editor..."),mnemonicTitle:(0,V.localize)(4719,"Go to &&Symbol in Editor...")},f1:!0,keybinding:{when:es.ContextKeyExpr.and(o0.accessibleViewIsShown.negate(),o0.accessibilityHelpIsShown.negate()),weight:H.KeybindingWeight.WorkbenchContrib,primary:M.KeyMod.CtrlCmd|M.KeyMod.Shift|M.KeyCode.KeyO},menu:[{id:oY.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:1}]})}}o3.ID="workbench.action.gotoSymbol",(0,oY.registerAction2)(o3),oB.Registry.as(oH.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o2,prefix:oq.PREFIX,contextKey:"inFileSymbolsPicker",placeholder:(0,V.localize)(4720,"Type the name of a symbol to go to."),helpEntries:[{description:(0,V.localize)(4721,"Go to Symbol in Editor"),prefix:oq.PREFIX,commandId:o3.ID,commandCenterOrder:40},{description:(0,V.localize)(4722,"Go to Symbol in Editor by Category"),prefix:oq.PREFIX_BY_CATEGORY}]}),e.s(["GotoSymbolQuickAccessProvider",()=>o2],814793)},239686,539502,e=>{"use strict";var t;!function(e){e[e.SHORT=0]="SHORT",e[e.MEDIUM=1]="MEDIUM",e[e.LONG=2]="LONG"}(t||(t={})),e.s(["Verbosity",()=>t],239686),e.i(304729),e.i(847307);class i{getDescription(){return this.descriptorFn(null)}getColors(e){var t;return null==(t=this.stylesFn)?void 0:t.call(this,e)}constructor(e,t){this.descriptorFn=e,this.stylesFn=t}}class o extends i{getDescription(){return this.descriptorFn(this.number)}constructor(e,t){super(t,void 0),this.number=e,this.number=e}}class n extends i{constructor(e,t,i){super(t,i),this.icon=e}}class r extends i{constructor(e){super(e,void 0)}}e.s(["IconBadge",()=>n,"NumberBadge",()=>o,"ProgressBadge",()=>r],539502)},803271,e=>{"use strict";var t=e.i(790059);function i(e,i,o){let a,l,d,c,u,h;{for(u=(c=i.offset)+i.length,d=c;d>0&&!s(e,d-1);)d--;let t=u;for(;t<e.length&&!s(e,t);)t++;a=function(e,t){let i=0,o=0,n=t.tabSize||4;for(;i<e.length;){let t=e.charAt(i);if(" "===t)o++;else if("	"===t)o+=n;else break;i++}return Math.floor(o/n)}(l=e.substring(d,t),o)}let p=r(o,e),g=!1,m=0;h=o.insertSpaces?n(" ",o.tabSize||4):"	";let v=(0,t.createScanner)(l,!1),_=!1;function f(){return p+n(h,a+m)}function y(){let e=v.scan();for(g=!1;e===t.SyntaxKind.Trivia||e===t.SyntaxKind.LineBreakTrivia;)g=g||e===t.SyntaxKind.LineBreakTrivia,e=v.scan();return _=e===t.SyntaxKind.Unknown||v.getTokenError()!==t.ScanError.None,e}let C=[];function b(t,i,o){!_&&i<u&&o>c&&e.substring(i,o)!==t&&C.push({offset:i,length:o-i,content:t})}let S=y();if(S!==t.SyntaxKind.EOF){let e=v.getTokenOffset()+d;b(n(h,a),d,e)}for(;S!==t.SyntaxKind.EOF;){let e=v.getTokenOffset()+v.getTokenLength()+d,i=y(),o="";for(;!g&&(i===t.SyntaxKind.LineCommentTrivia||i===t.SyntaxKind.BlockCommentTrivia);)b(" ",e,v.getTokenOffset()+d),e=v.getTokenOffset()+v.getTokenLength()+d,o=i===t.SyntaxKind.LineCommentTrivia?f():"",i=y();if(i===t.SyntaxKind.CloseBraceToken)S!==t.SyntaxKind.OpenBraceToken&&(m--,o=f());else if(i===t.SyntaxKind.CloseBracketToken)S!==t.SyntaxKind.OpenBracketToken&&(m--,o=f());else{switch(S){case t.SyntaxKind.OpenBracketToken:case t.SyntaxKind.OpenBraceToken:m++,o=f();break;case t.SyntaxKind.CommaToken:case t.SyntaxKind.LineCommentTrivia:o=f();break;case t.SyntaxKind.BlockCommentTrivia:o=g?f():" ";break;case t.SyntaxKind.ColonToken:o=" ";break;case t.SyntaxKind.StringLiteral:if(i===t.SyntaxKind.ColonToken){o="";break}case t.SyntaxKind.NullKeyword:case t.SyntaxKind.TrueKeyword:case t.SyntaxKind.FalseKeyword:case t.SyntaxKind.NumericLiteral:case t.SyntaxKind.CloseBraceToken:case t.SyntaxKind.CloseBracketToken:i===t.SyntaxKind.LineCommentTrivia||i===t.SyntaxKind.BlockCommentTrivia?o=" ":i!==t.SyntaxKind.CommaToken&&i!==t.SyntaxKind.EOF&&(_=!0);break;case t.SyntaxKind.Unknown:_=!0}g&&(i===t.SyntaxKind.LineCommentTrivia||i===t.SyntaxKind.BlockCommentTrivia)&&(o=f())}b(o,e,v.getTokenOffset()+d),S=i}return C}function o(e,t){let i=JSON.stringify(e,void 0,t.insertSpaces?t.tabSize||4:"	");return void 0!==t.eol?i.replace(/\r\n|\r|\n/g,t.eol):i}function n(e,t){let i="";for(let o=0;o<t;o++)i+=e;return i}function r(e,t){for(let e=0;e<t.length;e++){let i=t.charAt(e);if("\r"===i){if(e+1<t.length&&"\n"===t.charAt(e+1))return"\r\n";return"\r"}if("\n"===i)return"\n"}return e&&e.eol||"\n"}function s(e,t){return -1!=="\r\n".indexOf(e.charAt(t))}e.s(["format",()=>i,"getEOL",()=>r,"isEOL",()=>s,"toFormattedString",()=>o])},504473,e=>{"use strict";var t=e.i(790059),i=e.i(803271);function o(e,t,i){return n(e,t,void 0,i)}function n(e,i,o,n,s){let a,l,d=i.slice(),c=(0,t.parseTree)(e,[]);for(;d.length>0;)if(l=d.pop(),void 0===(a=(0,t.findNodeAtLocation)(c,d))&&void 0!==o)o="string"==typeof l?{[l]:o}:[o];else break;if(a)if("object"===a.type&&"string"==typeof l&&Array.isArray(a.children)){let i=(0,t.findNodeAtLocation)(a,[l]);if(void 0!==i)if(void 0!==o)return r(e,{offset:i.offset,length:i.length,content:JSON.stringify(o)},n);else{let t;if(!i.parent)throw Error("Malformed AST");let o=a.children.indexOf(i.parent),s=i.parent.offset+i.parent.length;if(o>0){let e=a.children[o-1];t=e.offset+e.length}else t=a.offset+1,a.children.length>1&&(s=a.children[1].offset);return r(e,{offset:t,length:s-t,content:""},n)}{let t;if(void 0===o)return[];let i="".concat(JSON.stringify(l),": ").concat(JSON.stringify(o)),s=a.children.length;if(s>0){let e=a.children[s-1];t={offset:e.offset+e.length,length:0,content:","+i}}else t=0===a.children.length?{offset:a.offset+1,length:0,content:i}:{offset:a.offset+1,length:0,content:i+","};return r(e,t,n)}}else if("array"===a.type&&"number"==typeof l&&Array.isArray(a.children))if(void 0!==o){let t,i="".concat(JSON.stringify(o));if(0===a.children.length||0===l)t={offset:a.offset+1,length:0,content:0===a.children.length?i:i+","};else{let e=-1===l||l>a.children.length?a.children.length:l,o=a.children[e-1];t={offset:o.offset+o.length,length:0,content:","+i}}return r(e,t,n)}else{let t,i=l,o=a.children[i];if(1===a.children.length)t={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===i){let e=a.children[i-1],o=e.offset+e.length;t={offset:o,length:a.offset+a.length-2-o,content:""}}else t={offset:o.offset,length:a.children[i+1].offset-o.offset,content:""};return r(e,t,n)}else throw Error("Can not add ".concat("number"!=typeof l?"index":"property"," to parent of type ").concat(a.type));return void 0===o?[]:r(e,{offset:c?c.offset:0,length:c?c.length:0,content:JSON.stringify(o)},n)}function r(e,t,o){let n=s(e,t),r=t.offset,a=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;r>0&&!(0,i.isEOL)(n,r-1);)r--;for(;a<n.length&&!(0,i.isEOL)(n,a);)a++}let l=(0,i.format)(n,{offset:r,length:a-r},o);for(let e=l.length-1;e>=0;e--){let t=l[e];n=s(n,t),r=Math.min(r,t.offset),a=Math.max(a,t.offset+t.length)+(t.content.length-t.length)}let d=e.length-(n.length-a)-r;return[{offset:r,length:d,content:n.substring(r,a)}]}function s(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}function a(e,t){let i=t.slice(0).sort((e,t)=>{let i=e.offset-t.offset;return 0===i?e.length-t.length:i}),o=e.length;for(let t=i.length-1;t>=0;t--){let n=i[t];if(n.offset+n.length<=o)e=s(e,n);else throw Error("Overlapping edit");o=n.offset}return e}e.s(["applyEdits",()=>a,"removeProperty",()=>o,"setProperty",()=>n,"withFormatting",()=>r])},4121,e=>{"use strict";var t=e.i(618284),i=e.i(790059),o=e.i(504473),n=e.i(977857),r=e.i(533412),s=e.i(912097),a=e.i(509592),l=e.i(678417),d=e.i(292473),c=e.i(492683),u=e.i(281034);function h(e){return e.hasOwnProperty("workspace")}function p(e){return e.hasOwnProperty("folderUri")}function g(e){return e.hasOwnProperty("fileUri")}function m(e){return v(e)||_(e)}function v(e){return"string"==typeof(null==e?void 0:e.path)&&(!e.name||"string"==typeof e.name)}function _(e){return"string"==typeof(null==e?void 0:e.uri)&&(!e.name||"string"==typeof e.name)}function f(e,t,i,o,n){if(e.scheme!==o.scheme)return{name:i,uri:e.toString(!0)};let s=t?void 0:n.relativePath(o,e);if(void 0!==s)0===s.length?s=".":a.isWindows&&(s=y(s));else if(e.scheme===r.Schemas.file)s=e.fsPath,a.isWindows&&(s=y(s));else{if(!n.isEqualAuthority(e.authority,o.authority))return{name:i,uri:e.toString(!0)};s=e.path}return{name:i,path:s}}function y(e){return e=(0,n.normalizeDriveLetter)(e),(0,t.isUNC)(e)||(e=(0,t.toSlashes)(e)),e}function C(e,t,i){let o=[],n=new Set,r=i.dirname(t);for(let t of e){let e;if(v(t))t.path&&(e=i.resolvePath(r,t.path));else if(_(t))try{(e=d.URI.parse(t.uri)).path[0]!==s.posix.sep&&(e=e.with({path:s.posix.sep+e.path}))}catch(e){console.warn(e)}if(e){let r=i.getComparisonKey(e);if(!n.has(r)){n.add(r);let s=t.name||i.basenameOrAuthority(e);o.push(new u.WorkspaceFolder({uri:e,name:s,index:o.length},t))}}}return o}function b(e,t,n,r,u){let h=function(e,t){let o=(0,i.parse)(t);if(o&&Array.isArray(o.folders))o.folders=o.folders.filter(e=>m(e));else throw Error("".concat(e," looks like an invalid workspace file."));return o}(t,e),p=u.dirname(t),g=u.dirname(r),_=[];for(let e of h.folders){let t,i=v(e)?u.resolvePath(p,e.path):d.URI.parse(e.uri);t=!n&&(!v(e)||(0,s.isAbsolute)(e.path)),_.push(f(i,t,e.name,g,u))}let y={insertSpaces:!1,tabSize:4,eol:a.isLinux||a.isMacintosh?"\n":"\r\n"},C=(0,o.setProperty)(e,["folders"],_,y),b=(0,o.applyEdits)(e,C);return(0,l.isEqualAuthority)(h.remoteAuthority,(0,c.getRemoteAuthority)(r))&&(b=(0,o.applyEdits)(b,(0,o.removeProperty)(b,["remoteAuthority"],y))),b}function S(e,t){let i={workspaces:[],files:[]};return e&&Array.isArray(e.entries)&&function(e,i){for(let o=0;o<e.length;o++)try{i(e[o],o)}catch(i){t.warn("Error restoring recent entry ".concat(JSON.stringify(e[o]),": ").concat(i.toString(),". Skip entry."))}}(e.entries,e=>{let t=e.label,o=e.remoteAuthority;e.workspace&&"object"==typeof e.workspace&&"string"==typeof e.workspace.id&&"string"==typeof e.workspace.configPath?i.workspaces.push({label:t,remoteAuthority:o,workspace:{id:e.workspace.id,configPath:d.URI.parse(e.workspace.configPath)}}):"string"==typeof e.folderUri?i.workspaces.push({label:t,remoteAuthority:o,folderUri:d.URI.parse(e.folderUri)}):"string"==typeof e.fileUri&&i.files.push({label:t,remoteAuthority:o,fileUri:d.URI.parse(e.fileUri)})}),i}function w(e){let t={entries:[]};for(let i of e.workspaces)p(i)?t.entries.push({folderUri:i.folderUri.toString(),label:i.label,remoteAuthority:i.remoteAuthority}):t.entries.push({workspace:{id:i.workspace.id,configPath:i.workspace.configPath.toString()},label:i.label,remoteAuthority:i.remoteAuthority});for(let i of e.files)t.entries.push({fileUri:i.fileUri.toString(),label:i.label,remoteAuthority:i.remoteAuthority});return t}e.s(["getStoredWorkspaceFolder",()=>f,"isRecentFile",()=>g,"isRecentFolder",()=>p,"isRecentWorkspace",()=>h,"isStoredWorkspaceFolder",()=>m,"restoreRecentlyOpened",()=>S,"rewriteWorkspaceFileForNewLocation",()=>b,"toStoreData",()=>w,"toWorkspaceFolders",()=>C])},203956,e=>{"use strict";var t=e.i(383962),i=e.i(749351),o=e.i(8114),n=e.i(332217),r=e.i(257945),s=e.i(664575),a=e.i(265216),l=e.i(564485),d=e.i(268850),c=e.i(623885),u=e.i(239686),h=e.i(649849),p=e.i(352700),g=e.i(323235),m=e.i(657170),v=e.i(4121),_=e.i(534888),f=e.i(275667),y=e.i(520303),C=e.i(977857),b=e.i(509592),S=e.i(166253),w=e.i(430771),E=e.i(976204),I=e.i(441900),x=e.i(304729),D=e.i(610620),k=e.i(785310),A=e.i(619223);function M(e){return e&&e.hasOwnProperty("folderUri")}var L=e.i(141212);let T="inRecentFilesPicker";class R extends o.Action2{async run(e){let o,n=e.get(_.IWorkspacesService),r=e.get(d.IQuickInputService),s=e.get(c.IWorkspaceContextService),a=e.get(h.ILabelService),l=e.get(p.IKeybindingService),u=e.get(g.IModelService),f=e.get(m.ILanguageService),y=e.get(E.IHostService),C=e.get(i.IDialogService),S=await n.getRecentlyOpened(),w=await n.getDirtyWorkspaces(),x=!1,D=new I.ResourceMap,k=new I.ResourceMap;for(let e of w)M(e)?D.set(e.folderUri,!0):(k.set(e.workspace.configPath,e.workspace),x=!0);let A=new I.ResourceMap,L=new I.ResourceMap;for(let e of S.workspaces)(0,v.isRecentFolder)(e)?A.set(e.folderUri,!0):(L.set(e.workspace.configPath,e.workspace),x=!0);let R=[];for(let e of S.workspaces){let t=(0,v.isRecentFolder)(e)?D.has(e.folderUri):k.has(e.workspace.configPath);R.push(this.toQuickPick(u,f,a,e,t))}for(let e of w)if(M(e)&&!A.has(e.folderUri))R.push(this.toQuickPick(u,f,a,e,!0));else e&&e.hasOwnProperty("workspace")&&!L.has(e.workspace.configPath)&&R.push(this.toQuickPick(u,f,a,e,!0));let N=S.files.map(e=>this.toQuickPick(u,f,a,e,!1)),P=S.workspaces[0],O=P&&s.isCurrentWorkspace((0,v.isRecentWorkspace)(P)?P.workspace:P.folderUri),F=[{type:"separator",label:x?(0,t.localize)(2644,"folders & workspaces"):(0,t.localize)(2645,"folders")},...R,{type:"separator",label:(0,t.localize)(2646,"files")},...N],K=await r.pick(F,{contextKey:T,activeItem:[...R,...N][+!!O],placeHolder:b.isMacintosh?(0,t.localize)(2647,"Select to open (hold Cmd-key to force new window or Option-key for same window)"):(0,t.localize)(2648,"Select to open (hold Ctrl-key to force new window or Alt-key for same window)"),matchOnDescription:!0,onKeyMods:e=>o=e,quickNavigate:this.isQuickNavigate()?{keybindings:l.lookupKeybindings(this.desc.id)}:void 0,hideInput:this.isQuickNavigate(),onDidTriggerItemButton:async e=>{if(e.button===this.removeFromRecentlyOpened)await n.removeRecentlyOpened([e.item.resource]),e.removeItem();else if(e.button===this.dirtyRecentlyOpenedFolder||e.button===this.dirtyRecentlyOpenedWorkspace){let i=e.button===this.dirtyRecentlyOpenedWorkspace,{confirmed:o}=await C.confirm({title:i?(0,t.localize)(2649,"Workspace with Unsaved Files"):(0,t.localize)(2650,"Folder with Unsaved Files"),message:i?(0,t.localize)(2651,"Do you want to open the workspace to review the unsaved files?"):(0,t.localize)(2652,"Do you want to open the folder to review the unsaved files?"),detail:i?(0,t.localize)(2653,"Workspaces with unsaved files cannot be removed until all unsaved files have been saved or reverted."):(0,t.localize)(2654,"Folders with unsaved files cannot be removed until all unsaved files have been saved or reverted.")});o&&(y.openWindow([e.item.openable],{remoteAuthority:e.item.remoteAuthority||null}),r.cancel())}}});if(K)return y.openWindow([K.openable],{forceNewWindow:null==o?void 0:o.ctrlCmd,forceReuseWindow:null==o?void 0:o.alt,remoteAuthority:K.remoteAuthority||null})}toQuickPick(e,i,o,n,r){let s,a,l,d,c=!1;(0,v.isRecentFolder)(n)?(d=n.folderUri,a=(0,f.getIconClasses)(e,i,d,y.FileKind.FOLDER),s={folderUri:d},l=n.label||o.getWorkspaceLabel(d,{verbose:u.Verbosity.LONG})):(0,v.isRecentWorkspace)(n)?(d=n.workspace.configPath,a=(0,f.getIconClasses)(e,i,d,y.FileKind.ROOT_FOLDER),s={workspaceUri:d},l=n.label||o.getWorkspaceLabel(n.workspace,{verbose:u.Verbosity.LONG}),c=!0):(d=n.fileUri,a=(0,f.getIconClasses)(e,i,d,y.FileKind.FILE),s={fileUri:d},l=n.label||o.getUriLabel(d));let{name:h,parentPath:p}=(0,C.splitRecentLabel)(l);return{iconClasses:a,label:h,ariaLabel:r?c?(0,t.localize)(2655,"{0}, workspace with unsaved changes",h):(0,t.localize)(2656,"{0}, folder with unsaved changes",h):h,description:p,buttons:r?[c?this.dirtyRecentlyOpenedWorkspace:this.dirtyRecentlyOpenedFolder]:[this.removeFromRecentlyOpened],openable:s,resource:d,remoteAuthority:n.remoteAuthority}}constructor(e){super(e),this.removeFromRecentlyOpened={iconClass:D.ThemeIcon.asClassName(x.Codicon.removeClose),tooltip:(0,t.localize)(2641,"Remove from Recently Opened")},this.dirtyRecentlyOpenedFolder={iconClass:"dirty-workspace "+D.ThemeIcon.asClassName(x.Codicon.closeDirty),tooltip:(0,t.localize)(2642,"Folder With Unsaved Files"),alwaysVisible:!0},this.dirtyRecentlyOpenedWorkspace={...this.dirtyRecentlyOpenedFolder,tooltip:(0,t.localize)(2643,"Workspace With Unsaved Files")}}}class N extends R{isQuickNavigate(){return!1}constructor(){super({id:N.ID,title:{...(0,t.localize2)(2657,"Open Recent..."),mnemonicTitle:(0,t.localize)(2658,"&&More...")},category:a.Categories.File,f1:!0,keybinding:{weight:l.KeybindingWeight.WorkbenchContrib,primary:n.KeyMod.CtrlCmd|n.KeyCode.KeyR,mac:{primary:n.KeyMod.WinCtrl|n.KeyCode.KeyR}},menu:{id:o.MenuId.MenubarRecentMenu,group:"y_more",order:1}})}}N.ID="workbench.action.openRecent";class P extends o.Action2{run(e){return e.get(E.IHostService).toggleFullScreen((0,L.getActiveWindow)())}constructor(){super({id:"workbench.action.toggleFullScreen",title:{...(0,t.localize2)(2660,"Toggle Full Screen"),mnemonicTitle:(0,t.localize)(2661,"&&Full Screen")},category:a.Categories.View,f1:!0,keybinding:{weight:l.KeybindingWeight.WorkbenchContrib,primary:n.KeyCode.F11,mac:{primary:n.KeyMod.CtrlCmd|n.KeyMod.WinCtrl|n.KeyCode.KeyF}},precondition:s.IsIOSContext.toNegated(),toggled:r.IsMainWindowFullscreenContext,menu:[{id:o.MenuId.MenubarAppearanceMenu,group:"1_toggle_view",order:1}]})}}class O extends o.Action2{async run(e){return e.get(E.IHostService).reload()}constructor(){super({id:O.ID,title:(0,t.localize2)(2662,"Reload Window"),category:a.Categories.Developer,f1:!0,keybinding:{weight:l.KeybindingWeight.WorkbenchContrib+50,when:s.IsDevelopmentContext,primary:n.KeyMod.CtrlCmd|n.KeyCode.KeyR}})}}O.ID="workbench.action.reloadWindow";class F extends o.Action2{run(e){return e.get(i.IDialogService).about()}constructor(){super({id:"workbench.action.showAboutDialog",title:{...(0,t.localize2)(2663,"About"),mnemonicTitle:(0,t.localize)(2664,"&&About")},category:a.Categories.Help,f1:!0,menu:{id:o.MenuId.MenubarHelpMenu,group:"z_about",order:1,when:s.IsMacNativeContext.toNegated()}})}}class K extends o.Action2{run(e){return e.get(E.IHostService).openWindow({remoteAuthority:null})}constructor(){super({id:"workbench.action.newWindow",title:{...(0,t.localize2)(2665,"New Window"),mnemonicTitle:(0,t.localize)(2666,"New &&Window")},f1:!0,keybinding:{weight:l.KeybindingWeight.WorkbenchContrib,primary:b.isWeb?b.isWindows?(0,n.KeyChord)(n.KeyMod.CtrlCmd|n.KeyCode.KeyK,n.KeyMod.Shift|n.KeyCode.KeyN):n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyMod.Shift|n.KeyCode.KeyN:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KeyN,secondary:b.isWeb?[n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KeyN]:void 0},menu:{id:o.MenuId.MenubarFileMenu,group:"1_new",order:3}})}}class W extends o.Action2{run(){let e=(0,L.getActiveElement)();(0,L.isHTMLElement)(e)&&e.blur()}constructor(){super({id:"workbench.action.blur",title:(0,t.localize2)(2667,"Remove keyboard focus from focused element")})}}(0,o.registerAction2)(K),(0,o.registerAction2)(P),(0,o.registerAction2)(class extends R{isQuickNavigate(){return!0}constructor(){super({id:"workbench.action.quickOpenRecent",title:(0,t.localize2)(2659,"Quick Open Recent..."),category:a.Categories.File,f1:!1})}}),(0,o.registerAction2)(N),(0,o.registerAction2)(O),(0,o.registerAction2)(F),(0,o.registerAction2)(W);let z=S.ContextKeyExpr.and(w.inQuickPickContext,S.ContextKeyExpr.has(T)),V="workbench.action.quickOpenNavigateNextInRecentFilesPicker";l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:V,weight:l.KeybindingWeight.WorkbenchContrib+50,handler:(0,w.getQuickNavigateHandler)(V,!0),when:z,primary:n.KeyMod.CtrlCmd|n.KeyCode.KeyR,mac:{primary:n.KeyMod.WinCtrl|n.KeyCode.KeyR}});let B="workbench.action.quickOpenNavigatePreviousInRecentFilesPicker";l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:B,weight:l.KeybindingWeight.WorkbenchContrib+50,handler:(0,w.getQuickNavigateHandler)(B,!1),when:z,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KeyR,mac:{primary:n.KeyMod.WinCtrl|n.KeyMod.Shift|n.KeyCode.KeyR}}),k.CommandsRegistry.registerCommand("workbench.action.toggleConfirmBeforeClose",e=>{let t=e.get(A.IConfigurationService),i=t.inspect("window.confirmBeforeClose").userValue;return t.updateValue("window.confirmBeforeClose","never"===i?"keyboardOnly":"never")}),o.MenuRegistry.appendMenuItem(o.MenuId.MenubarFileMenu,{group:"z_ConfirmClose",command:{id:"workbench.action.toggleConfirmBeforeClose",title:(0,t.localize)(2668,"Confirm Before Close"),toggled:S.ContextKeyExpr.notEquals("config.window.confirmBeforeClose","never")},order:1,when:s.IsWebContext}),o.MenuRegistry.appendMenuItem(o.MenuId.MenubarFileMenu,{title:(0,t.localize)(2669,"Open &&Recent"),submenu:o.MenuId.MenubarRecentMenu,group:"2_open",order:4}),e.s(["OpenRecentAction",()=>N],203956)},531462,96373,717179,709442,887418,584056,123460,547687,116748,6658,534970,235610,565176,550118,556065,294372,514663,306033,496709,101797,873505,115838,719249,299201,808456,517323,890154,71634,295347,468387,287231,886197,891680,217508,583763,39192,381853,471590,486988,697340,332786,481200,112692,734201,391722,729588,518655,402720,231010,257912,231018,946935,305634,347714,405035,355788,480332,427944,491701,410416,460663,877999,266264,242696,533523,e=>{"use strict";let t,i;var o,n,r,s,a,l,d,c,u,h,p,g,m,v,_,f,y,C,b,S,w,E,I,x,D,k,A,M,L,T,R,N,P,O,F,K,W,z,V,B,H,U,G,q,j,Q,Y,Z,X,$,J,ee,et,ei,eo,en,er,es,ea,el,ed,ec,eu,eh,ep,eg,em,ev,e_,ef,ey,eC,eb,eS,ew,eE,eI,ex=e.i(308165),eD=e.i(436120),ek=e.i(64803),eA=e.i(383962),eM=e.i(569038),eL=e.i(312582),eT=e.i(206605),eR=e.i(582006),eN=e.i(297334),eP=e.i(976233),eO=e.i(619223);let eF=(n=o=class extends eD.Disposable{async _updateConfigValues(){var e,t,i,o,r;await this._extensionService.whenInstalledExtensionsRegistered(),n.extensionIds.length=0,n.extensionItemLabels.length=0,n.extensionDescriptions.length=0,n.extensionIds.push(null),n.extensionItemLabels.push((0,eA.localize)(6727,"All")),n.extensionDescriptions.push((0,eA.localize)(6728,"All active folding range providers"));let s=[],a=[];for(let t of this._extensionService.extensions)(t.main||t.browser)&&((null==(e=t.categories)?void 0:e.find(e=>"Programming Languages"===e))?s.push(t):a.push(t));let l=(e,t)=>e.name.localeCompare(t.name);for(let e of s.sort(l))n.extensionIds.push(e.identifier.value),n.extensionItemLabels.push(null!=(t=e.displayName)?t:""),n.extensionDescriptions.push(null!=(i=e.description)?i:"");for(let e of a.sort(l))n.extensionIds.push(e.identifier.value),n.extensionItemLabels.push(null!=(o=e.displayName)?o:""),n.extensionDescriptions.push(null!=(r=e.description)?r:"")}_selectFoldingRangeProvider(e,t){let i=this._configurationService.getValue(n.configName,{overrideIdentifier:t.getLanguageId()});if(i)return e.filter(e=>e.id===i)}constructor(e,t){super(),this._extensionService=e,this._configurationService=t,this._store.add(this._extensionService.onDidChangeExtensions(this._updateConfigValues,this)),this._store.add(ek.FoldingController.setFoldingRangeProviderSelector(this._selectFoldingRangeProvider.bind(this))),this._updateConfigValues()}},o.configName="editor.defaultFoldingRangeProvider",o.extensionIds=[],o.extensionItemLabels=[],o.extensionDescriptions=[],o);eF=n=(0,ex.__decorate)([(0,ex.__param)(0,eP.IExtensionService),(0,ex.__param)(1,eO.IConfigurationService)],eF),eM.Registry.as(eT.Extensions.Configuration).registerConfiguration({...eR.editorConfigurationBaseNode,properties:{[eF.configName]:{description:(0,eA.localize)(6729,"Defines a default folding range provider that takes precedence over all other folding range providers. Must be the identifier of an extension contributing a folding range provider."),type:["string","null"],default:null,enum:eF.extensionIds,enumItemLabels:eF.extensionItemLabels,markdownEnumDescriptions:eF.extensionDescriptions}}}),eM.Registry.as(eL.Extensions.Workbench).registerWorkbenchContribution(eF,eN.LifecyclePhase.Restored),e.s([],531462);var eK=e.i(141212),eW=e.i(760837),ez=e.i(332217),eV=e.i(710252),eB=e.i(716526),eH=e.i(266548),eU=e.i(776718),eG=e.i(8114),eq=e.i(450569),ej=e.i(886202),eQ=e.i(166253),eY=e.i(756970),eZ=e.i(693655),eX=e.i(564485),e$=e.i(375905);let eJ=(s=r=class{static get(e){var t;return null!=(t=e.getContribution(s.ID))?t:void 0}dispose(){this._sessionDispoosables.dispose(),this._ctxIsReading.reset(),this._ariaElement.remove()}_reset(){(0,eK.clearNode)(this._ariaElement),this._sessionDispoosables.clear(),this._ctxIsReading.reset()}async _read(e,t){if(this._sessionDispoosables.clear(),!this._ariaElement.isConnected){var i;null==(i=this._editor.getDomNode())||i.appendChild(this._ariaElement)}if(!this._editor.hasModel()||!this._ariaElement.isConnected)return void this._ctxIsReading.set(!1);let o=new eW.CancellationTokenSource;for(let e of(this._sessionDispoosables.add(o),t))await e.resolve(o.token);if(o.token.isCancellationRequested)return;let n=this._editor.getModel(),r=[],s=0,a=!1;for(let i of t){let t=n.getValueInRange({startLineNumber:e,startColumn:s+1,endLineNumber:e,endColumn:i.hint.position.column});if(t.length>0&&(r.push(t),s=i.hint.position.column-1),s>750){r.push("…"),a=!0;break}let o=document.createElement("em"),{label:l}=i.hint;if("string"==typeof l)o.innerText=l;else for(let e of l)if(e.command){let t=this._instaService.createInstance(e$.Link,o,{href:(0,eH.asCommandLink)(e.command),label:e.label,title:e.command.title},void 0);this._sessionDispoosables.add(t)}else o.innerText+=e.label;r.push(o)}a||r.push(n.getValueInRange({startLineNumber:e,startColumn:s+1,endLineNumber:e,endColumn:Number.MAX_SAFE_INTEGER})),(0,eK.reset)(this._ariaElement,...r),this._ariaElement.focus(),this._ctxIsReading.set(!0),this._sessionDispoosables.add((0,eK.addDisposableListener)(this._ariaElement,"focusout",()=>{this._reset()}))}startInlayHintsReading(){var e;if(!this._editor.hasModel())return;let t=this._editor.getPosition().lineNumber,i=null==(e=eU.InlayHintsController.get(this._editor))?void 0:e.getInlayHintsForLine(t);i&&0!==i.length?this._read(t,i):this._accessibilitySignalService.playSignal(eq.AccessibilitySignal.noInlayHints)}stopInlayHintsReading(){this._reset(),this._editor.focus()}constructor(e,t,i,o){this._editor=e,this._accessibilitySignalService=i,this._instaService=o,this._sessionDispoosables=new eD.DisposableStore,this._ariaElement=document.createElement("span"),this._ariaElement.style.position="fixed",this._ariaElement.className="inlayhint-accessibility-element",this._ariaElement.tabIndex=0,this._ariaElement.setAttribute("aria-description",(0,eA.localize)(6755,"Code with Inlay Hint Information")),this._ctxIsReading=s.IsReading.bindTo(t)}},r.IsReading=new eQ.RawContextKey("isReadingLineWithInlayHints",!1,{type:"boolean",description:(0,eA.localize)(6754,"Whether the current line and its inlay hints are currently focused")}),r.ID="editor.contrib.InlayHintsAccessibility",r);eJ=s=(0,ex.__decorate)([(0,ex.__param)(1,eY.IContextKeyService),(0,ex.__param)(2,ej.IAccessibilitySignalService),(0,ex.__param)(3,eZ.IInstantiationService)],eJ),(0,eG.registerAction2)(class extends eV.EditorAction2{runEditorCommand(e,t){let i=eJ.get(t);null==i||i.startInlayHintsReading()}constructor(){super({id:"inlayHints.startReadingLineWithHint",title:(0,eA.localize2)(6756,"Read Line With Inline Hints"),precondition:eB.EditorContextKeys.hasInlayHintsProvider,f1:!0})}}),(0,eG.registerAction2)(class extends eV.EditorAction2{runEditorCommand(e,t){let i=eJ.get(t);null==i||i.stopInlayHintsReading()}constructor(){super({id:"inlayHints.stopReadingLineWithHint",title:(0,eA.localize2)(6757,"Stop Inlay Hints Reading"),precondition:eJ.IsReading,f1:!0,keybinding:{weight:eX.KeybindingWeight.EditorContrib,primary:ez.KeyCode.Escape}})}}),(0,eV.registerEditorContribution)(eJ.ID,eJ,eV.EditorContributionInstantiation.Lazy),e.s([],96373);var e0=e.i(145384),e1=e.i(262799),e2=eD,e3=e.i(544421),e5=e.i(314536),e4=e.i(974804),e6=e.i(352700);let e8=e=>({type:"string",enum:["always","explicit","never",!0,!1],enumDescriptions:[(0,eA.localize)(4660,"Triggers Code Actions on explicit saves and auto saves triggered by window or focus changes."),(0,eA.localize)(4661,"Triggers Code Actions only when explicitly saved"),(0,eA.localize)(4662,"Never triggers Code Actions on save"),(0,eA.localize)(4663,'Triggers Code Actions only when explicitly saved. This value will be deprecated in favor of "explicit".'),(0,eA.localize)(4664,'Never triggers Code Actions on save. This value will be deprecated in favor of "never".')],default:"explicit",description:e}),e9=e=>({type:["string","boolean"],enum:["explicit","never",!0,!1],enumDescriptions:[(0,eA.localize)(4665,"Triggers Code Actions only when explicitly saved."),(0,eA.localize)(4666,"Never triggers Code Actions on save."),(0,eA.localize)(4667,'Triggers Code Actions only when explicitly saved. This value will be deprecated in favor of "explicit".'),(0,eA.localize)(4668,'Triggers Code Actions only when explicitly saved. This value will be deprecated in favor of "never".')],default:"explicit",description:e}),e7={oneOf:[{type:"object",additionalProperties:{type:"string"}},{type:"array",items:{type:"string"}}],markdownDescription:(0,eA.localize)(4669,'Run Code Actions for the editor on save. Code Actions must be specified and the editor must not be shutting down. When {0} is set to `afterDelay`, Code Actions will only be run when the file is saved explicitly. Example: `"source.organizeImports": "explicit" `',"`#files.autoSave#`"),type:["object","array"],additionalProperties:{type:"string",enum:["always","explicit","never",!0,!1]},default:{},scope:eT.ConfigurationScope.LANGUAGE_OVERRIDABLE},te=Object.freeze({...eR.editorConfigurationBaseNode,properties:{"editor.codeActionsOnSave":e7}}),tt={oneOf:[{type:"object",additionalProperties:{type:"string"}},{type:"array",items:{type:"string"}}],markdownDescription:(0,eA.localize)(4670,'Run a series of Code Actions for a notebook on save. Code Actions must be specified and the editor must not be shutting down. When {0} is set to `afterDelay`, Code Actions will only be run when the file is saved explicitly. Example: `"notebook.source.organizeImports": "explicit"`',"`#files.autoSave#`"),type:"object",additionalProperties:{type:["string","boolean"],enum:["explicit","never",!0,!1]},default:{}},ti=Object.freeze({...eR.editorConfigurationBaseNode,properties:{"notebook.codeActionsOnSave":tt}}),to=class extends e2.Disposable{getAllProvidedCodeActionKinds(){let e=new Map;for(let i of this.languageFeatures.codeActionProvider.allNoModel()){var t;for(let o of null!=(t=i.providedCodeActionKinds)?t:[])e.set(o,new e1.HierarchicalKind(o))}return Array.from(e.values())}updateConfigurationSchema(e){let t={...e7.properties},i={...tt.properties};for(let o of e)e4.CodeActionKind.Source.contains(o)&&!t[o.value]&&(t[o.value]=e8((0,eA.localize)(4671,"Controls whether '{0}' actions should be run on file save.",o.value)),i[o.value]=e9((0,eA.localize)(4671,"Controls whether '{0}' actions should be run on file save.",o.value)));e7.properties=t,tt.properties=i,eM.Registry.as(eT.Extensions.Configuration).notifyConfigurationSchemaUpdated(te)}getKeybindingSchemaAdditions(){let e=(e,t)=>({if:{required:["command"],properties:{command:{const:e}}},then:{properties:{args:{required:["kind"],properties:{kind:{anyOf:[{enum:Array.from(t)},{type:"string"}]}}}}}}),t=e=>{let t=new Set;for(let i of this._allProvidedCodeActionKinds)e.contains(i)&&t.add(i.value);return Array.from(t)};return[e(e5.codeActionCommandId,t(e1.HierarchicalKind.Empty)),e(e5.refactorCommandId,t(e4.CodeActionKind.Refactor)),e(e5.sourceActionCommandId,t(e4.CodeActionKind.Source))]}constructor(e,t){super(),this.languageFeatures=t,this._onDidChangeSchemaContributions=this._register(new e0.Emitter),this._allProvidedCodeActionKinds=[],this._register(e0.Event.runAndSubscribe(e0.Event.debounce(t.codeActionProvider.onDidChange,()=>{},1e3),()=>{this._allProvidedCodeActionKinds=this.getAllProvidedCodeActionKinds(),this.updateConfigurationSchema(this._allProvidedCodeActionKinds),this._onDidChangeSchemaContributions.fire()})),e.registerSchemaContribution({getSchemaAdditions:()=>this.getKeybindingSchemaAdditions(),onDidChange:this._onDidChangeSchemaContributions.event})}};to=(0,ex.__decorate)([(0,ex.__param)(0,e6.IKeybindingService),(0,ex.__param)(1,e3.ILanguageFeaturesService)],to),eM.Registry.as(eT.Extensions.Configuration).registerConfiguration(te),eM.Registry.as(eT.Extensions.Configuration).registerConfiguration(ti),eM.Registry.as(eL.Extensions.Workbench).registerWorkbenchContribution(to,eN.LifecyclePhase.Eventually),e.s([],717179);var tn=eD,tr=e.i(268850);let ts=class extends tn.Disposable{async show(){let e=[];this._table.getColumnLabels().forEach((t,i)=>{t&&e.push({label:t,index:i})});let t=await this._quickInputService.pick(e,{placeHolder:(0,eA.localize)(6973,"Select the column to resize, type to filter.")});if(!t)return;let i=await this._quickInputService.input({placeHolder:(0,eA.localize)(6974,"i.e. 20, 60, 100..."),prompt:(0,eA.localize)(6975,"Please enter a width in percentage for the '{0}' column.",t.label),validateInput:e=>this._validateColumnResizeValue(e)}),o=i?Number.parseInt(i):void 0;o&&this._table.resizeColumn(t.index,o)}async _validateColumnResizeValue(e){let t=Number.parseInt(e);return e&&!Number.isInteger(t)?(0,eA.localize)(6976,"Please enter an integer."):t<0||t>100?(0,eA.localize)(6977,"Please enter a number greater than 0 and less than or equal to 100."):null}constructor(e,t){super(),this._table=e,this._quickInputService=t}};ts=(0,ex.__decorate)([(0,ex.__param)(1,tr.IQuickInputService)],ts);var ta=e.i(738059),tl=e.i(89460),td=e.i(753988),tc=eG;class tu extends tc.Action2{async run(e){let t=e.get(td.IListService),i=e.get(eZ.IInstantiationService),o=t.lastFocusedList;o instanceof ta.Table&&await i.createInstance(ts,o).show()}constructor(){super({id:"list.resizeColumn",title:{value:(0,eA.localize)(6971,"Resize Column"),original:"Resize Column"},category:{value:(0,eA.localize)(6972,"List"),original:"List"},precondition:tl.WorkbenchListFocusContextKey,f1:!0})}}let th=((a=class{constructor(e){e.createKey("listSupportsTypeNavigation",!0),e.createKey("listSupportsKeyboardNavigation",!0)}}).ID="workbench.contrib.listContext",a);th=(0,ex.__decorate)([(0,ex.__param)(0,eY.IContextKeyService)],th),(0,eL.registerWorkbenchContribution2)(th.ID,th,eL.WorkbenchPhase.BlockStartup),(0,eG.registerAction2)(tu),e.s([],709442);var tp=e.i(394839),tg=eD,tm=e.i(247921),tv=e.i(565323);let t_=((l=class extends tg.Disposable{_instantiate(){if(!this._instantiated)for(let e of(this._instantiated=!0,(0,tv.getEditorFeatures)()))try{let t=this._instantiationService.createInstance(e);"function"==typeof t.dispose&&this._register(t)}catch(e){(0,tp.onUnexpectedError)(e)}}constructor(e,t){super(),this._instantiationService=t,this._instantiated=!1,this._register(e.onWillCreateCodeEditor(()=>this._instantiate())),this._register(e.onWillCreateDiffEditor(()=>this._instantiate())),(e.listCodeEditors().length>0||e.listDiffEditors().length>0)&&this._instantiate()}}).ID="workbench.contrib.editorFeaturesInstantiator",l);t_=(0,ex.__decorate)([(0,ex.__param)(0,tm.ICodeEditorService),(0,ex.__param)(1,eZ.IInstantiationService)],t_),(0,eL.registerWorkbenchContribution2)(t_.ID,t_,eL.WorkbenchPhase.BlockRestore),e.s([],887418);var tf=eD,ty=e.i(545731),tC=e.i(97201);let tb=class extends tf.Disposable{constructor(e,t){super();let i=t=>e.activeContainer.classList.toggle("context-menu-visible",t);this._register(t.onDidShowContextMenu(()=>i(!0))),this._register(t.onDidHideContextMenu(()=>i(!1)))}};tb=(0,ex.__decorate)([(0,ex.__param)(0,tC.ILayoutService),(0,ex.__param)(1,ty.IContextMenuService)],tb),eM.Registry.as(eL.Extensions.Workbench).registerWorkbenchContribution(tb,eN.LifecyclePhase.Eventually),e.s([],584056);var tS=e.i(490582),tw=e.i(785310);tw.CommandsRegistry.registerCommand("_executeMappedEditsProvider",async(e,t,i,o)=>{let n=e.get(tS.ITextModelService),r=e.get(e3.ILanguageFeaturesService),s=await n.createModelReference(t),a=null;try{let e=r.mappedEditsProvider.ordered(s.object.textEditorModel);if(e.length>0){let t=e[0],n=new eW.CancellationTokenSource;a=await t.provideMappedEdits(s.object.textEditorModel,i,o,n.token)}}finally{s.dispose()}return a}),e.s([],123460);var tE=e.i(955130),tI=e.i(430252),tx=eD,tD=e.i(509592),tk=e.i(68174),tA=e.i(761584),tM=e.i(893905);let tL=((d=class extends tx.Disposable{createActions(){return[new tE.Action("undo",(0,eA.localize)(2635,"Undo"),void 0,!0,async()=>(0,eK.getActiveDocument)().execCommand("undo")),new tE.Action("redo",(0,eA.localize)(2636,"Redo"),void 0,!0,async()=>(0,eK.getActiveDocument)().execCommand("redo")),new tE.Separator,new tE.Action("editor.action.clipboardCutAction",(0,eA.localize)(2637,"Cut"),void 0,!0,async()=>(0,eK.getActiveDocument)().execCommand("cut")),new tE.Action("editor.action.clipboardCopyAction",(0,eA.localize)(2638,"Copy"),void 0,!0,async()=>(0,eK.getActiveDocument)().execCommand("copy")),new tE.Action("editor.action.clipboardPasteAction",(0,eA.localize)(2639,"Paste"),void 0,!0,async e=>{if(tD.isNative)(0,eK.getActiveDocument)().execCommand("paste");else{let t=await this.clipboardService.readText();if((0,eK.isHTMLTextAreaElement)(e)||(0,eK.isHTMLInputElement)(e)){let i=e.selectionStart||0,o=e.selectionEnd||0;e.value="".concat(e.value.substring(0,i)).concat(t).concat(e.value.substring(o,e.value.length)),e.selectionStart=i+t.length,e.selectionEnd=e.selectionStart,e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))}}}),new tE.Separator,new tE.Action("editor.action.selectAll",(0,eA.localize)(2640,"Select All"),void 0,!0,async()=>(0,eK.getActiveDocument)().execCommand("selectAll"))]}registerListeners(){this._register(e0.Event.runAndSubscribe(this.layoutService.onDidAddContainer,e=>{let{container:t,disposables:i}=e;i.add((0,eK.addDisposableListener)(t,"contextmenu",e=>this.onContextMenu((0,eK.getWindow)(t),e)))},{container:this.layoutService.mainContainer,disposables:this._store}))}onContextMenu(e,t){if(t.defaultPrevented)return;let i=t.target;if(!(0,eK.isHTMLElement)(i)||"input"!==i.nodeName.toLowerCase()&&"textarea"!==i.nodeName.toLowerCase())return;eK.EventHelper.stop(t,!0);let o=new tA.StandardMouseEvent(e,t);this.contextMenuService.showContextMenu({getAnchor:()=>o,getActions:()=>this.textInputActions.value,getActionsContext:()=>i})}constructor(e,t,i){super(),this.layoutService=e,this.contextMenuService=t,this.clipboardService=i,this.textInputActions=new tM.Lazy(()=>this.createActions()),this.registerListeners()}}).ID="workbench.contrib.textInputActionsProvider",d);tL=(0,ex.__decorate)([(0,ex.__param)(0,tI.IWorkbenchLayoutService),(0,ex.__param)(1,ty.IContextMenuService),(0,ex.__param)(2,tk.IClipboardService)],tL),(0,eL.registerWorkbenchContribution2)(tL.ID,tL,eL.WorkbenchPhase.BlockRestore),e.s([],547687);var tT=e.i(521549);(0,tT.default)('.monaco-workbench .quick-input-list .quick-input-list-entry.has-actions:hover .quick-input-list-entry-action-bar .action-label.dirty-workspace:before{content:var(--vscode-icon-x-content);font-family:var(--vscode-icon-x-font-family)}.monaco-workbench .screencast-mouse{border-radius:50%;border-style:solid;border-width:2px;content:" ";display:none;pointer-events:none;position:absolute;z-index:100000}.monaco-workbench .screencast-keyboard{background-color:rgba(0,0,0,.5);color:#eee;left:0;line-height:1.75em;overflow:hidden;pointer-events:none;position:absolute;text-align:center;text-overflow:ellipsis;white-space:nowrap;width:100%;z-index:100000}.monaco-workbench:not(.reduce-motion) .screencast-keyboard{transition:opacity .3s ease-out}.monaco-workbench .screencast-keyboard:empty{opacity:0}.monaco-workbench .screencast-keyboard>.key{background-color:hsla(0,0%,100%,.05);border:1px solid hsla(0,0%,80%,.4);border-radius:5px;box-shadow:inset 0 -3px 0 hsla(0,0%,73%,.4);margin-right:6px;padding:0 8px}.monaco-workbench .screencast-keyboard>.title{font-weight:600}',{});var tR=e.i(722934),tN=e.i(286230),tP=e.i(347997),tO=e.i(245517),tF=e.i(395806),tK=eG,tW=e.i(413174),tz=e.i(780379),tV=e.i(882798),tB=e.i(322549),tH=e.i(67064),tU=e.i(265216),tG=e.i(111214),tq=e.i(725578),tj=e.i(749351),tQ=e.i(812541),tY=e.i(71786),tZ=e.i(520303),tX=e.i(652624),t$=e.i(810602),tJ=e.i(963920),t0=e.i(313587);class t1 extends tK.Action2{run(e){let t=e.get(eY.IContextKeyService),i=new eD.DisposableStore,o=(0,tP.createStyleSheet)(void 0,void 0,i);(0,tP.createCSSRule)("*","cursor: crosshair !important;",o);let n=document.createElement("div"),r=(0,eK.getActiveDocument)();r.body.appendChild(n),i.add((0,eD.toDisposable)(()=>n.remove())),n.style.position="absolute",n.style.pointerEvents="none",n.style.backgroundColor="rgba(255, 0, 0, 0.5)",n.style.zIndex="1000";let s=i.add(new tR.DomEmitter(r,"mousemove",!0));i.add(s.event(e=>{let t=e.target,i=(0,eK.getDomNodePagePosition)(t);n.style.top="".concat(i.top,"px"),n.style.left="".concat(i.left,"px"),n.style.width="".concat(i.width,"px"),n.style.height="".concat(i.height,"px")}));let a=i.add(new tR.DomEmitter(r,"mousedown",!0));e0.Event.once(a.event)(e=>{e.preventDefault(),e.stopPropagation()},null,i);let l=i.add(new tR.DomEmitter(r,"mouseup",!0));e0.Event.once(l.event)(e=>{e.preventDefault(),e.stopPropagation(),console.log(t.getContext(e.target).collectAllValues()),(0,eD.dispose)(i)},null,i)}constructor(){super({id:"workbench.action.inspectContextKeys",title:(0,eA.localize2)(2465,"Inspect Context Keys"),category:tU.Categories.Developer,f1:!0})}}class t2 extends tK.Action2{run(e){let t,i,o;if(t2.disposable){t2.disposable.dispose(),t2.disposable=void 0;return}let n=e.get(tC.ILayoutService),r=e.get(eO.IConfigurationService),s=e.get(e6.IKeybindingService),a=new eD.DisposableStore,l=n.activeContainer,d=(0,eK.append)(l,(0,eK.$)(".screencast-mouse"));a.add((0,eD.toDisposable)(()=>d.remove()));let c=(0,eK.append)(l,(0,eK.$)(".screencast-keyboard"));a.add((0,eD.toDisposable)(()=>c.remove()));let u=a.add(new e0.Emitter),h=a.add(new e0.Emitter),p=a.add(new e0.Emitter);function g(e,t){t.add(t.add(new tR.DomEmitter(e,"mousedown",!0)).event(e=>u.fire(e))),t.add(t.add(new tR.DomEmitter(e,"mouseup",!0)).event(e=>h.fire(e))),t.add(t.add(new tR.DomEmitter(e,"mousemove",!0)).event(e=>p.fire(e)))}for(let{window:e,disposables:t}of(0,eK.getWindows)())g(n.getContainer(e),t);a.add((0,eK.onDidRegisterWindow)(e=>{let{window:t,disposables:i}=e;return g(n.getContainer(t),i)})),a.add(n.onDidChangeActiveContainer(()=>{n.activeContainer.appendChild(d),n.activeContainer.appendChild(c)}));let m=()=>{d.style.borderColor=tN.Color.fromHex(r.getValue("screencastMode.mouseIndicatorColor")).toString()},v=()=>{t=(0,tV.clamp)(r.getValue("screencastMode.mouseIndicatorSize")||20,20,100),d.style.height="".concat(t,"px"),d.style.width="".concat(t,"px")};m(),v(),a.add(u.event(e=>{d.style.top="".concat(e.clientY-t/2,"px"),d.style.left="".concat(e.clientX-t/2,"px"),d.style.display="block",d.style.transform="scale(".concat(1,")"),d.style.transition="transform 0.1s";let i=p.event(e=>{d.style.top="".concat(e.clientY-t/2,"px"),d.style.left="".concat(e.clientX-t/2,"px"),d.style.transform="scale(".concat(.8,")")});e0.Event.once(h.event)(()=>{d.style.display="none",i.dispose()})}));let _=()=>{c.style.fontSize="".concat((0,tV.clamp)(r.getValue("screencastMode.fontSize")||56,20,100),"px")},f=()=>{c.style.bottom="".concat((0,tV.clamp)(r.getValue("screencastMode.verticalOffset")||0,0,90),"%")},y=()=>{i=(0,tV.clamp)(r.getValue("screencastMode.keyboardOverlayTimeout")||800,500,5e3)};_(),f(),y(),a.add(r.onDidChangeConfiguration(e=>{e.affectsConfiguration("screencastMode.verticalOffset")&&f(),e.affectsConfiguration("screencastMode.fontSize")&&_(),e.affectsConfiguration("screencastMode.keyboardOverlayTimeout")&&y(),e.affectsConfiguration("screencastMode.mouseIndicatorColor")&&m(),e.affectsConfiguration("screencastMode.mouseIndicatorSize")&&v()}));let C=a.add(new e0.Emitter),b=a.add(new e0.Emitter),S=a.add(new e0.Emitter),w=a.add(new e0.Emitter);function E(e,t){t.add(t.add(new tR.DomEmitter(e,"keydown",!0)).event(e=>C.fire(e))),t.add(t.add(new tR.DomEmitter(e,"compositionstart",!0)).event(e=>b.fire(e))),t.add(t.add(new tR.DomEmitter(e,"compositionupdate",!0)).event(e=>S.fire(e))),t.add(t.add(new tR.DomEmitter(e,"compositionend",!0)).event(e=>w.fire(e)))}for(let{window:e,disposables:t}of(0,eK.getWindows)())E(e,t);a.add((0,eK.onDidRegisterWindow)(e=>{let{window:t,disposables:i}=e;return E(t,i)}));let I=0,x=!1,D=new tF.RunOnceScheduler(()=>{c.textContent="",o=void 0,I=0},i);a.add(b.event(e=>{x=!0})),a.add(S.event(e=>{e.data&&x?(I>20&&(c.innerText="",I=0),(o=null!=o?o:(0,eK.append)(c,(0,eK.$)("span.key"))).textContent=e.data):x&&(c.innerText="",(0,eK.append)(c,(0,eK.$)("span.key",{},"Backspace"))),D.schedule()})),a.add(w.event(e=>{o=void 0,I++})),a.add(C.event(e=>{var t,i,n,a,l,d,u,h;if("Process"===e.key||/[\uac00-\ud787\u3131-\u314e\u314f-\u3163\u3041-\u3094\u30a1-\u30f4\u30fc\u3005\u3006\u3024\u4e00-\u9fa5]/u.test(e.key)){"Backspace"===e.code||e.code.includes("Key")?x=!0:(o=void 0,x=!1),D.schedule();return}if(e.isComposing)return;let p=r.getValue("screencastMode.keyboardOptions"),g=new tO.StandardKeyboardEvent(e),m=s.softDispatch(g,g.target);if(m.kind===tq.ResultKind.KbFound&&m.commandId&&!(null==(t=p.showSingleEditorCursorMoves)||t)&&["cursorLeft","cursorRight","cursorUp","cursorDown"].includes(m.commandId))return;(g.ctrlKey||g.altKey||g.metaKey||g.shiftKey||I>20||g.keyCode===ez.KeyCode.Backspace||g.keyCode===ez.KeyCode.Escape||g.keyCode===ez.KeyCode.UpArrow||g.keyCode===ez.KeyCode.DownArrow||g.keyCode===ez.KeyCode.LeftArrow||g.keyCode===ez.KeyCode.RightArrow)&&(c.innerText="",I=0);let v=s.resolveKeyboardEvent(g),_=this._isKbFound(m)&&m.commandId?this.getCommandDetails(m.commandId):void 0,f=null==_?void 0:_.title,y=v.getLabel();if(_&&(null!=(i=p.showCommandGroups)&&i&&_.category&&(f="".concat(_.category,": ").concat(f," ")),this._isKbFound(m)&&m.commandId)){let e=s.lookupKeybindings(m.commandId).filter(e=>{var t;return null==(t=e.getLabel())?void 0:t.endsWith(null!=y?y:"")});e.length>0&&(y=e[e.length-1].getLabel())}(null==(n=p.showCommands)||n)&&f&&(0,eK.append)(c,(0,eK.$)("span.title",{},"".concat(f," "))),(null==(a=p.showKeys)||a||(null==(l=p.showKeybindings)||l)&&this._isKbFound(m))&&(y=null==y||null==(h=y.replace("UpArrow","↑"))||null==(u=h.replace("DownArrow","↓"))||null==(d=u.replace("LeftArrow","←"))?void 0:d.replace("RightArrow","→"),(0,eK.append)(c,(0,eK.$)("span.key",{},null!=y?y:""))),I++,D.schedule()})),t2.disposable=a}_isKbFound(e){return e.kind===tq.ResultKind.KbFound}getCommandDetails(e){var t;let i=tK.MenuRegistry.getCommand(e);if(i)return{title:"string"==typeof i.title?i.title:i.title.value,category:i.category?"string"==typeof i.category?i.category:i.category.value:void 0};let o=tw.CommandsRegistry.getCommand(e);if(o&&(null==(t=o.metadata)?void 0:t.description))return{title:"string"==typeof o.metadata.description?o.metadata.description:o.metadata.description.value}}constructor(){super({id:"workbench.action.toggleScreencastMode",title:(0,eA.localize2)(2466,"Toggle Screencast Mode"),category:tU.Categories.Developer,f1:!0})}}class t3 extends tK.Action2{run(e){let t=e.get(tz.IStorageService),i=e.get(tj.IDialogService);t.log(),i.info((0,eA.localize)(2468,"The storage database contents have been logged to the developer tools."),(0,eA.localize)(2469,"Open developer tools from the menu and select the Console tab."))}constructor(){super({id:"workbench.action.logStorage",title:(0,eA.localize2)(2467,"Log Storage Database Contents"),category:tU.Categories.Developer,f1:!0})}}class t5 extends tK.Action2{async run(e){let t=e.get(tH.IWorkingCopyService),i=e.get(tG.IWorkingCopyBackupService),o=e.get(tB.ILogService),n=e.get(tQ.IOutputService),r=await i.getBackups(),s=["","[Working Copies]",...t.workingCopies.length>0?t.workingCopies.map(e=>"".concat(e.isDirty()?"● ":"").concat(e.resource.toString(!0)," (typeId: ").concat(e.typeId||"<no typeId>",")")):["<none>"],"","[Backups]",...r.length>0?r.map(e=>"".concat(e.resource.toString(!0)," (typeId: ").concat(e.typeId||"<no typeId>",")")):["<none>"]];o.info(s.join("\n")),n.showChannel(tY.windowLogId,!0)}constructor(){super({id:"workbench.action.logWorkingCopies",title:(0,eA.localize2)(2470,"Log Working Copies"),category:tU.Categories.Developer,f1:!0})}}class t4 extends tK.Action2{async run(e){let t=e.get(tz.IStorageService),i=e.get(tr.IQuickInputService),o=e.get(tX.IUserDataProfileService),n=e.get(tj.IDialogService),r=e.get(t0.IEnvironmentService),s=[];for(let e of[tW.StorageScope.APPLICATION,tW.StorageScope.PROFILE,tW.StorageScope.WORKSPACE])if(e!==tW.StorageScope.PROFILE||!o.currentProfile.isDefault)for(let i of[tW.StorageTarget.MACHINE,tW.StorageTarget.USER])for(let o of t.keys(e,i)){let n=t.get(o,e);n&&(!r.isBuilt||n.length>t4.SIZE_THRESHOLD)&&s.push({key:o,scope:e,target:i,size:n.length,label:o,description:tZ.ByteSize.formatSize(n.length),detail:(0,eA.localize)(2472,"Scope: {0}, Target: {1}",e===tW.StorageScope.APPLICATION?(0,eA.localize)(2473,"Global"):e===tW.StorageScope.PROFILE?(0,eA.localize)(2474,"Profile"):(0,eA.localize)(2475,"Workspace"),i===tW.StorageTarget.MACHINE?(0,eA.localize)(2476,"Machine"):(0,eA.localize)(2477,"User"))})}s.sort((e,t)=>t.size-e.size);let a=await new Promise(e=>{let t=new eD.DisposableStore,o=t.add(i.createQuickPick());o.items=s,o.canSelectMany=!0,o.ok=!1,o.customButton=!0,o.hideCheckAll=!0,o.customLabel=(0,eA.localize)(2478,"Remove"),o.placeholder=(0,eA.localize)(2479,"Select large entries to remove from storage"),0===s.length&&(o.description=(0,eA.localize)(2480,"There are no large storage entries to remove.")),o.show(),t.add(o.onDidCustom(()=>{e(o.selectedItems),o.hide()})),t.add(o.onDidHide(()=>t.dispose()))});if(0===a.length)return;let{confirmed:l}=await n.confirm({type:"warning",message:(0,eA.localize)(2481,"Do you want to remove the selected storage entries from the database?"),detail:(0,eA.localize)(2482,"{0}\n\nThis action is irreversible and may result in data loss!",a.map(e=>e.label).join("\n")),primaryButton:(0,eA.localize)(2483,"&&Remove")});if(!l)return;let d=new Set;for(let e of a)t.remove(e.key,e.scope),d.add(e.scope);for(let e of d)await t.optimize(e)}constructor(){super({id:"workbench.action.removeLargeStorageDatabaseEntries",title:(0,eA.localize2)(2471,"Remove Large Storage Database Entries..."),category:tU.Categories.Developer,f1:!0})}}t4.SIZE_THRESHOLD=16384;let t6=new Set,t8=new eQ.RawContextKey("dirtyWorkingCopies","stopped");class t9 extends tK.Action2{run(e){t8.bindTo(e.get(eY.IContextKeyService)).set("started"),t6.clear(),t=new eD.DisposableTracker,(0,eD.setDisposableTracker)(t)}constructor(){super({id:"workbench.action.startTrackDisposables",title:(0,eA.localize2)(2484,"Start Tracking Disposables"),category:tU.Categories.Developer,f1:!0,precondition:eQ.ContextKeyExpr.and(t8.isEqualTo("pending").negate(),t8.isEqualTo("started").negate())})}}class t7 extends tK.Action2{run(e){var i;t8.bindTo(e.get(eY.IContextKeyService)).set("pending"),t6=new Set(null==t||null==(i=t.computeLeakingDisposables(1e3))?void 0:i.leaks.map(e=>e.value))}constructor(){super({id:"workbench.action.snapshotTrackedDisposables",title:(0,eA.localize2)(2485,"Snapshot Tracked Disposables"),category:tU.Categories.Developer,f1:!0,precondition:t8.isEqualTo("started")})}}class ie extends tK.Action2{run(e){let i=e.get(t$.IEditorService);if(t8.bindTo(e.get(eY.IContextKeyService)).set("stopped"),t){var o,n;let e=new Set;for(let i of(n=new Set(null==(o=t.computeLeakingDisposables(1e3))?void 0:o.leaks),n))t6.has(i.value)&&e.add(i);let r=t.computeLeakingDisposables(1e3,Array.from(e));r&&i.openEditor({resource:void 0,contents:r.details})}(0,eD.setDisposableTracker)(null),t=void 0,t6.clear()}constructor(){super({id:"workbench.action.stopTrackDisposables",title:(0,eA.localize2)(2486,"Stop Tracking Disposables"),category:tU.Categories.Developer,f1:!0,precondition:t8.isEqualTo("pending")})}}(0,tK.registerAction2)(t1),(0,tK.registerAction2)(t2),(0,tK.registerAction2)(t3),(0,tK.registerAction2)(t5),(0,tK.registerAction2)(t4),tJ.default.commit||((0,tK.registerAction2)(t9),(0,tK.registerAction2)(t7),(0,tK.registerAction2)(ie)),eM.Registry.as(eT.Extensions.Configuration).registerConfiguration({id:"screencastMode",order:9,title:(0,eA.localize)(2487,"Screencast Mode"),type:"object",properties:{"screencastMode.verticalOffset":{type:"number",default:20,minimum:0,maximum:90,description:(0,eA.localize)(2488,"Controls the vertical offset of the screencast mode overlay from the bottom as a percentage of the workbench height.")},"screencastMode.fontSize":{type:"number",default:56,minimum:20,maximum:100,description:(0,eA.localize)(2489,"Controls the font size (in pixels) of the screencast mode keyboard.")},"screencastMode.keyboardOptions":{type:"object",description:(0,eA.localize)(2490,"Options for customizing the keyboard overlay in screencast mode."),properties:{showKeys:{type:"boolean",default:!0,description:(0,eA.localize)(2491,"Show raw keys.")},showKeybindings:{type:"boolean",default:!0,description:(0,eA.localize)(2492,"Show keyboard shortcuts.")},showCommands:{type:"boolean",default:!0,description:(0,eA.localize)(2493,"Show command names.")},showCommandGroups:{type:"boolean",default:!1,description:(0,eA.localize)(2494,"Show command group names, when commands are also shown.")},showSingleEditorCursorMoves:{type:"boolean",default:!0,description:(0,eA.localize)(2495,"Show single editor cursor move commands.")}},default:{showKeys:!0,showKeybindings:!0,showCommands:!0,showCommandGroups:!1,showSingleEditorCursorMoves:!0},additionalProperties:!1},"screencastMode.keyboardOverlayTimeout":{type:"number",default:800,minimum:500,maximum:5e3,description:(0,eA.localize)(2496,"Controls how long (in milliseconds) the keyboard overlay is shown in screencast mode.")},"screencastMode.mouseIndicatorColor":{type:"string",format:"color-hex",default:"#FF0000",description:(0,eA.localize)(2497,"Controls the color in hex (#RGB, #RGBA, #RRGGBB or #RRGGBBAA) of the mouse indicator in screencast mode.")},"screencastMode.mouseIndicatorSize":{type:"number",default:20,minimum:20,maximum:100,description:(0,eA.localize)(2498,"Controls the size (in pixels) of the mouse indicator in screencast mode.")}}}),e.s([],116748);var it=e.i(304729),ii=e.i(869177);for(let t of(e.i(724146),(0,eG.registerAction2)(ii.ToggleCollapseUnchangedRegions),(0,eG.registerAction2)(ii.ToggleShowMovedCodeBlocks),(0,eG.registerAction2)(ii.ToggleUseInlineViewWhenSpaceIsLimited),eG.MenuRegistry.appendMenuItem(eG.MenuId.EditorTitle,{command:{id:new ii.ToggleUseInlineViewWhenSpaceIsLimited().desc.id,title:(0,eA.localize)(183,"Use Inline View When Space Is Limited"),toggled:eQ.ContextKeyExpr.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:eQ.ContextKeyExpr.has("isInDiffEditor")},order:11,group:"1_diff",when:eQ.ContextKeyExpr.and(eB.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,eQ.ContextKeyExpr.has("isInDiffEditor"))}),eG.MenuRegistry.appendMenuItem(eG.MenuId.EditorTitle,{command:{id:new ii.ToggleShowMovedCodeBlocks().desc.id,title:(0,eA.localize)(184,"Show Moved Code Blocks"),icon:it.Codicon.move,toggled:eQ.ContextKeyEqualsExpr.create("config.diffEditor.experimental.showMoves",!0),precondition:eQ.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"1_diff",when:eQ.ContextKeyExpr.has("isInDiffEditor")}),(0,eG.registerAction2)(ii.RevertHunkOrSelection),[{icon:it.Codicon.arrowRight,key:eB.EditorContextKeys.diffEditorInlineMode.toNegated()},{icon:it.Codicon.discard,key:eB.EditorContextKeys.diffEditorInlineMode}]))eG.MenuRegistry.appendMenuItem(eG.MenuId.DiffEditorHunkToolbar,{command:{id:new ii.RevertHunkOrSelection().desc.id,title:(0,eA.localize)(185,"Revert Block"),icon:t.icon},when:eQ.ContextKeyExpr.and(eB.EditorContextKeys.diffEditorModifiedWritable,t.key),order:5,group:"primary"}),eG.MenuRegistry.appendMenuItem(eG.MenuId.DiffEditorSelectionToolbar,{command:{id:new ii.RevertHunkOrSelection().desc.id,title:(0,eA.localize)(186,"Revert Selection"),icon:t.icon},when:eQ.ContextKeyExpr.and(eB.EditorContextKeys.diffEditorModifiedWritable,t.key),order:5,group:"primary"});(0,eG.registerAction2)(ii.SwitchSide),(0,eG.registerAction2)(ii.ExitCompareMove),(0,eG.registerAction2)(ii.CollapseAllUnchangedRegions),(0,eG.registerAction2)(ii.ShowAllUnchangedRegions),eG.MenuRegistry.appendMenuItem(eG.MenuId.EditorTitle,{command:{id:ii.AccessibleDiffViewerNext.id,title:(0,eA.localize)(187,"Open Accessible Diff Viewer"),precondition:eQ.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"2_diff",when:eQ.ContextKeyExpr.and(eB.EditorContextKeys.accessibleDiffViewerVisible.negate(),eQ.ContextKeyExpr.has("isInDiffEditor"))}),tw.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",ii.AccessibleDiffViewerNext.id),(0,eG.registerAction2)(ii.AccessibleDiffViewerNext),tw.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",ii.AccessibleDiffViewerPrev.id),(0,eG.registerAction2)(ii.AccessibleDiffViewerPrev),e.s([],6658);var io=e.i(211023),ir=e.i(628463);(0,tT.default)(".monaco-editor .selection-anchor{background-color:#007acc;width:2px!important}",{});var is=eV,ia=e.i(91418),il=e.i(13310);let id=new eQ.RawContextKey("selectionAnchorSet",!1),ic=(u=c=class{static get(e){return e.getContribution(u.ID)}setSelectionAnchor(){if(this.editor.hasModel()){let e=this.editor.getPosition();this.editor.changeDecorations(t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(ia.Selection.fromPositions(e,e),{description:"selection-anchor",stickiness:il.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,hoverMessage:new ir.MarkdownString().appendText((0,eA.localize)(821,"Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,io.alert)((0,eA.localize)(822,"Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){let t=this.editor.getPosition();this.editor.setSelection(ia.Selection.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){let e=this.decorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=id.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}},c.ID="editor.contrib.selectionAnchorController",c);ic=u=(0,ex.__decorate)([(0,ex.__param)(1,eY.IContextKeyService)],ic);class iu extends is.EditorAction{async run(e,t){var i;null==(i=ic.get(t))||i.setSelectionAnchor()}constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,eA.localize2)(823,"Set Selection Anchor"),precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:(0,ez.KeyChord)(ez.KeyMod.CtrlCmd|ez.KeyCode.KeyK,ez.KeyMod.CtrlCmd|ez.KeyCode.KeyB),weight:eX.KeybindingWeight.EditorContrib}})}}class ih extends is.EditorAction{async run(e,t){var i;null==(i=ic.get(t))||i.goToSelectionAnchor()}constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,eA.localize2)(824,"Go to Selection Anchor"),precondition:id})}}class ip extends is.EditorAction{async run(e,t){var i;null==(i=ic.get(t))||i.selectFromAnchorToCursor()}constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,eA.localize2)(825,"Select from Anchor to Cursor"),precondition:id,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:(0,ez.KeyChord)(ez.KeyMod.CtrlCmd|ez.KeyCode.KeyK,ez.KeyMod.CtrlCmd|ez.KeyCode.KeyK),weight:eX.KeybindingWeight.EditorContrib}})}}class ig extends is.EditorAction{async run(e,t){var i;null==(i=ic.get(t))||i.cancelSelectionAnchor()}constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,eA.localize2)(826,"Cancel Selection Anchor"),precondition:id,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyCode.Escape,weight:eX.KeybindingWeight.EditorContrib}})}}(0,is.registerEditorContribution)(ic.ID,ic,is.EditorContributionInstantiation.Lazy),(0,is.registerEditorAction)(iu),(0,is.registerEditorAction)(ih),(0,is.registerEditorAction)(ip),(0,is.registerEditorAction)(ig),e.s([],534970);var im=eV,iv=e.i(475424);class i_{getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;let i=this._selection.startLineNumber,o=this._selection.startColumn,n=this._selection.endColumn;if((!this._isMovingLeft||1!==o)&&(this._isMovingLeft||n!==e.getLineMaxColumn(i)))if(this._isMovingLeft){let r=new iv.Range(i,o-1,i,o),s=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new iv.Range(i,n,i,n),s)}else{let r=new iv.Range(i,n,i,n+1),s=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new iv.Range(i,o,i,o),s)}}computeCursorState(e,t){return this._isMovingLeft?new ia.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new ia.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}constructor(e,t){this._selection=e,this._isMovingLeft=t}}class iy extends im.EditorAction{run(e,t){if(!t.hasModel())return;let i=[];for(let e of t.getSelections())i.push(new i_(e,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}constructor(e,t){super(t),this.left=e}}(0,im.registerEditorAction)(class extends iy{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:(0,eA.localize2)(833,"Move Selected Text Left"),precondition:eB.EditorContextKeys.writable})}}),(0,im.registerEditorAction)(class extends iy{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:(0,eA.localize2)(834,"Move Selected Text Right"),precondition:eB.EditorContextKeys.writable})}}),e.s([],235610);var iC=eV,ib=e.i(515888),iS=e.i(135984);class iw extends iC.EditorAction{run(e,t){if(!t.hasModel())return;let i=t.getModel(),o=[];for(let e of t.getSelections()){if(!e.isEmpty())continue;let t=e.startLineNumber,n=e.startColumn,r=i.getLineMaxColumn(t);if(1===t&&(1===n||2===n&&2===r))continue;let s=n===r?e.getPosition():iS.MoveOperations.rightPosition(i,e.getPosition().lineNumber,e.getPosition().column),a=iS.MoveOperations.leftPosition(i,s),l=iS.MoveOperations.leftPosition(i,a),d=i.getValueInRange(iv.Range.fromPositions(l,a)),c=i.getValueInRange(iv.Range.fromPositions(a,s)),u=iv.Range.fromPositions(l,s);o.push(new ib.ReplaceCommand(u,c+d))}o.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop())}constructor(){super({id:"editor.action.transposeLetters",label:(0,eA.localize2)(835,"Transpose Letters"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyCode.KeyT},weight:eX.KeybindingWeight.EditorContrib}})}}(0,iC.registerEditorAction)(iw),e.s([],565176);var iE=e.i(448493),iI=eV,ix=e.i(557176),iD=e.i(69586);function ik(e){return eQ.ContextKeyExpr.regex(iD.SUPPORTED_CODE_ACTIONS.keys()[0],RegExp("(\\s|^)"+(0,iE.escapeRegExpCharacters)(e.value)+"\\b"))}let iA={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:(0,eA.localize)(846,"Kind of the code action to run.")},apply:{type:"string",description:(0,eA.localize)(847,"Controls when the returned actions are applied."),default:e4.CodeActionAutoApply.IfSingle,enum:[e4.CodeActionAutoApply.First,e4.CodeActionAutoApply.IfSingle,e4.CodeActionAutoApply.Never],enumDescriptions:[(0,eA.localize)(848,"Always apply the first returned code action."),(0,eA.localize)(849,"Apply the first returned code action if it is the only one."),(0,eA.localize)(850,"Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:(0,eA.localize)(851,"Controls if only preferred code actions should be returned.")}}};function iM(e,t,i,o){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e4.CodeActionTriggerSource.Default;if(e.hasModel()){let r=ix.CodeActionController.get(e);null==r||r.manualTriggerAtCurrentPosition(t,n,i,o)}}class iL extends iI.EditorAction{run(e,t){return iM(t,(0,eA.localize)(853,"No code actions available"),void 0,void 0,e4.CodeActionTriggerSource.QuickFix)}constructor(){super({id:e5.quickFixCommandId,label:(0,eA.localize2)(852,"Quick Fix..."),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,eB.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.Period,weight:eX.KeybindingWeight.EditorContrib}})}}class iT extends iI.EditorCommand{runEditorCommand(e,t,i){let o=e4.CodeActionCommandArgs.fromUser(i,{kind:e1.HierarchicalKind.Empty,apply:e4.CodeActionAutoApply.IfSingle});return iM(t,"string"==typeof(null==i?void 0:i.kind)?o.preferred?(0,eA.localize)(854,"No preferred code actions for '{0}' available",i.kind):(0,eA.localize)(855,"No code actions for '{0}' available",i.kind):o.preferred?(0,eA.localize)(856,"No preferred code actions available"):(0,eA.localize)(857,"No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}constructor(){super({id:e5.codeActionCommandId,precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,eB.EditorContextKeys.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:iA}]}})}}class iR extends iI.EditorAction{run(e,t,i){let o=e4.CodeActionCommandArgs.fromUser(i,{kind:e4.CodeActionKind.Refactor,apply:e4.CodeActionAutoApply.Never});return iM(t,"string"==typeof(null==i?void 0:i.kind)?o.preferred?(0,eA.localize)(859,"No preferred refactorings for '{0}' available",i.kind):(0,eA.localize)(860,"No refactorings for '{0}' available",i.kind):o.preferred?(0,eA.localize)(861,"No preferred refactorings available"):(0,eA.localize)(862,"No refactorings available"),{include:e4.CodeActionKind.Refactor.contains(o.kind)?o.kind:e1.HierarchicalKind.None,onlyIncludePreferredActions:o.preferred},o.apply,e4.CodeActionTriggerSource.Refactor)}constructor(){super({id:e5.refactorCommandId,label:(0,eA.localize2)(858,"Refactor..."),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,eB.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.KeyR,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyMod.Shift|ez.KeyCode.KeyR},weight:eX.KeybindingWeight.EditorContrib},contextMenuOpts:{group:"1_modification",order:2,when:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,ik(e4.CodeActionKind.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:iA}]}})}}class iN extends iI.EditorAction{run(e,t,i){let o=e4.CodeActionCommandArgs.fromUser(i,{kind:e4.CodeActionKind.Source,apply:e4.CodeActionAutoApply.Never});return iM(t,"string"==typeof(null==i?void 0:i.kind)?o.preferred?(0,eA.localize)(864,"No preferred source actions for '{0}' available",i.kind):(0,eA.localize)(865,"No source actions for '{0}' available",i.kind):o.preferred?(0,eA.localize)(866,"No preferred source actions available"):(0,eA.localize)(867,"No source actions available"),{include:e4.CodeActionKind.Source.contains(o.kind)?o.kind:e1.HierarchicalKind.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply,e4.CodeActionTriggerSource.SourceAction)}constructor(){super({id:e5.sourceActionCommandId,label:(0,eA.localize2)(863,"Source Action..."),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,eB.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,ik(e4.CodeActionKind.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:iA}]}})}}class iP extends iI.EditorAction{run(e,t){return iM(t,(0,eA.localize)(870,"No organize imports action available"),{include:e4.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},e4.CodeActionAutoApply.IfSingle,e4.CodeActionTriggerSource.OrganizeImports)}constructor(){super({id:e5.organizeImportsCommandId,label:(0,eA.localize2)(868,"Organize Imports"),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,ik(e4.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:ez.KeyMod.Shift|ez.KeyMod.Alt|ez.KeyCode.KeyO,weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(869,"Organize imports in the current file. Also called 'Optimize Imports' by some tools")}})}}class iO extends iI.EditorAction{run(e,t){return iM(t,(0,eA.localize)(872,"No fix all action available"),{include:e4.CodeActionKind.SourceFixAll,includeSourceActions:!0},e4.CodeActionAutoApply.IfSingle,e4.CodeActionTriggerSource.FixAll)}constructor(){super({id:e5.fixAllCommandId,label:(0,eA.localize2)(871,"Fix All"),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,ik(e4.CodeActionKind.SourceFixAll))})}}class iF extends iI.EditorAction{run(e,t){return iM(t,(0,eA.localize)(874,"No auto fixes available"),{include:e4.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},e4.CodeActionAutoApply.IfSingle,e4.CodeActionTriggerSource.AutoFix)}constructor(){super({id:e5.autoFixCommandId,label:(0,eA.localize2)(873,"Auto Fix..."),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,ik(e4.CodeActionKind.QuickFix)),kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:ez.KeyMod.Alt|ez.KeyMod.Shift|ez.KeyCode.Period,mac:{primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Alt|ez.KeyCode.Period},weight:eX.KeybindingWeight.EditorContrib}})}}var iK=e.i(23948);(0,eV.registerEditorContribution)(ix.CodeActionController.ID,ix.CodeActionController,eV.EditorContributionInstantiation.Eventually),(0,eV.registerEditorContribution)(iK.LightBulbWidget.ID,iK.LightBulbWidget,eV.EditorContributionInstantiation.Lazy),(0,eV.registerEditorAction)(iL),(0,eV.registerEditorAction)(iR),(0,eV.registerEditorAction)(iN),(0,eV.registerEditorAction)(iP),(0,eV.registerEditorAction)(iF),(0,eV.registerEditorAction)(iO),(0,eV.registerEditorCommand)(new iT),eM.Registry.as(eT.Extensions.Configuration).registerConfiguration({...eR.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:eT.ConfigurationScope.LANGUAGE_OVERRIDABLE,description:(0,eA.localize)(875,"Enable/disable showing group headers in the Code Action menu."),default:!0}}}),eM.Registry.as(eT.Extensions.Configuration).registerConfiguration({...eR.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:eT.ConfigurationScope.LANGUAGE_OVERRIDABLE,description:(0,eA.localize)(876,"Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}}),eM.Registry.as(eT.Extensions.Configuration).registerConfiguration({...eR.editorConfigurationBaseNode,properties:{"editor.codeActions.triggerOnFocusChange":{type:"boolean",scope:eT.ConfigurationScope.LANGUAGE_OVERRIDABLE,markdownDescription:(0,eA.localize)(877,"Enable triggering {0} when {1} is set to {2}. Code Actions must be set to {3} to be triggered for window and focus changes.","`#editor.codeActionsOnSave#`","`#files.autoSave#`","`afterDelay`","`always`"),default:!1}}}),e.s([],550118);var iW=e.i(116185),iz=e.i(309187),iV=eV,iB=e.i(918299),iH=e.i(839435),iU=e.i(292473),iG=e.i(323235);class iq{dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){for(let i of(this._disposables.add(e),e.lenses))this.lenses.push({symbol:i,provider:t})}constructor(){this.lenses=[],this._disposables=new eD.DisposableStore}}async function ij(e,t,i){let o=e.ordered(t),n=new Map,r=new iq,s=o.map(async(e,o)=>{n.set(e,o);try{let o=await Promise.resolve(e.provideCodeLenses(t,i));o&&r.add(o,e)}catch(e){(0,tp.onUnexpectedExternalError)(e)}});return await Promise.all(s),r.lenses=r.lenses.sort((e,t)=>{if(e.symbol.range.startLineNumber<t.symbol.range.startLineNumber)return -1;if(e.symbol.range.startLineNumber>t.symbol.range.startLineNumber)return 1;if(n.get(e.provider)<n.get(t.provider))return -1;if(n.get(e.provider)>n.get(t.provider))return 1;if(e.symbol.range.startColumn<t.symbol.range.startColumn)return -1;else if(e.symbol.range.startColumn>t.symbol.range.startColumn)return 1;else return 0}),r}tw.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n,r]=i;(0,iH.assertType)(iU.URI.isUri(n)),(0,iH.assertType)("number"==typeof r||!r);let{codeLensProvider:s}=e.get(e3.ILanguageFeaturesService),a=e.get(iG.IModelService).getModel(n);if(!a)throw(0,tp.illegalArgument)();let l=[],d=new eD.DisposableStore;return ij(s,a,eW.CancellationToken.None).then(e=>{d.add(e);let t=[];for(let i of e.lenses)null==r||i.symbol.command?l.push(i.symbol):r-- >0&&i.provider.resolveCodeLens&&t.push(Promise.resolve(i.provider.resolveCodeLens(a,i.symbol,eW.CancellationToken.None)).then(e=>l.push(e||i.symbol)));return Promise.all(t)}).then(()=>l).finally(()=>{setTimeout(()=>d.dispose(),100)})});var iQ=e.i(441900),iY=e.i(777700),iZ=e.i(6423);let iX=(0,eZ.createDecorator)("ICodeLensCache");class i${constructor(e,t){this.lineCount=e,this.data=t}}let iJ=class{put(e,t){let i=t.lenses.map(e=>{var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null==(t=e.symbol.command)?void 0:t.title}}}),o=new iq;o.add({lenses:i,dispose:()=>{}},this._fakeProvider);let n=new i$(e.getLineCount(),o);this._cache.set(e.uri.toString(),n)}get(e){let t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){let e=Object.create(null);for(let[t,i]of this._cache){let o=new Set;for(let e of i.data.lenses)o.add(e.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...o.values()]}}return JSON.stringify(e)}_deserialize(e){try{let t=JSON.parse(e);for(let e in t){let i=t[e],o=[];for(let e of i.lines)o.push({range:new iv.Range(e,1,e,11)});let n=new iq;n.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(e,new i$(i.lineCount,n))}}catch(e){}}constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw Error("not supported")}},this._cache=new iQ.LRUCache(20,.75),(0,eK.runWhenWindowIdle)(iZ.mainWindow,()=>e.remove("codelens/cache",tW.StorageScope.WORKSPACE));let t="codelens/cache2",i=e.get(t,tW.StorageScope.WORKSPACE,"{}");this._deserialize(i);let o=e0.Event.filter(e.onWillSaveState,e=>e.reason===tW.WillSaveStateReason.SHUTDOWN);e0.Event.once(o)(i=>{e.store(t,this._serialize(),tW.StorageScope.WORKSPACE,tW.StorageTarget.MACHINE)})}};iJ=(0,ex.__decorate)([(0,ex.__param)(0,tz.IStorageService)],iJ),(0,iY.registerSingleton)(iX,iJ,iY.InstantiationType.Delayed);var i0=e.i(957708),i1=e.i(756600);(0,tT.default)(".monaco-editor .codelens-decoration{font-feature-settings:var(--vscode-editorCodeLens-fontFeatureSettings);color:var(--vscode-editorCodeLens-foreground);display:inline-block;font-family:var(--vscode-editorCodeLens-fontFamily),var(--vscode-editorCodeLens-fontFamilyDefault);font-size:var(--vscode-editorCodeLens-fontSize);line-height:var(--vscode-editorCodeLens-lineHeight);overflow:hidden;padding-right:calc(var(--vscode-editorCodeLens-fontSize)*.5);text-overflow:ellipsis;white-space:nowrap}.monaco-editor .codelens-decoration>a,.monaco-editor .codelens-decoration>span{user-select:none;-webkit-user-select:none;vertical-align:sub;white-space:nowrap}.monaco-editor .codelens-decoration>a{text-decoration:none}.monaco-editor .codelens-decoration>a:hover{cursor:pointer}.monaco-editor .codelens-decoration>a:hover,.monaco-editor .codelens-decoration>a:hover .codicon{color:var(--vscode-editorLink-activeForeground)!important}.monaco-editor .codelens-decoration .codicon{color:currentColor!important;color:var(--vscode-editorCodeLens-foreground);font-size:var(--vscode-editorCodeLens-fontSize);line-height:var(--vscode-editorCodeLens-lineHeight);vertical-align:middle}.monaco-editor .codelens-decoration>a:hover .codicon:before{cursor:pointer}@keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}.monaco-editor .codelens-decoration.fadein{animation:fadein .1s linear}",{});var i2=e.i(341541);class i3{onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}constructor(e,t,i){this.afterColumn=i1.Constants.MAX_SAFE_SMALL_INTEGER,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}}class i5{withCommands(e,t){this._commands.clear();let i=[],o=!1;for(let t=0;t<e.length;t++){let n=e[t];if(n&&(o=!0,n.command)){let o=(0,i0.renderLabelWithIcons)(n.command.title.trim());if(n.command.id){let e="c".concat(i5._idPool++);i.push((0,eK.$)("a",{id:e,title:n.command.tooltip,role:"button"},...o)),this._commands.set(e,n.command)}else i.push((0,eK.$)("span",{title:n.command.tooltip},...o));t+1<e.length&&i.push((0,eK.$)("span",void 0," | "))}}o?((0,eK.reset)(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):(0,eK.reset)(this._domNode,(0,eK.$)("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){let t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[iz.ContentWidgetPositionPreference.ABOVE]}}getPosition(){return this._widgetPosition||null}constructor(e,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-".concat(i5._idPool++),this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}}i5._idPool=0;class i4{addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let e=0,i=t.length;e<i;e++)this._addDecorationsCallbacks[e](t[e])}constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}}let i6=i2.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class i8{_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new i5(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],null==t||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{let i=this._editor.getModel().getDecorationRange(e),o=this._data[t].symbol;return!!(i&&iv.Range.isEmpty(o.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((e,i)=>{t.addDecoration({range:e.symbol.range,options:i6},e=>this._decorationIds[i]=e)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){let i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){let i=e[t];if(i){let{symbol:e}=this._data[t];e.command=i.command||e.command}}}getCommand(e){var t;return null==(t=this._contentWidget)?void 0:t.getCommand(e)}getLineNumber(){let e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){let t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}constructor(e,t,i,o,n,r){let s;this._isDisposed=!1,this._editor=t,this._data=e,this._decorationIds=[];let a=[];this._data.forEach((e,t)=>{e.symbol.command&&a.push(e.symbol),i.addDecoration({range:e.symbol.range,options:i6},e=>this._decorationIds[t]=e),s=s?iv.Range.plusRange(s,e.symbol.range):iv.Range.lift(e.symbol.range)}),this._viewZone=new i3(s.startLineNumber-1,n,r),this._viewZoneId=o.addZone(this._viewZone),a.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(a,!1))}}var i9=e.i(836387),i7=e.i(633921),oe=e.i(555690);let ot=((h=class{dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null==(e=this._currentCodeLensModel)||e.dispose()}_getLayoutInfo(){let e=Math.max(1.3,this._editor.getOption(iB.EditorOption.lineHeight)/this._editor.getOption(iB.EditorOption.fontSize)),t=this._editor.getOption(iB.EditorOption.codeLensFontSize);return(!t||t<5)&&(t=.9*this._editor.getOption(iB.EditorOption.fontSize)|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){let{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(iB.EditorOption.codeLensFontFamily),o=this._editor.getOption(iB.EditorOption.fontInfo),{style:n}=this._editor.getContainerDomNode();n.setProperty("--vscode-editorCodeLens-lineHeight","".concat(e,"px")),n.setProperty("--vscode-editorCodeLens-fontSize","".concat(t,"px")),n.setProperty("--vscode-editorCodeLens-fontFeatureSettings",o.fontFeatureSettings),i&&(n.setProperty("--vscode-editorCodeLens-fontFamily",i),n.setProperty("--vscode-editorCodeLens-fontFamilyDefault",iB.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(t=>{for(let i of this._lenses)i.updateHeight(e,t)})}_localDispose(){var e,t,i;null==(e=this._getCodeLensModelPromise)||e.cancel(),this._getCodeLensModelPromise=void 0,null==(t=this._resolveCodeLensesPromise)||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null==(i=this._currentCodeLensModel)||i.dispose()}_onModelChange(){this._localDispose();let e=this._editor.getModel();if(!e||!this._editor.getOption(iB.EditorOption.codeLens)||e.isTooLargeForTokenization())return;let t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&(0,tF.disposableTimeout)(()=>{t===this._codeLensCache.get(e)&&(this._codeLensCache.delete(e),this._onModelChange())},3e4,this._localToDispose);return}for(let t of this._languageFeaturesService.codeLensProvider.all(e))if("function"==typeof t.onDidChange){let e=t.onDidChange(()=>i.schedule());this._localToDispose.add(e)}let i=new tF.RunOnceScheduler(()=>{var t;let o=Date.now();null==(t=this._getCodeLensModelPromise)||t.cancel(),this._getCodeLensModelPromise=(0,tF.createCancelablePromise)(t=>ij(this._languageFeaturesService.codeLensProvider,e,t)),this._getCodeLensModelPromise.then(t=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=t,this._codeLensCache.put(e,t),i.delay=this._provideCodeLensDebounce.update(e,Date.now()-o),this._renderCodeLensSymbols(t),this._resolveCodeLensesInViewportSoon()},tp.onUnexpectedError)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add((0,eD.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var e;this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{let i=[],o=-1;this._lenses.forEach(e=>{e.isValid()&&o!==e.getLineNumber()?(e.update(t),o=e.getLineNumber()):i.push(e)});let n=new i4;i.forEach(e=>{e.dispose(n,t),this._lenses.splice(this._lenses.indexOf(e),1)}),n.commit(e)})}),i.schedule(),this._resolveCodeLensesScheduler.cancel(),null==(e=this._resolveCodeLensesPromise)||e.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorText(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{i.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(e=>{e.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,eD.toDisposable)(()=>{if(this._editor.getModel()){let e=iW.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{this._disposeAllLenses(e,t)})}),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(e=>{if(e.target.type!==iz.MouseTargetType.CONTENT_WIDGET)return;let t=e.target.element;if((null==t?void 0:t.tagName)==="SPAN"&&(t=t.parentElement),(null==t?void 0:t.tagName)==="A")for(let e of this._lenses){let i=e.getCommand(t);if(i){this._commandService.executeCommand(i.id,...i.arguments||[]).catch(e=>this._notificationService.error(e));break}}})),i.schedule()}_disposeAllLenses(e,t){let i=new i4;for(let e of this._lenses)e.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){let t;if(!this._editor.hasModel())return;let i=this._editor.getModel().getLineCount(),o=[];for(let n of e.lenses){let e=n.symbol.range.startLineNumber;e<1||e>i||(t&&t[t.length-1].symbol.range.startLineNumber===e?t.push(n):(t=[n],o.push(t)))}if(!o.length&&!this._lenses.length)return;let n=iW.StableEditorScrollState.capture(this._editor),r=this._getLayoutInfo();this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{let i=new i4,n=0,s=0;for(;s<o.length&&n<this._lenses.length;){let e=o[s][0].symbol.range.startLineNumber,a=this._lenses[n].getLineNumber();a<e?(this._lenses[n].dispose(i,t),this._lenses.splice(n,1)):a===e?(this._lenses[n].updateCodeLensSymbols(o[s],i),s++,n++):(this._lenses.splice(n,0,new i8(o[s],this._editor,i,t,r.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),n++,s++)}for(;n<this._lenses.length;)this._lenses[n].dispose(i,t),this._lenses.splice(n,1);for(;s<o.length;)this._lenses.push(new i8(o[s],this._editor,i,t,r.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),s++;i.commit(e)})}),n.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null==(e=this._resolveCodeLensesPromise)||e.cancel(),this._resolveCodeLensesPromise=void 0;let t=this._editor.getModel();if(!t)return;let i=[],o=[];if(this._lenses.forEach(e=>{let n=e.computeIfNecessary(t);n&&(i.push(n),o.push(e))}),0===i.length)return;let n=Date.now(),r=(0,tF.createCancelablePromise)(e=>Promise.all(i.map((i,n)=>{let r=Array(i.length);return Promise.all(i.map((i,o)=>i.symbol.command||"function"!=typeof i.provider.resolveCodeLens?(r[o]=i.symbol,Promise.resolve(void 0)):Promise.resolve(i.provider.resolveCodeLens(t,i.symbol,e)).then(e=>{r[o]=e},tp.onUnexpectedExternalError))).then(()=>{e.isCancellationRequested||o[n].isDisposed()||o[n].updateCommands(r)})})));this._resolveCodeLensesPromise=r,this._resolveCodeLensesPromise.then(()=>{let e=this._resolveCodeLensesDebounce.update(t,Date.now()-n);this._resolveCodeLensesScheduler.delay=e,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},e=>{(0,tp.onUnexpectedError)(e),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){var e;return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,(null==(e=this._currentCodeLensModel)?void 0:e.isDisposed)?void 0:this._currentCodeLensModel}constructor(e,t,i,o,n,r){this._editor=e,this._languageFeaturesService=t,this._commandService=o,this._notificationService=n,this._codeLensCache=r,this._disposables=new eD.DisposableStore,this._localToDispose=new eD.DisposableStore,this._lenses=[],this._oldCodeLensModels=new eD.DisposableStore,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new tF.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(iB.EditorOption.fontInfo)||e.hasChanged(iB.EditorOption.codeLensFontSize)||e.hasChanged(iB.EditorOption.codeLensFontFamily))&&this._updateLensStyle(),e.hasChanged(iB.EditorOption.codeLens)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}}).ID="css.editor.codeLens",h);ot=(0,ex.__decorate)([(0,ex.__param)(1,e3.ILanguageFeaturesService),(0,ex.__param)(2,oe.ILanguageFeatureDebounceService),(0,ex.__param)(3,i9.ICommandService),(0,ex.__param)(4,i7.INotificationService),(0,ex.__param)(5,iX)],ot),(0,iV.registerEditorContribution)(ot.ID,ot,iV.EditorContributionInstantiation.AfterFirstRender),(0,iV.registerEditorAction)(class extends iV.EditorAction{async run(e,t){if(!t.hasModel())return;let i=e.get(tr.IQuickInputService),o=e.get(i9.ICommandService),n=e.get(i7.INotificationService),r=t.getSelection().positionLineNumber,s=t.getContribution(ot.ID);if(!s)return;let a=await s.getModel();if(!a)return;let l=[];for(let e of a.lenses)e.symbol.command&&e.symbol.range.startLineNumber===r&&l.push({label:e.symbol.command.title,command:e.symbol.command});if(0===l.length)return;let d=await i.pick(l,{canPickMany:!1,placeHolder:(0,eA.localize)(899,"Select a command")});if(!d)return;let c=d.command;if(a.isDisposed){let e=await s.getModel(),t=null==e?void 0:e.lenses.find(e=>{var t;return e.symbol.range.startLineNumber===r&&(null==(t=e.symbol.command)?void 0:t.title)===c.title});if(!t||!t.symbol.command)return;c=t.symbol.command}try{await o.executeCommand(c.id,...c.arguments||[])}catch(e){n.error(e)}}constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:eB.EditorContextKeys.hasCodeLensProvider,label:(0,eA.localize2)(898,"Show CodeLens Commands For Current Line")})}}),e.s(["CodeLensContribution",()=>ot],556065);var oi=e.i(79838),oo=e.i(965674),on=e.i(243939),or=e.i(158261),os=e.i(620114),oa=e.i(11170),ol=eV;e.i(722658);var od=eD,oc=e.i(583473),ou=e.i(279691),oh=e.i(272117),op=e.i(421513),og=e.i(804998);class om{static fromBaseColor(e,t){return new om(e,t.range,t.model,t.provider)}constructor(e,t,i,o){this.owner=e,this.range=t,this.model=i,this.provider=o}}let ov=class{async createColorHover(e,t,i){if(!this._editor.hasModel()||!on.ColorDetector.get(this._editor))return null;let o=await (0,oo.getColors)(i,this._editor.getModel(),eW.CancellationToken.None),n=null,r=null;for(let t of o){let i=t.colorInfo;iv.Range.containsRange(i.range,e.range)&&(n=i,r=t.provider)}let s=null!=n?n:e,a=null!=r?r:t,l=!!n;return{colorHover:om.fromBaseColor(this,await (0,op.createColorHover)(this._editor.getModel(),s,a)),foundInEditor:l}}async updateEditorModel(e){if(!this._editor.hasModel())return;let t=e.model,i=new iv.Range(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);this._color&&(await (0,op.updateColorPresentations)(this._editor.getModel(),t,this._color,i,e),i=(0,op.updateEditorModel)(this._editor,i,t))}renderHoverParts(e,t){if(0===t.length||!this._editor.hasModel())return;if(e.setMinimumDimensions){let t=this._editor.getOption(iB.EditorOption.lineHeight)+8;e.setMinimumDimensions(new eK.Dimension(302,t))}let i=new eD.DisposableStore,o=t[0],n=this._editor.getModel(),r=o.model,s=i.add(new og.ColorPickerWidget(e.fragment,r,this._editor.getOption(iB.EditorOption.pixelRatio),this._themeService,op.ColorPickerWidgetType.Standalone)),a=new iv.Range(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn),l=o.model.color;return this._color=l,(0,op.updateColorPresentations)(n,r,l,a,o),i.add(r.onColorFlushed(e=>{this._color=e})),i.add(r.onDidChangeColor(e=>{(0,op.updateColorPresentations)(n,r,e,a,o)})),i.add(this._editor.onDidChangeModelContent(t=>{e.hide(),this._editor.focus()})),{hoverPart:o,colorPicker:s,disposables:i}}constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=2,this._color=null}};ov=(0,ex.__decorate)([(0,ex.__param)(1,oh.IThemeService)],ov);var o_=e.i(357790);class of{constructor(e,t){this.value=e,this.foundInEditor=t}}let oy=(g=p=class extends od.Disposable{updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return g.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;let e=this._editor.getOption(iB.EditorOption.hover).above;return{position:this._position,secondaryPosition:this._position,preference:e?[iz.ContentWidgetPositionPreference.ABOVE,iz.ContentWidgetPositionPreference.BELOW]:[iz.ContentWidgetPositionPreference.BELOW,iz.ContentWidgetPositionPreference.ABOVE],positionAffinity:il.PositionAffinity.None}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(e){let t=await this._computeAsync(e);t&&this._onResult.fire(new of(t.result,t.foundInEditor))}async _computeAsync(e){if(!this._editor.hasModel())return null;let t=await this._standaloneColorPickerParticipant.createColorHover({range:e,color:{red:0,green:0,blue:0,alpha:1}},new or.DefaultDocumentColorProvider(this._editorWorkerService),this._languageFeaturesService.colorProvider);return t?{result:t.colorHover,foundInEditor:t.foundInEditor}:null}_render(e,t){let i=document.createDocumentFragment(),o=this._register(new oc.EditorHoverStatusBar(this._keybindingService,this._hoverService));this._colorHover=e;let n=this._standaloneColorPickerParticipant.renderHoverParts({fragment:i,statusBar:o,onContentsChanged:()=>{},hide:()=>this.hide()},[e]);if(!n)return;this._register(n.disposables);let r=n.colorPicker;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px",this._body.tabIndex=0,this._body.appendChild(i),r.layout();let s=r.body,a=s.saturationBox.domNode.clientWidth,l=s.domNode.clientWidth-a-22-8,d=r.body.enterButton;null==d||d.onClicked(()=>{this.updateEditor(),this.hide()});let c=r.header;c.pickedColorNode.style.width=a+8+"px",c.originalColorNode.style.width=l+"px";let u=r.header.closeButton;null==u||u.onClicked(()=>{this.hide()}),t&&(d&&(d.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(e.range)),this._editor.layoutContentWidget(this)}constructor(e,t,i,o,n,r,s,a){var l;super(),this._editor=e,this._standaloneColorPickerVisible=t,this._standaloneColorPickerFocused=i,this._keybindingService=n,this._languageFeaturesService=r,this._editorWorkerService=s,this._hoverService=a,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new e0.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=o.createInstance(ov,this._editor),this._position=null==(l=this._editor._getViewModel())?void 0:l.getPrimaryCursorState().modelState.position;let d=this._editor.getSelection(),c=d?{startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},u=this._register((0,eK.trackFocus)(this._body));this._register(u.onDidBlur(e=>{this.hide()})),this._register(u.onDidFocus(e=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(e=>{var t;let i=null==(t=e.target.element)?void 0:t.classList;i&&i.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(e=>{this._render(e.value,e.foundInEditor)})),this._start(c),this._body.style.zIndex="50",this._editor.addContentWidget(this)}},p.ID="editor.contrib.standaloneColorPickerWidget",p);oy=g=(0,ex.__decorate)([(0,ex.__param)(3,eZ.IInstantiationService),(0,ex.__param)(4,e6.IKeybindingService),(0,ex.__param)(5,e3.ILanguageFeaturesService),(0,ex.__param)(6,ou.IEditorWorkerService),(0,ex.__param)(7,o_.IHoverService)],oy);var oC=eD;let ob=(v=m=class extends oC.Disposable{showOrFocus(){if(this._editor.hasModel())if(this._standaloneColorPickerVisible.get()){if(!this._standaloneColorPickerFocused.get()){var e;null==(e=this._standaloneColorPickerWidget)||e.focus()}}else this._standaloneColorPickerWidget=this._instantiationService.createInstance(oy,this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused)}hide(){var e;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),null==(e=this._standaloneColorPickerWidget)||e.hide(),this._editor.focus()}insertColor(){var e;null==(e=this._standaloneColorPickerWidget)||e.updateEditor(),this.hide()}static get(e){return e.getContribution(v.ID)}constructor(e,t,i){super(),this._editor=e,this._instantiationService=i,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=eB.EditorContextKeys.standaloneColorPickerVisible.bindTo(t),this._standaloneColorPickerFocused=eB.EditorContextKeys.standaloneColorPickerFocused.bindTo(t)}},m.ID="editor.contrib.standaloneColorPickerController",m);ob=v=(0,ex.__decorate)([(0,ex.__param)(1,eY.IContextKeyService),(0,ex.__param)(2,eZ.IInstantiationService)],ob);class oS extends ol.EditorAction2{runEditorCommand(e,t){var i;null==(i=ob.get(t))||i.showOrFocus()}constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...(0,eA.localize2)(903,"Show or Focus Standalone Color Picker"),mnemonicTitle:(0,eA.localize)(904,"&&Show or Focus Standalone Color Picker")},precondition:void 0,menu:[{id:eG.MenuId.CommandPalette}],metadata:{description:(0,eA.localize2)(905,"Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}}class ow extends ol.EditorAction{run(e,t){var i;null==(i=ob.get(t))||i.hide()}constructor(){super({id:"editor.action.hideColorPicker",label:(0,eA.localize2)(906,"Hide the Color Picker"),precondition:eB.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:ez.KeyCode.Escape,weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(907,"Hide the standalone color picker.")}})}}class oE extends ol.EditorAction{run(e,t){var i;null==(i=ob.get(t))||i.insertColor()}constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,eA.localize2)(908,"Insert Color with Standalone Color Picker"),precondition:eB.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:ez.KeyCode.Enter,weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(909,"Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}}(0,eV.registerEditorAction)(ow),(0,eV.registerEditorAction)(oE),(0,eG.registerAction2)(oS),(0,eV.registerEditorContribution)(os.HoverColorPickerContribution.ID,os.HoverColorPickerContribution,eV.EditorContributionInstantiation.BeforeFirstInteraction),(0,eV.registerEditorContribution)(ob.ID,ob,eV.EditorContributionInstantiation.AfterFirstRender),(0,eV.registerEditorContribution)(on.ColorDetector.ID,on.ColorDetector,eV.EditorContributionInstantiation.AfterFirstRender),(0,tv.registerEditorFeature)(or.DefaultDocumentColorProviderFeature),oi.HoverParticipantRegistry.register(oa.HoverColorPickerParticipant),tw.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n]=i;if(!(n instanceof iU.URI))throw(0,tp.illegalArgument)();let{model:r,colorProviderRegistry:s,defaultColorDecoratorsEnablement:a}=(0,oo._setupColorCommand)(e,n);return(0,oo._findColorData)(new oo.ExtColorDataCollector,s,r,eW.CancellationToken.None,a)}),tw.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n,r]=i,{uri:s,range:a}=r;if(!(s instanceof iU.URI)||!Array.isArray(n)||4!==n.length||!iv.Range.isIRange(a))throw(0,tp.illegalArgument)();let{model:l,colorProviderRegistry:d,defaultColorDecoratorsEnablement:c}=(0,oo._setupColorCommand)(e,s),[u,h,p,g]=n;return(0,oo._findColorData)(new oo.ColorPresentationsCollector({range:a,color:{red:u,green:h,blue:p,alpha:g}}),d,l,eW.CancellationToken.None,c)}),e.s([],294372);var oI=eV,ox=e.i(720274),oD=e.i(266931),ok=e.i(224961),oA=e.i(747053);class oM{static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;let o=t.length;if(i+o>e.length)return!1;for(let n=0;n<o;n++){let o=e.charCodeAt(i+n),r=t.charCodeAt(n);if(o!==r&&(!(o>=oD.CharCode.A)||!(o<=oD.CharCode.Z)||o+32!==r)&&(!(r>=oD.CharCode.A)||!(r<=oD.CharCode.Z)||r+32!==o))return!1}return!0}_createOperationsForBlockComment(e,t,i,o,n,r){let s,a=e.startLineNumber,l=e.startColumn,d=e.endLineNumber,c=e.endColumn,u=n.getLineContent(a),h=n.getLineContent(d),p=u.lastIndexOf(t,l-1+t.length),g=h.indexOf(i,c-1-i.length);if(-1!==p&&-1!==g)if(a===d)u.substring(p+t.length,g).indexOf(i)>=0&&(p=-1,g=-1);else{let e=u.substring(p+t.length),o=h.substring(0,g);(e.indexOf(i)>=0||o.indexOf(i)>=0)&&(p=-1,g=-1)}for(let n of(-1!==p&&-1!==g?(o&&p+t.length<u.length&&u.charCodeAt(p+t.length)===oD.CharCode.Space&&(t+=" "),o&&g>0&&h.charCodeAt(g-1)===oD.CharCode.Space&&(i=" "+i,g-=1),s=oM._createRemoveBlockCommentOperations(new iv.Range(a,p+t.length+1,d,g+1),t,i)):(s=oM._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=1===s.length?i:null),s))r.addTrackedEditOperation(n.range,n.text)}static _createRemoveBlockCommentOperations(e,t,i){let o=[];return iv.Range.isEmpty(e)?o.push(ok.EditOperation.delete(new iv.Range(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(o.push(ok.EditOperation.delete(new iv.Range(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),o.push(ok.EditOperation.delete(new iv.Range(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),o}static _createAddBlockCommentOperations(e,t,i,o){let n=[];return iv.Range.isEmpty(e)?n.push(ok.EditOperation.replace(new iv.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(n.push(ok.EditOperation.insert(new oA.Position(e.startLineNumber,e.startColumn),t+(o?" ":""))),n.push(ok.EditOperation.insert(new oA.Position(e.endLineNumber,e.endColumn),(o?" ":"")+i))),n}getEditOperations(e,t){let i=this._selection.startLineNumber,o=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);let n=e.getLanguageIdAtPosition(i,o),r=this.languageConfigurationService.getLanguageConfiguration(n).comments;r&&r.blockCommentStartToken&&r.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){let i=t.getInverseEditOperations();if(2===i.length){let e=i[0],t=i[1];return new ia.Selection(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{let e=i[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new ia.Selection(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}}!function(e){e[e.Toggle=0]="Toggle",e[e.ForceAdd=1]="ForceAdd",e[e.ForceRemove=2]="ForceRemove"}(_||(_={}));class oL{static _gatherPreflightCommentStrings(e,t,i,o){e.tokenization.tokenizeIfCheap(t);let n=e.getLanguageIdAtPosition(t,1),r=o.getLanguageConfiguration(n).comments,s=r?r.lineCommentToken:null;if(!s)return null;let a=[];for(let e=0,o=i-t+1;e<o;e++)a[e]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return a}static _analyzeLines(e,t,i,o,n,r,s,a){let l,d=!0;l=e===_.Toggle||e!==_.ForceAdd;for(let a=0,c=o.length;a<c;a++){let c=o[a],u=n+a;if(u===n&&s){c.ignore=!0;continue}let h=i.getLineContent(u),p=(0,iE.firstNonWhitespaceIndex)(h);if(-1===p){c.ignore=r,c.commentStrOffset=h.length;continue}if(d=!1,c.ignore=!1,c.commentStrOffset=p,l&&!oM._haystackHasNeedleAtOffset(h,c.commentStr,p)&&(e===_.Toggle?l=!1:e===_.ForceAdd||(c.ignore=!0)),l&&t){let e=p+c.commentStrLength;e<h.length&&h.charCodeAt(e)===oD.CharCode.Space&&(c.commentStrLength+=1)}}if(e===_.Toggle&&d){l=!1;for(let e=0,t=o.length;e<t;e++)o[e].ignore=!1}return{supported:!0,shouldRemoveComments:l,lines:o}}static _gatherPreflightData(e,t,i,o,n,r,s,a){let l=oL._gatherPreflightCommentStrings(i,o,n,a);return null===l?{supported:!1}:oL._analyzeLines(e,t,i,l,o,r,s,a)}_executeLineComments(e,t,i,o){let n;i.shouldRemoveComments?n=oL._createRemoveLineCommentsOperations(i.lines,o.startLineNumber):(oL._normalizeInsertionPoint(e,i.lines,o.startLineNumber,this._indentSize),n=this._createAddLineCommentsOperations(i.lines,o.startLineNumber));let r=new oA.Position(o.positionLineNumber,o.positionColumn);for(let i=0,o=n.length;i<o;i++)t.addEditOperation(n[i].range,n[i].text),iv.Range.isEmpty(n[i].range)&&iv.Range.getStartPosition(n[i].range).equals(r)&&e.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(n[i].text||"").length);this._selectionId=t.trackSelection(o)}_attemptRemoveBlockComment(e,t,i,o){let n=t.startLineNumber,r=t.endLineNumber,s=o.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),a=e.getLineContent(n).lastIndexOf(i,s-1),l=e.getLineContent(r).indexOf(o,t.endColumn-1-i.length);return(-1!==a&&-1===l&&(l=e.getLineContent(n).indexOf(o,a+i.length),r=n),-1===a&&-1!==l&&(a=e.getLineContent(r).lastIndexOf(i,l),n=r),t.isEmpty()&&(-1===a||-1===l)&&-1!==(a=e.getLineContent(n).indexOf(i))&&(l=e.getLineContent(n).indexOf(o,a+i.length)),-1!==a&&e.getLineContent(n).charCodeAt(a+i.length)===oD.CharCode.Space&&(i+=" "),-1!==l&&e.getLineContent(r).charCodeAt(l-1)===oD.CharCode.Space&&(o=" "+o,l-=1),-1!==a&&-1!==l)?oM._createRemoveBlockCommentOperations(new iv.Range(n,a+i.length+1,r,l+1),i,o):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);let o=e.getLanguageIdAtPosition(i.startLineNumber,1),n=this.languageConfigurationService.getLanguageConfiguration(o).comments;if(!n||!n.blockCommentStartToken||!n.blockCommentEndToken)return;let r=n.blockCommentStartToken,s=n.blockCommentEndToken,a=this._attemptRemoveBlockComment(e,i,r,s);if(!a){if(i.isEmpty()){let t=e.getLineContent(i.startLineNumber),o=(0,iE.firstNonWhitespaceIndex)(t);-1===o&&(o=t.length),a=oM._createAddBlockCommentOperations(new iv.Range(i.startLineNumber,o+1,i.startLineNumber,t.length+1),r,s,this._insertSpace)}else a=oM._createAddBlockCommentOperations(new iv.Range(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),r,s,this._insertSpace);1===a.length&&(this._deltaColumn=r.length+1)}for(let e of(this._selectionId=t.trackSelection(i),a))t.addEditOperation(e.range,e.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new iv.Range(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":"\n"),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let o=oL._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return o.supported?this._executeLineComments(e,t,o,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new ia.Selection(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let o=0,n=e.length;o<n;o++){let n=e[o];n.ignore||i.push(ok.EditOperation.delete(new iv.Range(t+o,n.commentStrOffset+1,t+o,n.commentStrOffset+n.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[],o=this._insertSpace?" ":"";for(let n=0,r=e.length;n<r;n++){let r=e[n];r.ignore||i.push(ok.EditOperation.insert(new oA.Position(t+n,r.commentStrOffset+1),r.commentStr+o))}return i}static nextVisibleColumn(e,t,i,o){return i?e+(t-e%t):e+o}static _normalizeInsertionPoint(e,t,i,o){let n,r,s=i1.Constants.MAX_SAFE_SMALL_INTEGER;for(let n=0,r=t.length;n<r;n++){if(t[n].ignore)continue;let r=e.getLineContent(i+n),a=0;for(let e=0,i=t[n].commentStrOffset;a<s&&e<i;e++)a=oL.nextVisibleColumn(a,o,r.charCodeAt(e)===oD.CharCode.Tab,1);a<s&&(s=a)}s=Math.floor(s/o)*o;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;let l=e.getLineContent(i+a),d=0;for(n=0,r=t[a].commentStrOffset;d<s&&n<r;n++)d=oL.nextVisibleColumn(d,o,l.charCodeAt(n)===oD.CharCode.Tab,1);d>s?t[a].commentStrOffset=n-1:t[a].commentStrOffset=n}}constructor(e,t,i,o,n,r,s){this.languageConfigurationService=e,this._selection=t,this._indentSize=i,this._type=o,this._insertSpace=n,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=s||!1}}class oT extends oI.EditorAction{run(e,t){let i=e.get(ox.ILanguageConfigurationService);if(!t.hasModel())return;let o=t.getModel(),n=[],r=o.getOptions(),s=t.getOption(iB.EditorOption.comments),a=t.getSelections().map((e,t)=>({selection:e,index:t,ignoreFirstLine:!1}));a.sort((e,t)=>iv.Range.compareRangesUsingStarts(e.selection,t.selection));let l=a[0];for(let e=1;e<a.length;e++){let t=a[e];l.selection.endLineNumber===t.selection.startLineNumber&&(l.index<t.index?t.ignoreFirstLine=!0:(l.ignoreFirstLine=!0,l=t))}for(let e of a)n.push(new oL(i,e.selection,r.indentSize,this._type,s.insertSpace,s.ignoreEmptyLines,e.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}constructor(e,t){super(t),this._type=e}}class oR extends oI.EditorAction{run(e,t){let i=e.get(ox.ILanguageConfigurationService);if(!t.hasModel())return;let o=t.getOption(iB.EditorOption.comments),n=[];for(let e of t.getSelections())n.push(new oM(e,o.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}constructor(){super({id:"editor.action.blockComment",label:(0,eA.localize2)(914,"Toggle Block Comment"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.Shift|ez.KeyMod.Alt|ez.KeyCode.KeyA,linux:{primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.KeyA},weight:eX.KeybindingWeight.EditorContrib},menuOpts:{menuId:eG.MenuId.MenubarEditMenu,group:"5_insert",title:(0,eA.localize)(915,"Toggle &&Block Comment"),order:2}})}}(0,oI.registerEditorAction)(class extends oT{constructor(){super(_.Toggle,{id:"editor.action.commentLine",label:(0,eA.localize2)(910,"Toggle Line Comment"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.Slash,weight:eX.KeybindingWeight.EditorContrib},menuOpts:{menuId:eG.MenuId.MenubarEditMenu,group:"5_insert",title:(0,eA.localize)(911,"&&Toggle Line Comment"),order:1}})}}),(0,oI.registerEditorAction)(class extends oT{constructor(){super(_.ForceAdd,{id:"editor.action.addCommentLine",label:(0,eA.localize2)(912,"Add Line Comment"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:(0,ez.KeyChord)(ez.KeyMod.CtrlCmd|ez.KeyCode.KeyK,ez.KeyMod.CtrlCmd|ez.KeyCode.KeyC),weight:eX.KeybindingWeight.EditorContrib}})}}),(0,oI.registerEditorAction)(class extends oT{constructor(){super(_.ForceRemove,{id:"editor.action.removeCommentLine",label:(0,eA.localize2)(913,"Remove Line Comment"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:(0,ez.KeyChord)(ez.KeyMod.CtrlCmd|ez.KeyCode.KeyK,ez.KeyMod.CtrlCmd|ez.KeyCode.KeyU),weight:eX.KeybindingWeight.EditorContrib}})}}),(0,oI.registerEditorAction)(oR),e.s([],514663);var oN=eD,oP=eV;class oO{equals(e){let t=this.selections.length;if(t!==e.selections.length)return!1;for(let i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0}constructor(e){this.selections=e}}class oF{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class oK extends oN.Disposable{static get(e){return e.getContribution(oK.ID)}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new oF(new oO(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new oF(new oO(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(e=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(e=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;let i=new oO(t.oldSelections);!(this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i))&&(this._undoStack.push(new oF(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}}oK.ID="editor.contrib.cursorUndoRedoController";class oW extends oP.EditorAction{run(e,t,i){var o;null==(o=oK.get(t))||o.cursorUndo()}constructor(){super({id:"cursorUndo",label:(0,eA.localize2)(926,"Cursor Undo"),precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.KeyU,weight:eX.KeybindingWeight.EditorContrib}})}}class oz extends oP.EditorAction{run(e,t,i){var o;null==(o=oK.get(t))||o.cursorRedo()}constructor(){super({id:"cursorRedo",label:(0,eA.localize2)(927,"Cursor Redo"),precondition:void 0})}}(0,oP.registerEditorContribution)(oK.ID,oK,oP.EditorContributionInstantiation.Eager),(0,oP.registerEditorAction)(oW),(0,oP.registerEditorAction)(oz),e.s([],306033);var oV=eD;(0,tT.default)(".monaco-editor.hc-light .dnd-target,.monaco-editor.vs .dnd-target{border-right:2px dotted #000;color:#fff}.monaco-editor.vs-dark .dnd-target{border-right:2px dotted #aeafad;color:#51504f}.monaco-editor.hc-black .dnd-target{border-right:2px dotted #fff;color:#000}.monaco-editor.hc-black.mac.mouse-default .view-lines,.monaco-editor.hc-light.mac.mouse-default .view-lines,.monaco-editor.mouse-default .view-lines,.monaco-editor.vs-dark.mac.mouse-default .view-lines{cursor:default}.monaco-editor.hc-black.mac.mouse-copy .view-lines,.monaco-editor.hc-light.mac.mouse-copy .view-lines,.monaco-editor.mouse-copy .view-lines,.monaco-editor.vs-dark.mac.mouse-copy .view-lines{cursor:copy}",{});var oB=e.i(488131),oH=e.i(236924);class oU{getEditOperations(e,t){let i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new iv.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new ia.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new ia.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new ia.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new ia.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber===this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new ia.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}}function oG(e){return tD.isMacintosh?e.altKey:e.ctrlKey}class oq extends oV.Disposable{static get(e){return e.getContribution(oq.ID)}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!(!this._editor.getOption(iB.EditorOption.dragAndDrop)||this._editor.getOption(iB.EditorOption.columnSelection))&&(oG(e)&&(this._modifierPressed=!0),this._mouseDown&&oG(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!(!this._editor.getOption(iB.EditorOption.dragAndDrop)||this._editor.getOption(iB.EditorOption.columnSelection))&&(oG(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===oq.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(null===this._dragSelection){let e=(this._editor.getSelections()||[]).filter(e=>t.position&&e.containsPosition(t.position));if(1!==e.length)return;this._dragSelection=e[0]}oG(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new oA.Position(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let i=null;if(e.event.shiftKey){let e=this._editor.getSelection();if(e){let{selectionStartLineNumber:o,selectionStartColumn:n}=e;i=[new ia.Selection(o,n,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(e=>e.containsPosition(t)?new ia.Selection(t.lineNumber,t.column,t.lineNumber,t.column):e);this._editor.setSelections(i||[],"mouse",oB.CursorChangeReason.Explicit)}else(!this._dragSelection.containsPosition(t)||(oG(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(oq.ID,new oU(this._dragSelection,t,oG(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new iv.Range(e.lineNumber,e.column,e.lineNumber,e.column),options:oq._DECORATION_OPTIONS}]),this._editor.revealPosition(e,oH.ScrollType.Immediate)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===iz.MouseTargetType.CONTENT_TEXT||e.type===iz.MouseTargetType.CONTENT_EMPTY}_hitMargin(e){return e.type===iz.MouseTargetType.GUTTER_GLYPH_MARGIN||e.type===iz.MouseTargetType.GUTTER_LINE_NUMBERS||e.type===iz.MouseTargetType.GUTTER_LINE_DECORATIONS}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._register(this._editor.onMouseDrag(e=>this._onEditorMouseDrag(e))),this._register(this._editor.onMouseDrop(e=>this._onEditorMouseDrop(e))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(e=>this.onEditorKeyDown(e))),this._register(this._editor.onKeyUp(e=>this.onEditorKeyUp(e))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}}oq.ID="editor.contrib.dragAndDrop",oq.TRIGGER_KEY_VALUE=tD.isMacintosh?ez.KeyCode.Alt:ez.KeyCode.Ctrl,oq._DECORATION_OPTIONS=i2.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,eV.registerEditorContribution)(oq.ID,oq,eV.EditorContributionInstantiation.BeforeFirstInteraction),e.s([],496709);var oj=eV,oQ=e.i(176921),oY=e.i(166181);(0,oj.registerEditorContribution)(oQ.CopyPasteController.ID,oQ.CopyPasteController,oj.EditorContributionInstantiation.Eager),(0,tv.registerEditorFeature)(oY.DefaultPasteProvidersFeature),(0,oj.registerEditorCommand)(new class extends oj.EditorCommand{runEditorCommand(e,t){var i;return null==(i=oQ.CopyPasteController.get(t))?void 0:i.changePasteType()}constructor(){super({id:oQ.changePasteTypeCommandId,precondition:oQ.pasteWidgetVisibleCtx,kbOpts:{weight:eX.KeybindingWeight.EditorContrib,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.Period}})}}),(0,oj.registerEditorCommand)(new class extends oj.EditorCommand{runEditorCommand(e,t){var i;null==(i=oQ.CopyPasteController.get(t))||i.clearWidgets()}constructor(){super({id:"editor.hidePasteWidget",precondition:oQ.pasteWidgetVisibleCtx,kbOpts:{weight:eX.KeybindingWeight.EditorContrib,primary:ez.KeyCode.Escape}})}}),(0,oj.registerEditorAction)(((f=class e extends oj.EditorAction{run(e,t,i){var o;let n;return i&&("kind"in i?n={only:new e1.HierarchicalKind(i.kind)}:"preferences"in i&&(n={preferences:i.preferences.map(e=>new e1.HierarchicalKind(e))})),null==(o=oQ.CopyPasteController.get(t))?void 0:o.pasteAs(n)}constructor(){super({id:"editor.action.pasteAs",label:(0,eA.localize2)(930,"Paste As..."),precondition:eB.EditorContextKeys.writable,metadata:{description:"Paste as",args:[{name:"args",schema:e.argsSchema}]}})}}).argsSchema={oneOf:[{type:"object",required:["kind"],properties:{kind:{type:"string",description:(0,eA.localize)(928,"The kind of the paste edit to try pasting with.\nIf there are multiple edits for this kind, the editor will show a picker. If there are no edits of this kind, the editor will show an error message.")}}},{type:"object",required:["preferences"],properties:{preferences:{type:"array",description:(0,eA.localize)(929,"List of preferred paste edit kind to try applying.\nThe first edit matching the preferences will be applied."),items:{type:"string"}}}}]},f)),(0,oj.registerEditorAction)(class extends oj.EditorAction{run(e,t){var i;return null==(i=oQ.CopyPasteController.get(t))?void 0:i.pasteAs({providerId:oY.DefaultTextPasteOrDropEditProvider.id})}constructor(){super({id:"editor.action.pasteAsText",label:(0,eA.localize2)(931,"Paste as Text"),precondition:eB.EditorContextKeys.writable})}}),e.s([],101797);var oZ=eV,oX=e.i(35123);(0,oZ.registerEditorContribution)(oX.DropIntoEditorController.ID,oX.DropIntoEditorController,oZ.EditorContributionInstantiation.BeforeFirstInteraction),(0,tv.registerEditorFeature)(oY.DefaultDropProvidersFeature),(0,oZ.registerEditorCommand)(new class extends oZ.EditorCommand{runEditorCommand(e,t,i){var o;null==(o=oX.DropIntoEditorController.get(t))||o.changeDropType()}constructor(){super({id:oX.changeDropTypeCommandId,precondition:oX.dropWidgetVisibleCtx,kbOpts:{weight:eX.KeybindingWeight.EditorContrib,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.Period}})}}),(0,oZ.registerEditorCommand)(new class extends oZ.EditorCommand{runEditorCommand(e,t,i){var o;null==(o=oX.DropIntoEditorController.get(t))||o.clearWidgets()}constructor(){super({id:"editor.hideDropWidget",precondition:oX.dropWidgetVisibleCtx,kbOpts:{weight:eX.KeybindingWeight.EditorContrib,primary:ez.KeyCode.Escape}})}}),e.s([],873505);var o$=eV,oJ=e.i(976345);class o0 extends o$.EditorAction{run(e,t){oJ.EditorZoom.setZoomLevel(oJ.EditorZoom.getZoomLevel()+1)}constructor(){super({id:"editor.action.fontZoomIn",label:(0,eA.localize2)(1026,"Increase Editor Font Size"),precondition:void 0})}}class o1 extends o$.EditorAction{run(e,t){oJ.EditorZoom.setZoomLevel(oJ.EditorZoom.getZoomLevel()-1)}constructor(){super({id:"editor.action.fontZoomOut",label:(0,eA.localize2)(1027,"Decrease Editor Font Size"),precondition:void 0})}}class o2 extends o$.EditorAction{run(e,t){oJ.EditorZoom.setZoomLevel(0)}constructor(){super({id:"editor.action.fontZoomReset",label:(0,eA.localize2)(1028,"Reset Editor Font Size"),precondition:void 0})}}(0,o$.registerEditorAction)(o0),(0,o$.registerEditorAction)(o1),(0,o$.registerEditorAction)(o2),e.s([],115838);var o3=e.i(68858),o5=eV,o4=e.i(43934),o6=e.i(240043),o8=e.i(147031),o9=e.i(446099),o7=e.i(982534);let ne=((y=class{dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(iB.EditorOption.formatOnType)||!this._editor.hasModel())return;let e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let i=new o4.CharacterSet;for(let e of t.autoFormatTriggerCharacters)i.add(e.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(e=>{let t=e.charCodeAt(e.length-1);i.has(t)&&this._trigger(String.fromCharCode(t))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;let t=this._editor.getModel(),i=this._editor.getPosition(),o=new eW.CancellationTokenSource,n=this._editor.onDidChangeModelContent(e=>{if(e.isFlush){o.cancel(),n.dispose();return}for(let t=0,r=e.changes.length;t<r;t++)if(e.changes[t].range.endLineNumber<=i.lineNumber){o.cancel(),n.dispose();return}});(0,o6.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),o.token).then(e=>{!o.token.isCancellationRequested&&(0,o3.isNonEmptyArray)(e)&&(this._accessibilitySignalService.playSignal(eq.AccessibilitySignal.format,{userGesture:!1}),o8.FormattingEdit.execute(this._editor,e,!0))}).finally(()=>{n.dispose()})}constructor(e,t,i,o){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._accessibilitySignalService=o,this._disposables=new eD.DisposableStore,this._sessionDisposables=new eD.DisposableStore,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(e=>{e.hasChanged(iB.EditorOption.formatOnType)&&this._update()})),this._update()}}).ID="editor.contrib.autoFormat",y);ne=(0,ex.__decorate)([(0,ex.__param)(1,e3.ILanguageFeaturesService),(0,ex.__param)(2,ou.IEditorWorkerService),(0,ex.__param)(3,ej.IAccessibilitySignalService)],ne);let nt=((C=class{dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(iB.EditorOption.formatOnPaste)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(e=>{let{range:t}=e;return this._trigger(t)}))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(o6.formatDocumentRangesWithSelectedProvider,this.editor,e,o6.FormattingMode.Silent,o9.Progress.None,eW.CancellationToken.None,!1).catch(tp.onUnexpectedError))}constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new eD.DisposableStore,this._callOnModel=new eD.DisposableStore,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}}).ID="editor.contrib.formatOnPaste",C);nt=(0,ex.__decorate)([(0,ex.__param)(1,e3.ILanguageFeaturesService),(0,ex.__param)(2,eZ.IInstantiationService)],nt);class ni extends o5.EditorAction{async run(e,t){if(t.hasModel()){let i=e.get(eZ.IInstantiationService),o=e.get(o7.IEditorProgressService);await o.showWhile(i.invokeFunction(o6.formatDocumentWithSelectedProvider,t,o6.FormattingMode.Explicit,o9.Progress.None,eW.CancellationToken.None,!0),250)}}constructor(){super({id:"editor.action.formatDocument",label:(0,eA.localize2)(1029,"Format Document"),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.notInCompositeEditor,eB.EditorContextKeys.writable,eB.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.Shift|ez.KeyMod.Alt|ez.KeyCode.KeyF,linux:{primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.KeyI},weight:eX.KeybindingWeight.EditorContrib},contextMenuOpts:{group:"1_modification",order:1.3}})}}class no extends o5.EditorAction{async run(e,t){if(!t.hasModel())return;let i=e.get(eZ.IInstantiationService),o=t.getModel(),n=t.getSelections().map(e=>e.isEmpty()?new iv.Range(e.startLineNumber,1,e.startLineNumber,o.getLineMaxColumn(e.startLineNumber)):e),r=e.get(o7.IEditorProgressService);await r.showWhile(i.invokeFunction(o6.formatDocumentRangesWithSelectedProvider,t,n,o6.FormattingMode.Explicit,o9.Progress.None,eW.CancellationToken.None,!0),250)}constructor(){super({id:"editor.action.formatSelection",label:(0,eA.localize2)(1030,"Format Selection"),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,eB.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:(0,ez.KeyChord)(ez.KeyMod.CtrlCmd|ez.KeyCode.KeyK,ez.KeyMod.CtrlCmd|ez.KeyCode.KeyF),weight:eX.KeybindingWeight.EditorContrib},contextMenuOpts:{when:eB.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}}(0,o5.registerEditorContribution)(ne.ID,ne,o5.EditorContributionInstantiation.BeforeFirstInteraction),(0,o5.registerEditorContribution)(nt.ID,nt,o5.EditorContributionInstantiation.BeforeFirstInteraction),(0,o5.registerEditorAction)(ni),(0,o5.registerEditorAction)(no),tw.CommandsRegistry.registerCommand("editor.action.format",async e=>{let t=e.get(tm.ICodeEditorService).getFocusedCodeEditor();if(!t||!t.hasModel())return;let i=e.get(i9.ICommandService);t.getSelection().isEmpty()?await i.executeCommand("editor.action.formatDocument"):await i.executeCommand("editor.action.formatSelection")}),e.s([],719249);var nn=e.i(543103);tw.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n]=i;(0,iH.assertType)(iU.URI.isUri(n));let r=e.get(nn.IOutlineModelService),s=e.get(tS.ITextModelService),a=await s.createModelReference(n);try{return(await r.getOrCreate(a.object.textEditorModel,eW.CancellationToken.None)).getTopLevelSymbols()}finally{a.dispose()}}),e.s([],299201);var nr=e.i(328124),ns=e.i(218516),na=e.i(755296),nl=e.i(264111);e.i(368994);var nd=e.i(477958),nc=eG,nu=eV,nh=e.i(392816),np=e.i(576075),ng=e.i(326707),nm=e.i(978829);e.i(39400);var nv=e.i(286894);class n_ extends nu.EditorAction{async run(e,t){var i;let o=nm.InlineCompletionsController.get(t);null==o||null==(i=o.model.get())||i.next()}constructor(){super({id:n_.ID,label:(0,eA.localize2)(1186,"Show Next Inline Suggestion"),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,ng.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:ez.KeyMod.Alt|ez.KeyCode.BracketRight}})}}n_.ID=np.showNextInlineSuggestionActionId;class nf extends nu.EditorAction{async run(e,t){var i;let o=nm.InlineCompletionsController.get(t);null==o||null==(i=o.model.get())||i.previous()}constructor(){super({id:nf.ID,label:(0,eA.localize2)(1187,"Show Previous Inline Suggestion"),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,ng.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:ez.KeyMod.Alt|ez.KeyCode.BracketLeft}})}}nf.ID=np.showPreviousInlineSuggestionActionId;class ny extends nu.EditorAction{async run(e,t){let i=nm.InlineCompletionsController.get(t);await (0,na.asyncTransaction)(async e=>{var t;await (null==i||null==(t=i.model.get())?void 0:t.triggerExplicitly(e)),null==i||i.playAccessibilitySignal(e)})}constructor(){super({id:"editor.action.inlineSuggest.trigger",label:(0,eA.localize2)(1188,"Trigger Inline Suggestion"),precondition:eB.EditorContextKeys.writable})}}class nC extends nu.EditorAction{async run(e,t){var i,o;let n=e.get(i7.INotificationService),r=nm.InlineCompletionsController.get(t);await (null==r||null==(i=r.model.get())?void 0:i.triggerExplicitly(void 0,!0)),(null==r||null==(o=r.model.get())?void 0:o.inlineEditAvailable.get())||n.notify({severity:nv.default.Info,message:(0,eA.localize)(1190,"No inline edit is available.")})}constructor(){super({id:"editor.action.inlineSuggest.triggerInlineEditExplicit",label:(0,eA.localize2)(1189,"Trigger Inline Edit"),precondition:eB.EditorContextKeys.writable})}}class nb extends nu.EditorCommand{async runEditorCommand(e,t,i){var o;let n=nm.InlineCompletionsController.get(t);await (null==n||null==(o=n.model.get())?void 0:o.trigger(void 0,!0))}constructor(){super({id:"editor.action.inlineSuggest.triggerInlineEdit",precondition:eB.EditorContextKeys.writable})}}class nS extends nu.EditorAction{async run(e,t){var i;let o=nm.InlineCompletionsController.get(t);await (null==o||null==(i=o.model.get())?void 0:i.acceptNextWord(o.editor))}constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:(0,eA.localize2)(1191,"Accept Next Word Of Inline Suggestion"),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,ng.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:eX.KeybindingWeight.EditorContrib+1,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.RightArrow,kbExpr:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,ng.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:nc.MenuId.InlineSuggestionToolbar,title:(0,eA.localize)(1192,"Accept Word"),group:"primary",order:2}]})}}class nw extends nu.EditorAction{async run(e,t){var i;let o=nm.InlineCompletionsController.get(t);await (null==o||null==(i=o.model.get())?void 0:i.acceptNextLine(o.editor))}constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:(0,eA.localize2)(1193,"Accept Next Line Of Inline Suggestion"),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,ng.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:eX.KeybindingWeight.EditorContrib+1},menuOpts:[{menuId:nc.MenuId.InlineSuggestionToolbar,title:(0,eA.localize)(1194,"Accept Line"),group:"secondary",order:2}]})}}class nE extends nu.EditorAction{async run(e,t){let i=nm.InlineCompletionsController.get(t);if(i){var o;null==(o=i.model.get())||o.accept(i.editor),i.editor.focus()}}constructor(){super({id:np.inlineSuggestCommitId,label:(0,eA.localize2)(1195,"Accept Inline Suggestion"),precondition:eQ.ContextKeyExpr.or(ng.InlineCompletionContextKeys.inlineSuggestionVisible,ng.InlineCompletionContextKeys.inlineEditVisible),menuOpts:[{menuId:nc.MenuId.InlineSuggestionToolbar,title:(0,eA.localize)(1196,"Accept"),group:"primary",order:2},{menuId:nc.MenuId.InlineEditsActions,title:(0,eA.localize)(1196,"Accept"),group:"primary",order:2}],kbOpts:[{primary:ez.KeyCode.Tab,weight:200,kbExpr:eQ.ContextKeyExpr.or(eQ.ContextKeyExpr.and(ng.InlineCompletionContextKeys.inlineSuggestionVisible,eB.EditorContextKeys.tabMovesFocus.toNegated(),nh.Context.Visible.toNegated(),eB.EditorContextKeys.hoverFocused.toNegated(),ng.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize),eQ.ContextKeyExpr.and(ng.InlineCompletionContextKeys.inlineEditVisible,eB.EditorContextKeys.tabMovesFocus.toNegated(),nh.Context.Visible.toNegated(),eB.EditorContextKeys.hoverFocused.toNegated(),ng.InlineCompletionContextKeys.tabShouldAcceptInlineEdit))}]})}}class nI extends nu.EditorAction{async run(e,t){let i=nm.InlineCompletionsController.get(t);i&&i.jump()}constructor(){super({id:"editor.action.inlineSuggest.jump",label:(0,eA.localize2)(1197,"Jump to next inline edit"),precondition:ng.InlineCompletionContextKeys.inlineEditVisible,menuOpts:[{menuId:nc.MenuId.InlineEditsActions,title:(0,eA.localize)(1198,"Jump"),group:"primary",order:1,when:ng.InlineCompletionContextKeys.cursorAtInlineEdit.toNegated()}],kbOpts:{primary:ez.KeyCode.Tab,weight:201,kbExpr:eQ.ContextKeyExpr.and(ng.InlineCompletionContextKeys.inlineEditVisible,eB.EditorContextKeys.tabMovesFocus.toNegated(),nh.Context.Visible.toNegated(),eB.EditorContextKeys.hoverFocused.toNegated(),ng.InlineCompletionContextKeys.tabShouldJumpToInlineEdit)}})}}class nx extends nu.EditorAction{async run(e,t){let i=nm.InlineCompletionsController.get(t);(0,na.transaction)(e=>{var t;null==i||null==(t=i.model.get())||t.stop("explicitCancel",e)})}constructor(){super({id:nx.ID,label:(0,eA.localize2)(1199,"Hide Inline Suggestion"),precondition:eQ.ContextKeyExpr.or(ng.InlineCompletionContextKeys.inlineSuggestionVisible,ng.InlineCompletionContextKeys.inlineEditVisible),kbOpts:{weight:100,primary:ez.KeyCode.Escape},menuOpts:[{menuId:nc.MenuId.InlineEditsActions,title:(0,eA.localize)(1200,"Reject"),group:"primary",order:3}]})}}nx.ID="editor.action.inlineSuggest.hide";class nD extends nc.Action2{async run(e){let t=e.get(eO.IConfigurationService),i=t.getValue("editor.inlineSuggest.showToolbar");t.updateValue("editor.inlineSuggest.showToolbar","always"===i?"onHover":"always")}constructor(){super({id:nD.ID,title:(0,eA.localize)(1201,"Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:nc.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:eQ.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}}nD.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";class nk extends nu.EditorAction{async run(e,t){let i=e.get(tk.IClipboardService),o=nm.InlineCompletionsController.get(t),n=null==o?void 0:o.model.get();if(!n)return;let r=n.extractReproSample(),s=(0,iE.splitLines)(JSON.stringify({inlineCompletion:r.inlineCompletion},null,4)).map(e=>"// "+e).join("\n"),a="".concat(r.documentValue,"\n\n// <json>\n").concat(s,"\n// </json>\n");return await i.writeText(a),{reproCase:a}}constructor(){super({id:"editor.action.inlineSuggest.dev.extractRepro",label:(0,eA.localize)(1202,"Developer: Extract Inline Suggest State"),alias:"Developer: Inline Suggest Extract Repro",precondition:ng.InlineCompletionContextKeys.inlineEditVisible})}}var nA=e.i(657170),nM=e.i(297102),nL=e.i(206991),nT=e.i(180997),nR=e.i(373742),nN=e.i(261583);class nP{isValidForHoverAnchor(e){return e.type===oi.HoverAnchorType.Range&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}}let nO=class{suggestHoverAnchor(e){let t=nm.InlineCompletionsController.get(this._editor);if(!t)return null;let i=e.target;if(i.type===iz.MouseTargetType.CONTENT_VIEW_ZONE){let o=i.detail;if(t.shouldShowHoverAtViewZone(o.viewZoneId))return new oi.HoverForeignElementAnchor(1e3,this,iv.Range.fromPositions(this._editor.getModel().validatePosition(o.positionBefore||o.position)),e.event.posx,e.event.posy,!1)}return i.type===iz.MouseTargetType.CONTENT_EMPTY&&t.shouldShowHoverAt(i.range)||i.type===iz.MouseTargetType.CONTENT_TEXT&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new oi.HoverForeignElementAnchor(1e3,this,i.range,e.event.posx,e.event.posy,!1):null}computeSync(e,t){if("onHover"!==this._editor.getOption(iB.EditorOption.inlineSuggest).showToolbar)return[];let i=nm.InlineCompletionsController.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new nP(this,e.range,i)]:[]}renderHoverParts(e,t){let i=new eD.DisposableStore,o=t[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(iB.EditorOption.screenReaderAnnounceInlineSuggestion)&&i.add(this.renderScreenReaderText(e,o));let n=o.controller.model.get(),r=this._instantiationService.createInstance(nM.InlineSuggestionHintsContentWidget,this._editor,!1,(0,nd.constObservable)(null),n.selectedInlineCompletionIndex,n.inlineCompletionsCount,n.activeCommands),s=r.getDomNode();return e.fragment.appendChild(s),n.triggerExplicitly(),i.add(r),new oi.RenderedHoverParts([{hoverPart:o,hoverElement:s,dispose(){i.dispose()}}])}getAccessibleContent(e){return(0,eA.localize)(1214,"There are inline completions here")}renderScreenReaderText(e,t){let i=new eD.DisposableStore,o=eK.$,n=o("div.hover-row.markdown-hover"),r=(0,eK.append)(n,o("div.hover-contents",{"aria-live":"assertive"})),s=i.add(new nL.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService));return i.add((0,nl.autorun)(o=>{var n;let a=null==(n=t.controller.model.read(o))?void 0:n.primaryGhostText.read(o);if(a){let t=this._editor.getModel().getLineContent(a.lineNumber);var l=a.renderForScreenReader(t);i.add(s.onDidRenderAsync(()=>{r.className="hover-contents code-hover-contents",e.onContentsChanged()}));let o=(0,eA.localize)(1215,"Suggestion:"),n=i.add(s.render(new ir.MarkdownString().appendText(o).appendCodeblock("text",l)));r.replaceChildren(n.element)}else(0,eK.reset)(r)})),e.fragment.appendChild(n),i}constructor(e,t,i,o,n,r){this._editor=e,this._languageService=t,this._openerService=i,this.accessibilityService=o,this._instantiationService=n,this._telemetryService=r,this.hoverOrdinal=4}};nO=(0,ex.__decorate)([(0,ex.__param)(1,nA.ILanguageService),(0,ex.__param)(2,nR.IOpenerService),(0,ex.__param)(3,nT.IAccessibilityService),(0,ex.__param)(4,eZ.IInstantiationService),(0,ex.__param)(5,nN.ITelemetryService)],nO);var nF=e.i(14575),nK=eD;class nW extends nK.Disposable{provideContent(){let e=this._model.inlineCompletionState.get();if(!e)throw Error("Inline completion is visible but state is not available");let t=this._model.textModel.getLineContent(e.primaryGhostText.lineNumber),i=e.primaryGhostText.renderForScreenReader(t);if(!i)throw Error("Inline completion is visible but ghost text is not available");return t+i}provideNextContent(){this._model.next().then(()=>this._onDidChangeContent.fire())}providePreviousContent(){this._model.previous().then(()=>this._onDidChangeContent.fire())}onClose(){this._model.stop(),this._editor.focus()}constructor(e,t){var i,o;super(),this._editor=e,this._model=t,this._onDidChangeContent=this._register(new e0.Emitter),this.onDidChangeContent=this._onDidChangeContent.event,this.id=nF.AccessibleViewProviderId.InlineCompletions,this.verbositySettingKey="accessibility.verbosity.inlineCompletions",this.options={language:null!=(o=null==(i=this._editor.getModel())?void 0:i.getLanguageId())?o:void 0,type:nF.AccessibleViewType.View}}}var nz=eD,nV=e.i(418964);let nB=(S=b=class extends nz.Disposable{constructor(e,t){super(),this.instantiationService=t,S.isFirst&&(S.isFirst=!1,this.instantiationService.createInstance(nH))}},b.ID="editor.contrib.inlineEditsAdapter",b.isFirst=!0,b);nB=S=(0,ex.__decorate)([(0,ex.__param)(1,eZ.IInstantiationService)],nB);let nH=class extends nz.Disposable{constructor(e,t){super(),this._languageFeaturesService=e,this._commandService=t;let i=(0,nd.observableSignalFromEvent)("didChangeSignal",this._languageFeaturesService.inlineEditProvider.onDidChange);this._register((0,nl.autorunWithStore)((t,o)=>{i.read(t),o.add(this._languageFeaturesService.inlineCompletionsProvider.register("*",{async provideInlineCompletions(t,i,o,n){if(!o.includeInlineEdits)return;let r=e.inlineEditProvider.all(t),s=(await Promise.all(r.map(async e=>{let i=await e.provideInlineEdit(t,{triggerKind:nV.InlineEditTriggerKind.Automatic},n);if(i)return{result:i,provider:e}}))).filter(e=>!!e);return{edits:s,items:s.map(e=>({range:e.result.range,insertText:e.result.text,command:e.result.accepted,shownCommand:e.result.shown,isInlineEdit:!0,edit:e.result})),commands:s.flatMap(e=>{var t;return null!=(t=e.result.commands)?t:[]})}},handleRejection:(e,t)=>{if(t.edit.rejected){var i;this._commandService.executeCommand(t.edit.rejected.id,...null!=(i=t.edit.rejected.arguments)?i:[])}},freeInlineCompletions(e){for(let t of e.edits)t.provider.freeInlineEdit(t.result)},toString:()=>"InlineEditsAdapter"}))}))}};nH=(0,ex.__decorate)([(0,ex.__param)(0,e3.ILanguageFeaturesService),(0,ex.__param)(1,i9.ICommandService)],nH),(0,eV.registerEditorContribution)(nB.ID,nB,eV.EditorContributionInstantiation.Eventually),(0,eV.registerEditorContribution)(nm.InlineCompletionsController.ID,(0,ns.wrapInHotClass1)(nm.InlineCompletionsController.hot),eV.EditorContributionInstantiation.Eventually),(0,eV.registerEditorAction)(ny),(0,eV.registerEditorAction)(nC),(0,eV.registerEditorCommand)(new nb),(0,eV.registerEditorAction)(n_),(0,eV.registerEditorAction)(nf),(0,eV.registerEditorAction)(nS),(0,eV.registerEditorAction)(nw),(0,eV.registerEditorAction)(nE),(0,eV.registerEditorAction)(nx),(0,eV.registerEditorAction)(nI),(0,eG.registerAction2)(nD),(0,eV.registerEditorAction)(nk),oi.HoverParticipantRegistry.register(nO),nr.AccessibleViewRegistry.register(new class{getProvider(e){var t;let i=e.get(tm.ICodeEditorService),o=i.getActiveCodeEditor()||i.getFocusedCodeEditor();if(!o)return;let n=null==(t=nm.InlineCompletionsController.get(o))?void 0:t.model.get();if(null==n?void 0:n.inlineCompletionState.get())return new nW(o,n)}constructor(){this.type=nF.AccessibleViewType.View,this.priority=95,this.name="inline-completions",this.when=eQ.ContextKeyExpr.and(ng.InlineCompletionContextKeys.inlineSuggestionVisible)}}),e.s([],808456);var nU=eV,nG=e.i(450332),nq=e.i(708845),nj=e.i(131060);class nQ{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let nY=class{dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!!this._resourceFilter&&!!e&&this._resourceFilter(e)}get selected(){let e=this._markers[this._nextIdx];return e&&new nQ(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let o=!1,n=this._markers.findIndex(t=>t.resource.toString()===e.uri.toString());n<0&&(n=(0,o3.binarySearch)(this._markers,{resource:e.uri},(e,t)=>(0,iE.compare)(e.resource.toString(),t.resource.toString())))<0&&(n=~n);for(let i=n;i<this._markers.length;i++){let n=iv.Range.lift(this._markers[i]);if(n.isEmpty()){let t=e.getWordAtPosition(n.getStartPosition());t&&(n=new iv.Range(n.startLineNumber,t.startColumn,n.startLineNumber,t.endColumn))}if(t&&(n.containsPosition(t)||t.isBeforeOrEqual(n.getStartPosition()))){this._nextIdx=i,o=!0;break}if(this._markers[i].resource.toString()!==e.uri.toString())break}o||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(0===this._markers.length)return!1;let o=this._nextIdx;return -1===this._nextIdx?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(e,t){let i=this._markers.findIndex(t=>t.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(iv.Range.containsPosition(this._markers[i],t))return new nQ(this._markers[i],i+1,this._markers.length)}}constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new e0.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new eD.DisposableStore,this._markers=[],this._nextIdx=-1,iU.URI.isUri(e)?this._resourceFilter=t=>t.toString()===e.toString():e&&(this._resourceFilter=e);let o=this._configService.getValue("problems.sortOrder"),n=(e,t)=>{let i=(0,iE.compare)(e.resource.toString(),t.resource.toString());return 0===i&&(i="position"===o?iv.Range.compareRangesUsingStarts(e,t)||nq.MarkerSeverity.compare(e.severity,t.severity):nq.MarkerSeverity.compare(e.severity,t.severity)||iv.Range.compareRangesUsingStarts(e,t)),i},r=()=>{this._markers=this._markerService.read({resource:iU.URI.isUri(e)?e:void 0,severities:nq.MarkerSeverity.Error|nq.MarkerSeverity.Warning|nq.MarkerSeverity.Info}),"function"==typeof e&&(this._markers=this._markers.filter(e=>this._resourceFilter(e.resource))),this._markers.sort(n)};r(),this._dispoables.add(t.onMarkerChanged(e=>{(!this._resourceFilter||e.some(e=>this._resourceFilter(e)))&&(r(),this._nextIdx=-1,this._onDidChange.fire())}))}};nY=(0,ex.__decorate)([(0,ex.__param)(1,nj.IMarkerService),(0,ex.__param)(2,eO.IConfigurationService)],nY);let nZ=(0,eZ.createDecorator)("IMarkerNavigationService"),nX=class{registerProvider(e){let t=this._provider.unshift(e);return(0,eD.toDisposable)(()=>t())}getMarkerList(e){for(let t of this._provider){let i=t.getMarkerList(e);if(i)return i}return new nY(e,this._markerService,this._configService)}constructor(e,t){this._markerService=e,this._configService=t,this._provider=new nG.LinkedList}};nX=(0,ex.__decorate)([(0,ex.__param)(0,nj.IMarkerService),(0,ex.__param)(1,eO.IConfigurationService)],nX),(0,iY.registerSingleton)(nZ,nX,iY.InstantiationType.Delayed);var n$=e.i(815486),nJ=e.i(358764),n0=e.i(338160),n1=e.i(678417),n2=e.i(51959);(0,tT.default)('.monaco-editor .peekview-widget .head .peekview-title .severity-icon{display:inline-block;margin-right:4px;vertical-align:text-top}.monaco-editor .marker-widget{text-overflow:ellipsis;white-space:nowrap}.monaco-editor .marker-widget>.stale{font-style:italic;opacity:.6}.monaco-editor .marker-widget .title{display:inline-block;padding-right:5px}.monaco-editor .marker-widget .descriptioncontainer{padding:8px 12px 0 20px;position:absolute;user-select:text;-webkit-user-select:text;white-space:pre}.monaco-editor .marker-widget .descriptioncontainer .message{display:flex;flex-direction:column}.monaco-editor .marker-widget .descriptioncontainer .message .details{padding-left:6px}.monaco-editor .marker-widget .descriptioncontainer .message .source,.monaco-editor .marker-widget .descriptioncontainer .message span.code{opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link{color:inherit;opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before{content:"("}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after{content:")"}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link>span{border-bottom:1px solid transparent;color:var(--vscode-textLink-activeForeground);text-decoration:underline;text-underline-position:under}.monaco-editor .marker-widget .descriptioncontainer .filename{color:var(--vscode-textLink-activeForeground);cursor:pointer}',{});var n3=e.i(489230),n5=e.i(323659),n4=e.i(137479),n6=e.i(649849),n8=e.i(591921),n9=e.i(945588),n7=e.i(786480);e.i(184765);var re=e.i(537397),rt=e.i(765809),ri=e.i(491481);e.i(827678),e.i(789672);var ro=e.i(847307),rn=e.i(491120);e.i(165071);class rr{dispose(){(0,eD.dispose)(this._disposables)}update(e){let{source:t,message:i,relatedInformation:o,code:n}=e,r=((null==t?void 0:t.length)||0)+2;n&&("string"==typeof n?r+=n.length:r+=n.value.length);let s=(0,iE.splitLines)(i);for(let e of(this._lines=s.length,this._longestLineLength=0,s))this._longestLineLength=Math.max(e.length+r,this._longestLineLength);(0,eK.clearNode)(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let a=this._messageBlock;for(let e of s)(a=document.createElement("div")).innerText=e,""===e&&(a.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(a);if(t||n){let e=document.createElement("span");if(e.classList.add("details"),a.appendChild(e),t){let i=document.createElement("span");i.innerText=t,i.classList.add("source"),e.appendChild(i)}if(n)if("string"==typeof n){let t=document.createElement("span");t.innerText="(".concat(n,")"),t.classList.add("code"),e.appendChild(t)}else this._codeLink=(0,eK.$)("a.code-link"),this._codeLink.setAttribute("href","".concat(n.target.toString())),this._codeLink.onclick=e=>{this._openerService.open(n.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()},(0,eK.append)(this._codeLink,(0,eK.$)("span")).innerText=n.value,e.appendChild(this._codeLink)}if((0,eK.clearNode)(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,o3.isNonEmptyArray)(o)){let e=this._relatedBlock.appendChild(document.createElement("div"));for(let t of(e.style.paddingTop="".concat(Math.floor(.66*this._editor.getOption(iB.EditorOption.lineHeight)),"px"),this._lines+=1,o)){let i=document.createElement("div"),o=document.createElement("a");o.classList.add("filename"),o.innerText="".concat(this._labelService.getUriBasenameLabel(t.resource),"(").concat(t.startLineNumber,", ").concat(t.startColumn,"): "),o.title=this._labelService.getUriLabel(t.resource),this._relatedDiagnostics.set(o,t);let n=document.createElement("span");n.innerText=t.message,i.appendChild(o),i.appendChild(n),this._lines+=1,e.appendChild(i)}}let l=this._editor.getOption(iB.EditorOption.fontInfo),d=Math.ceil(l.typicalFullwidthCharacterWidth*this._longestLineLength*.75),c=l.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:c})}layout(e,t){this._scrollable.getDomNode().style.height="".concat(e,"px"),this._scrollable.getDomNode().style.width="".concat(t,"px"),this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case nq.MarkerSeverity.Error:t=(0,eA.localize)(1039,"Error");break;case nq.MarkerSeverity.Warning:t=(0,eA.localize)(1040,"Warning");break;case nq.MarkerSeverity.Info:t=(0,eA.localize)(1041,"Info");break;case nq.MarkerSeverity.Hint:t=(0,eA.localize)(1042,"Hint")}let i=(0,eA.localize)(1043,"{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn),o=this._editor.getModel();if(o&&e.startLineNumber<=o.getLineCount()&&e.startLineNumber>=1){let t=o.getLineContent(e.startLineNumber);i="".concat(t,", ").concat(i)}return i}constructor(e,t,i,o,n){this._openerService=o,this._labelService=n,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new eD.DisposableStore,this._editor=t;let r=document.createElement("div");r.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),r.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),r.appendChild(this._relatedBlock),this._disposables.add((0,eK.addStandardDisposableListener)(this._relatedBlock,"click",e=>{e.preventDefault();let t=this._relatedDiagnostics.get(e.target);t&&i(t)})),this._scrollable=new n0.ScrollableElement(r,{horizontal:n2.ScrollbarVisibility.Auto,vertical:n2.ScrollbarVisibility.Auto,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(e=>{r.style.left="-".concat(e.scrollLeft,"px"),r.style.top="-".concat(e.scrollTop,"px")})),this._disposables.add(this._scrollable)}}let rs=(E=w=class extends n3.PeekViewWidget{_applyTheme(e){this._backgroundColor=e.getColor(rv);let t=rc,i=ru;this._severity===nq.MarkerSeverity.Warning?(t=rh,i=rp):this._severity===nq.MarkerSeverity.Info&&(t=rg,i=rm);let o=e.getColor(t),n=e.getColor(i);this.style({arrowColor:o,frameColor:o,headerBackgroundColor:n,primaryHeadingColor:e.getColor(n3.peekViewTitleForeground),secondaryHeadingColor:e.getColor(n3.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}focus(){this._parentContainer.focus()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(e=>this.editor.focus()));let t=this._menuService.getMenuActions(E.TitleMenu,this._contextKeyService),i=(0,n5.getFlatActionBarActions)(t);this._actionbarWidget.push(i,{label:!1,icon:!0,index:0})}_fillTitleIcon(e){this._icon=(0,eK.append)(e,(0,eK.$)(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new rr(this._container,this.editor,e=>this._onDidSelectRelatedInformation.fire(e),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let o=iv.Range.lift(e),n=this.editor.getPosition(),r=n&&o.containsPosition(n)?n:o.getStartPosition();super.show(r,this.computeRequiredHeight());let s=this.editor.getModel();if(s){let e=i>1?(0,eA.localize)(1044,"{0} of {1} problems",t,i):(0,eA.localize)(1045,"{0} of {1} problem",t,i);this.setTitle((0,n1.basename)(s.uri),e)}this._icon.className="codicon ".concat(n8.SeverityIcon.className(nq.MarkerSeverity.toSeverity(this._severity))),this.editor.revealPositionNearTop(r,oH.ScrollType.Smooth),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height="".concat(e,"px")}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}constructor(e,t,i,o,n,r,s){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},n),this._themeService=t,this._openerService=i,this._menuService=o,this._contextKeyService=r,this._labelService=s,this._callOnDispose=new eD.DisposableStore,this._onDidSelectRelatedInformation=new e0.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=nq.MarkerSeverity.Warning,this._backgroundColor=tN.Color.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}},w.TitleMenu=new eG.MenuId("gotoErrorTitleMenu"),w);rs=E=(0,ex.__decorate)([(0,ex.__param)(1,oh.IThemeService),(0,ex.__param)(2,nR.IOpenerService),(0,ex.__param)(3,n4.IMenuService),(0,ex.__param)(4,eZ.IInstantiationService),(0,ex.__param)(5,eY.IContextKeyService),(0,ex.__param)(6,n6.ILabelService)],rs);let ra=(0,n9.oneOf)(re.editorErrorForeground,re.editorErrorBorder),rl=(0,n9.oneOf)(re.editorWarningForeground,re.editorWarningBorder),rd=(0,n9.oneOf)(re.editorInfoForeground,re.editorInfoBorder),rc=(0,n9.registerColor)("editorMarkerNavigationError.background",{dark:ra,light:ra,hcDark:n7.contrastBorder,hcLight:n7.contrastBorder},(0,eA.localize)(1046,"Editor marker navigation widget error color.")),ru=(0,n9.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,n9.transparent)(rc,.1),light:(0,n9.transparent)(rc,.1),hcDark:null,hcLight:null},(0,eA.localize)(1047,"Editor marker navigation widget error heading background.")),rh=(0,n9.registerColor)("editorMarkerNavigationWarning.background",{dark:rl,light:rl,hcDark:n7.contrastBorder,hcLight:n7.contrastBorder},(0,eA.localize)(1048,"Editor marker navigation widget warning color.")),rp=(0,n9.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,n9.transparent)(rh,.1),light:(0,n9.transparent)(rh,.1),hcDark:"#0C141F",hcLight:(0,n9.transparent)(rh,.2)},(0,eA.localize)(1049,"Editor marker navigation widget warning heading background.")),rg=(0,n9.registerColor)("editorMarkerNavigationInfo.background",{dark:rd,light:rd,hcDark:n7.contrastBorder,hcLight:n7.contrastBorder},(0,eA.localize)(1050,"Editor marker navigation widget info color.")),rm=(0,n9.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,n9.transparent)(rg,.1),light:(0,n9.transparent)(rg,.1),hcDark:null,hcLight:null},(0,eA.localize)(1051,"Editor marker navigation widget info heading background.")),rv=(0,n9.registerColor)("editorMarkerNavigation.background",re.editorBackground,(0,eA.localize)(1052,"Editor marker navigation widget background.")),r_=(x=I=class{static get(e){return e.getContribution(x.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(rs,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(e=>{var t,i,o;(null==(t=this._model)?void 0:t.selected)&&iv.Range.containsPosition(null==(i=this._model)?void 0:i.selected.marker,e.position)||null==(o=this._model)||o.resetIndex()})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;let e=this._model.find(this._editor.getModel().uri,this._widget.position);e?this._widget.updateMarker(e.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:iv.Range.lift(e).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){let t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new oA.Position(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}async nagivate(e,t){if(this._editor.hasModel()){let n=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(n.move(e,this._editor.getModel(),this._editor.getPosition()),n.selected)if(n.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();let r=await this._editorService.openCodeEditor({resource:n.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:n$.TextEditorSelectionRevealType.NearTop,selection:n.selected.marker}},this._editor);if(r){var i,o;null==(i=x.get(r))||i.close(),null==(o=x.get(r))||o.nagivate(e,t)}}else this._widget.showAtMarker(n.selected.marker,n.selected.index,n.selected.total)}}constructor(e,t,i,o,n){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=o,this._instantiationService=n,this._sessionDispoables=new eD.DisposableStore,this._editor=e,this._widgetVisible=rb.bindTo(this._contextKeyService)}},I.ID="editor.contrib.markerController",I);r_=x=(0,ex.__decorate)([(0,ex.__param)(1,nZ),(0,ex.__param)(2,eY.IContextKeyService),(0,ex.__param)(3,tm.ICodeEditorService),(0,ex.__param)(4,eZ.IInstantiationService)],r_);class rf extends nU.EditorAction{async run(e,t){if(t.hasModel()){var i;null==(i=r_.get(t))||i.nagivate(this._next,this._multiFile)}}constructor(e,t,i){super(i),this._next=e,this._multiFile=t}}class ry extends rf{constructor(){super(!0,!1,{id:ry.ID,label:ry.LABEL,precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.focus,primary:ez.KeyMod.Alt|ez.KeyCode.F8,weight:eX.KeybindingWeight.EditorContrib},menuOpts:{menuId:rs.TitleMenu,title:ry.LABEL.value,icon:(0,nJ.registerIcon)("marker-navigation-next",it.Codicon.arrowDown,(0,eA.localize)(1032,"Icon for goto next marker.")),group:"navigation",order:1}})}}ry.ID="editor.action.marker.next",ry.LABEL=(0,eA.localize2)(1031,"Go to Next Problem (Error, Warning, Info)");class rC extends rf{constructor(){super(!1,!1,{id:rC.ID,label:rC.LABEL,precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.focus,primary:ez.KeyMod.Shift|ez.KeyMod.Alt|ez.KeyCode.F8,weight:eX.KeybindingWeight.EditorContrib},menuOpts:{menuId:rs.TitleMenu,title:rC.LABEL.value,icon:(0,nJ.registerIcon)("marker-navigation-previous",it.Codicon.arrowUp,(0,eA.localize)(1034,"Icon for goto previous marker.")),group:"navigation",order:2}})}}rC.ID="editor.action.marker.prev",rC.LABEL=(0,eA.localize2)(1033,"Go to Previous Problem (Error, Warning, Info)"),(0,nU.registerEditorContribution)(r_.ID,r_,nU.EditorContributionInstantiation.Lazy),(0,nU.registerEditorAction)(ry),(0,nU.registerEditorAction)(rC),(0,nU.registerEditorAction)(class extends rf{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:(0,eA.localize2)(1035,"Go to Next Problem in Files (Error, Warning, Info)"),precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.focus,primary:ez.KeyCode.F8,weight:eX.KeybindingWeight.EditorContrib},menuOpts:{menuId:eG.MenuId.MenubarGoMenu,title:(0,eA.localize)(1036,"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,nU.registerEditorAction)(class extends rf{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:(0,eA.localize2)(1037,"Go to Previous Problem in Files (Error, Warning, Info)"),precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.focus,primary:ez.KeyMod.Shift|ez.KeyCode.F8,weight:eX.KeybindingWeight.EditorContrib},menuOpts:{menuId:eG.MenuId.MenubarGoMenu,title:(0,eA.localize)(1038,"Previous &&Problem"),group:"6_problem_nav",order:2}})}});let rb=new eQ.RawContextKey("markersNavigationVisible",!1),rS=nU.EditorCommand.bindToContribution(r_.get);(0,nU.registerEditorCommand)(new rS({id:"closeMarkersNavigation",precondition:rb,handler:e=>e.close(),kbOpts:{weight:eX.KeybindingWeight.EditorContrib+50,kbExpr:eB.EditorContextKeys.focus,primary:ez.KeyCode.Escape,secondary:[ez.KeyMod.Shift|ez.KeyCode.Escape]}})),e.s(["MarkerController",()=>r_,"NextMarkerAction",()=>ry],517323);var rw=e.i(182408),rE=e.i(911694),rI=e.i(623885),rx=eV,rD=e.i(711015),rk=e.i(824536),rA=e.i(702169);class rM extends rx.EditorAction{async run(e,t){let i=e.get(eZ.IInstantiationService),o=e.get(tr.IQuickInputService),n=await o.pick([{label:(0,eA.localize)(1110,"Log Texture Atlas Stats"),id:"logTextureAtlasStats"},{label:(0,eA.localize)(1111,"Save Texture Atlas"),id:"saveTextureAtlas"},{label:(0,eA.localize)(1112,"Draw Glyph"),id:"drawGlyph"}],{canPickMany:!1});if(n)switch(n.id){case"logTextureAtlasStats":i.invokeFunction(e=>{let t=e.get(tB.ILogService),i=rA.ViewGpuContext.atlas;if(!rA.ViewGpuContext.atlas)return void t.error("No texture atlas found");let o=i.getStats();t.info(["Texture atlas stats",...o].join("\n\n"))});break;case"saveTextureAtlas":i.invokeFunction(async e=>{let t=e.get(rI.IWorkspaceContextService),i=e.get(rE.IFileService),o=t.getWorkspace().folders;if(o.length>0){let e=rA.ViewGpuContext.atlas,t=[];for(let[n,r]of e.pages.entries())t.push(i.writeFile(iU.URI.joinPath(o[0].uri,"textureAtlasPage".concat(n,"_actual.png")),rw.VSBuffer.wrap(new Uint8Array(await (await r.source.convertToBlob()).arrayBuffer()))),i.writeFile(iU.URI.joinPath(o[0].uri,"textureAtlasPage".concat(n,"_usage.png")),rw.VSBuffer.wrap(new Uint8Array(await (await r.getUsagePreview()).arrayBuffer()))));await Promise.all(t)}});break;case"drawGlyph":i.invokeFunction(async e=>{var t,i,o;let n=e.get(eO.IConfigurationService),r=e.get(rE.IFileService),s=e.get(tr.IQuickInputService),a=e.get(rI.IWorkspaceContextService).getWorkspace().folders;if(0===a.length)return;let l=rA.ViewGpuContext.atlas,d=n.getValue("editor.fontFamily"),c=n.getValue("editor.fontSize"),u=new rk.GlyphRasterizer(c,d,(0,eK.getActiveWindow)().devicePixelRatio),h=await s.input({prompt:"Enter a character to draw (prefix with 0x for code point))"});if(!h)return;let p=null==(i=h.match(RegExp("0x(?<codePoint>[0-9a-f]+)","i")))||null==(t=i.groups)?void 0:t.codePoint;void 0!==p&&(h=String.fromCodePoint(parseInt(p,16)));let g=l.getGlyph(u,h,0,0);if(!g)return;let m=null==(o=l.pages[g.pageIndex].source.getContext("2d"))?void 0:o.getImageData(g.x,g.y,g.w,g.h);if(!m)return;let v=new OffscreenCanvas(m.width,m.height);(0,rD.ensureNonNullable)(v.getContext("2d")).putImageData(m,0,0);let _=await v.convertToBlob({type:"image/png"}),f=iU.URI.joinPath(a[0].uri,"glyph_".concat(h,"_").concat(0,"_").concat(c,"px_").concat(d.replaceAll(/[,\\\/\.'\s]/g,"_"),".png"));await r.writeFile(f,rw.VSBuffer.wrap(new Uint8Array(await _.arrayBuffer())))})}}constructor(){super({id:"editor.action.debugEditorGpuRenderer",label:(0,eA.localize2)(1109,"Developer: Debug Editor GPU Renderer"),precondition:eQ.ContextKeyExpr.true()})}}(0,rx.registerEditorAction)(rM),e.s([],890154);var rL=e.i(850076),rT=eV,rR=e.i(199511),rN=e.i(520895),rP=e.i(43642),rO=e.i(660254);e.i(130671),function(e){e.NoAutoFocus="noAutoFocus",e.FocusIfVisible="focusIfVisible",e.AutoFocusImmediately="autoFocusImmediately"}(D||(D={}));class rF extends rT.EditorAction{run(e,t,i){if(!t.hasModel())return;let o=rO.ContentHoverController.get(t);if(!o)return;let n=null==i?void 0:i.focus,r=D.FocusIfVisible;Object.values(D).includes(n)?r=n:"boolean"==typeof n&&n&&(r=D.AutoFocusImmediately);let s=e=>{let i=t.getPosition(),n=new iv.Range(i.lineNumber,i.column,i.lineNumber,i.column);o.showContentHover(n,rN.HoverStartMode.Immediate,rN.HoverStartSource.Keyboard,e)},a=t.getOption(iB.EditorOption.accessibilitySupport)===rP.AccessibilitySupport.Enabled;o.isHoverVisible?r!==D.NoAutoFocus?o.focus():s(a):s(a||r===D.AutoFocusImmediately)}constructor(){super({id:rL.SHOW_OR_FOCUS_HOVER_ACTION_ID,label:(0,eA.localize2)(1120,"Show or Focus Hover"),metadata:{description:(0,eA.localize2)(1121,"Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[D.NoAutoFocus,D.FocusIfVisible,D.AutoFocusImmediately],enumDescriptions:[(0,eA.localize)(1122,"The hover will not automatically take focus."),(0,eA.localize)(1123,"The hover will take focus only if it is already visible."),(0,eA.localize)(1124,"The hover will automatically take focus when it appears.")],default:D.FocusIfVisible}}}}]},precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:(0,ez.KeyChord)(ez.KeyMod.CtrlCmd|ez.KeyCode.KeyK,ez.KeyMod.CtrlCmd|ez.KeyCode.KeyI),weight:eX.KeybindingWeight.EditorContrib}})}}class rK extends rT.EditorAction{run(e,t){let i=rO.ContentHoverController.get(t);if(!i)return;let o=t.getPosition();if(!o)return;let n=new iv.Range(o.lineNumber,o.column,o.lineNumber,o.column),r=rR.GotoDefinitionAtPositionEditorContribution.get(t);r&&r.startFindDefinitionFromCursor(o).then(()=>{i.showContentHover(n,rN.HoverStartMode.Immediate,rN.HoverStartSource.Keyboard,!0)})}constructor(){super({id:rL.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID,label:(0,eA.localize2)(1125,"Show Definition Preview Hover"),precondition:void 0,metadata:{description:(0,eA.localize2)(1126,"Show the definition preview hover in the editor.")}})}}class rW extends rT.EditorAction{run(e,t){let i=rO.ContentHoverController.get(t);i&&i.scrollUp()}constructor(){super({id:rL.SCROLL_UP_HOVER_ACTION_ID,label:(0,eA.localize2)(1127,"Scroll Up Hover"),precondition:eB.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eB.EditorContextKeys.hoverFocused,primary:ez.KeyCode.UpArrow,weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(1128,"Scroll up the editor hover.")}})}}class rz extends rT.EditorAction{run(e,t){let i=rO.ContentHoverController.get(t);i&&i.scrollDown()}constructor(){super({id:rL.SCROLL_DOWN_HOVER_ACTION_ID,label:(0,eA.localize2)(1129,"Scroll Down Hover"),precondition:eB.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eB.EditorContextKeys.hoverFocused,primary:ez.KeyCode.DownArrow,weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(1130,"Scroll down the editor hover.")}})}}class rV extends rT.EditorAction{run(e,t){let i=rO.ContentHoverController.get(t);i&&i.scrollLeft()}constructor(){super({id:rL.SCROLL_LEFT_HOVER_ACTION_ID,label:(0,eA.localize2)(1131,"Scroll Left Hover"),precondition:eB.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eB.EditorContextKeys.hoverFocused,primary:ez.KeyCode.LeftArrow,weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(1132,"Scroll left the editor hover.")}})}}class rB extends rT.EditorAction{run(e,t){let i=rO.ContentHoverController.get(t);i&&i.scrollRight()}constructor(){super({id:rL.SCROLL_RIGHT_HOVER_ACTION_ID,label:(0,eA.localize2)(1133,"Scroll Right Hover"),precondition:eB.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eB.EditorContextKeys.hoverFocused,primary:ez.KeyCode.RightArrow,weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(1134,"Scroll right the editor hover.")}})}}class rH extends rT.EditorAction{run(e,t){let i=rO.ContentHoverController.get(t);i&&i.pageUp()}constructor(){super({id:rL.PAGE_UP_HOVER_ACTION_ID,label:(0,eA.localize2)(1135,"Page Up Hover"),precondition:eB.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eB.EditorContextKeys.hoverFocused,primary:ez.KeyCode.PageUp,secondary:[ez.KeyMod.Alt|ez.KeyCode.UpArrow],weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(1136,"Page up the editor hover.")}})}}class rU extends rT.EditorAction{run(e,t){let i=rO.ContentHoverController.get(t);i&&i.pageDown()}constructor(){super({id:rL.PAGE_DOWN_HOVER_ACTION_ID,label:(0,eA.localize2)(1137,"Page Down Hover"),precondition:eB.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eB.EditorContextKeys.hoverFocused,primary:ez.KeyCode.PageDown,secondary:[ez.KeyMod.Alt|ez.KeyCode.DownArrow],weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(1138,"Page down the editor hover.")}})}}class rG extends rT.EditorAction{run(e,t){let i=rO.ContentHoverController.get(t);i&&i.goToTop()}constructor(){super({id:rL.GO_TO_TOP_HOVER_ACTION_ID,label:(0,eA.localize2)(1139,"Go To Top Hover"),precondition:eB.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eB.EditorContextKeys.hoverFocused,primary:ez.KeyCode.Home,secondary:[ez.KeyMod.CtrlCmd|ez.KeyCode.UpArrow],weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(1140,"Go to the top of the editor hover.")}})}}class rq extends rT.EditorAction{run(e,t){let i=rO.ContentHoverController.get(t);i&&i.goToBottom()}constructor(){super({id:rL.GO_TO_BOTTOM_HOVER_ACTION_ID,label:(0,eA.localize2)(1141,"Go To Bottom Hover"),precondition:eB.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eB.EditorContextKeys.hoverFocused,primary:ez.KeyCode.End,secondary:[ez.KeyMod.CtrlCmd|ez.KeyCode.DownArrow],weight:eX.KeybindingWeight.EditorContrib},metadata:{description:(0,eA.localize2)(1142,"Go to the bottom of the editor hover.")}})}}class rj extends rT.EditorAction{run(e,t,i){let o=rO.ContentHoverController.get(t);if(!o)return;let n=(null==i?void 0:i.index)!==void 0?i.index:o.focusedHoverPartIndex();o.updateHoverVerbosityLevel(nV.HoverVerbosityAction.Increase,n,null==i?void 0:i.focus)}constructor(){super({id:rL.INCREASE_HOVER_VERBOSITY_ACTION_ID,label:rL.INCREASE_HOVER_VERBOSITY_ACTION_LABEL,alias:"Increase Hover Verbosity Level",precondition:eB.EditorContextKeys.hoverVisible})}}class rQ extends rT.EditorAction{run(e,t,i){var o;let n=rO.ContentHoverController.get(t);if(!n)return;let r=(null==i?void 0:i.index)!==void 0?i.index:n.focusedHoverPartIndex();null==(o=rO.ContentHoverController.get(t))||o.updateHoverVerbosityLevel(nV.HoverVerbosityAction.Decrease,r,null==i?void 0:i.focus)}constructor(){super({id:rL.DECREASE_HOVER_VERBOSITY_ACTION_ID,label:rL.DECREASE_HOVER_VERBOSITY_ACTION_LABEL,alias:"Decrease Hover Verbosity Level",precondition:eB.EditorContextKeys.hoverVisible})}}var rY=e.i(307955),rZ=e.i(931292),rX=e.i(86283);let r$=eK.$;class rJ{isValidForHoverAnchor(e){return e.type===oi.HoverAnchorType.Range&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}}let r0={type:nV.CodeActionTriggerType.Invoke,filter:{include:e4.CodeActionKind.QuickFix},triggerAction:e4.CodeActionTriggerSource.QuickFixHover},r1=class{computeSync(e,t){if(!this._editor.hasModel()||e.type!==oi.HoverAnchorType.Range&&!e.supportsMarkerHover)return[];let i=this._editor.getModel(),o=e.range.startLineNumber,n=i.getLineMaxColumn(o),r=[];for(let s of t){let t=s.range.startLineNumber===o?s.range.startColumn:1,a=s.range.endLineNumber===o?s.range.endColumn:n,l=this._markerDecorationsService.getMarker(i.uri,s);if(!l)continue;let d=new iv.Range(e.range.startLineNumber,t,e.range.startLineNumber,a);r.push(new rJ(this,d,l))}return r}renderHoverParts(e,t){if(!t.length)return new oi.RenderedHoverParts([]);let i=new eD.DisposableStore,o=[];t.forEach(t=>{let i=this._renderMarkerHover(t);e.fragment.appendChild(i.hoverElement),o.push(i)});let n=1===t.length?t[0]:t.sort((e,t)=>nq.MarkerSeverity.compare(e.marker.severity,t.marker.severity))[0];return this.renderMarkerStatusbar(e,n,i),new oi.RenderedHoverParts(o)}getAccessibleContent(e){return e.marker.message}_renderMarkerHover(e){let t=new eD.DisposableStore,i=r$("div.hover-row"),o=(0,eK.append)(i,r$("div.marker.hover-contents")),{source:n,message:r,code:s,relatedInformation:a}=e.marker;this._editor.applyFontInfo(o);let l=(0,eK.append)(o,r$("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=r,n||s)if(s&&"string"!=typeof s){let e=r$("span");n&&((0,eK.append)(e,r$("span")).innerText=n);let i=(0,eK.append)(e,r$("a.code-link"));i.setAttribute("href",s.target.toString(!0)),t.add((0,eK.addDisposableListener)(i,"click",e=>{this._openerService.open(s.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()})),(0,eK.append)(i,r$("span")).innerText=s.value;let r=(0,eK.append)(o,e);r.style.opacity="0.6",r.style.paddingLeft="6px"}else{let e=(0,eK.append)(o,r$("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=n&&s?"".concat(n,"(").concat(s,")"):n||"(".concat(s,")")}if((0,o3.isNonEmptyArray)(a))for(let{message:e,resource:i,startLineNumber:n,startColumn:r}of a){let s=(0,eK.append)(o,r$("div"));s.style.marginTop="8px";let a=(0,eK.append)(s,r$("a"));a.innerText="".concat((0,n1.basename)(i),"(").concat(n,", ").concat(r,"): "),a.style.cursor="pointer",t.add((0,eK.addDisposableListener)(a,"click",e=>{if(e.stopPropagation(),e.preventDefault(),this._openerService){let e={selection:{startLineNumber:n,startColumn:r}};this._openerService.open(i,{fromUserGesture:!0,editorOptions:e}).catch(tp.onUnexpectedError)}}));let l=(0,eK.append)(s,r$("span"));l.innerText=e,this._editor.applyFontInfo(l)}return{hoverPart:e,hoverElement:i,dispose:()=>t.dispose()}}renderMarkerStatusbar(e,t,i){if(t.marker.severity===nq.MarkerSeverity.Error||t.marker.severity===nq.MarkerSeverity.Warning||t.marker.severity===nq.MarkerSeverity.Info){let i=r_.get(this._editor);i&&e.statusBar.addAction({label:(0,eA.localize)(1152,"View Problem"),commandId:ry.ID,run:()=>{e.hide(),i.showAtMarker(t.marker),this._editor.focus()}})}if(!this._editor.getOption(iB.EditorOption.readOnly)){let o=e.statusBar.append(r$("div"));this.recentMarkerCodeActionsInfo&&(nq.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===nq.IMarkerData.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=(0,eA.localize)(1153,"No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);let n=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?eD.Disposable.None:(0,tF.disposableTimeout)(()=>o.textContent=(0,eA.localize)(1154,"Checking for quick fixes..."),200,i);o.textContent||(o.textContent=String.fromCharCode(160));let r=this.getCodeActions(t.marker);i.add((0,eD.toDisposable)(()=>r.cancel())),r.then(r=>{if(n.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:r.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){r.dispose(),o.textContent=(0,eA.localize)(1153,"No quick fixes available");return}o.style.display="none";let s=!1;i.add((0,eD.toDisposable)(()=>{s||r.dispose()})),e.statusBar.addAction({label:(0,eA.localize)(1155,"Quick Fix..."),commandId:e5.quickFixCommandId,run:t=>{s=!0;let i=ix.CodeActionController.get(this._editor),o=(0,eK.getDomNodePagePosition)(t);e.hide(),null==i||i.showCodeActions(r0,r,{x:o.left,y:o.top,width:o.width,height:o.height})}});let a=r.validActions.find(e=>e.action.isAI);if(a){var l,d;e.statusBar.addAction({label:a.action.title,commandId:null!=(d=null==(l=a.action.command)?void 0:l.id)?d:"",run:()=>{let e=ix.CodeActionController.get(this._editor);null==e||e.applyCodeAction(a,!1,!1,e5.ApplyCodeActionReason.FromProblemsHover)}})}},tp.onUnexpectedError)}}getCodeActions(e){return(0,tF.createCancelablePromise)(t=>(0,e5.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new iv.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),r0,o9.Progress.None,t))}constructor(e,t,i,o){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=o,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}};r1=(0,ex.__decorate)([(0,ex.__param)(1,rX.IMarkerDecorationsService),(0,ex.__param)(2,nR.IOpenerService),(0,ex.__param)(3,e3.ILanguageFeaturesService)],r1);var r2=e.i(489075),r3=e.i(610620),r5=eD;!function(e){e.increaseVerbosity=(0,eA.localize)(1116,"- The focused hover part verbosity level can be increased with the Increase Hover Verbosity command.","<keybinding:".concat(rL.INCREASE_HOVER_VERBOSITY_ACTION_ID,">")),e.decreaseVerbosity=(0,eA.localize)(1117,"- The focused hover part verbosity level can be decreased with the Decrease Hover Verbosity command.","<keybinding:".concat(rL.DECREASE_HOVER_VERBOSITY_ACTION_ID,">"))}(k||(k={}));class r4 extends r5.Disposable{onOpen(){this._hoverController&&(this._hoverController.shouldKeepOpenOnEditorMouseMoveOrLeave=!0,this._focusedHoverPartIndex=this._hoverController.focusedHoverPartIndex(),this._register(this._hoverController.onHoverContentsChanged(()=>{this._onDidChangeContent.fire()})))}onClose(){this._hoverController&&(-1===this._focusedHoverPartIndex?this._hoverController.focus():this._hoverController.focusHoverPartWithIndex(this._focusedHoverPartIndex),this._focusedHoverPartIndex=-1,this._hoverController.shouldKeepOpenOnEditorMouseMoveOrLeave=!1)}provideContentAtIndex(e,t){if(-1!==e){let i=this._hoverController.getAccessibleWidgetContentAtIndex(e);if(void 0===i)return"";let o=[];return t&&o.push(...this._descriptionsOfVerbosityActionsForIndex(e)),o.push(i),o.join("\n")}{let e=this._hoverController.getAccessibleWidgetContent();if(void 0===e)return"";let t=[];return t.push(e),t.join("\n")}}_descriptionsOfVerbosityActionsForIndex(e){let t=[],i=this._descriptionOfVerbosityActionForIndex(nV.HoverVerbosityAction.Increase,e);void 0!==i&&t.push(i);let o=this._descriptionOfVerbosityActionForIndex(nV.HoverVerbosityAction.Decrease,e);return void 0!==o&&t.push(o),t}_descriptionOfVerbosityActionForIndex(e,t){if(this._hoverController.doesHoverAtIndexSupportVerbosityAction(t,e))switch(e){case nV.HoverVerbosityAction.Increase:return k.increaseVerbosity;case nV.HoverVerbosityAction.Decrease:return k.decreaseVerbosity}}constructor(e){super(),this._hoverController=e,this.id=nF.AccessibleViewProviderId.Hover,this.verbositySettingKey="accessibility.verbosity.hover",this._onDidChangeContent=this._register(new e0.Emitter),this.onDidChangeContent=this._onDidChangeContent.event,this._focusedHoverPartIndex=-1}}class r6 extends r4{provideContent(){return this.provideContentAtIndex(this._focusedHoverPartIndex,!0)}constructor(e){super(e),this.options={type:nF.AccessibleViewType.Help}}}class r8 extends r4{provideContent(){return this.provideContentAtIndex(this._focusedHoverPartIndex,!1)}get actions(){let e=[];return e.push(this._getActionFor(this._editor,nV.HoverVerbosityAction.Increase)),e.push(this._getActionFor(this._editor,nV.HoverVerbosityAction.Decrease)),e}_getActionFor(e,t){let i,o,n;switch(t){case nV.HoverVerbosityAction.Increase:i=rL.INCREASE_HOVER_VERBOSITY_ACTION_ID,o=rL.INCREASE_HOVER_VERBOSITY_ACCESSIBLE_ACTION_ID,n=it.Codicon.add;break;case nV.HoverVerbosityAction.Decrease:i=rL.DECREASE_HOVER_VERBOSITY_ACTION_ID,o=rL.DECREASE_HOVER_VERBOSITY_ACCESSIBLE_ACTION_ID,n=it.Codicon.remove}let r=(0,rZ.labelForHoverVerbosityAction)(this._keybindingService,t),s=this._hoverController.doesHoverAtIndexSupportVerbosityAction(this._focusedHoverPartIndex,t);return new tE.Action(o,r,r3.ThemeIcon.asClassName(n),s,()=>{var t;null==(t=e.getAction(i))||t.run({index:this._focusedHoverPartIndex,focus:!1})})}_initializeOptions(e,t){var i;let o=this._register(new r6(t));this.options.language=null==(i=e.getModel())?void 0:i.getLanguageId(),this.options.customHelp=()=>o.provideContentAtIndex(this._focusedHoverPartIndex,!0)}constructor(e,t,i){super(i),this._keybindingService=e,this._editor=t,this.options={type:nF.AccessibleViewType.View},this._initializeOptions(this._editor,i)}}(0,eV.registerEditorContribution)(rO.ContentHoverController.ID,rO.ContentHoverController,eV.EditorContributionInstantiation.BeforeFirstInteraction),(0,eV.registerEditorContribution)(r2.GlyphHoverController.ID,r2.GlyphHoverController,eV.EditorContributionInstantiation.BeforeFirstInteraction),(0,eV.registerEditorAction)(rF),(0,eV.registerEditorAction)(rK),(0,eV.registerEditorAction)(rW),(0,eV.registerEditorAction)(rz),(0,eV.registerEditorAction)(rV),(0,eV.registerEditorAction)(rB),(0,eV.registerEditorAction)(rH),(0,eV.registerEditorAction)(rU),(0,eV.registerEditorAction)(rG),(0,eV.registerEditorAction)(rq),(0,eV.registerEditorAction)(rj),(0,eV.registerEditorAction)(rQ),oi.HoverParticipantRegistry.register(rZ.MarkdownHoverParticipant),oi.HoverParticipantRegistry.register(r1),(0,rY.registerThemingParticipant)((e,t)=>{let i=e.getColor(re.editorHoverBorder);i&&(t.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(i.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(i.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(i.transparent(.5),"; }")))}),nr.AccessibleViewRegistry.register(new class{getProvider(e){let t=e.get(tm.ICodeEditorService),i=t.getActiveCodeEditor()||t.getFocusedCodeEditor();if(!i)throw Error("No active or focused code editor");let o=rO.ContentHoverController.get(i);if(!o)return;let n=e.get(e6.IKeybindingService);return e.get(eZ.IInstantiationService).createInstance(r8,n,i,o)}constructor(){this.type=nF.AccessibleViewType.View,this.priority=95,this.name="hover",this.when=eB.EditorContextKeys.hoverFocused}}),nr.AccessibleViewRegistry.register(new class{getProvider(e){let t=e.get(tm.ICodeEditorService),i=t.getActiveCodeEditor()||t.getFocusedCodeEditor();if(!i)throw Error("No active or focused code editor");let o=rO.ContentHoverController.get(i);if(o)return e.get(eZ.IInstantiationService).createInstance(r6,o)}constructor(){this.priority=100,this.name="hover",this.type=nF.AccessibleViewType.Help,this.when=eB.EditorContextKeys.hoverVisible}}),nr.AccessibleViewRegistry.register(new class{getProvider(e){var t;let i=e.get(ty.IContextViewService).getContextViewElement(),o=null!=(t=null==i?void 0:i.textContent)?t:void 0,n=e.get(o_.IHoverService);if(!i.classList.contains("accessible-view-container")&&o)return new nF.AccessibleContentProvider(nF.AccessibleViewProviderId.Hover,{language:"typescript",type:nF.AccessibleViewType.View},()=>o,()=>{n.showAndFocusLastHover()},"accessibility.verbosity.hover")}constructor(){this.type=nF.AccessibleViewType.View,this.priority=90,this.name="extension-hover"}}),e.s([],71634);var r9=eV,r7=e.i(370706),se=e.i(319225),st=e.i(686765);function si(e,t){let i=0;for(let o=0;o<e.length;o++)"	"===e.charAt(o)?i+=t:i++;return i}function so(e,t,i){e=e<0?0:e;let o="";if(!i){let i=Math.floor(e/t);e%=t;for(let e=0;e<i;e++)o+="	"}for(let t=0;t<e;t++)o+=" ";return o}var sn=e.i(254359),sr=e.i(318292),ss=e.i(509301);function sa(e,t,i,o){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];let n=t.getLanguageConfiguration(e.getLanguageId()).indentRulesSupport;if(!n)return[];let r=new ss.ProcessedIndentRulesSupport(e,n,t);for(o=Math.min(o,e.getLineCount());i<=o&&r.shouldIgnore(i);)i++;if(i>o-1)return[];let{tabSize:s,indentSize:a,insertSpaces:l}=e.getOptions(),d=(e,t)=>(t=t||1,r7.ShiftCommand.shiftIndent(e,e.length+t,s,a,l)),c=(e,t)=>(t=t||1,r7.ShiftCommand.unshiftIndent(e,e.length+t,s,a,l)),u=[],h=e.getLineContent(i),p=(0,iE.getLeadingWhitespace)(h),g=p;r.shouldIncrease(i)?(g=d(g),p=d(p)):r.shouldIndentNextLine(i)&&(g=d(g)),i++;for(let t=i;t<=o;t++){var m,v;if(m=e,v=t,m.tokenization.isCheapToTokenize(v)&&m.tokenization.getLineTokens(v).getStandardTokenType(0)===se.StandardTokenType.String)continue;let i=e.getLineContent(t),o=(0,iE.getLeadingWhitespace)(i),n=g;r.shouldDecrease(t,n)&&(g=c(g),p=c(p)),o!==g&&u.push(ok.EditOperation.replaceMove(new ia.Selection(t,1,t,o.length+1),(0,sr.normalizeIndentation)(g,a,l))),r.shouldIgnore(t)||(g=r.shouldIncrease(t,n)?p=d(p):r.shouldIndentNextLine(t,n)?d(g):p)}return u}var sl=e.i(967413);class sd extends r9.EditorAction{run(e,t){let i=t.getModel();if(!i)return;let o=i.getOptions(),n=t.getSelection();if(!n)return;let r=new sb(n,o.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}constructor(){super({id:sd.ID,label:(0,eA.localize2)(1158,"Convert Indentation to Spaces"),precondition:eB.EditorContextKeys.writable,metadata:{description:(0,eA.localize2)(1159,"Convert the tab indentation to spaces.")}})}}sd.ID="editor.action.indentationToSpaces";class sc extends r9.EditorAction{run(e,t){let i=t.getModel();if(!i)return;let o=i.getOptions(),n=t.getSelection();if(!n)return;let r=new sS(n,o.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}constructor(){super({id:sc.ID,label:(0,eA.localize2)(1160,"Convert Indentation to Tabs"),precondition:eB.EditorContextKeys.writable,metadata:{description:(0,eA.localize2)(1161,"Convert the spaces indentation to tabs.")}})}}sc.ID="editor.action.indentationToTabs";class su extends r9.EditorAction{run(e,t){let i=e.get(tr.IQuickInputService),o=e.get(iG.IModelService),n=t.getModel();if(!n)return;let r=o.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget),s=n.getOptions(),a=[1,2,3,4,5,6,7,8].map(e=>({id:e.toString(),label:e.toString(),description:e===r.tabSize&&e===s.tabSize?(0,eA.localize)(1162,"Configured Tab Size"):e===r.tabSize?(0,eA.localize)(1163,"Default Tab Size"):e===s.tabSize?(0,eA.localize)(1164,"Current Tab Size"):void 0})),l=Math.min(n.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(a,{placeHolder:(0,eA.localize)(1165,"Select Tab Size for Current File"),activeItem:a[l]}).then(e=>{if(e&&n&&!n.isDisposed()){let t=parseInt(e.label,10);this.displaySizeOnly?n.updateOptions({tabSize:t}):n.updateOptions({tabSize:t,indentSize:t,insertSpaces:this.insertSpaces})}})},50)}constructor(e,t,i){super(i),this.insertSpaces=e,this.displaySizeOnly=t}}class sh extends su{constructor(){super(!1,!1,{id:sh.ID,label:(0,eA.localize2)(1166,"Indent Using Tabs"),precondition:void 0,metadata:{description:(0,eA.localize2)(1167,"Use indentation with tabs.")}})}}sh.ID="editor.action.indentUsingTabs";class sp extends su{constructor(){super(!0,!1,{id:sp.ID,label:(0,eA.localize2)(1168,"Indent Using Spaces"),precondition:void 0,metadata:{description:(0,eA.localize2)(1169,"Use indentation with spaces.")}})}}sp.ID="editor.action.indentUsingSpaces";class sg extends su{constructor(){super(!0,!0,{id:sg.ID,label:(0,eA.localize2)(1170,"Change Tab Display Size"),precondition:void 0,metadata:{description:(0,eA.localize2)(1171,"Change the space size equivalent of the tab.")}})}}sg.ID="editor.action.changeTabDisplaySize";class sm extends r9.EditorAction{run(e,t){let i=e.get(iG.IModelService),o=t.getModel();if(!o)return;let n=i.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget);o.detectIndentation(n.insertSpaces,n.tabSize)}constructor(){super({id:sm.ID,label:(0,eA.localize2)(1172,"Detect Indentation from Content"),precondition:void 0,metadata:{description:(0,eA.localize2)(1173,"Detect the indentation from content.")}})}}sm.ID="editor.action.detectIndentation";class sv extends r9.EditorAction{run(e,t){let i=e.get(ox.ILanguageConfigurationService),o=t.getModel();if(!o)return;let n=sa(o,i,1,o.getLineCount());n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}constructor(){super({id:"editor.action.reindentlines",label:(0,eA.localize2)(1174,"Reindent Lines"),precondition:eB.EditorContextKeys.writable,metadata:{description:(0,eA.localize2)(1175,"Reindent the lines of the editor.")}})}}class s_ extends r9.EditorAction{run(e,t){let i=e.get(ox.ILanguageConfigurationService),o=t.getModel();if(!o)return;let n=t.getSelections();if(null===n)return;let r=[];for(let e of n){let t=e.startLineNumber,n=e.endLineNumber;if(t!==n&&1===e.endColumn&&n--,1===t){if(t===n)continue}else t--;let s=sa(o,i,t,n);r.push(...s)}r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}constructor(){super({id:"editor.action.reindentselectedlines",label:(0,eA.localize2)(1176,"Reindent Selected Lines"),precondition:eB.EditorContextKeys.writable,metadata:{description:(0,eA.localize2)(1177,"Reindent the selected lines of the editor.")}})}}class sf{getEditOperations(e,t){for(let e of this._edits)t.addEditOperation(iv.Range.lift(e.range),e.text);let i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}constructor(e,t){for(let i of(this._initialSelection=t,this._edits=[],this._selectionId=null,e))i.range&&"string"==typeof i.text&&this._edits.push(i)}}let sy=((A=class{update(){this.callOnModel.clear(),!(this.editor.getOption(iB.EditorOption.autoIndent)<iB.EditorAutoIndentStrategy.Full||this.editor.getOption(iB.EditorOption.formatOnPaste))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(e=>{let{range:t}=e;this.trigger(t)}))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;let i=this.editor.getModel();if(!i||this.rangeContainsOnlyWhitespaceCharacters(i,e)||function(e,t){let i=t=>(0,sl.getStandardTokenTypeAtPosition)(e,t)===se.StandardTokenType.String;return i(t.getStartPosition())||i(t.getEndPosition())}(i,e)||!i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;let o=this.editor.getOption(iB.EditorOption.autoIndent),{tabSize:n,indentSize:r,insertSpaces:s}=i.getOptions(),a=[],l={shiftIndent:e=>r7.ShiftCommand.shiftIndent(e,e.length+1,n,r,s),unshiftIndent:e=>r7.ShiftCommand.unshiftIndent(e,e.length+1,n,r,s)},d=e.startLineNumber;for(;d<=e.endLineNumber;){if(this.shouldIgnoreLine(i,d)){d++;continue}break}if(d>e.endLineNumber)return;let c=i.getLineContent(d);if(!/\S/.test(c.substring(0,e.startColumn-1))){let e=(0,sn.getGoodIndentForLine)(o,i,i.getLanguageId(),d,l,this._languageConfigurationService);if(null!==e){let t=(0,iE.getLeadingWhitespace)(c),o=si(e,n);if(o!==si(t,n)){let e=so(o,n,s);a.push({range:new iv.Range(d,1,d,t.length+1),text:e}),c=e+c.substring(t.length)}else{let e=(0,sn.getIndentMetadata)(i,d,this._languageConfigurationService);if(0===e||e===st.IndentConsts.UNINDENT_MASK)return}}}let u=d;for(;d<e.endLineNumber;){if(!/\S/.test(i.getLineContent(d+1))){d++;continue}break}if(d!==e.endLineNumber){let t=(0,sn.getGoodIndentForLine)(o,{tokenization:{getLineTokens:e=>i.tokenization.getLineTokens(e),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(e,t)=>i.getLanguageIdAtPosition(e,t)},getLineContent:e=>e===u?c:i.getLineContent(e)},i.getLanguageId(),d+1,l,this._languageConfigurationService);if(null!==t){let o=si(t,n),r=si((0,iE.getLeadingWhitespace)(i.getLineContent(d+1)),n);if(o!==r){let t=o-r;for(let o=d+1;o<=e.endLineNumber;o++){let e=i.getLineContent(o),r=(0,iE.getLeadingWhitespace)(e),l=so(si(r,n)+t,n,s);l!==r&&a.push({range:new iv.Range(o,1,o,r.length+1),text:l})}}}}if(a.length>0){this.editor.pushUndoStop();let e=new sf(a,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}rangeContainsOnlyWhitespaceCharacters(e,t){let i=e=>0===e.trim().length,o=!0;if(t.startLineNumber===t.endLineNumber)o=i(e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1));else for(let n=t.startLineNumber;n<=t.endLineNumber;n++){let r=e.getLineContent(n);if(!(o=n===t.startLineNumber?i(r.substring(t.startColumn-1)):n===t.endLineNumber?i(r.substring(0,t.endColumn-1)):0===e.getLineFirstNonWhitespaceColumn(n)))break}return o}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;let o=e.tokenization.getLineTokens(t);if(o.getCount()>0){let e=o.findTokenIndexAtOffset(i);if(e>=0&&o.getStandardTokenType(e)===se.StandardTokenType.Comment)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new eD.DisposableStore,this.callOnModel=new eD.DisposableStore,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}}).ID="editor.contrib.autoIndentOnPaste",A);function sC(e,t,i,o){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let n="";for(let e=0;e<i;e++)n+=" ";let r=RegExp(n,"gi");for(let i=1,s=e.getLineCount();i<=s;i++){let s=e.getLineFirstNonWhitespaceColumn(i);if(0===s&&(s=e.getLineMaxColumn(i)),1===s)continue;let a=new iv.Range(i,1,i,s),l=e.getValueInRange(a),d=o?l.replace(/\t/ig,n):l.replace(r,"	");t.addEditOperation(a,d)}}sy=(0,ex.__decorate)([(0,ex.__param)(1,ox.ILanguageConfigurationService)],sy);class sb{getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),sC(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}}class sS{getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),sC(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}}(0,r9.registerEditorContribution)(sy.ID,sy,r9.EditorContributionInstantiation.BeforeFirstInteraction),(0,r9.registerEditorAction)(sd),(0,r9.registerEditorAction)(sc),(0,r9.registerEditorAction)(sh),(0,r9.registerEditorAction)(sp),(0,r9.registerEditorAction)(sg),(0,r9.registerEditorAction)(sm),(0,r9.registerEditorAction)(sv),(0,r9.registerEditorAction)(s_),e.s(["ChangeTabDisplaySize",()=>sg,"DetectIndentation",()=>sm,"IndentUsingSpaces",()=>sp,"IndentUsingTabs",()=>sh,"IndentationToSpacesAction",()=>sd,"IndentationToTabsAction",()=>sc],295347);var sw=e.i(244178);(0,eV.registerEditorContribution)(eU.InlayHintsController.ID,eU.InlayHintsController,eV.EditorContributionInstantiation.AfterFirstRender),oi.HoverParticipantRegistry.register(sw.InlayHintsHover),e.s([],468387);var sE=e.i(857798),sI=eV;class sx{getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new ia.Selection(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new ia.Selection(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)}constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}}(0,tT.default)(".monaco-editor.vs .valueSetReplacement{outline:solid 2px var(--vscode-editorBracketMatch-border)}",{});let sD=(L=M=class{static get(e){return e.getContribution(L.ID)}dispose(){}run(e,t){var i;null==(i=this.currentRequest)||i.cancel();let o=this.editor.getSelection(),n=this.editor.getModel();if(!n||!o)return;let r=o;if(r.startLineNumber!==r.endLineNumber)return;let s=new sE.EditorState(this.editor,sE.CodeEditorStateFlag.Value|sE.CodeEditorStateFlag.Position),a=n.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=(0,tF.createCancelablePromise)(e=>this.editorWorkerService.navigateValueSet(a,r,t)),this.currentRequest.then(t=>{var i;if(!t||!t.range||!t.value||!s.validate(this.editor))return;let o=iv.Range.lift(t.range),n=t.range,a=t.value.length-(r.endColumn-r.startColumn);n={startLineNumber:n.startLineNumber,startColumn:n.startColumn,endLineNumber:n.endLineNumber,endColumn:n.startColumn+t.value.length},a>1&&(r=new ia.Selection(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn+a-1));let l=new sx(o,r,t.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,l),this.editor.pushUndoStop(),this.decorations.set([{range:n,options:L.DECORATION}]),null==(i=this.decorationRemover)||i.cancel(),this.decorationRemover=(0,tF.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(tp.onUnexpectedError)}).catch(tp.onUnexpectedError)):Promise.resolve(void 0)}constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}},M.ID="editor.contrib.inPlaceReplaceController",M.DECORATION=i2.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),M);sD=L=(0,ex.__decorate)([(0,ex.__param)(1,ou.IEditorWorkerService)],sD);class sk extends sI.EditorAction{run(e,t){let i=sD.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}constructor(){super({id:"editor.action.inPlaceReplace.up",label:(0,eA.localize2)(1156,"Replace with Previous Value"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.Comma,weight:eX.KeybindingWeight.EditorContrib}})}}class sA extends sI.EditorAction{run(e,t){let i=sD.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}constructor(){super({id:"editor.action.inPlaceReplace.down",label:(0,eA.localize2)(1157,"Replace with Next Value"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.Period,weight:eX.KeybindingWeight.EditorContrib}})}}(0,sI.registerEditorContribution)(sD.ID,sD,sI.EditorContributionInstantiation.Lazy),(0,sI.registerEditorAction)(sk),(0,sI.registerEditorAction)(sA),e.s([],287231);var sM=eV,sL=e.i(945064);class sT extends sM.EditorAction{run(e,t,i){if(i=i||{},!t.hasModel())return;let o=t._getViewModel();o.model.pushStackElement(),o.setCursorStates(i.source,oB.CursorChangeReason.Explicit,sL.CursorMoveCommands.expandLineSelection(o,o.getCursorStates())),o.revealAllCursors(i.source,!0)}constructor(){super({id:"expandLineSelection",label:(0,eA.localize2)(1221,"Expand Line Selection"),precondition:void 0,kbOpts:{weight:eX.KeybindingWeight.EditorCore,kbExpr:eB.EditorContextKeys.textInputFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.KeyL}})}}(0,sM.registerEditorAction)(sT),e.s([],886197);var sR=e.i(697120),sN=eV,sP=e.i(788722),sO=e.i(644833),sF=e.i(838372);class sK{getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let o=[];for(let t=i.startLineNumber;t<=i.endLineNumber;t++)o.push(e.getLineContent(t));let n=o.join("\n");""===n&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new iv.Range(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new iv.Range(i.startLineNumber,1,i.startLineNumber,1),n+"\n"):t.addEditOperation(new iv.Range(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+n),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,o=i.endLineNumber,n=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(o+=this._endLineNumberDelta,n=1),i=ia.Selection.createWithDirection(e,t,o,n,this._selectionDirection)}return i}constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=ia.SelectionDirection.LTR,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}}var sW=e.i(994665),sz=e.i(823018);let sV=class{getEditOperations(e,t){let i=()=>e.getLanguageId(),o=(t,i)=>e.getLanguageIdAtPosition(t,i),n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n||!this._isMovingDown&&1===this._selection.startLineNumber){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let r=this._selection;r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));let{tabSize:s,indentSize:a,insertSpaces:l}=e.getOptions(),d=this.buildIndentConverter(s,a,l);if(r.startLineNumber===r.endLineNumber&&1===e.getLineMaxColumn(r.startLineNumber)){let i=r.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new iv.Range(1,1,1,1),null):(t.addEditOperation(new iv.Range(i,1,i,1),e.getLineContent(o)),t.addEditOperation(new iv.Range(o,1,o,e.getLineMaxColumn(o)),null)),r=new ia.Selection(o,1,o,1)}else{let n,a;if(this._isMovingDown){n=r.endLineNumber+1,a=e.getLineContent(n),t.addEditOperation(new iv.Range(n-1,e.getLineMaxColumn(n-1),n,e.getLineMaxColumn(n)),null);let c=a;if(this.shouldAutoIndent(e,r)){let u=this.matchEnterRule(e,d,s,n,r.startLineNumber-1);if(null!==u)c=so(u+si((0,iE.getLeadingWhitespace)(e.getLineContent(n)),s),s,l)+this.trimStart(a);else{let t=(0,sn.getGoodIndentForLine)(this._autoIndent,{tokenization:{getLineTokens:t=>t===r.startLineNumber?e.tokenization.getLineTokens(n):e.tokenization.getLineTokens(t),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:t=>t===r.startLineNumber?e.getLineContent(n):e.getLineContent(t)},e.getLanguageIdAtPosition(n,1),r.startLineNumber,d,this._languageConfigurationService);if(null!==t){let i=(0,iE.getLeadingWhitespace)(e.getLineContent(n)),o=si(t,s);o!==si(i,s)&&(c=so(o,s,l)+this.trimStart(a))}}t.addEditOperation(new iv.Range(r.startLineNumber,1,r.startLineNumber,1),c+"\n");let h=this.matchEnterRuleMovingDown(e,d,s,r.startLineNumber,n,c);if(null!==h)0!==h&&this.getIndentEditsOfMovingBlock(e,t,r,s,l,h);else{let a=(0,sn.getGoodIndentForLine)(this._autoIndent,{tokenization:{getLineTokens:t=>t===r.startLineNumber?e.tokenization.getLineTokens(n):t>=r.startLineNumber+1&&t<=r.endLineNumber+1?e.tokenization.getLineTokens(t-1):e.tokenization.getLineTokens(t),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:t=>t===r.startLineNumber?c:t>=r.startLineNumber+1&&t<=r.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t)},e.getLanguageIdAtPosition(n,1),r.startLineNumber+1,d,this._languageConfigurationService);if(null!==a){let i=(0,iE.getLeadingWhitespace)(e.getLineContent(r.startLineNumber)),o=si(a,s),n=si(i,s);o!==n&&this.getIndentEditsOfMovingBlock(e,t,r,s,l,o-n)}}}else t.addEditOperation(new iv.Range(r.startLineNumber,1,r.startLineNumber,1),c+"\n")}else if(n=r.startLineNumber-1,a=e.getLineContent(n),t.addEditOperation(new iv.Range(n,1,n+1,1),null),t.addEditOperation(new iv.Range(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),"\n"+a),this.shouldAutoIndent(e,r)){let a=this.matchEnterRule(e,d,s,r.startLineNumber,r.startLineNumber-2);if(null!==a)0!==a&&this.getIndentEditsOfMovingBlock(e,t,r,s,l,a);else{let a=(0,sn.getGoodIndentForLine)(this._autoIndent,{tokenization:{getLineTokens:t=>t===n?e.tokenization.getLineTokens(r.startLineNumber):e.tokenization.getLineTokens(t),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:t=>t===n?e.getLineContent(r.startLineNumber):e.getLineContent(t)},e.getLanguageIdAtPosition(r.startLineNumber,1),n,d,this._languageConfigurationService);if(null!==a){let i=(0,iE.getLeadingWhitespace)(e.getLineContent(r.startLineNumber)),o=si(a,s),n=si(i,s);o!==n&&this.getIndentEditsOfMovingBlock(e,t,r,s,l,o-n)}}}}this._selectionId=t.trackSelection(r)}buildIndentConverter(e,t,i){return{shiftIndent:o=>r7.ShiftCommand.shiftIndent(o,o.length+1,e,t,i),unshiftIndent:o=>r7.ShiftCommand.unshiftIndent(o,o.length+1,e,t,i)}}parseEnterResult(e,t,i,o,n){if(n){let r=n.indentation;n.indentAction===sW.IndentAction.None||n.indentAction===sW.IndentAction.Indent?r=n.indentation+n.appendText:n.indentAction===sW.IndentAction.IndentOutdent?r=n.indentation:n.indentAction===sW.IndentAction.Outdent&&(r=t.unshiftIndent(n.indentation)+n.appendText);let s=e.getLineContent(o);if(this.trimStart(s).indexOf(this.trimStart(r))>=0){let n=(0,iE.getLeadingWhitespace)(e.getLineContent(o)),s=(0,iE.getLeadingWhitespace)(r),a=(0,sn.getIndentMetadata)(e,o,this._languageConfigurationService);return null!==a&&a&st.IndentConsts.DECREASE_MASK&&(s=t.unshiftIndent(s)),si(s,i)-si(n,i)}}return null}matchEnterRuleMovingDown(e,t,i,o,n,r){if((0,iE.lastNonWhitespaceIndex)(r)>=0){let r=e.getLineMaxColumn(n),s=(0,sz.getEnterAction)(this._autoIndent,e,new iv.Range(n,r,n,r),this._languageConfigurationService);return this.parseEnterResult(e,t,i,o,s)}{let n=o-1;for(;n>=1;){let t=e.getLineContent(n);if((0,iE.lastNonWhitespaceIndex)(t)>=0)break;n--}if(n<1||o>e.getLineCount())return null;let r=e.getLineMaxColumn(n),s=(0,sz.getEnterAction)(this._autoIndent,e,new iv.Range(n,r,n,r),this._languageConfigurationService);return this.parseEnterResult(e,t,i,o,s)}}matchEnterRule(e,t,i,o,n,r){let s=n;for(;s>=1;){let t;if(t=s===n&&void 0!==r?r:e.getLineContent(s),(0,iE.lastNonWhitespaceIndex)(t)>=0)break;s--}if(s<1||o>e.getLineCount())return null;let a=e.getLineMaxColumn(s),l=(0,sz.getEnterAction)(this._autoIndent,e,new iv.Range(s,a,s,a),this._languageConfigurationService);return this.parseEnterResult(e,t,i,o,l)}trimStart(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<iB.EditorAutoIndentStrategy.Full||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1);return i===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport}getIndentEditsOfMovingBlock(e,t,i,o,n,r){for(let s=i.startLineNumber;s<=i.endLineNumber;s++){let a=e.getLineContent(s),l=(0,iE.getLeadingWhitespace)(a),d=so(si(l,o)+r,o,n);d!==l&&(t.addEditOperation(new iv.Range(s,1,s,l.length+1),d),s===i.endLineNumber&&i.endColumn<=l.length+1&&""===d&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}constructor(e,t,i,o){this._languageConfigurationService=o,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}};sV=(0,ex.__decorate)([(0,ex.__param)(3,ox.ILanguageConfigurationService)],sV);class sB{static getCollator(){return sB._COLLATOR||(sB._COLLATOR=new Intl.Collator),sB._COLLATOR}getEditOperations(e,t){let i=function(e,t,i){let o=sH(e,t,i);return o?ok.EditOperation.replace(new iv.Range(o.startLineNumber,1,o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),o.after.join("\n")):null}(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;let o=sH(e,t,i);if(!o)return!1;for(let e=0,t=o.before.length;e<t;e++)if(o.before[e]!==o.after[e])return!0;return!1}constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}}function sH(e,t,i){let o=t.startLineNumber,n=t.endLineNumber;if(1===t.endColumn&&n--,o>=n)return null;let r=[];for(let t=o;t<=n;t++)r.push(e.getLineContent(t));let s=r.slice(0);return s.sort(sB.getCollator().compare),!0===i&&(s=s.reverse()),{startLineNumber:o,endLineNumber:n,before:r,after:s}}sB._COLLATOR=null;class sU extends sN.EditorAction{run(e,t){if(!t.hasModel())return;let i=t.getSelections().map((e,t)=>({selection:e,index:t,ignore:!1}));i.sort((e,t)=>iv.Range.compareRangesUsingStarts(e.selection,t.selection));let o=i[0];for(let e=1;e<i.length;e++){let t=i[e];o.selection.endLineNumber===t.selection.startLineNumber&&(o.index<t.index?t.ignore=!0:(o.ignore=!0,o=t))}let n=[];for(let e of i)n.push(new sK(e.selection,this.down,e.ignore));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}constructor(e,t){super(t),this.down=e}}class sG extends sN.EditorAction{run(e,t,i){if(!t.hasModel())return;let o=[],n=t.getSelections(),r=t.getModel();for(let e of n)if(e.isEmpty())o.push(new sK(e,!0));else{let t=new ia.Selection(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn);o.push(new ib.ReplaceCommandThatSelectsText(t,r.getValueInRange(e)))}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}constructor(){super({id:"editor.action.duplicateSelection",label:(0,eA.localize2)(1226,"Duplicate Selection"),precondition:eB.EditorContextKeys.writable,menuOpts:{menuId:eG.MenuId.MenubarSelectionMenu,group:"2_line",title:(0,eA.localize)(1227,"&&Duplicate Selection"),order:5}})}}class sq extends sN.EditorAction{run(e,t){let i=e.get(ox.ILanguageConfigurationService),o=[],n=t.getSelections()||[],r=t.getOption(iB.EditorOption.autoIndent);for(let e of n)o.push(new sV(e,this.down,r,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}constructor(e,t){super(t),this.down=e}}class sj extends sN.EditorAction{run(e,t){if(!t.hasModel())return;let i=t.getModel(),o=t.getSelections();for(let e of(1===o.length&&o[0].isEmpty()&&(o=[new ia.Selection(1,1,i.getLineCount(),i.getLineMaxColumn(i.getLineCount()))]),o))if(!sB.canRun(t.getModel(),e,this.descending))return;let n=[];for(let e=0,t=o.length;e<t;e++)n[e]=new sB(o[e],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}constructor(e,t){super(t),this.descending=e}}class sQ extends sN.EditorAction{run(e,t){if(!t.hasModel())return;let i=t.getModel();if(1===i.getLineCount()&&1===i.getLineMaxColumn(1))return;let o=[],n=[],r=0,s=!0,a=t.getSelections();for(let e of(1===a.length&&a[0].isEmpty()&&(a=[new ia.Selection(1,1,i.getLineCount(),i.getLineMaxColumn(i.getLineCount()))],s=!1),a)){let t=new Set,s=[];for(let o=e.startLineNumber;o<=e.endLineNumber;o++){let e=i.getLineContent(o);t.has(e)||(s.push(e),t.add(e))}let a=new ia.Selection(e.startLineNumber,1,e.endLineNumber,i.getLineMaxColumn(e.endLineNumber)),l=e.startLineNumber-r,d=new ia.Selection(l,1,l+s.length-1,s[s.length-1].length);o.push(ok.EditOperation.replace(a,s.join("\n"))),n.push(d),r+=e.endLineNumber-e.startLineNumber+1-s.length}t.pushUndoStop(),t.executeEdits(this.id,o,s?n:void 0),t.pushUndoStop()}constructor(){super({id:"editor.action.removeDuplicateLines",label:(0,eA.localize2)(1234,"Delete Duplicate Lines"),precondition:eB.EditorContextKeys.writable})}}class sY extends sN.EditorAction{run(e,t,i){let o=[];"auto-save"===i.reason&&(o=(t.getSelections()||[]).map(e=>new oA.Position(e.positionLineNumber,e.positionColumn)));let n=t.getSelection();if(null===n)return;let r=e.get(eO.IConfigurationService),s=t.getModel(),a=r.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:null==s?void 0:s.getLanguageId(),resource:null==s?void 0:s.uri}),l=new sP.TrimTrailingWhitespaceCommand(n,o,a);t.pushUndoStop(),t.executeCommands(this.id,[l]),t.pushUndoStop()}constructor(){super({id:sY.ID,label:(0,eA.localize2)(1235,"Trim Trailing Whitespace"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:(0,ez.KeyChord)(ez.KeyMod.CtrlCmd|ez.KeyCode.KeyK,ez.KeyMod.CtrlCmd|ez.KeyCode.KeyX),weight:eX.KeybindingWeight.EditorContrib}})}}sY.ID="editor.action.trimTrailingWhitespace";class sZ extends sN.EditorAction{run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),o=t.getModel();if(1===o.getLineCount()&&1===o.getLineMaxColumn(1))return;let n=0,r=[],s=[];for(let e=0,t=i.length;e<t;e++){let t=i[e],a=t.startLineNumber,l=t.endLineNumber,d=1,c=o.getLineMaxColumn(l);l<o.getLineCount()?(l+=1,c=1):a>1&&(a-=1,d=o.getLineMaxColumn(a)),r.push(ok.EditOperation.replace(new ia.Selection(a,d,l,c),"")),s.push(new ia.Selection(a-n,t.positionColumn,a-n,t.positionColumn)),n+=t.endLineNumber-t.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}});t.sort((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber);let i=[],o=t[0];for(let e=1;e<t.length;e++)o.endLineNumber+1>=t[e].startLineNumber?o.endLineNumber=t[e].endLineNumber:(i.push(o),o=t[e]);return i.push(o),i}constructor(){super({id:"editor.action.deleteLines",label:(0,eA.localize2)(1236,"Delete Line"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.KeyK,weight:eX.KeybindingWeight.EditorContrib}})}}class sX extends sN.EditorAction{run(e,t){let i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,sO.TypeOperations.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}constructor(){super({id:"editor.action.indentLines",label:(0,eA.localize2)(1237,"Indent Line"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.BracketRight,weight:eX.KeybindingWeight.EditorContrib}})}}class s$ extends sN.EditorAction{run(e,t){sR.CoreEditingCommands.Outdent.runEditorCommand(e,t,null)}constructor(){super({id:"editor.action.outdentLines",label:(0,eA.localize2)(1238,"Outdent Line"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.BracketLeft,weight:eX.KeybindingWeight.EditorContrib}})}}class sJ extends sN.EditorAction{run(e,t){let i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,sF.EnterOperation.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}constructor(){super({id:"editor.action.insertLineBefore",label:(0,eA.localize2)(1239,"Insert Line Above"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.Enter,weight:eX.KeybindingWeight.EditorContrib}})}}class s0 extends sN.EditorAction{run(e,t){let i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,sF.EnterOperation.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}constructor(){super({id:"editor.action.insertLineAfter",label:(0,eA.localize2)(1240,"Insert Line Below"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.Enter,weight:eX.KeybindingWeight.EditorContrib}})}}class s1 extends sN.EditorAction{run(e,t){if(!t.hasModel())return;let i=t.getSelection(),o=this._getRangesToDelete(t),n=[];for(let e=0,t=o.length-1;e<t;e++){let t=o[e],i=o[e+1];null===iv.Range.intersectRanges(t,i)?n.push(t):o[e+1]=iv.Range.plusRange(t,i)}n.push(o[o.length-1]);let r=this._getEndCursorState(i,n),s=n.map(e=>ok.EditOperation.replace(e,""));t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}}class s2 extends sN.EditorAction{run(e,t){let i=t.getSelections();if(null===i)return;let o=t.getSelection();if(null===o)return;i.sort(iv.Range.compareRangesUsingStarts);let n=[],r=i.reduce((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(o.equalsSelection(e)&&(o=t),t):t.startLineNumber>e.endLineNumber+1?(n.push(e),t):new ia.Selection(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(n.push(e),t):new ia.Selection(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn));n.push(r);let s=t.getModel();if(null===s)return;let a=[],l=[],d=o,c=0;for(let e=0,t=n.length;e<t;e++){let t,i,r=n[e],u=r.startLineNumber,h=0,p=s.getLineLength(r.endLineNumber)-r.endColumn;if(r.isEmpty()||r.startLineNumber===r.endLineNumber){let e=r.getStartPosition();e.lineNumber<s.getLineCount()?(t=u+1,i=s.getLineMaxColumn(t)):(t=e.lineNumber,i=s.getLineMaxColumn(e.lineNumber))}else t=r.endLineNumber,i=s.getLineMaxColumn(t);let g=s.getLineContent(u);for(let e=u+1;e<=t;e++){let t=s.getLineContent(e),i=s.getLineFirstNonWhitespaceColumn(e);if(i>=1){let e=!0;""===g&&(e=!1),e&&(" "===g.charAt(g.length-1)||"	"===g.charAt(g.length-1))&&(e=!1,g=g.replace(/[\s\uFEFF\xA0]+$/g," "));let o=t.substr(i-1);g+=(e?" ":"")+o,h=e?o.length+1:o.length}else h=0}let m=new iv.Range(u,1,t,i);if(!m.isEmpty()){let e;r.isEmpty()?(a.push(ok.EditOperation.replace(m,g)),e=new ia.Selection(m.startLineNumber-c,g.length-h+1,u-c,g.length-h+1)):r.startLineNumber===r.endLineNumber?(a.push(ok.EditOperation.replace(m,g)),e=new ia.Selection(r.startLineNumber-c,r.startColumn,r.endLineNumber-c,r.endColumn)):(a.push(ok.EditOperation.replace(m,g)),e=new ia.Selection(r.startLineNumber-c,r.startColumn,r.startLineNumber-c,g.length-p)),null!==iv.Range.intersectRanges(m,o)?d=e:l.push(e)}c+=m.endLineNumber-m.startLineNumber}l.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,a,l),t.pushUndoStop()}constructor(){super({id:"editor.action.joinLines",label:(0,eA.localize2)(1243,"Join Lines"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyCode.KeyJ},weight:eX.KeybindingWeight.EditorContrib}})}}class s3 extends sN.EditorAction{run(e,t){let i=t.getSelections();if(null===i)return;let o=t.getModel();if(null===o)return;let n=[];for(let e=0,t=i.length;e<t;e++){let t=i[e];if(!t.isEmpty())continue;let r=t.getStartPosition(),s=o.getLineMaxColumn(r.lineNumber);if(r.column>=s){if(r.lineNumber===o.getLineCount())continue;let e=new iv.Range(r.lineNumber,Math.max(1,r.column-1),r.lineNumber+1,1),t=o.getValueInRange(e).split("").reverse().join("");n.push(new ib.ReplaceCommand(new ia.Selection(r.lineNumber,Math.max(1,r.column-1),r.lineNumber+1,1),t))}else{let e=new iv.Range(r.lineNumber,Math.max(1,r.column-1),r.lineNumber,r.column+1),t=o.getValueInRange(e).split("").reverse().join("");n.push(new ib.ReplaceCommandThatPreservesSelection(e,t,new ia.Selection(r.lineNumber,r.column+1,r.lineNumber,r.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}constructor(){super({id:"editor.action.transpose",label:(0,eA.localize2)(1244,"Transpose Characters around the Cursor"),precondition:eB.EditorContextKeys.writable})}}class s5 extends sN.EditorAction{run(e,t){let i=t.getSelections();if(null===i)return;let o=t.getModel();if(null===o)return;let n=t.getOption(iB.EditorOption.wordSeparators),r=[];for(let e of i)if(e.isEmpty()){let i=e.getStartPosition(),s=t.getConfiguredWordAtPosition(i);if(!s)continue;let a=new iv.Range(i.lineNumber,s.startColumn,i.lineNumber,s.endColumn),l=o.getValueInRange(a);r.push(ok.EditOperation.replace(a,this._modifyText(l,n)))}else{let t=o.getValueInRange(e);r.push(ok.EditOperation.replace(e,this._modifyText(t,n)))}t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop()}}class s4{get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}}class s6 extends s5{_modifyText(e,t){let i=s6.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,e=>e.toLocaleUpperCase()):e}constructor(){super({id:"editor.action.transformToTitlecase",label:(0,eA.localize2)(1247,"Transform to Title Case"),precondition:eB.EditorContextKeys.writable})}}s6.titleBoundary=new s4("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class s8 extends s5{_modifyText(e,t){let i=s8.caseBoundary.get(),o=s8.singleLetters.get();return i&&o?e.replace(i,"$1_$2").replace(o,"$1_$2$3").toLocaleLowerCase():e}constructor(){super({id:"editor.action.transformToSnakecase",label:(0,eA.localize2)(1248,"Transform to Snake Case"),precondition:eB.EditorContextKeys.writable})}}s8.caseBoundary=new s4("(\\p{Ll})(\\p{Lu})","gmu"),s8.singleLetters=new s4("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class s9 extends s5{_modifyText(e,t){let i=s9.wordBoundary.get();if(!i)return e;let o=e.split(i);return o.shift()+o.map(e=>e.substring(0,1).toLocaleUpperCase()+e.substring(1)).join("")}constructor(){super({id:"editor.action.transformToCamelcase",label:(0,eA.localize2)(1249,"Transform to Camel Case"),precondition:eB.EditorContextKeys.writable})}}s9.wordBoundary=new s4("[_\\s-]","gm");class s7 extends s5{_modifyText(e,t){let i=s7.wordBoundary.get(),o=s7.wordBoundaryToMaintain.get();return i&&o?e.split(o).map(e=>e.split(i)).flat().map(e=>e.substring(0,1).toLocaleUpperCase()+e.substring(1)).join(""):e}constructor(){super({id:"editor.action.transformToPascalcase",label:(0,eA.localize2)(1250,"Transform to Pascal Case"),precondition:eB.EditorContextKeys.writable})}}s7.wordBoundary=new s4("[_\\s-]","gm"),s7.wordBoundaryToMaintain=new s4("(?<=\\.)","gm");class ae extends s5{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(e=>e.isSupported())}_modifyText(e,t){let i=ae.caseBoundary.get(),o=ae.singleLetters.get(),n=ae.underscoreBoundary.get();return i&&o&&n?e.replace(n,"$1-$3").replace(i,"$1-$2").replace(o,"$1-$2").toLocaleLowerCase():e}constructor(){super({id:"editor.action.transformToKebabcase",label:(0,eA.localize2)(1251,"Transform to Kebab Case"),precondition:eB.EditorContextKeys.writable})}}ae.caseBoundary=new s4("(\\p{Ll})(\\p{Lu})","gmu"),ae.singleLetters=new s4("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),ae.underscoreBoundary=new s4("(\\S)(_)(\\S)","gm"),(0,sN.registerEditorAction)(class extends sU{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:(0,eA.localize2)(1222,"Copy Line Up"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.Alt|ez.KeyMod.Shift|ez.KeyCode.UpArrow,linux:{primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Alt|ez.KeyMod.Shift|ez.KeyCode.UpArrow},weight:eX.KeybindingWeight.EditorContrib},menuOpts:{menuId:eG.MenuId.MenubarSelectionMenu,group:"2_line",title:(0,eA.localize)(1223,"&&Copy Line Up"),order:1}})}}),(0,sN.registerEditorAction)(class extends sU{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:(0,eA.localize2)(1224,"Copy Line Down"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.Alt|ez.KeyMod.Shift|ez.KeyCode.DownArrow,linux:{primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Alt|ez.KeyMod.Shift|ez.KeyCode.DownArrow},weight:eX.KeybindingWeight.EditorContrib},menuOpts:{menuId:eG.MenuId.MenubarSelectionMenu,group:"2_line",title:(0,eA.localize)(1225,"Co&&py Line Down"),order:2}})}}),(0,sN.registerEditorAction)(sG),(0,sN.registerEditorAction)(class extends sq{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:(0,eA.localize2)(1228,"Move Line Up"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.Alt|ez.KeyCode.UpArrow,linux:{primary:ez.KeyMod.Alt|ez.KeyCode.UpArrow},weight:eX.KeybindingWeight.EditorContrib},menuOpts:{menuId:eG.MenuId.MenubarSelectionMenu,group:"2_line",title:(0,eA.localize)(1229,"Mo&&ve Line Up"),order:3}})}}),(0,sN.registerEditorAction)(class extends sq{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:(0,eA.localize2)(1230,"Move Line Down"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.Alt|ez.KeyCode.DownArrow,linux:{primary:ez.KeyMod.Alt|ez.KeyCode.DownArrow},weight:eX.KeybindingWeight.EditorContrib},menuOpts:{menuId:eG.MenuId.MenubarSelectionMenu,group:"2_line",title:(0,eA.localize)(1231,"Move &&Line Down"),order:4}})}}),(0,sN.registerEditorAction)(class extends sj{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:(0,eA.localize2)(1232,"Sort Lines Ascending"),precondition:eB.EditorContextKeys.writable})}}),(0,sN.registerEditorAction)(class extends sj{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:(0,eA.localize2)(1233,"Sort Lines Descending"),precondition:eB.EditorContextKeys.writable})}}),(0,sN.registerEditorAction)(sQ),(0,sN.registerEditorAction)(sY),(0,sN.registerEditorAction)(sZ),(0,sN.registerEditorAction)(sX),(0,sN.registerEditorAction)(s$),(0,sN.registerEditorAction)(sJ),(0,sN.registerEditorAction)(s0),(0,sN.registerEditorAction)(class extends s1{_getEndCursorState(e,t){let i=null,o=[],n=0;return t.forEach(t=>{let r;if(1===t.endColumn&&n>0){let e=t.startLineNumber-n;r=new ia.Selection(e,t.startColumn,e,t.startColumn)}else r=new ia.Selection(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);n+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=r:o.push(r)}),i&&o.unshift(i),o}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let i=t,o=e.getModel();return null===o?[]:(i.sort(iv.Range.compareRangesUsingStarts),i=i.map(e=>{if(!e.isEmpty())return new iv.Range(e.startLineNumber,1,e.endLineNumber,e.endColumn);if(1!==e.startColumn)return new iv.Range(e.startLineNumber,1,e.startLineNumber,e.startColumn);{let t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:o.getLineLength(t)+1;return new iv.Range(t,i,e.startLineNumber,1)}}))}constructor(){super({id:"deleteAllLeft",label:(0,eA.localize2)(1241,"Delete All Left"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ez.KeyMod.CtrlCmd|ez.KeyCode.Backspace},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,sN.registerEditorAction)(class extends s1{_getEndCursorState(e,t){let i=null,o=[];for(let n=0,r=t.length;n<r;n++){let r=t[n],s=new ia.Selection(r.startLineNumber-0,r.startColumn,r.startLineNumber-0,r.startColumn);r.intersectRanges(e)?i=s:o.push(s)}return i&&o.unshift(i),o}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let i=e.getSelections();if(null===i)return[];let o=i.map(e=>{if(e.isEmpty()){let i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new iv.Range(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new iv.Range(e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e});return o.sort(iv.Range.compareRangesUsingStarts),o}constructor(){super({id:"deleteAllRight",label:(0,eA.localize2)(1242,"Delete All Right"),precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyCode.KeyK,secondary:[ez.KeyMod.CtrlCmd|ez.KeyCode.Delete]},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,sN.registerEditorAction)(s2),(0,sN.registerEditorAction)(s3),(0,sN.registerEditorAction)(class extends s5{_modifyText(e,t){return e.toLocaleUpperCase()}constructor(){super({id:"editor.action.transformToUppercase",label:(0,eA.localize2)(1245,"Transform to Uppercase"),precondition:eB.EditorContextKeys.writable})}}),(0,sN.registerEditorAction)(class extends s5{_modifyText(e,t){return e.toLocaleLowerCase()}constructor(){super({id:"editor.action.transformToLowercase",label:(0,eA.localize2)(1246,"Transform to Lowercase"),precondition:eB.EditorContextKeys.writable})}}),s8.caseBoundary.isSupported()&&s8.singleLetters.isSupported()&&(0,sN.registerEditorAction)(s8),s9.wordBoundary.isSupported()&&(0,sN.registerEditorAction)(s9),s7.wordBoundary.isSupported()&&(0,sN.registerEditorAction)(s7),s6.titleBoundary.isSupported()&&(0,sN.registerEditorAction)(s6),ae.isSupported()&&(0,sN.registerEditorAction)(ae),e.s(["TrimTrailingWhitespaceAction",()=>sY],891680);var at=eD,ai=eV,ao=e.i(225696);(0,tT.default)(".monaco-editor .linked-editing-decoration{background-color:var(--vscode-editor-linkedEditingBackground);min-width:1px}",{});let an=new eQ.RawContextKey("LinkedEditingInputVisible",!1),ar=(R=T=class extends at.Disposable{static get(e){return e.getContribution(R.ID)}reinitialize(e){let t=this._editor.getModel(),i=null!==t&&(this._editor.getOption(iB.EditorOption.linkedEditing)||this._editor.getOption(iB.EditorOption.renameOnType))&&this._providers.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||null===t))return;this._localToDispose.add(e0.Event.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));let o=new tF.Delayer(this._debounceInformation.get(t)),n=()=>{var e;this._rangeUpdateTriggerPromise=o.trigger(()=>this.updateRanges(),null!=(e=this._debounceDuration)?e:this._debounceInformation.get(t))},r=new tF.Delayer(0),s=e=>{this._rangeSyncTriggerPromise=r.trigger(()=>this._syncRanges(e))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{n()})),this._localToDispose.add(this._editor.onDidChangeModelContent(e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){let t=this._currentDecorations.getRange(0);if(t&&e.changes.every(e=>t.intersectRanges(e.range)))return void s(this._syncRangesToken)}n()})),this._localToDispose.add({dispose:()=>{o.dispose(),r.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||0===this._currentDecorations.length)return;let t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();let o=t.getValueInRange(i);if(this._currentWordPattern){let e=o.match(this._currentWordPattern);if((e?e[0].length:0)!==o.length)return this.clearRanges()}let n=[];for(let e=1,i=this._currentDecorations.length;e<i;e++){let i=this._currentDecorations.getRange(e);if(i)if(i.startLineNumber!==i.endLineNumber)n.push({range:i,text:o});else{let e=t.getValueInRange(i),r=o,s=i.startColumn,a=i.endColumn,l=(0,iE.commonPrefixLength)(e,r);s+=l,e=e.substr(l),r=r.substr(l);let d=(0,iE.commonSuffixLength)(e,r);a-=d,e=e.substr(0,e.length-d),r=r.substr(0,r.length-d),(s!==a||0!==r.length)&&n.push({range:new iv.Range(i.startLineNumber,s,i.endLineNumber,a),text:r})}}if(0!==n.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;let e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",n),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}get currentUpdateTriggerPromise(){return this._rangeUpdateTriggerPromise||Promise.resolve()}get currentSyncTriggerPromise(){return this._rangeSyncTriggerPromise||Promise.resolve()}async updateRanges(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._editor.hasModel())return void this.clearRanges();let t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1)return void this.clearRanges();let i=this._editor.getModel(),o=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){let e=this._currentDecorations.getRange(0);if(e&&e.containsPosition(t))return}}this.clearRanges(),this._currentRequestPosition=t,this._currentRequestModelVersion=o;let n=this._currentRequestCts=new eW.CancellationTokenSource;try{let e=new ao.StopWatch(!1),r=await al(this._providers,i,t,n.token);if(this._debounceInformation.update(i,e.elapsed()),n!==this._currentRequestCts||(this._currentRequestCts=null,o!==i.getVersionId()))return;let s=[];(null==r?void 0:r.ranges)&&(s=r.ranges),this._currentWordPattern=(null==r?void 0:r.wordPattern)||this._languageWordPattern;let a=!1;for(let e=0,i=s.length;e<i;e++)if(iv.Range.containsPosition(s[e],t)){if(a=!0,0!==e){let t=s[e];s.splice(e,1),s.unshift(t)}break}if(!a)return void this.clearRanges();let l=s.map(e=>({range:e,options:R.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(l),this._syncRangesToken++}catch(e){(0,tp.isCancellationError)(e)||(0,tp.onUnexpectedError)(e),this._currentRequestCts!==n&&this._currentRequestCts||this.clearRanges()}}setDebounceDuration(e){this._debounceDuration=e}constructor(e,t,i,o,n){super(),this.languageConfigurationService=o,this._syncRangesToken=0,this._localToDispose=this._register(new at.DisposableStore),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=an.bindTo(t),this._debounceInformation=n.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new at.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(iB.EditorOption.linkedEditing)||e.hasChanged(iB.EditorOption.renameOnType))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}},T.ID="editor.contrib.linkedEditing",T.DECORATION=i2.ModelDecorationOptions.register({description:"linked-editing",stickiness:il.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,className:"linked-editing-decoration"}),T);ar=R=(0,ex.__decorate)([(0,ex.__param)(1,eY.IContextKeyService),(0,ex.__param)(2,e3.ILanguageFeaturesService),(0,ex.__param)(3,ox.ILanguageConfigurationService),(0,ex.__param)(4,oe.ILanguageFeatureDebounceService)],ar);class as extends ai.EditorAction{runCommand(e,t){let i=e.get(tm.ICodeEditorService),[o,n]=Array.isArray(t)&&t||[void 0,void 0];return iU.URI.isUri(o)&&oA.Position.isIPosition(n)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(n),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},tp.onUnexpectedError):super.runCommand(e,t)}run(e,t){let i=ar.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}constructor(){super({id:"editor.action.linkedEditing",label:(0,eA.localize2)(1252,"Start Linked Editing"),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,eB.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.F2,weight:eX.KeybindingWeight.EditorContrib}})}}let aa=ai.EditorCommand.bindToContribution(ar.get);function al(e,t,i,o){let n=e.ordered(t);return(0,tF.first)(n.map(e=>async()=>{try{return await e.provideLinkedEditingRanges(t,i,o)}catch(e){(0,tp.onUnexpectedExternalError)(e);return}}),e=>!!e&&(0,o3.isNonEmptyArray)(null==e?void 0:e.ranges))}(0,ai.registerEditorCommand)(new aa({id:"cancelLinkedEditingInput",precondition:an,handler:e=>e.clearRanges(),kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,weight:eX.KeybindingWeight.EditorContrib+99,primary:ez.KeyCode.Escape,secondary:[ez.KeyMod.Shift|ez.KeyCode.Escape]}})),(0,n9.registerColor)("editor.linkedEditingBackground",{dark:tN.Color.fromHex("#f00").transparent(.3),light:tN.Color.fromHex("#f00").transparent(.3),hcDark:tN.Color.fromHex("#f00").transparent(.3),hcLight:tN.Color.white},(0,eA.localize)(1253,"Background color when the editor auto renames on type.")),(0,ai.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(e,t,i)=>{let{linkedEditingRangeProvider:o}=e.get(e3.ILanguageFeaturesService);return al(o,t,i,eW.CancellationToken.None)}),(0,ai.registerEditorContribution)(ar.ID,ar,ai.EditorContributionInstantiation.AfterFirstRender),(0,ai.registerEditorAction)(as),e.s([],217508);var ad=eD;class ac extends ad.Disposable{static get(e){return e.getContribution(ac.ID)}constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(e=>{let t=this._editor.getOption(iB.EditorOption.stopRenderingLineAfter);t>=0&&e.target.type===iz.MouseTargetType.CONTENT_TEXT&&e.target.position.column>=t&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}ac.ID="editor.contrib.longLinesHelper",(0,eV.registerEditorContribution)(ac.ID,ac,eV.EditorContributionInstantiation.BeforeFirstInteraction),e.s([],583763);var au=eD,ah=eV,ap=eD;let ag={Visible:new eQ.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new eQ.RawContextKey("parameterHintsMultipleSignatures",!1)};async function am(e,t,i,o,n){for(let r of e.ordered(t))try{let e=await r.provideSignatureHelp(t,i,n,o);if(e)return e}catch(e){(0,tp.onUnexpectedExternalError)(e)}}tw.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",async function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let[n,r,s]=i;(0,iH.assertType)(iU.URI.isUri(n)),(0,iH.assertType)(oA.Position.isIPosition(r)),(0,iH.assertType)("string"==typeof s||!s);let a=e.get(e3.ILanguageFeaturesService),l=await e.get(tS.ITextModelService).createModelReference(n);try{let e=await am(a.signatureHelpProvider,l.object.textEditorModel,oA.Position.lift(r),{triggerKind:nV.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:s},eW.CancellationToken.None);if(!e)return;return setTimeout(()=>e.dispose(),0),e.value}finally{l.dispose()}}),function(e){var t;let i;(t=i=e.Type||(e.Type={}))[t.Default=0]="Default",t[t.Active=1]="Active",t[t.Pending=2]="Pending",e.Default={type:i.Default},e.Pending=class{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=i.Pending}},e.Active=class{constructor(e){this.hints=e,this.type=i.Active}}}(N||(N={}));class av extends ap.Disposable{get state(){return this._state}set state(e){this._state.type===N.Type.Pending&&this._state.request.cancel(),this._state=e}cancel(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state=N.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){let i=this.editor.getModel();if(!i||!this.providers.has(i))return;let o=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(o),t).catch(tp.onUnexpectedError)}next(){if(this.state.type!==N.Type.Active)return;let e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e==e-1,o=this.editor.getOption(iB.EditorOption.parameterHints).cycle;if((e<2||i)&&!o)return void this.cancel();this.updateActiveSignature(i&&o?0:t+1)}previous(){if(this.state.type!==N.Type.Active)return;let e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,o=this.editor.getOption(iB.EditorOption.parameterHints).cycle;if((e<2||i)&&!o)return void this.cancel();this.updateActiveSignature(i&&o?e-1:t-1)}updateActiveSignature(e){this.state.type===N.Type.Active&&(this.state=new N.Active({...this.state.hints,activeSignature:e}),this._onChangedHints.fire(this.state.hints))}async doTrigger(e){let t=this.state.type===N.Type.Active||this.state.type===N.Type.Pending,i=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;let o=this._pendingTriggers.reduce(a_);this._pendingTriggers=[];let n={triggerKind:o.triggerKind,triggerCharacter:o.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;let r=this.editor.getModel(),s=this.editor.getPosition();this.state=new N.Pending((0,tF.createCancelablePromise)(e=>am(this.providers,r,s,n,e)),i);try{let t=await this.state.request;if(e!==this.triggerId)return null==t||t.dispose(),!1;if(!t||!t.value.signatures||0===t.value.signatures.length)return null==t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1;return this.state=new N.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0}catch(t){return e===this.triggerId&&(this.state=N.Default),(0,tp.onUnexpectedError)(t),!1}}getLastActiveHints(){switch(this.state.type){case N.Type.Active:return this.state.hints;case N.Type.Pending:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===N.Type.Active||this.state.type===N.Type.Pending||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();let e=this.editor.getModel();if(e)for(let t of this.providers.ordered(e)){for(let e of t.signatureHelpTriggerCharacters||[])if(e.length){let t=e.charCodeAt(0);this.triggerChars.add(t),this.retriggerChars.add(t)}for(let e of t.signatureHelpRetriggerCharacters||[])e.length&&this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;let t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:nV.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:nV.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:nV.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(iB.EditorOption.parameterHints).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}constructor(e,t,i=av.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new e0.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=N.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new ap.MutableDisposable),this.triggerChars=new o4.CharacterSet,this.retriggerChars=new o4.CharacterSet,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new tF.Delayer(i),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(e=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(e=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(e=>this.onCursorChange(e))),this._register(this.editor.onDidChangeModelContent(e=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(e=>this.onDidType(e))),this.onEditorConfigurationChange(),this.onModelChanged()}}function a_(e,t){switch(t.triggerKind){case nV.SignatureHelpTriggerKind.Invoke:return t;case nV.SignatureHelpTriggerKind.ContentChange:return e;case nV.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}av.DEFAULT_DELAY=120;var af=eD;(0,tT.default)('.monaco-editor .parameter-hints-widget{background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border);color:var(--vscode-editorHoverWidget-foreground);cursor:default;display:flex;flex-direction:column;line-height:1.5em;z-index:39}.hc-black .monaco-editor .parameter-hints-widget,.hc-light .monaco-editor .parameter-hints-widget{border-width:2px}.monaco-editor .parameter-hints-widget>.phwrapper{display:flex;flex-direction:row;max-width:440px}.monaco-editor .parameter-hints-widget.multiple{min-height:3.3em;padding:0}.monaco-editor .parameter-hints-widget.multiple .body:before{border-left:1px solid var(--vscode-editorHoverWidget-border);content:"";display:block;height:100%;opacity:.5;position:absolute}.monaco-editor .parameter-hints-widget p,.monaco-editor .parameter-hints-widget ul{margin:8px 0}.monaco-editor .parameter-hints-widget .body,.monaco-editor .parameter-hints-widget .monaco-scrollable-element{display:flex;flex:1;flex-direction:column;min-height:100%}.monaco-editor .parameter-hints-widget .signature{padding:4px 5px;position:relative}.monaco-editor .parameter-hints-widget .signature.has-docs:after{border-bottom:1px solid var(--vscode-editorHoverWidget-border);content:"";display:block;left:0;opacity:.5;padding-top:4px;position:absolute;width:100%}.monaco-editor .parameter-hints-widget .code{font-family:var(--vscode-parameterHintsWidget-editorFontFamily),var(--vscode-parameterHintsWidget-editorFontFamilyDefault)}.monaco-editor .parameter-hints-widget .docs{padding:0 10px 0 5px;white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs.empty{display:none}.monaco-editor .parameter-hints-widget .docs a{color:var(--vscode-textLink-foreground)}.monaco-editor .parameter-hints-widget .docs a:hover{color:var(--vscode-textLink-activeForeground);cursor:pointer}.monaco-editor .parameter-hints-widget .docs .markdown-docs{white-space:normal}.monaco-editor .parameter-hints-widget .docs code{background-color:var(--vscode-textCodeBlock-background);border-radius:3px;font-family:var(--monaco-monospace-font);padding:0 .4em}.monaco-editor .parameter-hints-widget .docs .code,.monaco-editor .parameter-hints-widget .docs .monaco-tokenized-source{white-space:pre-wrap}.monaco-editor .parameter-hints-widget .controls{align-items:center;display:none;flex-direction:column;justify-content:flex-end;min-width:22px}.monaco-editor .parameter-hints-widget.multiple .controls{display:flex;padding:0 2px}.monaco-editor .parameter-hints-widget.multiple .button{background-repeat:no-repeat;cursor:pointer;height:16px;width:16px}.monaco-editor .parameter-hints-widget .button.previous{bottom:24px}.monaco-editor .parameter-hints-widget .overloads{font-family:var(--monaco-monospace-font);height:12px;line-height:12px;text-align:center}.monaco-editor .parameter-hints-widget .signature .parameter.active{color:var(--vscode-editorHoverWidget-highlightForeground);font-weight:700}.monaco-editor .parameter-hints-widget .documentation-parameter>.parameter{font-weight:700;margin-right:.5em}',{});let ay=eK.$,aC=(0,nJ.registerIcon)("parameter-hints-next",it.Codicon.chevronDown,(0,eA.localize)(1289,"Icon for show next parameter hint.")),ab=(0,nJ.registerIcon)("parameter-hints-previous",it.Codicon.chevronUp,(0,eA.localize)(1290,"Icon for show previous parameter hint.")),aS=(O=P=class extends af.Disposable{createParameterHintDOMNodes(){let e=ay(".editor-widget.parameter-hints-widget"),t=(0,eK.append)(e,ay(".phwrapper"));t.tabIndex=-1;let i=(0,eK.append)(t,ay(".controls")),o=(0,eK.append)(i,ay(".button"+r3.ThemeIcon.asCSSSelector(ab))),n=(0,eK.append)(i,ay(".overloads")),r=(0,eK.append)(i,ay(".button"+r3.ThemeIcon.asCSSSelector(aC)));this._register((0,eK.addDisposableListener)(o,"click",e=>{eK.EventHelper.stop(e),this.previous()})),this._register((0,eK.addDisposableListener)(r,"click",e=>{eK.EventHelper.stop(e),this.next()}));let s=ay(".body"),a=new n0.DomScrollableElement(s,{alwaysConsumeMouseWheel:!0});this._register(a),t.appendChild(a.getDomNode());let l=(0,eK.append)(s,ay(".signature")),d=(0,eK.append)(s,ay(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:l,overloads:n,docs:d,scrollbar:a},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(e=>{this.visible&&this.editor.layoutContentWidget(this)}));let c=()=>{if(!this.domNodes)return;let e=this.editor.getOption(iB.EditorOption.fontInfo),t=this.domNodes.element;t.style.fontSize="".concat(e.fontSize,"px"),t.style.lineHeight="".concat(e.lineHeight/e.fontSize),t.style.setProperty("--vscode-parameterHintsWidget-editorFontFamily",e.fontFamily),t.style.setProperty("--vscode-parameterHintsWidget-editorFontFamilyDefault",iB.EDITOR_FONT_DEFAULTS.fontFamily)};c(),this._register(e0.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor),e=>e.filter(e=>e.hasChanged(iB.EditorOption.fontInfo)))(c)),this._register(this.editor.onDidLayoutChange(e=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var e;null==(e=this.domNodes)||e.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,null==(e=this.domNodes)||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[iz.ContentWidgetPositionPreference.ABOVE,iz.ContentWidgetPositionPreference.BELOW]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;let i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";let o=e.signatures[e.activeSignature];if(!o)return;let n=(0,eK.append)(this.domNodes.signature,ay(".code")),r=o.parameters.length>0,s=null!=(t=o.activeParameter)?t:e.activeParameter;r?this.renderParameters(n,o,s):(0,eK.append)(n,ay("span")).textContent=o.label;let a=o.parameters[s];if(null==a?void 0:a.documentation){let e=ay("span.documentation");if("string"==typeof a.documentation)e.textContent=a.documentation;else{let t=this.renderMarkdownDocs(a.documentation);e.appendChild(t.element)}(0,eK.append)(this.domNodes.docs,ay("p",{},e))}if(void 0===o.documentation);else if("string"==typeof o.documentation)(0,eK.append)(this.domNodes.docs,ay("p",{},o.documentation));else{let e=this.renderMarkdownDocs(o.documentation);(0,eK.append)(this.domNodes.docs,e.element)}let l=this.hasDocs(o,a);if(this.domNodes.signature.classList.toggle("has-docs",l),this.domNodes.docs.classList.toggle("empty",!l),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,a){let e="",t=o.parameters[s];e=Array.isArray(t.label)?o.label.substring(t.label[0],t.label[1]):t.label,t.documentation&&(e+="string"==typeof t.documentation?", ".concat(t.documentation):", ".concat(t.documentation.value)),o.documentation&&(e+="string"==typeof o.documentation?", ".concat(o.documentation):", ".concat(o.documentation.value)),this.announcedLabel!==e&&((0,io.alert)((0,eA.localize)(1291,"{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){let t=new ao.StopWatch,i=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null==(e=this.domNodes)||e.scrollbar.scanDomNode()}}));i.element.classList.add("markdown-docs");let o=t.elapsed();return o>300&&this.telemetryService.publicLog2("parameterHints.parseMarkdown",{renderDuration:o}),i}hasDocs(e,t){return!!t&&"string"==typeof t.documentation&&!!((0,iH.assertIsDefined)(t.documentation).length>0)||!!t&&"object"==typeof t.documentation&&!!((0,iH.assertIsDefined)(t.documentation).value.length>0)||!!e.documentation&&"string"==typeof e.documentation&&!!((0,iH.assertIsDefined)(e.documentation).length>0)||!!e.documentation&&"object"==typeof e.documentation&&!!((0,iH.assertIsDefined)(e.documentation.value).length>0)}renderParameters(e,t,i){let[o,n]=this.getParameterLabelOffsets(t,i),r=document.createElement("span");r.textContent=t.label.substring(0,o);let s=document.createElement("span");s.textContent=t.label.substring(o,n),s.className="parameter active";let a=document.createElement("span");a.textContent=t.label.substring(n),(0,eK.append)(e,r,s,a)}getParameterLabelOffsets(e,t){let i=e.parameters[t];if(!i)return[0,0];{if(Array.isArray(i.label))return i.label;if(!i.label.length)return[0,0];let t=RegExp("(\\W|^)".concat((0,iE.escapeRegExpCharacters)(i.label),"(?=\\W|$)"),"g");t.test(e.label);let o=t.lastIndex-i.label.length;return o>=0?[o,t.lastIndex]:[0,0]}}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return O.ID}updateMaxHeight(){if(!this.domNodes)return;let e=Math.max(this.editor.getLayoutInfo().height/4,250),t="".concat(e,"px");this.domNodes.element.style.maxHeight=t;let i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}constructor(e,t,i,o,n,r){super(),this.editor=e,this.model=t,this.telemetryService=r,this.renderDisposeables=this._register(new af.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new nL.MarkdownRenderer({editor:e},n,o)),this.keyVisible=ag.Visible.bindTo(i),this.keyMultipleSignatures=ag.MultipleSignatures.bindTo(i)}},P.ID="editor.widget.parameterHintsWidget",P);aS=O=(0,ex.__decorate)([(0,ex.__param)(2,eY.IContextKeyService),(0,ex.__param)(3,nR.IOpenerService),(0,ex.__param)(4,nA.ILanguageService),(0,ex.__param)(5,nN.ITelemetryService)],aS),(0,n9.registerColor)("editorHoverWidget.highlightForeground",ri.listHighlightForeground,(0,eA.localize)(1292,"Foreground color of the active item in the parameter hint."));let aw=(K=F=class extends au.Disposable{static get(e){return e.getContribution(K.ID)}cancel(){this.model.cancel()}previous(){var e;null==(e=this.widget.rawValue)||e.previous()}next(){var e;null==(e=this.widget.rawValue)||e.next()}trigger(e){this.model.trigger(e,0)}constructor(e,t,i){super(),this.editor=e,this.model=this._register(new av(e,i.signatureHelpProvider)),this._register(this.model.onChangedHints(e=>{if(e)this.widget.value.show(),this.widget.value.render(e);else{var t;null==(t=this.widget.rawValue)||t.hide()}})),this.widget=new tM.Lazy(()=>this._register(t.createInstance(aS,this.editor,this.model)))}},F.ID="editor.controller.parameterHints",F);aw=K=(0,ex.__decorate)([(0,ex.__param)(1,eZ.IInstantiationService),(0,ex.__param)(2,e3.ILanguageFeaturesService)],aw);class aE extends ah.EditorAction{run(e,t){let i=aw.get(t);null==i||i.trigger({triggerKind:nV.SignatureHelpTriggerKind.Invoke})}constructor(){super({id:"editor.action.triggerParameterHints",label:(0,eA.localize2)(1288,"Trigger Parameter Hints"),precondition:eB.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.Space,weight:eX.KeybindingWeight.EditorContrib}})}}(0,ah.registerEditorContribution)(aw.ID,aw,ah.EditorContributionInstantiation.BeforeFirstInteraction),(0,ah.registerEditorAction)(aE);let aI=eX.KeybindingWeight.EditorContrib+75,ax=ah.EditorCommand.bindToContribution(aw.get);(0,ah.registerEditorCommand)(new ax({id:"closeParameterHints",precondition:ag.Visible,handler:e=>e.cancel(),kbOpts:{weight:aI,kbExpr:eB.EditorContextKeys.focus,primary:ez.KeyCode.Escape,secondary:[ez.KeyMod.Shift|ez.KeyCode.Escape]}})),(0,ah.registerEditorCommand)(new ax({id:"showPrevParameterHint",precondition:eQ.ContextKeyExpr.and(ag.Visible,ag.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:aI,kbExpr:eB.EditorContextKeys.focus,primary:ez.KeyCode.UpArrow,secondary:[ez.KeyMod.Alt|ez.KeyCode.UpArrow],mac:{primary:ez.KeyCode.UpArrow,secondary:[ez.KeyMod.Alt|ez.KeyCode.UpArrow,ez.KeyMod.WinCtrl|ez.KeyCode.KeyP]}}})),(0,ah.registerEditorCommand)(new ax({id:"showNextParameterHint",precondition:eQ.ContextKeyExpr.and(ag.Visible,ag.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:aI,kbExpr:eB.EditorContextKeys.focus,primary:ez.KeyCode.DownArrow,secondary:[ez.KeyMod.Alt|ez.KeyCode.DownArrow],mac:{primary:ez.KeyCode.DownArrow,secondary:[ez.KeyMod.Alt|ez.KeyCode.DownArrow,ez.KeyMod.WinCtrl|ez.KeyCode.KeyN]}}})),e.s([],39192),(0,tT.default)(".monaco-editor{--vscode-editor-placeholder-foreground:var(--vscode-editorGhostText-foreground);.editorPlaceholder{text-wrap:nowrap;color:var(--vscode-editor-placeholder-foreground);overflow:hidden;pointer-events:none;position:absolute;text-overflow:ellipsis;top:0}}",{});var aD=e.i(425156),ak=e.i(314479);e.i(350322),(0,eV.registerEditorContribution)(ak.PlaceholderTextContribution.ID,ak.PlaceholderTextContribution,eV.EditorContributionInstantiation.Eager),(0,n9.registerColor)("editor.placeholder.foreground",aD.ghostTextForeground,(0,eA.localize)(1310,"Foreground color of the placeholder text in the editor.")),e.s([],381853);var aA=eV,aM=e.i(578725),aL=e.i(623947),aT=e.i(72985),aR=eG,aN=e.i(630903),aP=e.i(426100);(0,tT.default)(".monaco-editor .rename-box{border-radius:4px;color:inherit;z-index:100}.monaco-editor .rename-box.preview{padding:4px 4px 0}.monaco-editor .rename-box .rename-input-with-button{border-radius:2px;padding:3px;width:calc(100% - 8px)}.monaco-editor .rename-box .rename-input{padding:0;width:calc(100% - 8px)}.monaco-editor .rename-box .rename-input:focus{outline:none}.monaco-editor .rename-box .rename-suggestions-button{align-items:center;background-color:transparent;border:none;border-radius:5px;cursor:pointer;display:flex;padding:3px}.monaco-editor .rename-box .rename-suggestions-button:hover{background-color:var(--vscode-toolbar-hoverBackground)}.monaco-editor .rename-box .rename-candidate-list-container .monaco-list-row{border-radius:2px}.monaco-editor .rename-box .rename-label{display:none;opacity:.8}.monaco-editor .rename-box.preview .rename-label{display:inherit}",{});var aO=e.i(850331),aF=e.i(223658);let aK=new eQ.RawContextKey("renameInputVisible",!1,(0,eA.localize)(1361,"Whether the rename input widget is visible")),aW=class{dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new az(this._domNode,{fontInfo:this._editor.getOption(iB.EditorOption.fontInfo),onFocusChange:e=>{this._inputWithButton.input.value=e,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{var e,t,i;(null==(e=this._renameCandidateListView)?void 0:e.focusedCandidate)!==void 0&&(this._isEditingRenameCandidate=!0),null!=this._timeBeforeFirstInputFieldEdit||(this._timeBeforeFirstInputFieldEdit=this._beforeFirstInputFieldEditSW.elapsed()),(null==(t=this._renameCandidateProvidersCts)?void 0:t.token.isCancellationRequested)===!1&&this._renameCandidateProvidersCts.cancel(),null==(i=this._renameCandidateListView)||i.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(e){var t,i,o,n,r;if(!this._domNode)return;let s=e.getColor(re.widgetShadow),a=e.getColor(re.widgetBorder);this._domNode.style.backgroundColor=String(null!=(t=e.getColor(re.editorWidgetBackground))?t:""),this._domNode.style.boxShadow=s?" 0 0 8px 2px ".concat(s):"",this._domNode.style.border=a?"1px solid ".concat(a):"",this._domNode.style.color=String(null!=(i=e.getColor(rt.inputForeground))?i:"");let l=e.getColor(rt.inputBorder);this._inputWithButton.domNode.style.backgroundColor=String(null!=(o=e.getColor(rt.inputBackground))?o:""),this._inputWithButton.input.style.backgroundColor=String(null!=(n=e.getColor(rt.inputBackground))?n:""),this._inputWithButton.domNode.style.borderWidth=l?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=l?"solid":"none",this._inputWithButton.domNode.style.borderColor=null!=(r=null==l?void 0:l.toString())?r:"none"}_updateFont(){if(void 0===this._domNode)return;(0,iH.assertType)(void 0!==this._label,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);let e=this._editor.getOption(iB.EditorOption.fontInfo);this._label.style.fontSize="".concat(this._computeLabelFontSize(e.fontSize),"px")}_computeLabelFontSize(e){return .8*e}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;let e=(0,eK.getClientArea)(this.getDomNode().ownerDocument.body),t=(0,eK.getDomNodePagePosition)(this._editor.getDomNode()),i=this._getTopForPosition();this._nPxAvailableAbove=i+t.top,this._nPxAvailableBelow=e.height-this._nPxAvailableAbove;let o=this._editor.getOption(iB.EditorOption.lineHeight),{totalHeight:n}=aB.getLayoutInfo({lineHeight:o}),r=this._nPxAvailableBelow>6*n?[iz.ContentWidgetPositionPreference.BELOW,iz.ContentWidgetPositionPreference.ABOVE]:[iz.ContentWidgetPositionPreference.ABOVE,iz.ContentWidgetPositionPreference.BELOW];return{position:this._position,preference:r}}beforeRender(){var e,t;let[i,o]=this._acceptKeybindings;return this._label.innerText=(0,eA.localize)(1362,"{0} to Rename, {1} to Preview",null==(e=this._keybindingService.lookupKeybinding(i))?void 0:e.getLabel(),null==(t=this._keybindingService.lookupKeybinding(o))?void 0:t.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(e){let t;if(null===e)return void this.cancelInput(!0,"afterRender (because position is null)");if(!this._editor.hasModel()||!this._editor.getDomNode())return;(0,iH.assertType)(this._renameCandidateListView),(0,iH.assertType)(void 0!==this._nPxAvailableAbove),(0,iH.assertType)(void 0!==this._nPxAvailableBelow);let i=(0,eK.getTotalHeight)(this._inputWithButton.domNode),o=(0,eK.getTotalHeight)(this._label);t=e===iz.ContentWidgetPositionPreference.BELOW?this._nPxAvailableBelow:this._nPxAvailableAbove,this._renameCandidateListView.layout({height:t-o-i,width:(0,eK.getTotalWidth)(this._inputWithButton.domNode)})}acceptInput(e){var t;this._trace("invoking acceptInput"),null==(t=this._currentAcceptInput)||t.call(this,e)}cancelInput(e,t){var i;null==(i=this._currentCancelInput)||i.call(this,e)}focusNextRenameSuggestion(){var e;(null==(e=this._renameCandidateListView)?void 0:e.focusNext())||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){var e;(null==(e=this._renameCandidateListView)?void 0:e.focusPrevious())||(this._inputWithButton.input.value=this._currentName)}getInput(e,t,i,o,n){let{start:r,end:s}=this._getSelection(e,t);this._renameCts=n;let a=new eD.DisposableStore;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,void 0===o?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=o,this._requestRenameCandidates(t,!1),a.add((0,eK.addDisposableListener)(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(t,!0))),a.add((0,eK.addDisposableListener)(this._inputWithButton.button,eK.EventType.KEY_DOWN,e=>{let i=new tO.StandardKeyboardEvent(e);(i.equals(ez.KeyCode.Enter)||i.equals(ez.KeyCode.Space))&&(i.stopPropagation(),i.preventDefault(),this._requestRenameCandidates(t,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",i),this._position=new oA.Position(e.startLineNumber,e.startColumn),this._currentName=t,this._inputWithButton.input.value=t,this._inputWithButton.input.setAttribute("selectionStart",r.toString()),this._inputWithButton.input.setAttribute("selectionEnd",s.toString()),this._inputWithButton.input.size=Math.max((e.endColumn-e.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset(),a.add((0,eD.toDisposable)(()=>{this._renameCts=void 0,n.dispose(!0)})),a.add((0,eD.toDisposable)(()=>{void 0!==this._renameCandidateProvidersCts&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),a.add((0,eD.toDisposable)(()=>this._candidates.clear()));let l=new tF.DeferredPromise;return l.p.finally(()=>{a.dispose(),this._hide()}),this._currentCancelInput=e=>{var t;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,null==(t=this._renameCandidateListView)||t.clearCandidates(),l.complete(e),!0},this._currentAcceptInput=e=>{let o,n;this._trace("invoking _currentAcceptInput"),(0,iH.assertType)(void 0!==this._renameCandidateListView);let r=this._renameCandidateListView.nCandidates,s=this._renameCandidateListView.focusedCandidate;if(void 0!==s?(this._trace("using new name from renameSuggestion"),o=s,n={k:"renameSuggestion"}):(this._trace("using new name from inputField"),o=this._inputWithButton.input.value,n=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),o===t||0===o.trim().length)return void this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),l.complete({newName:o,wantsPreview:i&&e,stats:{source:n,nRenameSuggestions:r,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}})},a.add(n.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),a.add(this._editor.onDidBlurEditorWidget(()=>{var e;return this.cancelInput(!(null==(e=this._domNode)?void 0:e.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show(),l.p}_requestRenameCandidates(e,t){if(void 0!==this._requestRenameCandidatesOnce&&(void 0!==this._renameCandidateProvidersCts&&this._renameCandidateProvidersCts.dispose(!0),(0,iH.assertType)(this._renameCts),"stop"!==this._inputWithButton.buttonState)){this._renameCandidateProvidersCts=new eW.CancellationTokenSource;let i=t?nV.NewSymbolNameTriggerKind.Invoke:nV.NewSymbolNameTriggerKind.Automatic,o=this._requestRenameCandidatesOnce(i,this._renameCandidateProvidersCts.token);if(0===o.length)return void this._inputWithButton.setSparkleButton();t||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(o,e,this._renameCts.token)}}_getSelection(e,t){(0,iH.assertType)(this._editor.hasModel());let i=this._editor.getSelection(),o=0,n=t.length;return!iv.Range.isEmpty(i)&&!iv.Range.spansMultipleLines(i)&&iv.Range.containsRange(e,i)&&(o=Math.max(0,i.startColumn-e.startColumn),n=Math.min(e.endColumn,i.endColumn)-e.startColumn),{start:o,end:n}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,oH.ScrollType.Smooth),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(e,t,i){var o=this;let n=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return o._trace("_updateRenameCandidates",...t)};n("start");let r=await (0,tF.raceCancellation)(Promise.allSettled(e),i);if(this._inputWithButton.setSparkleButton(),void 0===r)return void n("returning early - received updateRenameCandidates results - undefined");let s=r.flatMap(e=>"fulfilled"===e.status&&(0,iH.isDefined)(e.value)?e.value:[]);n("received updateRenameCandidates results - total (unfiltered) ".concat(s.length," candidates."));let a=(0,o3.distinct)(s,e=>e.newSymbolName);n("distinct candidates - ".concat(a.length," candidates."));let l=a.filter(e=>{let{newSymbolName:i}=e;return i.trim().length>0&&i!==this._inputWithButton.input.value&&i!==t&&!this._candidates.has(i)});if(n("valid distinct candidates - ".concat(s.length," candidates.")),l.forEach(e=>this._candidates.add(e.newSymbolName)),l.length<1)return void n("returning early - no valid distinct candidates");n("setting candidates"),this._renameCandidateListView.setCandidates(l),n("asking editor to re-layout"),this._editor.layoutContentWidget(this)}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){let e,t=this._editor.getVisibleRanges();return t.length>0?e=t[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),e=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(e)}_trace(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];this._logService.trace("RenameWidget",...t)}constructor(e,t,i,o,n,r){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=o,this._logService=r,this.allowEditorOverflow=!0,this._disposables=new eD.DisposableStore,this._visibleContextKey=aK.bindTo(n),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new ao.StopWatch,this._inputWithButton=new aV,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(iB.EditorOption.fontInfo)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}};aW=(0,ex.__decorate)([(0,ex.__param)(2,oh.IThemeService),(0,ex.__param)(3,e6.IKeybindingService),(0,ex.__param)(4,eY.IContextKeyService),(0,ex.__param)(5,tB.ILogService)],aW);class az{dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout(e){let{height:t,width:i}=e;this._availableHeight=t,this._minimumWidth=i}setCandidates(e){this._listWidget.splice(0,0,e);let t=this._pickListHeight(this._listWidget.length),i=this._pickListWidth(e);this._listWidget.layout(t,i),this._listContainer.style.height="".concat(t,"px"),this._listContainer.style.width="".concat(i,"px"),(0,io.status)((0,eA.localize)(1363,"Received {0} rename suggestions",e.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(0===this._listWidget.length)return;let e=this._listWidget.getSelectedElements()[0];if(void 0!==e)return e.newSymbolName;let t=this._listWidget.getFocusedElements()[0];if(void 0!==t)return t.newSymbolName}focusNext(){if(0===this._listWidget.length)return!1;let e=this._listWidget.getFocus();if(0===e.length)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(e[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}}focusPrevious(){if(0===this._listWidget.length)return!1;let e=this._listWidget.getFocus();if(0===e.length){this._listWidget.focusLast();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}if(0===e[0])return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){let{totalHeight:e}=aB.getLayoutInfo({lineHeight:this._lineHeight});return e}_pickListHeight(e){return Math.min(this._candidateViewHeight*e,this._availableHeight,7*this._candidateViewHeight)}_pickListWidth(e){let t=Math.ceil(Math.max(...e.map(e=>e.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+t+10)}static _createListWidget(e,t,i){let o=new class{getTemplateId(e){return"candidate"}getHeight(e){return t}},n=new class{renderTemplate(e){return new aB(e,i)}renderElement(e,t,i){i.populate(e)}disposeTemplate(e){e.dispose()}constructor(){this.templateId="candidate"}};return new aP.List("NewSymbolNameCandidates",e,o,[n],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}constructor(e,t){this._disposables=new eD.DisposableStore,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=t.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=t.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",e.appendChild(this._listContainer),this._listWidget=az._createListWidget(this._listContainer,this._candidateViewHeight,t.fontInfo),this._listWidget.onDidChangeFocus(e=>{1===e.elements.length&&t.onFocusChange(e.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(e=>{1===e.elements.length&&t.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(e=>{this._listWidget.setFocus([])})),this._listWidget.style((0,aF.getListStyles)({listInactiveFocusForeground:rn.quickInputListFocusForeground,listInactiveFocusBackground:rn.quickInputListFocusBackground}))}}class aV{get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",(0,eA.localize)(1364,"Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=(0,eA.localize)(1365,"Generate new name suggestions"),this._buttonCancelHoverText=(0,eA.localize)(1366,"Cancel"),this._buttonHoverContent=this._buttonGenHoverText,this._disposables.add((0,aN.getBaseLayerHoverDelegate)().setupDelayedHover(this._buttonNode,()=>({content:this._buttonHoverContent,appearance:{showPointer:!0,compact:!0}}))),this._domNode.appendChild(this._buttonNode),this._disposables.add((0,eK.addDisposableListener)(this.input,eK.EventType.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add((0,eK.addDisposableListener)(this.input,eK.EventType.KEY_DOWN,e=>{let t=new tO.StandardKeyboardEvent(e);(t.keyCode===ez.KeyCode.LeftArrow||t.keyCode===ez.KeyCode.RightArrow)&&this._onDidInputChange.fire()})),this._disposables.add((0,eK.addDisposableListener)(this.input,eK.EventType.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add((0,eK.addDisposableListener)(this.input,eK.EventType.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add((0,eK.addDisposableListener)(this.input,eK.EventType.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return(0,iH.assertType)(this._inputNode),this._inputNode}get button(){return(0,iH.assertType)(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){this._buttonState="sparkle",null!=this._sparkleIcon||(this._sparkleIcon=(0,i0.renderIcon)(it.Codicon.sparkle)),(0,eK.clearNode)(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),this._buttonHoverContent=this._buttonGenHoverText,this.input.focus()}setStopButton(){this._buttonState="stop",null!=this._stopIcon||(this._stopIcon=(0,i0.renderIcon)(it.Codicon.stopCircle)),(0,eK.clearNode)(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),this._buttonHoverContent=this._buttonCancelHoverText,this.input.focus()}dispose(){this._disposables.dispose()}constructor(){this._buttonHoverContent="",this._onDidInputChange=new e0.Emitter,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new eD.DisposableStore}}class aB{populate(e){this._updateIcon(e),this._updateLabel(e)}_updateIcon(e){var t;let i=!!(null==(t=e.tags)?void 0:t.includes(nV.NewSymbolNameTag.AIGenerated));this._icon.style.display=i?"inherit":"none"}_updateLabel(e){this._label.innerText=e.newSymbolName}static getLayoutInfo(e){let{lineHeight:t}=e;return{totalHeight:t+2*aB._PADDING}}dispose(){}constructor(e,t){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height="".concat(t.lineHeight,"px"),this._domNode.style.padding="".concat(aB._PADDING,"px");let i=document.createElement("div");i.style.display="flex",i.style.alignItems="center",i.style.width=i.style.height="".concat(.8*t.lineHeight,"px"),this._domNode.appendChild(i),this._icon=(0,i0.renderIcon)(it.Codicon.sparkle),this._icon.style.display="none",i.appendChild(this._icon),this._label=document.createElement("div"),(0,aO.applyFontInfo)(this._label,t),this._domNode.appendChild(this._label),e.appendChild(this._domNode)}}aB._PADDING=2;class aH{hasProvider(){return this._providers.length>0}async resolveRenameLocation(e){let t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){let i=this._providers[this._providerRenameIdx];if(!i.resolveRenameLocation)break;let o=await i.resolveRenameLocation(this.model,this.position,e);if(o){if(o.rejectReason){t.push(o.rejectReason);continue}return o}}this._providerRenameIdx=0;let i=this.model.getWordAtPosition(this.position);return i?{range:new iv.Range(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:iv.Range.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}async provideRenameEdits(e,t){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}async _provideRenameEdits(e,t,i,o){let n=this._providers[t];if(!n)return{edits:[],rejectReason:i.join("\n")};let r=await n.provideRenameEdits(this.model,this.position,e,o);return r?r.rejectReason?this._provideRenameEdits(e,t+1,i.concat(r.rejectReason),o):r:this._provideRenameEdits(e,t+1,i.concat((0,eA.localize)(1350,"No result.")),o)}constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}}async function aU(e,t,i,o){let n=new aH(t,i,e),r=await n.resolveRenameLocation(eW.CancellationToken.None);return(null==r?void 0:r.rejectReason)?{edits:[],rejectReason:r.rejectReason}:n.provideRenameEdits(o,eW.CancellationToken.None)}let aG=(z=W=class{static get(e){return e.getContribution(z.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){var e,t;let i,o=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new eW.CancellationTokenSource,!this.editor.hasModel())return void o("editor has no model");let n=this.editor.getPosition(),r=new aH(this.editor.getModel(),n,this._languageFeaturesService.renameProvider);if(!r.hasProvider())return void o("skeleton has no provider");let s=new sE.EditorStateCancellationTokenSource(this.editor,sE.CodeEditorStateFlag.Position|sE.CodeEditorStateFlag.Value,void 0,this._cts.token);try{o("resolving rename location");let e=r.resolveRenameLocation(s.token);this._progressService.showWhile(e,250),i=await e,o("resolved rename location")}catch(t){t instanceof tp.CancellationError?o("resolve rename location cancelled",JSON.stringify(t,null,"	")):(o("resolve rename location failed",t instanceof Error?t:JSON.stringify(t,null,"	")),("string"==typeof t||(0,ir.isMarkdownString)(t))&&(null==(e=aT.MessageController.get(this.editor))||e.showMessage(t||(0,eA.localize)(1351,"An unknown error occurred while resolving rename location"),n)));return}finally{s.dispose()}if(!i)return void o("returning early - no loc");if(i.rejectReason){o("returning early - rejected with reason: ".concat(i.rejectReason),i.rejectReason),null==(t=aT.MessageController.get(this.editor))||t.showMessage(i.rejectReason,n);return}if(s.token.isCancellationRequested)return void o("returning early - cts1 cancelled");let a=new sE.EditorStateCancellationTokenSource(this.editor,sE.CodeEditorStateFlag.Position|sE.CodeEditorStateFlag.Value,i.range,this._cts.token),l=this.editor.getModel(),d=this._languageFeaturesService.newSymbolNamesProvider.all(l),c=await Promise.all(d.map(async e=>{var t;return[e,null!=(t=await e.supportsAutomaticNewSymbolNamesTriggerKind)&&t]}));o("creating rename input field and awaiting its result");let u=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),h=await this._renameWidget.getInput(i.range,i.text,u,d.length>0?(e,t)=>{let o=c.slice();return e===nV.NewSymbolNameTriggerKind.Automatic&&(o=o.filter(e=>{let[t,i]=e;return i})),o.map(o=>{let[n]=o;return n.provideNewSymbolNames(l,i.range,e,t)})}:void 0,a);if(o("received response from rename input field"),d.length>0&&this._reportTelemetry(d.length,l.getLanguageId(),h),"boolean"==typeof h){o("returning early - rename input field response - ".concat(h)),h&&this.editor.focus(),a.dispose();return}this.editor.focus(),o("requesting rename edits");let p=(0,tF.raceCancellation)(r.provideRenameEdits(h.newName,a.token),a.token).then(async e=>{if(!e)return void o("returning early - no rename edits result");if(!this.editor.hasModel())return void o("returning early - no model after rename edits are provided");if(e.rejectReason){o("returning early - rejected with reason: ".concat(e.rejectReason)),this._notificationService.info(e.rejectReason);return}this.editor.setSelection(iv.Range.fromPositions(this.editor.getSelection().getPosition())),o("applying edits"),this._bulkEditService.apply(e,{editor:this.editor,showPreview:h.wantsPreview,label:(0,eA.localize)(1352,"Renaming '{0}' to '{1}'",null==i?void 0:i.text,h.newName),code:"undoredo.rename",quotableLabel:(0,eA.localize)(1353,"Renaming {0} to {1}",null==i?void 0:i.text,h.newName),respectAutoSaveConfig:!0}).then(e=>{o("edits applied"),e.ariaSummary&&(0,io.alert)((0,eA.localize)(1354,"Successfully renamed '{0}' to '{1}'. Summary: {2}",i.text,h.newName,e.ariaSummary))}).catch(e=>{o("error when applying edits ".concat(JSON.stringify(e,null,"	"))),this._notificationService.error((0,eA.localize)(1355,"Rename failed to apply edits")),this._logService.error(e)})},e=>{o("error when providing rename edits",JSON.stringify(e,null,"	")),this._notificationService.error((0,eA.localize)(1356,"Rename failed to compute edits")),this._logService.error(e)}).finally(()=>{a.dispose()});return o("returning rename operation"),this._progressService.showWhile(p,250),p}acceptRenameInput(e){this._renameWidget.acceptInput(e)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(e,t,i){let o="boolean"==typeof i?{kind:"cancelled",languageId:t,nRenameSuggestionProviders:e}:{kind:"accepted",languageId:t,nRenameSuggestionProviders:e,source:i.stats.source.k,nRenameSuggestions:i.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:i.stats.timeBeforeFirstInputFieldEdit,wantsPreview:i.wantsPreview,nRenameSuggestionsInvocations:i.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:i.stats.hadAutomaticRenameSuggestionsInvocation};this._telemetryService.publicLog2("renameInvokedEvent",o)}constructor(e,t,i,o,n,r,s,a,l){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=o,this._progressService=n,this._logService=r,this._configService=s,this._languageFeaturesService=a,this._telemetryService=l,this._disposableStore=new eD.DisposableStore,this._cts=new eW.CancellationTokenSource,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(aW,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}},W.ID="editor.contrib.renameController",W);aG=z=(0,ex.__decorate)([(0,ex.__param)(1,eZ.IInstantiationService),(0,ex.__param)(2,i7.INotificationService),(0,ex.__param)(3,aM.IBulkEditService),(0,ex.__param)(4,o7.IEditorProgressService),(0,ex.__param)(5,tB.ILogService),(0,ex.__param)(6,aL.ITextResourceConfigurationService),(0,ex.__param)(7,e3.ILanguageFeaturesService),(0,ex.__param)(8,nN.ITelemetryService)],aG);class aq extends aA.EditorAction{runCommand(e,t){let i=e.get(tm.ICodeEditorService),[o,n]=Array.isArray(t)&&t||[void 0,void 0];return iU.URI.isUri(o)&&oA.Position.isIPosition(n)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(n),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},tp.onUnexpectedError):super.runCommand(e,t)}run(e,t){let i=e.get(tB.ILogService),o=aG.get(t);return o?(i.trace("[RenameAction] got controller, running..."),o.run()):(i.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}constructor(){super({id:"editor.action.rename",label:(0,eA.localize2)(1357,"Rename Symbol"),precondition:eQ.ContextKeyExpr.and(eB.EditorContextKeys.writable,eB.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:eB.EditorContextKeys.editorTextFocus,primary:ez.KeyCode.F2,weight:eX.KeybindingWeight.EditorContrib},contextMenuOpts:{group:"1_modification",order:1.1}})}}(0,aA.registerEditorContribution)(aG.ID,aG,aA.EditorContributionInstantiation.Lazy),(0,aA.registerEditorAction)(aq);let aj=aA.EditorCommand.bindToContribution(aG.get);(0,aA.registerEditorCommand)(new aj({id:"acceptRenameInput",precondition:aK,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:eX.KeybindingWeight.EditorContrib+99,kbExpr:eQ.ContextKeyExpr.and(eB.EditorContextKeys.focus,eQ.ContextKeyExpr.not("isComposing")),primary:ez.KeyCode.Enter}})),(0,aA.registerEditorCommand)(new aj({id:"acceptRenameInputWithPreview",precondition:eQ.ContextKeyExpr.and(aK,eQ.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:eX.KeybindingWeight.EditorContrib+99,kbExpr:eQ.ContextKeyExpr.and(eB.EditorContextKeys.focus,eQ.ContextKeyExpr.not("isComposing")),primary:ez.KeyMod.CtrlCmd+ez.KeyCode.Enter}})),(0,aA.registerEditorCommand)(new aj({id:"cancelRenameInput",precondition:aK,handler:e=>e.cancelRenameInput(),kbOpts:{weight:eX.KeybindingWeight.EditorContrib+99,kbExpr:eB.EditorContextKeys.focus,primary:ez.KeyCode.Escape,secondary:[ez.KeyMod.Shift|ez.KeyCode.Escape]}})),(0,aR.registerAction2)(class extends aR.Action2{run(e){let t=e.get(tm.ICodeEditorService).getFocusedCodeEditor();if(!t)return;let i=aG.get(t);i&&i.focusNextRenameSuggestion()}constructor(){super({id:"focusNextRenameSuggestion",title:{...(0,eA.localize2)(1358,"Focus Next Rename Suggestion")},precondition:aK,keybinding:[{primary:ez.KeyCode.DownArrow,weight:eX.KeybindingWeight.EditorContrib+99}]})}}),(0,aR.registerAction2)(class extends aR.Action2{run(e){let t=e.get(tm.ICodeEditorService).getFocusedCodeEditor();if(!t)return;let i=aG.get(t);i&&i.focusPreviousRenameSuggestion()}constructor(){super({id:"focusPreviousRenameSuggestion",title:{...(0,eA.localize2)(1359,"Focus Previous Rename Suggestion")},precondition:aK,keybinding:[{primary:ez.KeyCode.UpArrow,weight:eX.KeybindingWeight.EditorContrib+99}]})}}),(0,aA.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(e,t,i){for(var o=arguments.length,n=Array(o>3?o-3:0),r=3;r<o;r++)n[r-3]=arguments[r];let[s]=n;(0,iH.assertType)("string"==typeof s);let{renameProvider:a}=e.get(e3.ILanguageFeaturesService);return aU(a,t,i,s)}),(0,aA.registerModelAndPositionCommand)("_executePrepareRename",async function(e,t,i){let{renameProvider:o}=e.get(e3.ILanguageFeaturesService),n=new aH(t,i,o),r=await n.resolveRenameLocation(eW.CancellationToken.None);if(null==r?void 0:r.rejectReason)throw Error(r.rejectReason);return r}),eM.Registry.as(eT.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:eT.ConfigurationScope.LANGUAGE_OVERRIDABLE,description:(0,eA.localize)(1360,"Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}}),e.s([],471590);var aQ=eD;let aY=((V=class extends aQ.Disposable{createOptions(e){if(!e||!this.editor.hasModel())return;let t=this.editor.getModel().getLanguageId();if(!t)return;let i=this.languageConfigurationService.getLanguageConfiguration(t).comments,o=this.languageConfigurationService.getLanguageConfiguration(t).foldingRules;if(i||(null==o?void 0:o.markers))return{foldingRules:o,findMarkSectionHeaders:e.showMarkSectionHeaders,findRegionSectionHeaders:e.showRegionSectionHeaders}}findSectionHeaders(){var e,t;if(!this.editor.hasModel()||!(null==(e=this.options)?void 0:e.findMarkSectionHeaders)&&!(null==(t=this.options)?void 0:t.findRegionSectionHeaders))return;let i=this.editor.getModel();if(i.isDisposed()||i.isTooLargeForSyncing())return;let o=i.getVersionId();this.editorWorkerService.findSectionHeaders(i.uri,this.options).then(e=>{i.isDisposed()||i.getVersionId()!==o||this.updateDecorations(e)})}updateDecorations(e){let t=this.editor.getModel();t&&(e=e.filter(e=>{if(!e.shouldBeInComments)return!0;let i=t.validateRange(e.range),o=t.tokenization.getLineTokens(i.startLineNumber),n=o.findTokenIndexAtOffset(i.startColumn-1),r=o.getStandardTokenType(n);return o.getLanguageId(n)===t.getLanguageId()&&r===se.StandardTokenType.Comment}));let i=Object.values(this.currentOccurrences).map(e=>e.decorationId),o=e.map(e=>{var t;return{range:(t=e).range,options:i2.ModelDecorationOptions.createDynamic({description:"section-header",stickiness:il.TrackedRangeStickiness.GrowsOnlyWhenTypingAfter,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:il.MinimapPosition.Inline,sectionHeaderStyle:t.hasSeparatorLine?il.MinimapSectionHeaderStyle.Underlined:il.MinimapSectionHeaderStyle.Normal,sectionHeaderText:t.text}})}});this.editor.changeDecorations(t=>{let n=t.deltaDecorations(i,o);this.currentOccurrences={};for(let t=0,i=n.length;t<i;t++){let i={sectionHeader:e[t],decorationId:n[t]};this.currentOccurrences[i.decorationId]=i}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}constructor(e,t,i){super(),this.editor=e,this.languageConfigurationService=t,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(e.getOption(iB.EditorOption.minimap)),this.computePromise=null,this.currentOccurrences={},this._register(e.onDidChangeModel(t=>{this.currentOccurrences={},this.options=this.createOptions(e.getOption(iB.EditorOption.minimap)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(e.onDidChangeModelLanguage(t=>{this.currentOccurrences={},this.options=this.createOptions(e.getOption(iB.EditorOption.minimap)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(t.onDidChange(t=>{var i;let o=null==(i=this.editor.getModel())?void 0:i.getLanguageId();o&&t.affects(o)&&(this.currentOccurrences={},this.options=this.createOptions(e.getOption(iB.EditorOption.minimap)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(e.onDidChangeConfiguration(t=>{(!this.options||t.hasChanged(iB.EditorOption.minimap))&&(this.options=this.createOptions(e.getOption(iB.EditorOption.minimap)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(e=>{this.computeSectionHeaders.schedule()})),this._register(e.onDidChangeModelTokens(e=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1e3)})),this.computeSectionHeaders=this._register(new tF.RunOnceScheduler(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}}).ID="editor.sectionHeaderDetector",V);aY=(0,ex.__decorate)([(0,ex.__param)(1,ox.ILanguageConfigurationService),(0,ex.__param)(2,ou.IEditorWorkerService)],aY),(0,eV.registerEditorContribution)(aY.ID,aY,eV.EditorContributionInstantiation.AfterFirstRender),e.s([],486988);var aZ=eD,aX=e.i(977681),a$=e.i(623096),aJ=e.i(259206),a0=e.i(158367);let a1=class extends aZ.Disposable{dispose(){(0,aZ.dispose)(this._watchers.values()),this._watchers.clear(),super.dispose()}constructor(e,t,i,o,n,r){super(),this._watchers=new iQ.ResourceMap;let s=t=>{var o;null==(o=this._watchers.get(t.uri))||o.dispose(),this._watchers.set(t.uri,new a2(t,e,i,n,r))},a=(e,t)=>{t.dispose(),this._watchers.delete(e.uri)},l=()=>{for(let e of t.getModels()){let t=this._watchers.get(e.uri);(0,a0.isSemanticColoringEnabled)(e,i,o)?t||s(e):t&&a(e,t)}};t.getModels().forEach(e=>{(0,a0.isSemanticColoringEnabled)(e,i,o)&&s(e)}),this._register(t.onModelAdded(e=>{(0,a0.isSemanticColoringEnabled)(e,i,o)&&s(e)})),this._register(t.onModelRemoved(e=>{let t=this._watchers.get(e.uri);t&&a(e,t)})),this._register(o.onDidChangeConfiguration(e=>{e.affectsConfiguration(a0.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&l()})),this._register(i.onDidColorThemeChange(l))}};a1=(0,ex.__decorate)([(0,ex.__param)(0,a$.ISemanticTokensStylingService),(0,ex.__param)(1,iG.IModelService),(0,ex.__param)(2,oh.IThemeService),(0,ex.__param)(3,eO.IConfigurationService),(0,ex.__param)(4,oe.ILanguageFeatureDebounceService),(0,ex.__param)(5,e3.ILanguageFeaturesService)],a1);let a2=(H=B=class extends aZ.Disposable{dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,aZ.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,aJ.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;let e=new eW.CancellationTokenSource,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,o=(0,aJ.getDocumentSemanticTokens)(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e,this._providersChangedDuringRequest=!1;let n=[],r=this._model.onDidChangeContent(e=>{n.push(e)}),s=new ao.StopWatch(!1);o.then(e=>{if(this._debounceInformation.update(this._model,s.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),e){let{provider:t,tokens:i}=e,o=this._semanticTokensStylingService.getStyling(t);this._setDocumentSemanticTokens(t,i||null,o,n)}else this._setDocumentSemanticTokens(null,null,null,n)},e=>{e&&((0,tp.isCancellationError)(e)||"string"==typeof e.message&&-1!==e.message.indexOf("busy"))||(0,tp.onUnexpectedError)(e),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),(n.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})}static _copy(e,t,i,o,n){n=Math.min(n,i.length-o,e.length-t);for(let r=0;r<n;r++)i[o+r]=e[t+r]}_setDocumentSemanticTokens(e,t,i,o){let n=this._currentDocumentResponse,r=()=>{(o.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i)return void this._model.tokenization.setSemanticTokens(null,!1);if(!t){this._model.tokenization.setSemanticTokens(null,!0),r();return}if((0,aJ.isSemanticTokensEdits)(t)){if(!n)return void this._model.tokenization.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:n.data};else{let e=0;for(let i of t.edits)e+=(i.data?i.data.length:0)-i.deleteCount;let o=n.data,r=new Uint32Array(o.length+e),s=o.length,a=r.length;for(let e=t.edits.length-1;e>=0;e--){let l=t.edits[e];if(l.start>o.length){i.warnInvalidEditStart(n.resultId,t.resultId,e,l.start,o.length),this._model.tokenization.setSemanticTokens(null,!0);return}let d=s-(l.start+l.deleteCount);d>0&&(H._copy(o,s-d,r,a-d,d),a-=d),l.data&&(H._copy(l.data,0,r,a-l.data.length,l.data.length),a-=l.data.length),s=l.start}s>0&&H._copy(o,0,r,0,s),t={resultId:t.resultId,data:r}}}if((0,aJ.isSemanticTokens)(t)){this._currentDocumentResponse=new a3(e,t.resultId,t.data);let n=(0,aX.toMultilineTokens2)(t,i,this._model.getLanguageId());if(o.length>0)for(let e of o)for(let t of n)for(let i of e.changes)t.applyEdit(i.range,i.text);this._model.tokenization.setSemanticTokens(n,!0)}else this._model.tokenization.setSemanticTokens(null,!0);r()}constructor(e,t,i,o,n){super(),this._semanticTokensStylingService=t,this._isDisposed=!1,this._model=e,this._provider=n.documentSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentSemanticTokens",{min:H.REQUEST_MIN_DELAY,max:H.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new tF.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),H.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));let r=()=>{for(let t of((0,aZ.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._provider.all(e)))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};r(),this._register(this._provider.onDidChange(()=>{r(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}},B.REQUEST_MIN_DELAY=300,B.REQUEST_MAX_DELAY=2e3,B);a2=H=(0,ex.__decorate)([(0,ex.__param)(1,a$.ISemanticTokensStylingService),(0,ex.__param)(2,oh.IThemeService),(0,ex.__param)(3,oe.ILanguageFeatureDebounceService),(0,ex.__param)(4,e3.ILanguageFeaturesService)],a2);class a3{dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}}(0,tv.registerEditorFeature)(a1),e.s([],697340);var a5=eV,a4=eG,a6=eD,a8=e.i(52273),a9=eD;(0,tT.default)(".monaco-editor .sticky-widget{overflow:hidden}.monaco-editor .sticky-widget-line-numbers{background-color:inherit;float:left}.monaco-editor .sticky-widget-lines-scrollable{background-color:inherit;display:inline-block;overflow:hidden;position:absolute;width:var(--vscode-editorStickyScroll-scrollableWidth)}.monaco-editor .sticky-widget-lines{background-color:inherit;position:absolute}.monaco-editor .sticky-line-content,.monaco-editor .sticky-line-number{background-color:inherit;color:var(--vscode-editorLineNumber-foreground);display:inline-block;position:absolute;white-space:nowrap}.monaco-editor .sticky-line-number .codicon-folding-collapsed,.monaco-editor .sticky-line-number .codicon-folding-expanded{float:right;transition:var(--vscode-editorStickyScroll-foldingOpacityTransition)}.monaco-editor .sticky-line-content{background-color:inherit;white-space:nowrap;width:var(--vscode-editorStickyScroll-scrollableWidth)}.monaco-editor .sticky-line-number-inner{display:inline-block;text-align:right}.monaco-editor .sticky-widget{border-bottom:1px solid var(--vscode-editorStickyScroll-border)}.monaco-editor .sticky-line-content:hover{background-color:var(--vscode-editorStickyScrollHover-background);cursor:pointer}.monaco-editor .sticky-widget{background-color:var(--vscode-editorStickyScroll-background);box-shadow:var(--vscode-editorStickyScroll-shadow) 0 4px 2px -2px;right:auto!important;width:100%;z-index:4}.monaco-editor .sticky-widget.peek{background-color:var(--vscode-peekViewEditorStickyScroll-background)}",{});var a7=e.i(969585),le=e.i(357969),lt=e.i(105095),li=e.i(607862),lo=e.i(180717),ln=e.i(482999);class lr{equals(e){return!!e&&this.lastLineRelativePosition===e.lastLineRelativePosition&&this.showEndForLine===e.showEndForLine&&(0,o3.equals)(this.startLineNumbers,e.startLineNumbers)&&(0,o3.equals)(this.endLineNumbers,e.endLineNumbers)}static get Empty(){return new lr([],[],0)}constructor(e,t,i,o=null){this.startLineNumbers=e,this.endLineNumbers=t,this.lastLineRelativePosition=i,this.showEndForLine=o}}let ls=(0,a8.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:e=>e}),la="data-sticky-line-index",ll="data-sticky-is-line",ld="data-sticky-is-folding-icon";class lc extends a9.Disposable{get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(e){return this._renderedStickyLines.find(t=>t.lineNumber===e)}getCurrentLines(){return this._lineNumbers}setState(e,t,i){if(void 0===i&&(!this._previousState&&!e||this._previousState&&this._previousState.equals(e)))return;let o=this._isWidgetHeightZero(e),n=o?void 0:e,r=o?0:this._findLineToRebuildWidgetFrom(e,i);this._renderRootNode(n,t,r),this._previousState=e}_isWidgetHeightZero(e){if(!e)return!0;let t=e.startLineNumbers.length*this._lineHeight+e.lastLineRelativePosition;if(t>0){this._lastLineRelativePosition=e.lastLineRelativePosition;let t=[...e.startLineNumbers];null!==e.showEndForLine&&(t[e.showEndForLine]=e.endLineNumbers[e.showEndForLine]),this._lineNumbers=t}else this._lastLineRelativePosition=0,this._lineNumbers=[];return 0===t}_findLineToRebuildWidgetFrom(e,t){if(!e||!this._previousState)return 0;if(void 0!==t)return t;let i=this._previousState,o=e.startLineNumbers.findIndex(e=>!i.startLineNumbers.includes(e));return -1===o?0:o}_updateWidgetWidth(){let e=this._editor.getLayoutInfo(),t=e.contentLeft;this._lineNumbersDomNode.style.width="".concat(t,"px"),this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth","".concat(this._editor.getScrollWidth()-e.verticalScrollbarWidth,"px")),this._rootDomNode.style.width="".concat(e.width-e.verticalScrollbarWidth,"px")}_clearStickyLinesFromLine(e){this._foldingIconStore.clear();for(let t=e;t<this._renderedStickyLines.length;t++){let e=this._renderedStickyLines[t];e.lineNumberDomNode.remove(),e.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,e),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(e){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition","opacity ".concat(.5*!!e,"s"))}_setFoldingIconsVisibility(e){for(let t of this._renderedStickyLines){let i=t.foldingIcon;i&&i.setVisible(!!e||i.isCollapsed)}}async _renderRootNode(e,t,i){if(this._clearStickyLinesFromLine(i),!e)return;for(let e of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(e);let o=this._editor.getLayoutInfo();for(let[e,n]of this._lineNumbers.slice(i).entries()){let r=this._renderChildNode(e+i,n,t,o);r&&(this._linesDomNode.appendChild(r.lineDomNode),this._lineNumbersDomNode.appendChild(r.lineNumberDomNode),this._renderedStickyLines.push(r))}t&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));let n=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height="".concat(n,"px"),this._linesDomNodeScrollable.style.height="".concat(n,"px"),this._rootDomNode.style.height="".concat(n,"px"),this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(e=>e.scrollWidth))+o.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){"mouseover"===this._editor.getOption(iB.EditorOption.showFoldingControls)&&(this._foldingIconStore.add((0,eK.addDisposableListener)(this._lineNumbersDomNode,eK.EventType.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add((0,eK.addDisposableListener)(this._lineNumbersDomNode,eK.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(e,t,i,o){let n,r,s=this._editor._getViewModel();if(!s)return;let a=s.coordinatesConverter.convertModelPositionToViewPosition(new oA.Position(t,1)).lineNumber,l=s.getViewLineRenderingData(a),d=this._editor.getOption(iB.EditorOption.lineNumbers);try{n=li.LineDecoration.filter(l.inlineDecorations,a,l.minColumn,l.maxColumn)}catch(e){n=[]}let c=new lo.RenderLineInput(!0,!0,l.content,l.continuesWithWrappedLine,l.isBasicASCII,l.containsRTL,0,l.tokens,n,l.tabSize,l.startVisibleColumn,1,1,1,500,"none",!0,!0,null),u=new lt.StringBuilder(2e3),h=(0,lo.renderViewLine)(c,u);r=ls?ls.createHTML(u.build()):u.build();let p=document.createElement("span");p.setAttribute(la,String(e)),p.setAttribute(ll,""),p.setAttribute("role","listitem"),p.tabIndex=0,p.className="sticky-line-content",p.classList.add("stickyLine".concat(t)),p.style.lineHeight="".concat(this._lineHeight,"px"),p.innerHTML=r;let g=document.createElement("span");g.setAttribute(la,String(e)),g.setAttribute("data-sticky-is-line-number",""),g.className="sticky-line-number",g.style.lineHeight="".concat(this._lineHeight,"px");let m=o.contentLeft;g.style.width="".concat(m,"px");let v=document.createElement("span");d.renderType===iB.RenderLineNumbersType.On||d.renderType===iB.RenderLineNumbersType.Interval&&t%10==0?v.innerText=t.toString():d.renderType===iB.RenderLineNumbersType.Relative&&(v.innerText=Math.abs(t-this._editor.getPosition().lineNumber).toString()),v.className="sticky-line-number-inner",v.style.lineHeight="".concat(this._lineHeight,"px"),v.style.width="".concat(o.lineNumbersWidth,"px"),v.style.paddingLeft="".concat(o.lineNumbersLeft,"px"),g.appendChild(v);let _=this._renderFoldingIconForLine(i,t);_&&g.appendChild(_.domNode),this._editor.applyFontInfo(p),this._editor.applyFontInfo(v),g.style.lineHeight="".concat(this._lineHeight,"px"),p.style.lineHeight="".concat(this._lineHeight,"px"),g.style.height="".concat(this._lineHeight,"px"),p.style.height="".concat(this._lineHeight,"px");let f=new lu(e,t,p,g,_,h.characterMapping,p.scrollWidth);return this._updateTopAndZIndexOfStickyLine(f)}_updateTopAndZIndexOfStickyLine(e){var t;let i=e.index,o=e.lineDomNode,n=e.lineNumberDomNode,r=i===this._lineNumbers.length-1;o.style.zIndex=r?"0":"1",n.style.zIndex=r?"0":"1";let s="".concat(i*this._lineHeight+this._lastLineRelativePosition+ +(null!=(t=e.foldingIcon)&&!!t.isCollapsed),"px"),a="".concat(i*this._lineHeight,"px");return o.style.top=r?s:a,n.style.top=r?s:a,e}_renderFoldingIconForLine(e,t){let i=this._editor.getOption(iB.EditorOption.showFoldingControls);if(!e||"never"===i)return;let o=e.regions,n=o.findRange(t),r=o.getStartLineNumber(n);if(t!==r)return;let s=o.isCollapsed(n),a=new lh(s,r,o.getEndLineNumber(n),this._lineHeight);return a.setVisible(!!this._isOnGlyphMargin||s||"always"===i),a.domNode.setAttribute(ld,""),a}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:iz.OverlayWidgetPositionPreference.TOP_CENTER,stackOridinal:10}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(e){0<=e&&e<this._renderedStickyLines.length&&this._renderedStickyLines[e].lineDomNode.focus()}getEditorPositionFromNode(e){if(!e||e.children.length>0)return null;let t=this._getRenderedStickyLineFromChildDomNode(e);if(!t)return null;let i=(0,a7.getColumnOfNodeOffset)(t.characterMapping,e,0);return new oA.Position(t.lineNumber,i)}getLineNumberFromChildDomNode(e){var t,i;return null!=(i=null==(t=this._getRenderedStickyLineFromChildDomNode(e))?void 0:t.lineNumber)?i:null}_getRenderedStickyLineFromChildDomNode(e){let t=this.getLineIndexFromChildDomNode(e);return null===t||t<0||t>=this._renderedStickyLines.length?null:this._renderedStickyLines[t]}getLineIndexFromChildDomNode(e){let t=this._getAttributeValue(e,la);return t?parseInt(t,10):null}isInStickyLine(e){return void 0!==this._getAttributeValue(e,ll)}isInFoldingIconDomNode(e){return void 0!==this._getAttributeValue(e,ld)}_getAttributeValue(e,t){for(;e&&e!==this._rootDomNode;){let i=e.getAttribute(t);if(null!==i)return i;e=e.parentElement}}constructor(e){super(),this._editor=e,this._foldingIconStore=new a9.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(iB.EditorOption.lineHeight),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",e instanceof le.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);let t=()=>{this._linesDomNode.style.left=this._editor.getOption(iB.EditorOption.stickyScroll).scrollWithEditor?"-".concat(this._editor.getScrollLeft(),"px"):"0px"};this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(iB.EditorOption.stickyScroll)&&t(),e.hasChanged(iB.EditorOption.lineHeight)&&(this._lineHeight=this._editor.getOption(iB.EditorOption.lineHeight))})),this._register(this._editor.onDidScrollChange(e=>{e.scrollLeftChanged&&t(),e.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{t(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),t(),this._register(this._editor.onDidLayoutChange(e=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}}class lu{constructor(e,t,i,o,n,r,s){this.index=e,this.lineNumber=t,this.lineDomNode=i,this.lineNumberDomNode=o,this.foldingIcon=n,this.characterMapping=r,this.scrollWidth=s}}class lh{setVisible(e){this.domNode.style.cursor=e?"pointer":"default",this.domNode.style.opacity=e?"1":"0"}constructor(e,t,i,o){this.isCollapsed=e,this.foldingStartLine=t,this.foldingEndLine=i,this.dimension=o,this.domNode=document.createElement("div"),this.domNode.style.width="".concat(o,"px"),this.domNode.style.height="".concat(o,"px"),this.domNode.className=r3.ThemeIcon.asClassName(e?ln.foldingCollapsedIcon:ln.foldingExpandedIcon)}}var lp=eD,lg=eD,lm=e.i(591563),lv=e.i(479213);class l_{constructor(e,t){this.startLineNumber=e,this.endLineNumber=t}}class lf{constructor(e,t,i){this.range=e,this.children=t,this.parent=i}}class ly{constructor(e,t,i,o){this.uri=e,this.version=t,this.element=i,this.outlineProviderId=o}}var lC=e.i(371305);!function(e){e.OUTLINE_MODEL="outlineModel",e.FOLDING_PROVIDER_MODEL="foldingProviderModel",e.INDENTATION_MODEL="indentationModel"}(U||(U={})),function(e){e[e.VALID=0]="VALID",e[e.INVALID=1]="INVALID",e[e.CANCELED=2]="CANCELED"}(G||(G={}));let lb=class extends lg.Disposable{dispose(){this._modelProviders.forEach(e=>e.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(e){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(let t of this._modelProviders){let{statusPromise:i,modelPromise:o}=t.computeStickyModel(e);this._modelPromise=o;let n=await i;if(this._modelPromise!==o)break;switch(n){case G.CANCELED:return this._updateOperation.clear(),null;case G.VALID:return t.stickyModel}}return null}).catch(e=>((0,tp.onUnexpectedError)(e),null))}constructor(e,t,i,o){switch(super(),this._editor=e,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new tF.Delayer(300)),this._updateOperation=this._register(new lg.DisposableStore),this._editor.getOption(iB.EditorOption.stickyScroll).defaultModel){case U.OUTLINE_MODEL:this._modelProviders.push(new lw(this._editor,o));case U.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new lx(this._editor,t,o));case U.INDENTATION_MODEL:this._modelProviders.push(new lI(this._editor,i))}}};lb=(0,ex.__decorate)([(0,ex.__param)(2,eZ.IInstantiationService),(0,ex.__param)(3,e3.ILanguageFeaturesService)],lb);class lS extends lg.Disposable{get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,G.INVALID}computeStickyModel(e){if(e.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};let t=(0,tF.createCancelablePromise)(e=>this.createModelFromProvider(e));return{statusPromise:t.then(t=>this.isModelValid(t)?e.isCancellationRequested?G.CANCELED:(this._stickyModel=this.createStickyModel(e,t),G.VALID):this._invalid()).then(void 0,e=>((0,tp.onUnexpectedError)(e),G.CANCELED)),modelPromise:t}}isModelValid(e){return!0}isProviderValid(){return!0}constructor(e){super(),this._editor=e,this._stickyModel=null}}let lw=class extends lS{createModelFromProvider(e){return nn.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),e)}createStickyModel(e,t){var i;let{stickyOutlineElement:o,providerID:n}=this._stickyModelFromOutlineModel(t,null==(i=this._stickyModel)?void 0:i.outlineProviderId),r=this._editor.getModel();return new ly(r.uri,r.getVersionId(),o,n)}isModelValid(e){return e&&e.children.size>0}_stickyModelFromOutlineModel(e,t){let i;if(lC.Iterable.first(e.children.values())instanceof nn.OutlineGroup){let o=lC.Iterable.find(e.children.values(),e=>e.id===t);if(o)i=o.children;else{let o,n="",r=-1;for(let[t,i]of e.children.entries()){let e=this._findSumOfRangesOfGroup(i);e>r&&(o=i,r=e,n=i.id)}t=n,i=o.children}}else i=e.children;let o=[];for(let e of Array.from(i.values()).sort((e,t)=>{let i=new l_(e.symbol.range.startLineNumber,e.symbol.range.endLineNumber),o=new l_(t.symbol.range.startLineNumber,t.symbol.range.endLineNumber);return this._comparator(i,o)}))o.push(this._stickyModelFromOutlineElement(e,e.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new lf(void 0,o,void 0),providerID:t}}_stickyModelFromOutlineElement(e,t){let i=[];for(let o of e.children.values())if(o.symbol.selectionRange.startLineNumber!==o.symbol.range.endLineNumber)if(o.symbol.selectionRange.startLineNumber!==t)i.push(this._stickyModelFromOutlineElement(o,o.symbol.selectionRange.startLineNumber));else for(let e of o.children.values())i.push(this._stickyModelFromOutlineElement(e,o.symbol.selectionRange.startLineNumber));return i.sort((e,t)=>this._comparator(e.range,t.range)),new lf(new l_(e.symbol.selectionRange.startLineNumber,e.symbol.range.endLineNumber),i,void 0)}_comparator(e,t){return e.startLineNumber!==t.startLineNumber?e.startLineNumber-t.startLineNumber:t.endLineNumber-e.endLineNumber}_findSumOfRangesOfGroup(e){let t=0;for(let i of e.children.values())t+=this._findSumOfRangesOfGroup(i);return e instanceof nn.OutlineElement?t+e.symbol.range.endLineNumber-e.symbol.selectionRange.startLineNumber:t}constructor(e,t){super(e),this._languageFeaturesService=t}};lw=(0,ex.__decorate)([(0,ex.__param)(1,e3.ILanguageFeaturesService)],lw);class lE extends lS{createStickyModel(e,t){let i=this._fromFoldingRegions(t),o=this._editor.getModel();return new ly(o.uri,o.getVersionId(),i,void 0)}isModelValid(e){return null!==e}_fromFoldingRegions(e){let t=e.length,i=[],o=new lf(void 0,[],void 0);for(let n=0;n<t;n++){let t,r=e.getParentIndex(n);t=-1!==r?i[r]:o;let s=new lf(new l_(e.getStartLineNumber(n),e.getEndLineNumber(n)+1),[],t);t.children.push(s),i.push(s)}return o}constructor(e){super(e),this._foldingLimitReporter=new ek.RangesLimitReporter(e)}}let lI=class extends lE{async createModelFromProvider(e){return this.provider.compute(e)}constructor(e,t){super(e),this._languageConfigurationService=t,this.provider=this._register(new lv.IndentRangeProvider(e.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}};lI=(0,ex.__decorate)([(0,ex.__param)(1,ox.ILanguageConfigurationService)],lI);let lx=class extends lE{isProviderValid(){return void 0!==this.provider}async createModelFromProvider(e){var t,i;return null!=(i=null==(t=this.provider)?void 0:t.compute(e))?i:null}constructor(e,t,i){super(e),this._languageFeaturesService=i;let o=ek.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,e.getModel());o.length>0&&(this.provider=this._register(new lm.SyntaxRangeProvider(e.getModel(),o,t,this._foldingLimitReporter,void 0)))}};lx=(0,ex.__decorate)([(0,ex.__param)(2,e3.ILanguageFeaturesService)],lx);class lD{constructor(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.nestingDepth=i}}let lk=((q=class extends lp.Disposable{readConfiguration(){this._sessionStore.clear(),this._editor.getOption(iB.EditorOption.stickyScroll).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add((0,lp.toDisposable)(()=>{var e;null==(e=this._stickyModelProvider)||e.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){var e;return null==(e=this._model)?void 0:e.version}updateStickyModelProvider(){var e;null==(e=this._stickyModelProvider)||e.dispose(),this._stickyModelProvider=null;let t=this._editor;t.hasModel()&&(this._stickyModelProvider=new lb(t,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}async update(){var e;null==(e=this._cts)||e.dispose(!0),this._cts=new eW.CancellationTokenSource,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(e){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}let t=await this._stickyModelProvider.update(e);e.isCancellationRequested||(this._model=t)}updateIndex(e){return -1===e?e=0:e<0&&(e=-e-2),e}getCandidateStickyLinesIntersectingFromStickyModel(e,t,i,o,n){if(0===t.children.length)return;let r=n,s=[];for(let e=0;e<t.children.length;e++){let i=t.children[e];i.range&&s.push(i.range.startLineNumber)}let a=this.updateIndex((0,o3.binarySearch)(s,e.startLineNumber,(e,t)=>e-t)),l=this.updateIndex((0,o3.binarySearch)(s,e.startLineNumber+o,(e,t)=>e-t));for(let s=a;s<=l;s++){let a=t.children[s];if(!a)return;if(a.range){let t=a.range.startLineNumber,n=a.range.endLineNumber;e.startLineNumber<=n+1&&t-1<=e.endLineNumber&&t!==r&&(r=t,i.push(new lD(t,n-1,o+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(e,a,i,o+1,t))}else this.getCandidateStickyLinesIntersectingFromStickyModel(e,a,i,o,n)}}getCandidateStickyLinesIntersecting(e){var t,i;if(!(null==(t=this._model)?void 0:t.element))return[];let o=[];this.getCandidateStickyLinesIntersectingFromStickyModel(e,this._model.element,o,0,-1);let n=null==(i=this._editor._getViewModel())?void 0:i.getHiddenAreas();if(n)for(let e of n)o=o.filter(t=>!(t.startLineNumber>=e.startLineNumber&&t.endLineNumber<=e.endLineNumber+1));return o}constructor(e,t,i){super(),this._languageFeaturesService=t,this._languageConfigurationService=i,this._onDidChangeStickyScroll=this._register(new e0.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=e,this._sessionStore=this._register(new lp.DisposableStore),this._updateSoon=this._register(new tF.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(iB.EditorOption.stickyScroll)&&this.readConfiguration()})),this.readConfiguration()}}).ID="store.contrib.stickyScrollController",q);lk=(0,ex.__decorate)([(0,ex.__param)(1,e3.ILanguageFeaturesService),(0,ex.__param)(2,ox.ILanguageConfigurationService)],lk);var lA=e.i(865792),lM=e.i(535068),lL=e.i(525254),lT=e.i(364359);let lR=(Q=j=class extends a6.Disposable{get stickyScrollCandidateProvider(){return this._stickyLineCandidateProvider}get stickyScrollWidgetState(){return this._widgetState}static get(e){return e.getContribution(Q.ID)}_disposeFocusStickyScrollStore(){var e;this._stickyScrollFocusedContextKey.set(!1),null==(e=this._focusDisposableStore)||e.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}!0!==this._stickyScrollFocusedContextKey.get()&&(this._focused=!0,this._focusDisposableStore=new a6.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(e){this._focusedStickyElementIndex=e?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){let e=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:e[this._focusedStickyElementIndex],column:1})}_revealPosition(e){this._reveaInEditor(e,()=>this._editor.revealPosition(e))}_revealLineInCenterIfOutsideViewport(e){this._reveaInEditor(e,()=>this._editor.revealLineInCenterIfOutsideViewport(e.lineNumber,oH.ScrollType.Smooth))}_reveaInEditor(e,t){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,t(),this._editor.setSelection(iv.Range.fromPositions(e)),this._editor.focus()}_registerMouseListeners(){let e=this._register(new a6.DisposableStore),t=this._register(new lA.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:e=>{let t=this._stickyScrollWidget.getEditorPositionFromNode(e.target.element);return t?t.lineNumber:0}})),i=e=>{if(!this._editor.hasModel()||e.target.type!==iz.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==this._stickyScrollWidget.getId())return null;let t=e.target.element;if(!t||t.innerText!==t.innerHTML)return null;let i=this._stickyScrollWidget.getEditorPositionFromNode(t);return i?{range:new iv.Range(i.lineNumber,i.column,i.lineNumber,i.column+t.innerText.length),textElement:t}:null},o=this._stickyScrollWidget.getDomNode();this._register((0,eK.addStandardDisposableListener)(o,eK.EventType.CLICK,e=>{if(e.ctrlKey||e.altKey||e.metaKey||!e.leftButton)return;if(e.shiftKey){let t=this._stickyScrollWidget.getLineIndexFromChildDomNode(e.target);if(null===t)return;let i=new oA.Position(this._endLineNumbers[t],1);this._revealLineInCenterIfOutsideViewport(i);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(e.target)){let t=this._stickyScrollWidget.getLineNumberFromChildDomNode(e.target);this._toggleFoldingRegionForLine(t);return}if(!this._stickyScrollWidget.isInStickyLine(e.target))return;let t=this._stickyScrollWidget.getEditorPositionFromNode(e.target);if(!t){let i=this._stickyScrollWidget.getLineNumberFromChildDomNode(e.target);if(null===i)return;t=new oA.Position(i,1)}this._revealPosition(t)})),this._register((0,eK.addStandardDisposableListener)(o,eK.EventType.MOUSE_MOVE,e=>{if(e.shiftKey){let t=this._stickyScrollWidget.getLineIndexFromChildDomNode(e.target);if(null===t||null!==this._showEndForLine&&this._showEndForLine===t)return;this._showEndForLine=t,this._renderStickyScroll();return}void 0!==this._showEndForLine&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register((0,eK.addDisposableListener)(o,eK.EventType.MOUSE_LEAVE,e=>{void 0!==this._showEndForLine&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(t.onMouseMoveOrRelevantKeyDown(t=>{let o,[n,r]=t,s=i(n);if(!s||!n.hasTriggerModifier||!this._editor.hasModel())return void e.clear();let{range:a,textElement:l}=s;if(a.equalsRange(this._stickyRangeProjectedOnEditor)){if("underline"===l.style.textDecoration)return}else this._stickyRangeProjectedOnEditor=a,e.clear();let d=new eW.CancellationTokenSource;e.add((0,a6.toDisposable)(()=>d.dispose(!0))),(0,lM.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new oA.Position(a.startLineNumber,a.startColumn+1),!1,d.token).then(t=>{!d.token.isCancellationRequested&&(0!==t.length?(this._candidateDefinitionsLength=t.length,o!==l?(e.clear(),(o=l).style.textDecoration="underline",e.add((0,a6.toDisposable)(()=>{o.style.textDecoration="none"}))):o||((o=l).style.textDecoration="underline",e.add((0,a6.toDisposable)(()=>{o.style.textDecoration="none"})))):e.clear())})})),this._register(t.onCancel(()=>{e.clear()})),this._register(t.onExecute(async e=>{if(e.target.type!==iz.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==this._stickyScrollWidget.getId())return;let t=this._stickyScrollWidget.getEditorPositionFromNode(e.target.element);t&&this._editor.hasModel()&&this._stickyRangeProjectedOnEditor&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:t.lineNumber,column:1})),this._instaService.invokeFunction(lL.goToDefinitionWithLocation,e,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))}))}_onContextMenu(e,t){let i=new tA.StandardMouseEvent(e,t);this._contextMenuService.showContextMenu({menuId:eG.MenuId.StickyScrollContext,getAnchor:()=>i})}_toggleFoldingRegionForLine(e){if(!this._foldingModel||null===e)return;let t=this._stickyScrollWidget.getRenderedStickyLine(e),i=null==t?void 0:t.foldingIcon;if(!i)return;(0,lT.toggleCollapseState)(this._foldingModel,Number.MAX_VALUE,[e]),i.isCollapsed=!i.isCollapsed;let o=(i.isCollapsed?this._editor.getTopForLineNumber(i.foldingEndLine):this._editor.getTopForLineNumber(i.foldingStartLine))-this._editor.getOption(iB.EditorOption.lineHeight)*t.index+1;this._editor.setScrollTop(o),this._renderStickyScroll(e)}_readConfiguration(){let e=this._editor.getOption(iB.EditorOption.stickyScroll);if(!1===e.enabled){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}e.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(e=>{e.scrollTopChanged&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(e=>this._onTokensChange(e))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=void 0,this._renderStickyScroll()})),this._enabled=!0),this._editor.getOption(iB.EditorOption.lineNumbers).renderType===iB.RenderLineNumbersType.Relative&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=void 0,this._renderStickyScroll(0)}))}_readConfigurationChange(e){(e.hasChanged(iB.EditorOption.stickyScroll)||e.hasChanged(iB.EditorOption.minimap)||e.hasChanged(iB.EditorOption.lineHeight)||e.hasChanged(iB.EditorOption.showFoldingControls)||e.hasChanged(iB.EditorOption.lineNumbers))&&this._readConfiguration(),e.hasChanged(iB.EditorOption.lineNumbers)&&this._renderStickyScroll(0)}_needsUpdate(e){for(let t of this._stickyScrollWidget.getCurrentLines())for(let i of e.ranges)if(t>=i.fromLineNumber&&t<=i.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._renderStickyScroll(0)}_onDidResize(){let e=this._editor.getLayoutInfo().height/this._editor.getOption(iB.EditorOption.lineHeight);this._maxStickyLines=Math.round(.25*e),this._renderStickyScroll(0)}async _renderStickyScroll(e){let t=this._editor.getModel();if(!t||t.isTooLargeForTokenization())return void this._resetState();let i=this._updateAndGetMinRebuildFromLine(e),o=this._stickyLineCandidateProvider.getVersionId();if(void 0===o||o===t.getVersionId())if(this._focused)if(-1===this._focusedStickyElementIndex)await this._updateState(i),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,-1!==this._focusedStickyElementIndex&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{let e=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];await this._updateState(i),0===this._stickyScrollWidget.lineNumberCount?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(e)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}else await this._updateState(i)}_updateAndGetMinRebuildFromLine(e){if(void 0!==e){let t=void 0!==this._minRebuildFromLine?this._minRebuildFromLine:1/0;this._minRebuildFromLine=Math.min(e,t)}return this._minRebuildFromLine}async _updateState(e){var t,i;this._minRebuildFromLine=void 0,this._foldingModel=null!=(i=await (null==(t=ek.FoldingController.get(this._editor))?void 0:t.getFoldingModel()))?i:void 0,this._widgetState=this.findScrollWidgetState();let o=this._widgetState.startLineNumbers.length>0;this._stickyScrollVisibleContextKey.set(o),this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e)}async _resetState(){this._minRebuildFromLine=void 0,this._foldingModel=void 0,this._widgetState=lr.Empty,this._stickyScrollVisibleContextKey.set(!1),this._stickyScrollWidget.setState(void 0,void 0)}findScrollWidgetState(){let e=this._editor.getOption(iB.EditorOption.lineHeight),t=Math.min(this._maxStickyLines,this._editor.getOption(iB.EditorOption.stickyScroll).maxLineCount),i=this._editor.getScrollTop(),o=0,n=[],r=[],s=this._editor.getVisibleRanges();if(0!==s.length){let a=new l_(s[0].startLineNumber,s[s.length-1].endLineNumber);for(let s of this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(a)){let a=s.startLineNumber,l=s.endLineNumber,d=s.nestingDepth;if(l-a>0){let s=(d-1)*e,c=d*e,u=this._editor.getBottomForLineNumber(a)-i,h=this._editor.getTopForLineNumber(l)-i,p=this._editor.getBottomForLineNumber(l)-i;if(s>h&&s<=p){n.push(a),r.push(l+1),s>p-e&&(o=p-c);break}if(c>u&&c<=p&&(n.push(a),r.push(l+1)),n.length===t)break}}}return this._endLineNumbers=r,new lr(n,r,o,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}constructor(e,t,i,o,n,r,s){super(),this._editor=e,this._contextMenuService=t,this._languageFeaturesService=i,this._instaService=o,this._contextKeyService=s,this._sessionStore=new a6.DisposableStore,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._stickyScrollWidget=new lc(this._editor),this._stickyLineCandidateProvider=new lk(this._editor,i,n),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=lr.Empty;let a=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(e=>{this._readConfigurationChange(e)})),this._register((0,eK.addDisposableListener)(a,eK.EventType.CONTEXT_MENU,async e=>{this._onContextMenu((0,eK.getWindow)(a),e)})),this._stickyScrollFocusedContextKey=eB.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=eB.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);let l=this._register((0,eK.trackFocus)(a));this._register(l.onDidBlur(e=>{!1===this._positionRevealed&&0===a.clientHeight?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(l.onDidFocus(e=>{this.focus()})),this._registerMouseListeners(),this._register((0,eK.addDisposableListener)(a,eK.EventType.MOUSE_DOWN,e=>{this._onMouseDown=!0})),this._onDidResize(),this._readConfiguration()}},j.ID="store.contrib.stickyScrollController",j);lR=Q=(0,ex.__decorate)([(0,ex.__param)(1,ty.IContextMenuService),(0,ex.__param)(2,e3.ILanguageFeaturesService),(0,ex.__param)(3,eZ.IInstantiationService),(0,ex.__param)(4,ox.ILanguageConfigurationService),(0,ex.__param)(5,oe.ILanguageFeatureDebounceService),(0,ex.__param)(6,eY.IContextKeyService)],lR);class lN extends a4.Action2{async run(e){let t=e.get(eO.IConfigurationService),i=!t.getValue("editor.stickyScroll.enabled");return t.updateValue("editor.stickyScroll.enabled",i)}constructor(){super({id:"editor.action.toggleStickyScroll",title:{...(0,eA.localize2)(1413,"Toggle Editor Sticky Scroll"),mnemonicTitle:(0,eA.localize)(1414,"&&Toggle Editor Sticky Scroll")},metadata:{description:(0,eA.localize2)(1415,"Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:tU.Categories.View,toggled:{condition:eQ.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,eA.localize)(1416,"Sticky Scroll"),mnemonicTitle:(0,eA.localize)(1417,"&&Sticky Scroll")},menu:[{id:a4.MenuId.CommandPalette},{id:a4.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:a4.MenuId.StickyScrollContext}]})}}let lP=eX.KeybindingWeight.EditorContrib;class lO extends a5.EditorAction2{runEditorCommand(e,t){var i;null==(i=lR.get(t))||i.focus()}constructor(){super({id:"editor.action.focusStickyScroll",title:{...(0,eA.localize2)(1418,"Focus on the editor sticky scroll"),mnemonicTitle:(0,eA.localize)(1419,"&&Focus Sticky Scroll")},precondition:eQ.ContextKeyExpr.and(eQ.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),eB.EditorContextKeys.stickyScrollVisible),menu:[{id:a4.MenuId.CommandPalette}]})}}class lF extends a5.EditorAction2{runEditorCommand(e,t){var i;null==(i=lR.get(t))||i.focusNext()}constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:(0,eA.localize2)(1420,"Select the next editor sticky scroll line"),precondition:eB.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lP,primary:ez.KeyCode.DownArrow}})}}class lK extends a5.EditorAction2{runEditorCommand(e,t){var i;null==(i=lR.get(t))||i.focusPrevious()}constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:(0,eA.localize2)(1421,"Select the previous sticky scroll line"),precondition:eB.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lP,primary:ez.KeyCode.UpArrow}})}}class lW extends a5.EditorAction2{runEditorCommand(e,t){var i;null==(i=lR.get(t))||i.goToFocused()}constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:(0,eA.localize2)(1422,"Go to the focused sticky scroll line"),precondition:eB.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lP,primary:ez.KeyCode.Enter}})}}class lz extends a5.EditorAction2{runEditorCommand(e,t){var i;null==(i=lR.get(t))||i.selectEditor()}constructor(){super({id:"editor.action.selectEditor",title:(0,eA.localize2)(1423,"Select Editor"),precondition:eB.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lP,primary:ez.KeyCode.Escape}})}}(0,eV.registerEditorContribution)(lR.ID,lR,eV.EditorContributionInstantiation.AfterFirstRender),(0,eG.registerAction2)(lN),(0,eG.registerAction2)(lO),(0,eG.registerAction2)(lK),(0,eG.registerAction2)(lF),(0,eG.registerAction2)(lW),(0,eG.registerAction2)(lz),e.s([],332786);var lV=e.i(951806),lB=eD,lH=e.i(374585),lU=e.i(385437),lG=e.i(569874),lq=e.i(37827);class lj{constructor(e,t,i,o,n,r){this.range=e,this.insertText=t,this.filterText=i,this.additionalTextEdits=o,this.command=n,this.completion=r}}let lQ=class extends lB.RefCountedDisposable{canBeReused(e,t,i){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&0===this.completionModel.getIncompleteProvider().size}get items(){let e=[],{items:t}=this.completionModel,i=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},t),o=lC.Iterable.slice(t,i),n=lC.Iterable.slice(t,0,i),r=5;for(let t of lC.Iterable.concat(o,n)){var s;if(t.score===lV.FuzzyScore.Default)continue;let i=new iv.Range(t.editStart.lineNumber,t.editStart.column,t.editInsertEnd.lineNumber,t.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),o=t.completion.insertTextRules&&t.completion.insertTextRules&nV.CompletionItemInsertTextRule.InsertAsSnippet?{snippet:t.completion.insertText}:t.completion.insertText;e.push(new lj(i,o,null!=(s=t.filterTextLow)?s:t.labelLow,t.completion.additionalTextEdits,t.completion.command,t)),r-- >=0&&t.resolve(eW.CancellationToken.None)}return e}constructor(e,t,i,o,n,r){super(n.disposable),this.model=e,this.line=t,this.word=i,this.completionModel=o,this._suggestMemoryService=r}};lQ=(0,ex.__decorate)([(0,ex.__param)(5,lU.ISuggestMemoryService)],lQ);let lY=class extends lB.Disposable{async provideInlineCompletions(e,t,i,o){var n;let r,s,a;if(i.selectedSuggestionInfo)return;for(let t of this._editorService.listCodeEditors())if(t.getModel()===e){r=t;break}if(!r)return;let l=r.getOption(iB.EditorOption.quickSuggestions);if(nh.QuickSuggestionsOptions.isAllOff(l))return;e.tokenization.tokenizeIfCheap(t.lineNumber);let d=e.tokenization.getLineTokens(t.lineNumber),c=d.getStandardTokenType(d.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if("inline"!==nh.QuickSuggestionsOptions.valueFor(l,c))return;let u=e.getWordAtPosition(t);if((null==u?void 0:u.word)||(s=this._getTriggerCharacterInfo(e,t)),!(null==u?void 0:u.word)&&!s||(u||(u=e.getWordUntilPosition(t)),u.endColumn!==t.column))return;let h=e.getValueInRange(new iv.Range(t.lineNumber,1,t.lineNumber,t.column));if(!s&&(null==(n=this._lastResult)?void 0:n.canBeReused(e,t.lineNumber,u))){let e=new lH.LineContext(h,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=e,this._lastResult.acquire(),a=this._lastResult}else{let i,n=await (0,nh.provideSuggestionItems)(this._languageFeatureService.completionProvider,e,t,new nh.CompletionOptions(void 0,lG.SuggestModel.createSuggestFilter(r).itemKind,null==s?void 0:s.providers),s&&{triggerKind:nV.CompletionTriggerKind.TriggerCharacter,triggerCharacter:s.ch},o);n.needsClipboard&&(i=await this._clipboardService.readText());let l=new lH.CompletionModel(n.items,t.column,new lH.LineContext(h,0),lq.WordDistance.None,r.getOption(iB.EditorOption.suggest),r.getOption(iB.EditorOption.snippetSuggestions),{boostFullMatch:!1,firstMatchCanBeWeak:!1},i);a=new lQ(e,t.lineNumber,u,l,n,this._suggestMemoryService)}return this._lastResult=a,a}handleItemDidShow(e,t){t.completion.resolve(eW.CancellationToken.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){let i=e.getValueInRange(iv.Range.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),o=new Set;for(let t of this._languageFeatureService.completionProvider.all(e)){var n;(null==(n=t.triggerCharacters)?void 0:n.includes(i))&&o.add(t)}if(0!==o.size)return{providers:o,ch:i}}constructor(e,t,i,o){super(),this._languageFeatureService=e,this._clipboardService=t,this._suggestMemoryService=i,this._editorService=o,this._store.add(e.inlineCompletionsProvider.register("*",this))}};lY=(0,ex.__decorate)([(0,ex.__param)(0,e3.ILanguageFeaturesService),(0,ex.__param)(1,tk.IClipboardService),(0,ex.__param)(2,lU.ISuggestMemoryService),(0,ex.__param)(3,tm.ICodeEditorService)],lY),(0,tv.registerEditorFeature)(lY),e.s([],481200);var lZ=eV;class lX extends lZ.EditorAction{run(e,t){if(!t.hasModel())return;let i=t.getModel();i.tokenization.resetTokenization();let o=new ao.StopWatch;i.tokenization.forceTokenization(i.getLineCount()),o.stop(),console.log("tokenization took ".concat(o.elapsed()))}constructor(){super({id:"editor.action.forceRetokenize",label:(0,eA.localize2)(1496,"Developer: Force Retokenize"),precondition:void 0})}}(0,lZ.registerEditorAction)(lX),e.s([],112692);var l$=eD;(0,tT.default)(".monaco-editor .unicode-highlight{background-color:var(--vscode-editorUnicodeHighlight-background);border:1px solid var(--vscode-editorUnicodeHighlight-border);box-sizing:border-box}",{});var lJ=eV,l0=e.i(346660),l1=e.i(609828);(0,tT.default)(".editor-banner{background:var(--vscode-banner-background);box-sizing:border-box;cursor:default;display:flex;font-size:12px;height:26px;overflow:visible;width:100%}.editor-banner .icon-container{align-items:center;display:flex;flex-shrink:0;padding:0 6px 0 10px}.editor-banner .icon-container.custom-icon{background-position:50%;background-repeat:no-repeat;background-size:16px;margin:0 6px 0 10px;padding:0;width:16px}.editor-banner .message-container{align-items:center;display:flex;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.editor-banner .message-container p{margin-block-end:0;margin-block-start:0}.editor-banner .message-actions-container{flex-grow:1;flex-shrink:0;line-height:26px;margin:0 4px}.editor-banner .message-actions-container a.monaco-button{margin:2px 8px;padding:0 12px;width:inherit}.editor-banner .message-actions-container a{margin-left:12px;padding:3px;text-decoration:underline}.editor-banner .action-container{padding:0 10px 0 6px}.editor-banner{background-color:var(--vscode-banner-background)}.editor-banner,.editor-banner .action-container .codicon,.editor-banner .message-actions-container .monaco-link{color:var(--vscode-banner-foreground)}.editor-banner .icon-container .codicon{color:var(--vscode-banner-iconForeground)}",{});var l2=e.i(594382),l3=eD;let l5=class extends l3.Disposable{hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show({...e,onClose:()=>{var t;this.hide(),null==(t=e.onClose)||t.call(e)}}),this._editor.setBanner(this.banner.element,26)}constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(l4))}};l5=(0,ex.__decorate)([(0,ex.__param)(1,eZ.IInstantiationService)],l5);let l4=class extends l3.Disposable{getAriaLabel(e){return e.ariaLabel?e.ariaLabel:"string"==typeof e.message?e.message:void 0}getBannerMessage(e){if("string"==typeof e){let t=(0,eK.$)("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){(0,eK.clearNode)(this.element)}show(e){(0,eK.clearNode)(this.element);let t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);let i=(0,eK.append)(this.element,(0,eK.$)("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild((0,eK.$)("div".concat(r3.ThemeIcon.asCSSSelector(e.icon))));let o=(0,eK.append)(this.element,(0,eK.$)("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=(0,eK.append)(this.element,(0,eK.$)("div.message-actions-container")),e.actions)for(let t of e.actions)this._register(this.instantiationService.createInstance(e$.Link,this.messageActionsContainer,{...t,tabIndex:-1},{}));let n=(0,eK.append)(this.element,(0,eK.$)("div.action-container"));this.actionBar=this._register(new l2.ActionBar(n)),this.actionBar.push(this._register(new tE.Action("banner.close","Close Banner",r3.ThemeIcon.asClassName(nJ.widgetClose),!0,()=>{"function"==typeof e.onClose&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(nL.MarkdownRenderer,{}),this.element=(0,eK.$)("div.editor-banner"),this.element.tabIndex=0}};l4=(0,ex.__decorate)([(0,ex.__param)(0,eZ.IInstantiationService)],l4);var l6=e.i(961698),l8=e.i(395612);let l9=(0,nJ.registerIcon)("extensions-warning-message",it.Codicon.warning,(0,eA.localize)(1497,"Icon shown with a warning message in the extensions editor.")),l7=((Y=class extends l$.Disposable{dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){var e,t;if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;let i=(e=this._workspaceTrustService.isWorkspaceTrusted(),{nonBasicASCII:(t=this._options).nonBasicASCII===iB.inUntrustedWorkspace?!e:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments===iB.inUntrustedWorkspace?!e:t.includeComments,includeStrings:t.includeStrings===iB.inUntrustedWorkspace?!e:t.includeStrings,allowedCharacters:t.allowedCharacters,allowedLocales:t.allowedLocales});if([i.nonBasicASCII,i.ambiguousCharacters,i.invisibleCharacters].every(e=>!1===e))return;let o={nonBasicASCII:i.nonBasicASCII,ambiguousCharacters:i.ambiguousCharacters,invisibleCharacters:i.invisibleCharacters,includeComments:i.includeComments,includeStrings:i.includeStrings,allowedCodePoints:Object.keys(i.allowedCharacters).map(e=>e.codePointAt(0)),allowedLocales:Object.keys(i.allowedLocales).map(e=>"_os"===e?new Intl.NumberFormat().resolvedOptions().locale:"_vscode"===e?tD.language:e)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new de(this._editor,o,this._updateState,this._editorWorkerService):this._highlighter=new dt(this._editor,o,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}constructor(e,t,i,o){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=e=>{if(e&&e.hasMore){let t;if(this._bannerClosed)return;let i=Math.max(e.ambiguousCharacterCount,e.nonBasicAsciiCharacterCount,e.invisibleCharacterCount);if(e.nonBasicAsciiCharacterCount>=i)t={message:(0,eA.localize)(1498,"This document contains many non-basic ASCII unicode characters"),command:new dp};else if(e.ambiguousCharacterCount>=i)t={message:(0,eA.localize)(1499,"This document contains many ambiguous unicode characters"),command:new du};else if(e.invisibleCharacterCount>=i)t={message:(0,eA.localize)(1500,"This document contains many invisible unicode characters"),command:new dh};else throw Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:t.message,icon:l9,actions:[{label:t.command.shortLabel,href:"command:".concat(t.command.id)}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(o.createInstance(l5,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(iB.EditorOption.unicodeHighlighting),this._register(i.onDidChangeTrust(e=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(iB.EditorOption.unicodeHighlighting)&&(this._options=e.getOption(iB.EditorOption.unicodeHighlighting),this._updateHighlighter())})),this._updateHighlighter()}}).ID="editor.contrib.unicodeHighlighter",Y);l7=(0,ex.__decorate)([(0,ex.__param)(1,ou.IEditorWorkerService),(0,ex.__param)(2,l8.IWorkspaceTrustManagementService),(0,ex.__param)(3,eZ.IInstantiationService)],l7);let de=class extends l$.Disposable{dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();let e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);let i=[];if(!t.hasMore)for(let e of t.ranges)i.push({range:e,options:dl.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;let t=this._editor.getModel();return(0,l1.isModelDecorationVisible)(t,e)?{reason:da(t.getValueInRange(e.range),this._options),inComment:(0,l1.isModelDecorationInComment)(t,e),inString:(0,l1.isModelDecorationInString)(t,e)}:null}constructor(e,t,i,o){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=o,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new tF.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}};de=(0,ex.__decorate)([(0,ex.__param)(3,ou.IEditorWorkerService)],de);class dt extends l$.Disposable{dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();let e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(let t of e){let e=l0.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,t);for(let t of e.ranges)i.ranges.push(t);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||e.hasMore}if(!i.hasMore)for(let e of i.ranges)t.push({range:e,options:dl.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;let t=this._editor.getModel(),i=t.getValueInRange(e.range);return(0,l1.isModelDecorationVisible)(t,e)?{reason:da(i,this._options),inComment:(0,l1.isModelDecorationInComment)(t,e),inString:(0,l1.isModelDecorationInString)(t,e)}:null}constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new tF.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}}let di=(0,eA.localize)(1501,"Configure Unicode Highlight Options"),dn=class{computeSync(e,t){if(!this._editor.hasModel()||e.type!==oi.HoverAnchorType.Range)return[];let i=this._editor.getModel(),o=this._editor.getContribution(l7.ID);if(!o)return[];let n=[],r=new Set,s=300;for(let e of t){let t,a=o.getDecorationInfo(e);if(!a)continue;let l=i.getValueInRange(e.range).codePointAt(0),d=ds(l);switch(a.reason.kind){case l0.UnicodeHighlighterReasonKind.Ambiguous:t=(0,iE.isBasicASCII)(a.reason.confusableWith)?(0,eA.localize)(1502,"The character {0} could be confused with the ASCII character {1}, which is more common in source code.",d,ds(a.reason.confusableWith.codePointAt(0))):(0,eA.localize)(1503,"The character {0} could be confused with the character {1}, which is more common in source code.",d,ds(a.reason.confusableWith.codePointAt(0)));break;case l0.UnicodeHighlighterReasonKind.Invisible:t=(0,eA.localize)(1504,"The character {0} is invisible.",d);break;case l0.UnicodeHighlighterReasonKind.NonBasicAscii:t=(0,eA.localize)(1505,"The character {0} is not a basic ASCII character.",d)}if(r.has(t))continue;r.add(t);let c={codePoint:l,reason:a.reason,inComment:a.inComment,inString:a.inString},u=(0,eA.localize)(1506,"Adjust settings"),h="command:".concat(dg.ID,"?").concat(encodeURIComponent(JSON.stringify(c))),p=new ir.MarkdownString("",!0).appendMarkdown(t).appendText(" ").appendLink(h,u,di);n.push(new rZ.MarkdownHover(this,e.range,[p],!1,s++))}return n}renderHoverParts(e,t){return(0,rZ.renderMarkdownHovers)(e,t,this._editor,this._languageService,this._openerService)}getAccessibleContent(e){return e.contents.map(e=>e.value).join("\n")}constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=5}};function dr(e){return"U+".concat(e.toString(16).padStart(4,"0"))}function ds(e){var t;let i="`".concat(dr(e),"`");return iE.InvisibleCharacters.isInvisibleCharacter(e)||(i+=' "'.concat("".concat((t=e)===oD.CharCode.BackTick?"`` ` ``":"`"+String.fromCodePoint(t)+"`"),'"')),i}function da(e,t){return l0.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(e,t)}dn=(0,ex.__decorate)([(0,ex.__param)(1,nA.ILanguageService),(0,ex.__param)(2,nR.IOpenerService)],dn);class dl{getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){let i="".concat(e).concat(t),o=this.map.get(i);return o||(o=i2.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:il.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,o)),o}constructor(){this.map=new Map}}dl.instance=new dl;class dd extends lJ.EditorAction{async run(e,t,i){let o=null==e?void 0:e.get(eO.IConfigurationService);o&&this.runAction(o)}async runAction(e){await e.updateValue(iB.unicodeHighlightConfigKeys.includeComments,!1,l6.ConfigurationTarget.USER)}constructor(){super({id:du.ID,label:(0,eA.localize2)(1507,"Disable highlighting of characters in comments"),precondition:void 0}),this.shortLabel=(0,eA.localize)(1508,"Disable Highlight In Comments")}}dd.ID="editor.action.unicodeHighlight.disableHighlightingInComments";class dc extends lJ.EditorAction{async run(e,t,i){let o=null==e?void 0:e.get(eO.IConfigurationService);o&&this.runAction(o)}async runAction(e){await e.updateValue(iB.unicodeHighlightConfigKeys.includeStrings,!1,l6.ConfigurationTarget.USER)}constructor(){super({id:du.ID,label:(0,eA.localize2)(1509,"Disable highlighting of characters in strings"),precondition:void 0}),this.shortLabel=(0,eA.localize)(1510,"Disable Highlight In Strings")}}dc.ID="editor.action.unicodeHighlight.disableHighlightingInStrings";class du extends lJ.EditorAction{async run(e,t,i){let o=null==e?void 0:e.get(eO.IConfigurationService);o&&this.runAction(o)}async runAction(e){await e.updateValue(iB.unicodeHighlightConfigKeys.ambiguousCharacters,!1,l6.ConfigurationTarget.USER)}constructor(){super({id:du.ID,label:(0,eA.localize2)(1511,"Disable highlighting of ambiguous characters"),precondition:void 0}),this.shortLabel=(0,eA.localize)(1512,"Disable Ambiguous Highlight")}}du.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class dh extends lJ.EditorAction{async run(e,t,i){let o=null==e?void 0:e.get(eO.IConfigurationService);o&&this.runAction(o)}async runAction(e){await e.updateValue(iB.unicodeHighlightConfigKeys.invisibleCharacters,!1,l6.ConfigurationTarget.USER)}constructor(){super({id:dh.ID,label:(0,eA.localize2)(1513,"Disable highlighting of invisible characters"),precondition:void 0}),this.shortLabel=(0,eA.localize)(1514,"Disable Invisible Highlight")}}dh.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class dp extends lJ.EditorAction{async run(e,t,i){let o=null==e?void 0:e.get(eO.IConfigurationService);o&&this.runAction(o)}async runAction(e){await e.updateValue(iB.unicodeHighlightConfigKeys.nonBasicASCII,!1,l6.ConfigurationTarget.USER)}constructor(){super({id:dp.ID,label:(0,eA.localize2)(1515,"Disable highlighting of non basic ASCII characters"),precondition:void 0}),this.shortLabel=(0,eA.localize)(1516,"Disable Non ASCII Highlight")}}dp.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class dg extends lJ.EditorAction{async run(e,t,i){let{codePoint:o,reason:n,inString:r,inComment:s}=i,a=String.fromCodePoint(o),l=e.get(tr.IQuickInputService),d=e.get(eO.IConfigurationService),c=[];if(n.kind===l0.UnicodeHighlighterReasonKind.Ambiguous)for(let e of n.notAmbiguousInLocales)c.push({label:(0,eA.localize)(1520,'Allow unicode characters that are more common in the language "{0}".',e),run:async()=>{dv(d,[e])}});if(c.push({label:iE.InvisibleCharacters.isInvisibleCharacter(o)?(0,eA.localize)(1518,"Exclude {0} (invisible character) from being highlighted",dr(o)):(0,eA.localize)(1519,"Exclude {0} from being highlighted","".concat(dr(o),' "').concat(a,'"')),run:()=>dm(d,[o])}),s){let e=new dd;c.push({label:e.label,run:async()=>e.runAction(d)})}else if(r){let e=new dc;c.push({label:e.label,run:async()=>e.runAction(d)})}if(n.kind===l0.UnicodeHighlighterReasonKind.Ambiguous){let e=new du;c.push({label:e.label,run:async()=>e.runAction(d)})}else if(n.kind===l0.UnicodeHighlighterReasonKind.Invisible){let e=new dh;c.push({label:e.label,run:async()=>e.runAction(d)})}else if(n.kind===l0.UnicodeHighlighterReasonKind.NonBasicAscii){let e=new dp;c.push({label:e.label,run:async()=>e.runAction(d)})}else{var u=n;throw Error("Unexpected value: ".concat(u))}let h=await l.pick(c,{title:di});h&&await h.run()}constructor(){super({id:dg.ID,label:(0,eA.localize2)(1517,"Show Exclude Options"),precondition:void 0})}}async function dm(e,t){let i,o=e.getValue(iB.unicodeHighlightConfigKeys.allowedCharacters);for(let e of(i="object"==typeof o&&o?o:{},t))i[String.fromCodePoint(e)]=!0;await e.updateValue(iB.unicodeHighlightConfigKeys.allowedCharacters,i,l6.ConfigurationTarget.USER)}async function dv(e,t){var i;let o,n=null==(i=e.inspect(iB.unicodeHighlightConfigKeys.allowedLocales).user)?void 0:i.value;for(let e of(o="object"==typeof n&&n?Object.assign({},n):{},t))o[e]=!0;await e.updateValue(iB.unicodeHighlightConfigKeys.allowedLocales,o,l6.ConfigurationTarget.USER)}dg.ID="editor.action.unicodeHighlight.showExcludeOptions",(0,lJ.registerEditorAction)(du),(0,lJ.registerEditorAction)(dh),(0,lJ.registerEditorAction)(dp),(0,lJ.registerEditorAction)(dg),(0,lJ.registerEditorContribution)(l7.ID,l7,lJ.EditorContributionInstantiation.AfterFirstRender),oi.HoverParticipantRegistry.register(dn),e.s([],734201);var d_=eV,df=e.i(213512),dy=e.i(282515),dC=e.i(806626),db=e.i(664575);class dS extends d_.EditorCommand{runEditorCommand(e,t,i){if(!t.hasModel())return;let o=(0,dC.getMapForWordSeparators)(t.getOption(iB.EditorOption.wordSeparators),t.getOption(iB.EditorOption.wordSegmenterLocales)),n=t.getModel(),r=t.getSelections(),s=r.length>1,a=r.map(e=>{let t=new oA.Position(e.positionLineNumber,e.positionColumn),i=this._move(o,n,t,this._wordNavigationType,s);return this._moveTo(e,i,this._inSelectionMode)});if(n.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",oB.CursorChangeReason.Explicit,a.map(e=>df.CursorState.fromModelSelection(e))),1===a.length){let e=new oA.Position(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(e,oH.ScrollType.Smooth)}}_moveTo(e,t,i){return i?new ia.Selection(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new ia.Selection(t.lineNumber,t.column,t.lineNumber,t.column)}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}}class dw extends dS{_move(e,t,i,o,n){return dy.WordOperations.moveWordLeft(e,t,i,o,n)}}class dE extends dS{_move(e,t,i,o,n){return dy.WordOperations.moveWordRight(e,t,i,o)}}class dI extends d_.EditorCommand{runEditorCommand(e,t,i){let o=e.get(ox.ILanguageConfigurationService);if(!t.hasModel())return;let n=(0,dC.getMapForWordSeparators)(t.getOption(iB.EditorOption.wordSeparators),t.getOption(iB.EditorOption.wordSegmenterLocales)),r=t.getModel(),s=t.getSelections(),a=t.getOption(iB.EditorOption.autoClosingBrackets),l=t.getOption(iB.EditorOption.autoClosingQuotes),d=o.getLanguageConfiguration(r.getLanguageId()).getAutoClosingPairs(),c=t._getViewModel(),u=s.map(e=>{let i=this._delete({wordSeparators:n,model:r,selection:e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(iB.EditorOption.autoClosingDelete),autoClosingBrackets:a,autoClosingQuotes:l,autoClosingPairs:d,autoClosedCharacters:c.getCursorAutoClosedCharacters()},this._wordNavigationType);return new ib.ReplaceCommand(i,"")});t.pushUndoStop(),t.executeCommands(this.id,u),t.pushUndoStop()}constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}}class dx extends dI{_delete(e,t){let i=dy.WordOperations.deleteWordLeft(e,t);return i||new iv.Range(1,1,1,1)}}class dD extends dI{_delete(e,t){let i=dy.WordOperations.deleteWordRight(e,t);if(i)return i;let o=e.model.getLineCount(),n=e.model.getLineMaxColumn(o);return new iv.Range(o,n,o,n)}}class dk extends d_.EditorAction{run(e,t,i){if(!t.hasModel())return;let o=(0,dC.getMapForWordSeparators)(t.getOption(iB.EditorOption.wordSeparators),t.getOption(iB.EditorOption.wordSegmenterLocales)),n=t.getModel(),r=t.getSelections().map(e=>{let t=dy.WordOperations.deleteInsideWord(o,n,e);return new ib.ReplaceCommand(t,"")});t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}constructor(){super({id:"deleteInsideWord",precondition:eB.EditorContextKeys.writable,label:(0,eA.localize2)(1538,"Delete Word")})}}(0,d_.registerEditorCommand)(new class extends dw{constructor(){super({inSelectionMode:!1,wordNavigationType:dy.WordNavigationType.WordStart,id:"cursorWordStartLeft",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dw{constructor(){super({inSelectionMode:!1,wordNavigationType:dy.WordNavigationType.WordEnd,id:"cursorWordEndLeft",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dw{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:dy.WordNavigationType.WordStartFast,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:eQ.ContextKeyExpr.and(eB.EditorContextKeys.textInputFocus,null==(e=eQ.ContextKeyExpr.and(rP.CONTEXT_ACCESSIBILITY_MODE_ENABLED,db.IsWindowsContext))?void 0:e.negate()),primary:ez.KeyMod.CtrlCmd|ez.KeyCode.LeftArrow,mac:{primary:ez.KeyMod.Alt|ez.KeyCode.LeftArrow},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,d_.registerEditorCommand)(new class extends dw{constructor(){super({inSelectionMode:!0,wordNavigationType:dy.WordNavigationType.WordStart,id:"cursorWordStartLeftSelect",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dw{constructor(){super({inSelectionMode:!0,wordNavigationType:dy.WordNavigationType.WordEnd,id:"cursorWordEndLeftSelect",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dw{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:dy.WordNavigationType.WordStartFast,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:eQ.ContextKeyExpr.and(eB.EditorContextKeys.textInputFocus,null==(e=eQ.ContextKeyExpr.and(rP.CONTEXT_ACCESSIBILITY_MODE_ENABLED,db.IsWindowsContext))?void 0:e.negate()),primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.LeftArrow,mac:{primary:ez.KeyMod.Alt|ez.KeyMod.Shift|ez.KeyCode.LeftArrow},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,d_.registerEditorCommand)(new class extends dE{constructor(){super({inSelectionMode:!1,wordNavigationType:dy.WordNavigationType.WordStart,id:"cursorWordStartRight",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dE{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:dy.WordNavigationType.WordEnd,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:eQ.ContextKeyExpr.and(eB.EditorContextKeys.textInputFocus,null==(e=eQ.ContextKeyExpr.and(rP.CONTEXT_ACCESSIBILITY_MODE_ENABLED,db.IsWindowsContext))?void 0:e.negate()),primary:ez.KeyMod.CtrlCmd|ez.KeyCode.RightArrow,mac:{primary:ez.KeyMod.Alt|ez.KeyCode.RightArrow},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,d_.registerEditorCommand)(new class extends dE{constructor(){super({inSelectionMode:!1,wordNavigationType:dy.WordNavigationType.WordEnd,id:"cursorWordRight",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dE{constructor(){super({inSelectionMode:!0,wordNavigationType:dy.WordNavigationType.WordStart,id:"cursorWordStartRightSelect",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dE{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:dy.WordNavigationType.WordEnd,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:eQ.ContextKeyExpr.and(eB.EditorContextKeys.textInputFocus,null==(e=eQ.ContextKeyExpr.and(rP.CONTEXT_ACCESSIBILITY_MODE_ENABLED,db.IsWindowsContext))?void 0:e.negate()),primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.RightArrow,mac:{primary:ez.KeyMod.Alt|ez.KeyMod.Shift|ez.KeyCode.RightArrow},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,d_.registerEditorCommand)(new class extends dE{constructor(){super({inSelectionMode:!0,wordNavigationType:dy.WordNavigationType.WordEnd,id:"cursorWordRightSelect",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dw{_move(e,t,i,o,n){return super._move((0,dC.getMapForWordSeparators)(iB.EditorOptions.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,o,n)}constructor(){super({inSelectionMode:!1,wordNavigationType:dy.WordNavigationType.WordAccessibility,id:"cursorWordAccessibilityLeft",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dw{_move(e,t,i,o,n){return super._move((0,dC.getMapForWordSeparators)(iB.EditorOptions.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,o,n)}constructor(){super({inSelectionMode:!0,wordNavigationType:dy.WordNavigationType.WordAccessibility,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dE{_move(e,t,i,o,n){return super._move((0,dC.getMapForWordSeparators)(iB.EditorOptions.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,o,n)}constructor(){super({inSelectionMode:!1,wordNavigationType:dy.WordNavigationType.WordAccessibility,id:"cursorWordAccessibilityRight",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dE{_move(e,t,i,o,n){return super._move((0,dC.getMapForWordSeparators)(iB.EditorOptions.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,o,n)}constructor(){super({inSelectionMode:!0,wordNavigationType:dy.WordNavigationType.WordAccessibility,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}}),(0,d_.registerEditorCommand)(new class extends dx{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:dy.WordNavigationType.WordStart,id:"deleteWordStartLeft",precondition:eB.EditorContextKeys.writable})}}),(0,d_.registerEditorCommand)(new class extends dx{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:dy.WordNavigationType.WordEnd,id:"deleteWordEndLeft",precondition:eB.EditorContextKeys.writable})}}),(0,d_.registerEditorCommand)(new class extends dx{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:dy.WordNavigationType.WordStart,id:"deleteWordLeft",precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.Backspace,mac:{primary:ez.KeyMod.Alt|ez.KeyCode.Backspace},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,d_.registerEditorCommand)(new class extends dD{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:dy.WordNavigationType.WordStart,id:"deleteWordStartRight",precondition:eB.EditorContextKeys.writable})}}),(0,d_.registerEditorCommand)(new class extends dD{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:dy.WordNavigationType.WordEnd,id:"deleteWordEndRight",precondition:eB.EditorContextKeys.writable})}}),(0,d_.registerEditorCommand)(new class extends dD{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:dy.WordNavigationType.WordEnd,id:"deleteWordRight",precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.Delete,mac:{primary:ez.KeyMod.Alt|ez.KeyCode.Delete},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,d_.registerEditorAction)(dk),e.s(["DeleteWordCommand",()=>dI,"MoveWordCommand",()=>dS],391722);class dA extends dS{_move(e,t,i,o,n){return dy.WordPartOperations.moveWordPartLeft(e,t,i,n)}}tw.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft"),tw.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class dM extends dS{_move(e,t,i,o,n){return dy.WordPartOperations.moveWordPartRight(e,t,i)}}(0,eV.registerEditorCommand)(new class extends dI{_delete(e,t){let i=dy.WordPartOperations.deleteWordPartLeft(e);return i||new iv.Range(1,1,1,1)}constructor(){super({whitespaceHeuristics:!0,wordNavigationType:dy.WordNavigationType.WordStart,id:"deleteWordPartLeft",precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyMod.Alt|ez.KeyCode.Backspace},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,eV.registerEditorCommand)(new class extends dI{_delete(e,t){let i=dy.WordPartOperations.deleteWordPartRight(e);if(i)return i;let o=e.model.getLineCount(),n=e.model.getLineMaxColumn(o);return new iv.Range(o,n,o,n)}constructor(){super({whitespaceHeuristics:!0,wordNavigationType:dy.WordNavigationType.WordEnd,id:"deleteWordPartRight",precondition:eB.EditorContextKeys.writable,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyMod.Alt|ez.KeyCode.Delete},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,eV.registerEditorCommand)(new class extends dA{constructor(){super({inSelectionMode:!1,wordNavigationType:dy.WordNavigationType.WordStart,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyMod.Alt|ez.KeyCode.LeftArrow},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,eV.registerEditorCommand)(new class extends dA{constructor(){super({inSelectionMode:!0,wordNavigationType:dy.WordNavigationType.WordStart,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyMod.Alt|ez.KeyMod.Shift|ez.KeyCode.LeftArrow},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,eV.registerEditorCommand)(new class extends dM{constructor(){super({inSelectionMode:!1,wordNavigationType:dy.WordNavigationType.WordEnd,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyMod.Alt|ez.KeyCode.RightArrow},weight:eX.KeybindingWeight.EditorContrib}})}}),(0,eV.registerEditorCommand)(new class extends dM{constructor(){super({inSelectionMode:!0,wordNavigationType:dy.WordNavigationType.WordEnd,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:eB.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyMod.Alt|ez.KeyMod.Shift|ez.KeyCode.RightArrow},weight:eX.KeybindingWeight.EditorContrib}})}}),e.s([],729588);var dL=eD;class dT extends dL.Disposable{_onDidAttemptReadOnlyEdit(){let e=aT.MessageController.get(this.editor);if(e&&this.editor.hasModel()){let t=this.editor.getOptions().get(iB.EditorOption.readOnlyMessage);t||(t=new ir.MarkdownString(this.editor.isSimpleWidget?(0,eA.localize)(1348,"Cannot edit in read-only input"):(0,eA.localize)(1349,"Cannot edit in read-only editor"))),e.showMessage(t,this.editor.getPosition())}}constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}}dT.ID="editor.contrib.readOnlyMessageController",(0,eV.registerEditorContribution)(dT.ID,dT,eV.EditorContributionInstantiation.BeforeFirstInteraction),e.s([],518655);var dR=eD,dN=e.i(441928),dP=e.i(774637);let dO=class extends dR.Disposable{getBreadcrumbItems(e,t){let i=this._currentModel.read(t);if(!i)return[];let o=i.asListOfDocumentSymbols().filter(t=>e.contains(t.range.startLineNumber)&&!e.contains(t.range.endLineNumber));return o.sort((0,o3.reverseOrder)((0,o3.compareBy)(e=>e.range.endLineNumber-e.range.startLineNumber,o3.numberComparator))),o.map(e=>({name:e.name,kind:e.kind,startLineNumber:e.range.startLineNumber}))}constructor(e,t,i){super(),this._textModel=e,this._languageFeaturesService=t,this._outlineModelService=i,this._currentModel=(0,na.observableValue)(this,void 0);let o=(0,nd.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),n=(0,nd.observableSignalFromEvent)("_textModel.onDidChangeContent",e0.Event.debounce(e=>this._textModel.onDidChangeContent(e),()=>void 0,100));this._register((0,nl.autorunWithStore)(async(e,t)=>{o.read(e),n.read(e);let i=t.add(new dP.DisposableCancellationTokenSource),r=await this._outlineModelService.getOrCreate(this._textModel,i.token);t.isDisposed||this._currentModel.set(r,void 0)}))}};dO=(0,ex.__decorate)([(0,ex.__param)(1,e3.ILanguageFeaturesService),(0,ex.__param)(2,nn.IOutlineModelService)],dO),dN.HideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((e,t)=>t.createInstance(dO,e)),e.s([],402720),(0,tT.default)('.monaco-editor .iPadShowKeyboard{background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ4LjAzNiA0LjAxSDQuMDA4VjMyLjAzaDQ0LjAyOFY0LjAxWk00LjAwOC4wMDhBNC4wMDMgNC4wMDMgMCAwIDAgLjAwNSA0LjAxVjMyLjAzYTQuMDAzIDQuMDAzIDAgMCAwIDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAgMCA0LjAwMy00LjAwMlY0LjAxQTQuMDAzIDQuMDAzIDAgMCAwIDQ4LjAzNi4wMDhINC4wMDhaTTguMDEgOC4wMTNoNC4wMDN2NC4wMDNIOC4wMVY4LjAxM1ptMTIuMDA4IDBoLTQuMDAydjQuMDAzaDQuMDAyVjguMDEzWm00LjAwMyAwaDQuMDAydjQuMDAzaC00LjAwMlY4LjAxM1ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzVjguMDEzWm00LjAwMiAwaDQuMDAzdjQuMDAzSDQwLjAzVjguMDEzWm0tMjQuMDE1IDguMDA1SDguMDF2NC4wMDNoOC4wMDZ2LTQuMDAzWm00LjAwMiAwaDQuMDAzdjQuMDAzaC00LjAwM3YtNC4wMDNabTEyLjAwOCAwaC00LjAwM3Y0LjAwM2g0LjAwM3YtNC4wMDNabTEyLjAwOCAwdjQuMDAzaC04LjAwNXYtNC4wMDNoOC4wMDVabS0zMi4wMjEgOC4wMDVIOC4wMXY0LjAwM2g0LjAwM3YtNC4wMDNabTQuMDAzIDBoMjAuMDEzdjQuMDAzSDE2LjAxNnYtNC4wMDNabTI4LjAxOCAwSDQwLjAzdjQuMDAzaDQuMDAzdi00LjAwM1oiIGZpbGw9IiM0MjQyNDIiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+") 50% no-repeat;border:4px solid #f6f6f6;border-radius:4px;height:36px;margin:0;min-height:0;min-width:0;overflow:hidden;padding:0;position:absolute;resize:none;width:58px}.monaco-editor.vs-dark .iPadShowKeyboard{background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ4LjAzNiA0LjAxSDQuMDA4VjMyLjAzaDQ0LjAyOFY0LjAxWk00LjAwOC4wMDhBNC4wMDMgNC4wMDMgMCAwIDAgLjAwNSA0LjAxVjMyLjAzYTQuMDAzIDQuMDAzIDAgMCAwIDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAgMCA0LjAwMy00LjAwMlY0LjAxQTQuMDAzIDQuMDAzIDAgMCAwIDQ4LjAzNi4wMDhINC4wMDhaTTguMDEgOC4wMTNoNC4wMDN2NC4wMDNIOC4wMVY4LjAxM1ptMTIuMDA4IDBoLTQuMDAydjQuMDAzaDQuMDAyVjguMDEzWm00LjAwMyAwaDQuMDAydjQuMDAzaC00LjAwMlY4LjAxM1ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzVjguMDEzWm00LjAwMiAwaDQuMDAzdjQuMDAzSDQwLjAzVjguMDEzWm0tMjQuMDE1IDguMDA1SDguMDF2NC4wMDNoOC4wMDZ2LTQuMDAzWm00LjAwMiAwaDQuMDAzdjQuMDAzaC00LjAwM3YtNC4wMDNabTEyLjAwOCAwaC00LjAwM3Y0LjAwM2g0LjAwM3YtNC4wMDNabTEyLjAwOCAwdjQuMDAzaC04LjAwNXYtNC4wMDNoOC4wMDVabS0zMi4wMjEgOC4wMDVIOC4wMXY0LjAwM2g0LjAwM3YtNC4wMDNabTQuMDAzIDBoMjAuMDEzdjQuMDAzSDE2LjAxNnYtNC4wMDNabTI4LjAxOCAwSDQwLjAzdjQuMDAzaDQuMDAzdi00LjAwM1oiIGZpbGw9IiNDNUM1QzUiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+") 50% no-repeat;border:4px solid #252526}',{});var dF=eD;class dK extends dF.Disposable{update(){let e=!this.editor.getOption(iB.EditorOption.readOnly);!this.widget&&e?this.widget=new dW(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}constructor(e){super(),this.editor=e,this.widget=null,tD.isIOS&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}}dK.ID="editor.contrib.iPadShowKeyboard";class dW extends dF.Disposable{dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return dW.ID}getDomNode(){return this._domNode}getPosition(){return{preference:iz.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}}constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register((0,eK.addDisposableListener)(this._domNode,"touchstart",e=>{this.editor.focus()})),this._register((0,eK.addDisposableListener)(this._domNode,"focus",e=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}}dW.ID="editor.contrib.ShowKeyboardWidget",(0,eV.registerEditorContribution)(dK.ID,dK,eV.EditorContributionInstantiation.Eventually),e.s([],231010);var dz=e.i(299665),dV=e.i(649427),dB=e.i(116086);e.i(734006);var dH=e.i(369614),dU=e.i(430771);let dG=class extends dH.QuickInputService{registerListeners(){this._register(this.onShow(()=>this.inQuickInputContext.set(!0))),this._register(this.onHide(()=>this.inQuickInputContext.set(!1)))}createController(){return super.createController(this.layoutService,{ignoreFocusOut:()=>!this.configurationService.getValue("workbench.quickOpen.closeOnFocusLost"),backKeybindingLabel:()=>{var e;return(null==(e=this.keybindingService.lookupKeybinding("workbench.action.quickInputBack"))?void 0:e.getLabel())||void 0}})}constructor(e,t,i,o,n,r){super(t,o,n,r,e),this.keybindingService=i,this.inQuickInputContext=dU.InQuickPickContextKey.bindTo(this.contextKeyService),this.registerListeners()}};dG=(0,ex.__decorate)([(0,ex.__param)(0,eO.IConfigurationService),(0,ex.__param)(1,eZ.IInstantiationService),(0,ex.__param)(2,e6.IKeybindingService),(0,ex.__param)(3,eY.IContextKeyService),(0,ex.__param)(4,oh.IThemeService),(0,ex.__param)(5,tC.ILayoutService)],dG);var dq=e.i(440420),dj=e.i(110976),dQ=e.i(705266),dY=e.i(623048),dZ=e.i(608734),dX=e.i(972920),d$=eD,dJ=e.i(994633),d0=e.i(988428);let d1=($=Z=class extends d0.PickerQuickAccessProvider{async _getPicks(e,t,i,o){var n,r,s,a;let l=await this.getCommandPicks(i);if(i.isCancellationRequested)return[];let d=(0,dX.createSingleCallFunction)(()=>{let t=new dJ.TfIdfCalculator;t.updateDocuments(l.map(e=>({key:e.commandId,textChunks:[this.getTfIdfChunk(e)]})));let o=t.calculateScores(e,i);return(0,dJ.normalizeTfIdfScores)(o).filter(e=>e.score>$.TFIDF_THRESHOLD).slice(0,$.TFIDF_MAX_RESULTS)}),c=[];for(let t of l){let o=null!=(n=$.WORD_FILTER(e,t.label))?n:void 0,s=t.commandAlias&&null!=(r=$.WORD_FILTER(e,t.commandAlias))?r:void 0;if(o||s)t.highlights={label:o,detail:this.options.showAlias?s:void 0},c.push(t);else if(e===t.commandId)c.push(t);else if(e.length>=3){let e=d();if(i.isCancellationRequested)return[];let o=e.find(e=>e.key===t.commandId);o&&(t.tfIdfScore=o.score,c.push(t))}}let u=new Map;for(let e of c){let t=u.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):u.set(e.label,e)}c.sort((e,t)=>{if(e.tfIdfScore&&t.tfIdfScore)return e.tfIdfScore===t.tfIdfScore?e.label.localeCompare(t.label):t.tfIdfScore-e.tfIdfScore;if(e.tfIdfScore)return 1;if(t.tfIdfScore)return -1;let i=this.commandsHistory.peek(e.commandId),o=this.commandsHistory.peek(t.commandId);if(i&&o)return i>o?-1:1;if(i)return -1;if(o)return 1;if(this.options.suggestedCommandIds){let i=this.options.suggestedCommandIds.has(e.commandId),o=this.options.suggestedCommandIds.has(t.commandId);if(i&&o)return 0;if(i)return -1;if(o)return 1}return e.label.localeCompare(t.label)});let h=[],p=!1,g=!0,m=!!this.options.suggestedCommandIds;for(let e=0;e<c.length;e++){let t=c[e];0===e&&this.commandsHistory.peek(t.commandId)&&(h.push({type:"separator",label:(0,eA.localize)(1827,"recently used")}),p=!0),g&&void 0!==t.tfIdfScore&&(h.push({type:"separator",label:(0,eA.localize)(1828,"similar commands")}),g=!1),m&&void 0===t.tfIdfScore&&!this.commandsHistory.peek(t.commandId)&&(null==(s=this.options.suggestedCommandIds)?void 0:s.has(t.commandId))&&(h.push({type:"separator",label:(0,eA.localize)(1829,"commonly used")}),p=!0,m=!1),!p||void 0!==t.tfIdfScore||this.commandsHistory.peek(t.commandId)||(null==(a=this.options.suggestedCommandIds)?void 0:a.has(t.commandId))||(h.push({type:"separator",label:(0,eA.localize)(1830,"other commands")}),p=!1),h.push(this.toCommandPick(t,o))}return this.hasAdditionalCommandPicks(e,i)?{picks:h,additionalPicks:(async()=>{var t;let n=await this.getAdditionalCommandPicks(l,c,e,i);if(i.isCancellationRequested)return[];let r=n.map(e=>this.toCommandPick(e,o));return g&&(null==(t=r[0])?void 0:t.type)!=="separator"&&r.unshift({type:"separator",label:(0,eA.localize)(1828,"similar commands")}),r})()}:h}toCommandPick(e,t){if("separator"===e.type)return e;let i=this.keybindingService.lookupKeybinding(e.commandId),o=i?(0,eA.localize)(1831,"{0}, {1}",e.label,i.getAriaLabel()):e.label;return{...e,ariaLabel:o,detail:this.options.showAlias&&e.commandAlias!==e.label?e.commandAlias:void 0,keybinding:i,accept:async()=>{var i,o;this.commandsHistory.push(e.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.commandId,from:null!=(i=null==t?void 0:t.from)?i:"quick open"});try{(null==(o=e.args)?void 0:o.length)?await this.commandService.executeCommand(e.commandId,...e.args):await this.commandService.executeCommand(e.commandId)}catch(t){(0,tp.isCancellationError)(t)||this.dialogService.error((0,eA.localize)(1832,"Command '{0}' resulted in an error",e.label),(0,dZ.toErrorMessage)(t))}}}}getTfIdfChunk(e){let{label:t,commandAlias:i,commandDescription:o}=e,n=t;return i&&i!==t&&(n+=" - ".concat(i)),o&&o.value!==t&&(n+=" - ".concat(o.value===o.original?o.value:"".concat(o.value," (").concat(o.original,")"))),n}constructor(e,t,i,o,n,r){super($.PREFIX,e),this.instantiationService=t,this.keybindingService=i,this.commandService=o,this.telemetryService=n,this.dialogService=r,this.commandsHistory=this._register(this.instantiationService.createInstance(d2)),this.options=e}},Z.PREFIX=">",Z.TFIDF_THRESHOLD=.5,Z.TFIDF_MAX_RESULTS=5,Z.WORD_FILTER=(0,lV.or)(lV.matchesPrefix,lV.matchesWords,lV.matchesContiguousSubString),Z);d1=$=(0,ex.__decorate)([(0,ex.__param)(1,eZ.IInstantiationService),(0,ex.__param)(2,e6.IKeybindingService),(0,ex.__param)(3,i9.ICommandService),(0,ex.__param)(4,nN.ITelemetryService),(0,ex.__param)(5,tj.IDialogService)],d1);let d2=(J=X=class extends d$.Disposable{registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.updateConfiguration(e))),this._register(this.storageService.onWillSaveState(e=>{e.reason===tW.WillSaveStateReason.SHUTDOWN&&this.saveState()}))}updateConfiguration(e){(!e||e.affectsConfiguration("workbench.commandPalette.history"))&&(this.configuredCommandsHistoryLength=J.getConfiguredCommandHistoryLength(this.configurationService),J.cache&&J.cache.limit!==this.configuredCommandsHistoryLength&&(J.cache.limit=this.configuredCommandsHistoryLength,J.hasChanges=!0))}load(){let e,t=this.storageService.get(J.PREF_KEY_CACHE,tW.StorageScope.PROFILE);if(t)try{e=JSON.parse(t)}catch(e){this.logService.error("[CommandsHistory] invalid data: ".concat(e))}let i=J.cache=new iQ.LRUCache(this.configuredCommandsHistoryLength,1);e&&(e.usesLRU?e.entries:e.entries.sort((e,t)=>e.value-t.value)).forEach(e=>i.set(e.key,e.value));J.counter=this.storageService.getNumber(J.PREF_KEY_COUNTER,tW.StorageScope.PROFILE,J.counter)}push(e){J.cache&&(J.cache.set(e,J.counter++),J.hasChanges=!0)}peek(e){var t;return null==(t=J.cache)?void 0:t.peek(e)}saveState(){if(!J.cache||!J.hasChanges)return;let e={usesLRU:!0,entries:[]};J.cache.forEach((t,i)=>e.entries.push({key:i,value:t})),this.storageService.store(J.PREF_KEY_CACHE,JSON.stringify(e),tW.StorageScope.PROFILE,tW.StorageTarget.USER),this.storageService.store(J.PREF_KEY_COUNTER,J.counter,tW.StorageScope.PROFILE,tW.StorageTarget.USER),J.hasChanges=!1}static getConfiguredCommandHistoryLength(e){var t,i;let o=null==(i=e.getValue().workbench)||null==(t=i.commandPalette)?void 0:t.history;return"number"==typeof o?o:J.DEFAULT_COMMANDS_HISTORY_LENGTH}static clearHistory(e,t){let i=J.getConfiguredCommandHistoryLength(e);J.cache=new iQ.LRUCache(i),J.counter=1,J.hasChanges=!0}constructor(e,t,i){super(),this.storageService=e,this.configurationService=t,this.logService=i,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}},X.DEFAULT_COMMANDS_HISTORY_LENGTH=50,X.PREF_KEY_CACHE="commandPalette.mru.cache",X.PREF_KEY_COUNTER="commandPalette.mru.counter",X.counter=1,X.hasChanges=!1,X);d2=J=(0,ex.__decorate)([(0,ex.__param)(0,tz.IStorageService),(0,ex.__param)(1,eO.IConfigurationService),(0,ex.__param)(2,tB.ILogService)],d2);class d3 extends d1{getCodeEditorCommandPicks(){let e=this.activeTextEditorControl;if(!e)return[];let t=[];for(let o of e.getSupportedActions()){var i;let e;(null==(i=o.metadata)?void 0:i.description)&&(e=(0,dY.isLocalizedString)(o.metadata.description)?o.metadata.description:{original:o.metadata.description,value:o.metadata.description}),t.push({commandId:o.id,commandAlias:o.alias,commandDescription:e,label:(0,dQ.stripIcons)(o.label)||o.id})}return t}constructor(e,t,i,o,n,r){super(e,t,i,o,n,r)}}var d5=eG,d4=e.i(576549),d6=e.i(462142),d8=e.i(609746),d9=e.i(173435),d7=e.i(634524),ce=e.i(393662),ct=e.i(810364),ci=e.i(380755),co=e.i(659199),cn=e.i(43095);let cr=(et=ee=class extends d3{get activeTextEditorControl(){return this.editorService.activeTextEditorControl}get defaultFilterValue(){if(this.configuration.preserveInput)return d6.DefaultQuickAccessFilterValue.LAST}get configuration(){let e=this.configurationService.getValue().workbench.commandPalette;return{preserveInput:e.preserveInput,experimental:e.experimental}}updateOptions(e){var t;if(e&&!e.affectsConfiguration("workbench.commandPalette.experimental"))return;let i=this.configuration,o=i.experimental.suggestCommands&&(null==(t=this.productService.commandPaletteSuggestedCommandIds)?void 0:t.length)?new Set(this.productService.commandPaletteSuggestedCommandIds):void 0;this.options.suggestedCommandIds=o,this.useAiRelatedInfo=i.experimental.enableNaturalLanguageSearch}async getCommandPicks(e){return(await this.extensionRegistrationRace,e.isCancellationRequested)?[]:[...this.getCodeEditorCommandPicks(),...this.getGlobalCommandPicks()].map(e=>({...e,buttons:[{iconClass:r3.ThemeIcon.asClassName(it.Codicon.gear),tooltip:(0,eA.localize)(8207,"Configure Keybinding")}],trigger:()=>(this.preferencesService.openGlobalKeybindingSettings(!1,{query:(0,co.createKeybindingCommandQuery)(e.commandId,e.commandWhen)}),d0.TriggerAction.CLOSE_PICKER)}))}hasAdditionalCommandPicks(e,t){return!!this.useAiRelatedInfo&&!t.isCancellationRequested&&""!==e&&!!this.aiRelatedInformationService.isEnabled()}async getAdditionalCommandPicks(e,t,i,o){let n;if(!this.hasAdditionalCommandPicks(i,o))return[];try{await (0,tF.timeout)(et.AI_RELATED_INFORMATION_DEBOUNCE,o),n=await this.getRelatedInformationPicks(e,t,i,o)}catch(e){return[]}(t.length||n.length)&&n.push({type:"separator"});let r=this.chatAgentService.getDefaultAgent(d9.ChatAgentLocation.Panel);return r&&n.push({label:(0,eA.localize)(8208,"Ask {0}: {1}",r.fullName,i),commandId:"quickChat"===this.configuration.experimental.askChatLocation?d8.ASK_QUICK_QUESTION_ACTION_ID:d8.CHAT_OPEN_ACTION_ID,args:[i]}),n}async getRelatedInformationPicks(e,t,i,o){let n=await this.aiRelatedInformationService.getRelatedInformation(i,[ce.RelatedInformationType.CommandInformation],o);n.sort((e,t)=>t.weight-e.weight);let r=new Set(t.map(e=>e.commandId)),s=[];for(let t of n){if(s.length===et.AI_RELATED_INFORMATION_MAX_PICKS)break;let i=e.find(e=>e.commandId===t.command&&!r.has(e.commandId));i&&s.push(i)}return s}getGlobalCommandPicks(){var e,t,i,o;let n=[],r=(null==(e=this.editorService.activeEditorPane)?void 0:e.scopedContextKeyService)||this.editorGroupService.activeGroup.scopedContextKeyService;for(let e of this.menuService.getMenuActions(d5.MenuId.CommandPalette,r).reduce((e,t)=>{let[,i]=t;return[...e,...i]},[]).filter(e=>e instanceof d5.MenuItemAction&&e.enabled)){let r=("string"==typeof e.item.title?e.item.title:e.item.title.value)||e.item.id,s="string"==typeof e.item.category?e.item.category:null==(t=e.item.category)?void 0:t.value;s&&(r=(0,eA.localize)(8209,"{0}: {1}",s,r));let a="string"!=typeof e.item.title?e.item.title.original:void 0,l=s&&e.item.category&&"string"!=typeof e.item.category?e.item.category.original:void 0,d=a&&s?l?"".concat(l,": ").concat(a):"".concat(s,": ").concat(a):a,c=null==(i=e.item.metadata)?void 0:i.description,u=void 0===c||(0,dY.isLocalizedString)(c)?c:{value:c,original:c};n.push({commandId:e.item.id,commandWhen:null==(o=e.item.precondition)?void 0:o.serialize(),commandAlias:d,label:(0,dQ.stripIcons)(r),commandDescription:u})}return n}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p){super({showAlias:!tD.Language.isDefaultVariant(),noResultsPick:()=>({label:(0,eA.localize)(8206,"No matching commands"),commandId:""})},o,n,r,s,a),this.editorService=e,this.menuService=t,this.extensionService=i,this.configurationService=l,this.editorGroupService=d,this.preferencesService=c,this.productService=u,this.aiRelatedInformationService=h,this.chatAgentService=p,this.extensionRegistrationRace=(0,tF.raceTimeout)(this.extensionService.whenInstalledExtensionsRegistered(),800),this.useAiRelatedInfo=!1,this._register(l.onDidChangeConfiguration(e=>this.updateOptions(e))),this.updateOptions()}},ee.AI_RELATED_INFORMATION_MAX_PICKS=5,ee.AI_RELATED_INFORMATION_DEBOUNCE=200,ee);cr=et=(0,ex.__decorate)([(0,ex.__param)(0,t$.IEditorService),(0,ex.__param)(1,n4.IMenuService),(0,ex.__param)(2,eP.IExtensionService),(0,ex.__param)(3,eZ.IInstantiationService),(0,ex.__param)(4,e6.IKeybindingService),(0,ex.__param)(5,i9.ICommandService),(0,ex.__param)(6,nN.ITelemetryService),(0,ex.__param)(7,tj.IDialogService),(0,ex.__param)(8,eO.IConfigurationService),(0,ex.__param)(9,ci.IEditorGroupsService),(0,ex.__param)(10,cn.IPreferencesService),(0,ex.__param)(11,d4.IProductService),(0,ex.__param)(12,ct.IAiRelatedInformationService),(0,ex.__param)(13,d7.IChatAgentService)],cr);class cs extends d5.Action2{async run(e){e.get(tr.IQuickInputService).quickAccess.show(cr.PREFIX)}constructor(){super({id:cs.ID,title:(0,eA.localize2)(8210,"Show All Commands"),keybinding:{weight:eX.KeybindingWeight.WorkbenchContrib,when:void 0,primary:dj.isFirefox?void 0:ez.KeyMod.CtrlCmd|ez.KeyMod.Shift|ez.KeyCode.KeyP,secondary:[ez.KeyCode.F1]},f1:!0})}}cs.ID="workbench.action.showCommands";class ca extends d5.Action2{async run(e){let t=e.get(eO.IConfigurationService),i=e.get(tz.IStorageService),o=e.get(tj.IDialogService);if(d2.getConfiguredCommandHistoryLength(t)>0){let{confirmed:e}=await o.confirm({type:"warning",message:(0,eA.localize)(8212,"Do you want to clear the history of recently used commands?"),detail:(0,eA.localize)(8213,"This action is irreversible!"),primaryButton:(0,eA.localize)(8214,"&&Clear")});if(!e)return;d2.clearHistory(t,i)}}constructor(){super({id:"workbench.action.clearCommandHistory",title:(0,eA.localize2)(8211,"Clear Command History"),f1:!0})}}var cl=e.i(977574),cd=eG;let cc=class extends cl.AbstractGotoLineQuickAccessProvider{get configuration(){var e;let t=null==(e=this.configurationService.getValue().workbench)?void 0:e.editor;return{openEditorPinned:!(null==t?void 0:t.enablePreviewFromQuickOpen)||!(null==t?void 0:t.enablePreview)}}get activeTextEditorControl(){return this.editorService.activeTextEditorControl}gotoLocation(e,t){if((t.keyMods.alt||this.configuration.openEditorPinned&&t.keyMods.ctrlCmd||t.forceSideBySide)&&this.editorService.activeEditor){var i;null==(i=e.restoreViewState)||i.call(e);let o={selection:t.range,pinned:t.keyMods.ctrlCmd||this.configuration.openEditorPinned,preserveFocus:t.preserveFocus};this.editorGroupService.sideGroup.openEditor(this.editorService.activeEditor,o)}else super.gotoLocation(e,t)}constructor(e,t,i){super(),this.editorService=e,this.editorGroupService=t,this.configurationService=i,this.onDidActiveTextEditorControlChange=this.editorService.onDidActiveEditorChange}};cc=(0,ex.__decorate)([(0,ex.__param)(0,t$.IEditorService),(0,ex.__param)(1,ci.IEditorGroupsService),(0,ex.__param)(2,eO.IConfigurationService)],cc);class cu extends cd.Action2{async run(e){e.get(tr.IQuickInputService).quickAccess.show(cc.PREFIX)}constructor(){super({id:cu.ID,title:(0,eA.localize2)(4714,"Go to Line/Column..."),f1:!0,keybinding:{weight:eX.KeybindingWeight.WorkbenchContrib,when:null,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.KeyG,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyCode.KeyG}}})}}cu.ID="workbench.action.gotoLine",(0,cd.registerAction2)(cu),eM.Registry.as(d6.Extensions.Quickaccess).registerQuickAccessProvider({ctor:cc,prefix:cl.AbstractGotoLineQuickAccessProvider.PREFIX,placeholder:(0,eA.localize)(4715,"Type the line number and optional column to go to (e.g. 42:5 for line 42 and column 5)."),helpEntries:[{description:(0,eA.localize)(4716,"Go to Line/Column"),commandId:cu.ID}]}),e.i(814793);var ch=e.i(370572);let cp=(eo=ei=class{provide(e){let t=new eD.DisposableStore;return t.add(e.onDidAccept(()=>{let[t]=e.selectedItems;t&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(e=>{let t=this.registry.getQuickAccessProvider(e.substr(eo.PREFIX.length));t&&t.prefix&&t.prefix!==eo.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(e=>e.prefix!==eo.PREFIX),t}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((e,t)=>e.prefix.localeCompare(t.prefix)).flatMap(e=>this.createPicks(e))}createPicks(e){return e.helpEntries.map(t=>{let i=t.prefix||e.prefix,o=i||"…";return{prefix:i,label:o,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:(0,eA.localize)(1833,"{0}, {1}",o,t.description),description:t.description}})}constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=eM.Registry.as(d6.Extensions.Quickaccess)}},ei.PREFIX="?",ei);cp=eo=(0,ex.__decorate)([(0,ex.__param)(0,tr.IQuickInputService),(0,ex.__param)(1,e6.IKeybindingService)],cp);var cg=d0,cm=e.i(900089),cv=e.i(970469),c_=e.i(24165),cf=e.i(657009),cy=eG,cC=e.i(103072),cb=e.i(580027),cS=e.i(716199);let cw=(er=en=class extends cg.PickerQuickAccessProvider{_getPicks(e){let t,i=this.doGetViewPickItems().filter(t=>{var i;return!e||(t.highlights={label:null!=(i=(0,lV.matchesFuzzy)(e,t.label,!0))?i:void 0},t.highlights.label||(0,iE.fuzzyContains)(t.containerLabel,e))}),o=new Map;for(let e of i)o.has(e.label)||o.set(e.label,e.containerLabel);let n=[];for(let e of i){if(t!==e.containerLabel){let i;t=e.containerLabel,i=o.has(t)?"".concat(o.get(t)," / ").concat(t):t,n.push({type:"separator",label:i})}n.push(e)}return n}doGetViewPickItems(){let e=[],t=(e,t)=>{let i=this.viewDescriptorService.getViewContainerModel(t),o=[];for(let e of i.allViewDescriptors)this.contextKeyService.contextMatchesRules(e.when)&&o.push({label:e.name.value,containerLabel:i.title,accept:()=>this.viewsService.openView(e.id,!0)});return o},i=(t,i)=>{let o=this.paneCompositeService.getPaneComposites(t),n=this.paneCompositeService.getVisiblePaneCompositeIds(t);for(let r of(o.sort((e,t)=>{let i=n.findIndex(t=>e.id===t),r=n.findIndex(e=>t.id===e);return i<0&&(i=o.indexOf(e)+n.length),r<0&&(r=o.indexOf(t)+n.length),i-r}),o))if(this.includeViewContainer(r)){let o=this.viewDescriptorService.getViewContainerById(r.id);o&&e.push({label:this.viewDescriptorService.getViewContainerModel(o).title,containerLabel:i,accept:()=>this.paneCompositeService.openPaneComposite(r.id,t,!0)})}};i(cm.ViewContainerLocation.Sidebar,(0,eA.localize)(8228,"Side Bar")),i(cm.ViewContainerLocation.Panel,(0,eA.localize)(8229,"Panel")),i(cm.ViewContainerLocation.AuxiliaryBar,(0,eA.localize)(8230,"Secondary Side Bar"));let o=i=>{for(let o of this.paneCompositeService.getPaneComposites(i)){let i=this.viewDescriptorService.getViewContainerById(o.id);i&&e.push(...t(o,i))}};for(let t of(o(cm.ViewContainerLocation.Sidebar),o(cm.ViewContainerLocation.Panel),o(cm.ViewContainerLocation.AuxiliaryBar),this.terminalGroupService.groups.forEach((t,i)=>{t.terminalInstances.forEach((t,o)=>{let n=(0,eA.localize)(8231,"{0}: {1}","".concat(i+1,".").concat(o+1),t.title);e.push({label:n,containerLabel:(0,eA.localize)(8232,"Terminal"),accept:async()=>{await this.terminalGroupService.showPanel(!0),this.terminalService.setActiveInstance(t)}})})}),this.debugService.getModel().getSessions(!0).filter(e=>e.hasSeparateRepl()).forEach((t,i)=>{let o=t.name;e.push({label:o,containerLabel:(0,eA.localize)(8233,"Debug Console"),accept:async()=>{await this.debugService.focusStackFrame(void 0,void 0,t,{explicit:!0}),this.viewsService.isViewVisible(cb.REPL_VIEW_ID)||await this.viewsService.openView(cb.REPL_VIEW_ID,!0)}})}),this.outputService.getChannelDescriptors()))e.push({label:t.label,containerLabel:(0,eA.localize)(8234,"Output"),accept:()=>this.outputService.showChannel(t.id)});return e}includeViewContainer(e){let t=this.viewDescriptorService.getViewContainerById(e.id);return null==t||!t.hideIfEmpty||this.viewDescriptorService.getViewContainerModel(t).activeViewDescriptors.length>0}constructor(e,t,i,o,n,r,s,a){super(er.PREFIX,{noResultsPick:{label:(0,eA.localize)(8227,"No matching views"),containerLabel:""}}),this.viewDescriptorService=e,this.viewsService=t,this.outputService=i,this.terminalService=o,this.terminalGroupService=n,this.debugService=r,this.paneCompositeService=s,this.contextKeyService=a}},en.PREFIX="view ",en);cw=er=(0,ex.__decorate)([(0,ex.__param)(0,cv.IViewDescriptorService),(0,ex.__param)(1,c_.IViewsService),(0,ex.__param)(2,tQ.IOutputService),(0,ex.__param)(3,cf.ITerminalService),(0,ex.__param)(4,cf.ITerminalGroupService),(0,ex.__param)(5,cS.IDebugService),(0,ex.__param)(6,cC.IPaneCompositePartService),(0,ex.__param)(7,eY.IContextKeyService)],cw);class cE extends cy.Action2{async run(e){e.get(tr.IQuickInputService).quickAccess.show(cw.PREFIX)}constructor(){super({id:cE.ID,title:(0,eA.localize2)(8235,"Open View"),category:tU.Categories.View,f1:!0})}}cE.ID="workbench.action.openView";class cI extends cy.Action2{async run(e){let t=e.get(e6.IKeybindingService),i=e.get(tr.IQuickInputService),o=t.lookupKeybindings(cI.ID);i.quickAccess.show(cw.PREFIX,{quickNavigateConfiguration:{keybindings:o},itemActivation:ch.ItemActivation.FIRST})}constructor(){super({id:cI.ID,title:(0,eA.localize2)(8236,"Quick Open View"),category:tU.Categories.View,f1:!1,keybinding:{weight:eX.KeybindingWeight.WorkbenchContrib,when:void 0,...cI.KEYBINDING}})}}cI.ID="workbench.action.quickOpenView",cI.KEYBINDING={primary:ez.KeyMod.CtrlCmd|ez.KeyCode.KeyQ,mac:{primary:ez.KeyMod.WinCtrl|ez.KeyCode.KeyQ},linux:{primary:0}};let cx=eM.Registry.as(d6.Extensions.Quickaccess);cx.registerQuickAccessProvider({ctor:cp,prefix:cp.PREFIX,placeholder:(0,eA.localize)(8215,"Type '{0}' to get help on the actions you can take from here.",cp.PREFIX),helpEntries:[{description:(0,eA.localize)(8216,"Show all Quick Access Providers"),commandCenterOrder:70,commandCenterLabel:(0,eA.localize)(8217,"More")}]}),cx.registerQuickAccessProvider({ctor:cw,prefix:cw.PREFIX,contextKey:"inViewsPicker",placeholder:(0,eA.localize)(8218,"Type the name of a view, output channel or terminal to open."),helpEntries:[{description:(0,eA.localize)(8219,"Open View"),commandId:cE.ID}]}),eG.MenuRegistry.appendMenuItem(eG.MenuId.MenubarViewMenu,{group:"1_open",command:{id:cE.ID,title:(0,eA.localize)(8224,"&&Open View...")},order:2}),eG.MenuRegistry.appendMenuItem(eG.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"workbench.action.gotoLine",title:(0,eA.localize)(8225,"Go to &&Line/Column...")},order:1}),(0,eG.registerAction2)(ca),(0,eG.registerAction2)(cE),(0,eG.registerAction2)(cI);let cD=eQ.ContextKeyExpr.and(dU.inQuickPickContext,eQ.ContextKeyExpr.has("inViewsPicker")),ck=cI.KEYBINDING,cA="workbench.action.quickOpenNavigateNextInViewPicker";eX.KeybindingsRegistry.registerCommandAndKeybindingRule({id:cA,weight:eX.KeybindingWeight.WorkbenchContrib+50,handler:(0,dU.getQuickNavigateHandler)(cA,!0),when:cD,primary:ck.primary,linux:ck.linux,mac:ck.mac});let cM="workbench.action.quickOpenNavigatePreviousInViewPicker";eX.KeybindingsRegistry.registerCommandAndKeybindingRule({id:cM,weight:eX.KeybindingWeight.WorkbenchContrib+50,handler:(0,dU.getQuickNavigateHandler)(cM,!1),when:cD,primary:ck.primary|ez.KeyMod.Shift,linux:ck.linux,mac:{primary:ck.mac.primary|ez.KeyMod.Shift}});var cL=eG,cT=e.i(797837),cR=eD,cN=e.i(308955);let cP=((es=class extends cR.Disposable{constructor(e,t){var i;super(),(null==(i=t.options)?void 0:i.resolveExternalUri)&&this._register(e.registerExternalUriResolver({resolveExternalUri:async e=>({resolved:await t.options.resolveExternalUri(e),dispose:()=>{}})}))}}).ID="workbench.contrib.externalUriResolver",es);cP=(0,ex.__decorate)([(0,ex.__param)(0,nR.IOpenerService),(0,ex.__param)(1,cN.IBrowserWorkbenchEnvironmentService)],cP);let cO=iU.URI.parse("trustedDomains:/Trusted Domains"),cF="http.linkProtectionTrustedDomains",cK="http.linkProtectionTrustedDomainsContent",cW={id:"workbench.action.manageTrustedDomain",description:{description:(0,eA.localize2)(10482,"Manage Trusted Domains"),args:[]},handler:async e=>{e.get(t$.IEditorService).openEditor({resource:cO,languageId:"jsonc",options:{pinned:!0}})}};async function cz(e,t,i,o,n,r,s){let a=iU.URI.parse(t),l=a.authority.split("."),d=l.slice(l.length-2).join("."),c=[];if(c.push({type:"item",label:(0,eA.localize)(10483,"Trust {0}",t),id:"trust",toTrust:t,picked:!0}),4===l.length&&l.every(e=>Number.isInteger(+e)||Number.isInteger(+e.split(":")[0]))){if(a.authority.includes(":")){let e=a.authority.split(":")[0];c.push({type:"item",label:(0,eA.localize)(10484,"Trust {0} on all ports",e),toTrust:e+":*",id:"trust"})}}else c.push({type:"item",label:(0,eA.localize)(10485,"Trust {0} and all its subdomains",d),toTrust:"*."+d,id:"trust"});c.push({type:"item",label:(0,eA.localize)(10486,"Trust all domains (disables link protection)"),toTrust:"*",id:"trust"}),c.push({type:"item",label:(0,eA.localize)(10487,"Manage Trusted Domains"),id:"manage"});let u=await o.pick(c,{activeItem:c[0]});if(u&&u.id)switch(u.id){case"manage":return await r.openEditor({resource:cO.with({fragment:i.toString()}),languageId:"jsonc",options:{pinned:!0}}),e;case"trust":{let t=u.toTrust;if(-1===e.indexOf(t))return n.remove(cK,tW.StorageScope.APPLICATION),n.store(cF,JSON.stringify([...e,t]),tW.StorageScope.APPLICATION,tW.StorageTarget.USER),[...e,t]}}return[]}async function cV(e){let{defaultTrustedDomains:t,trustedDomains:i}=cB(e);return{defaultTrustedDomains:t,trustedDomains:i}}function cB(e){var t,i,o;let n=e.get(tz.IStorageService),r=e.get(d4.IProductService),s=e.get(cN.IBrowserWorkbenchEnvironmentService),a=[...null!=(i=r.linkProtectionTrustedDomains)?i:[],...null!=(o=null==(t=s.options)?void 0:t.additionalTrustedDomains)?o:[]],l=[];try{let e=n.get(cF,tW.StorageScope.APPLICATION);e&&(l=JSON.parse(e))}catch(e){}return{defaultTrustedDomains:a,trustedDomains:l}}var cH=e.i(790059);let cU={type:tZ.FileType.File,ctime:Date.now(),mtime:Date.now(),size:0},cG='// Links matching one or more entries in the list below can be opened without link protection.\n// The following examples show what entries can look like:\n// - "https://microsoft.com": Matches this specific domain using https\n// - "https://microsoft.com:8080": Matches this specific domain on this port using https\n// - "https://microsoft.com:*": Matches this specific domain on any port using https\n// - "https://microsoft.com/foo": Matches https://microsoft.com/foo and https://microsoft.com/foo/bar,\n//   but not https://microsoft.com/foobar or https://microsoft.com/bar\n// - "https://*.microsoft.com": Match all domains ending in "microsoft.com" using https\n// - "microsoft.com": Match this specific domain using either http or https\n// - "*.microsoft.com": Match all domains ending in "microsoft.com" using either http or https\n// - "http://192.168.0.1: Matches this specific IP using http\n// - "http://192.168.0.*: Matches all IP\'s with this prefix using http\n// - "*": Match all domains using either http or https\n//\n',cq='//\n// You can use the "Manage Trusted Domains" command to open this file.\n// Save this file to apply the trusted domains rules.\n',cj=((ea=class{stat(e){return Promise.resolve(cU)}async readFile(e){let t,i=this.storageService.get(cK,tW.StorageScope.APPLICATION),o=e.fragment,{defaultTrustedDomains:n,trustedDomains:r}=await this.instantiationService.invokeFunction(cV);return(!i||-1===i.indexOf(cG)||-1===i.indexOf(cq)||-1===i.indexOf(null!=o?o:"")||[...n,...r].some(e=>!(0,iH.assertIsDefined)(i).includes(e)))&&(t=cG,n.length>0?(t+='// By default, VS Code trusts "localhost" as well as the following domains:\n',n.forEach(e=>{t+='// - "'.concat(e,'"\n')})):t+='// By default, VS Code trusts "localhost".\n',t+=cq,t+=o?"\n// Currently configuring trust for ".concat(o,"\n"):"",0===r.length?t+='[\n	// "https://microsoft.com"\n]':t+=JSON.stringify(r,null,2),i=t),rw.VSBuffer.fromString(i).buffer}writeFile(e,t,i){try{let e=rw.VSBuffer.wrap(t).toString(),i=(0,cH.parse)(e);this.storageService.store(cK,e,tW.StorageScope.APPLICATION,tW.StorageTarget.USER),this.storageService.store(cF,JSON.stringify(i)||"",tW.StorageScope.APPLICATION,tW.StorageTarget.USER)}catch(e){}return Promise.resolve()}watch(e,t){return{dispose(){}}}mkdir(e){return Promise.resolve(void 0)}readdir(e){return Promise.resolve(void 0)}delete(e,t){return Promise.resolve(void 0)}rename(e,t,i){return Promise.resolve(void 0)}constructor(e,t,i){this.fileService=e,this.storageService=t,this.instantiationService=i,this.capabilities=tZ.FileSystemProviderCapabilities.FileReadWrite,this.onDidChangeCapabilities=e0.Event.None,this.onDidChangeFile=e0.Event.None,this.fileService.registerProvider("trustedDomains",this)}}).ID="workbench.contrib.trustedDomainsFileSystemProvider",ea);cj=(0,ex.__decorate)([(0,ex.__param)(0,rE.IFileService),(0,ex.__param)(1,tz.IStorageService),(0,ex.__param)(2,eZ.IInstantiationService)],cj);var cQ=e.i(533412),cY=eD;let cZ=(e,t)=>{var i;let o=e.with({query:null,fragment:null}).toString(!0),n=e=>e.replace(/\/+$/,"");t=n(t);let r=Array.from({length:(o=n(o)).length+1}).map(()=>Array.from({length:t.length+1}).map(()=>void 0));if(/^[^./:]*:\/\//.test(t))return cX(r,o,t,0,0);let s=null==(i=/^(https?):\/\//.exec(o))?void 0:i[1];return!!s&&cX(r,o,"".concat(s,"://").concat(t),0,0)},cX=(e,t,i,o,n)=>{var r;if((null==(r=e[o])?void 0:r[n])!==void 0)return e[o][n];let s=[];if(o===t.length)return n===i.length;if(n===i.length)return"/"===t.slice(o)[0];if(t[o]===i[n]&&s.push(cX(e,t,i,o+1,n+1)),i[n]+i[n+1]==="*."&&(["/",":"].includes(t[o])||s.push(cX(e,t,i,o+1,n)),s.push(cX(e,t,i,o,n+2))),"*"===i[n]&&(o+1===t.length?s.push(cX(e,t,i,o+1,n+1)):s.push(cX(e,t,i,o+1,n)),s.push(cX(e,t,i,o,n+1))),i[n]+i[n+1]===":*")if(":"===t[o]){let r=o+1;do r++;while(/[0-9]/.test(t[r]))s.push(cX(e,t,i,r,n+2))}else s.push(cX(e,t,i,o,n+2));return e[o][n]=s.some(e=>!0===e)};e.s(["testUrlMatchesGlob",()=>cZ],257912);let c$=class extends cY.Disposable{isValid(e){let{defaultTrustedDomains:t,trustedDomains:i}=this._instantiationService.invokeFunction(cB);return c2(e,[...t,...i])}constructor(e,t){super(),this._instantiationService=e,this._storageService=t;let i=()=>new eK.WindowIdleValue(iZ.mainWindow,()=>{let{defaultTrustedDomains:e,trustedDomains:t}=this._instantiationService.invokeFunction(cB);return[...e,...t]});this._staticTrustedDomainsResult=i(),this._register(this._storageService.onDidChangeValue(tW.StorageScope.APPLICATION,cF,this._store)(()=>{var e;null==(e=this._staticTrustedDomainsResult)||e.dispose(),this._staticTrustedDomainsResult=i()}))}};c$=(0,ex.__decorate)([(0,ex.__param)(0,eZ.IInstantiationService),(0,ex.__param)(1,tz.IStorageService)],c$);let cJ=/^localhost(:\d+)?$/i,c0=/^127.0.0.1(:\d+)?$/;function c1(e){try{let t="string"==typeof e?iU.URI.parse(e,!0):e;if(["github.com"].includes(t.authority))return t.with({path:t.path.toLowerCase()}).toString(!0);return t.toString(!0)}catch(t){return e.toString()}}function c2(e,t){var i;if(e=iU.URI.parse(c1(e)),t=t.map(c1),i=e.authority,cJ.test(i)||c0.test(i))return!0;for(let i=0;i<t.length;i++)if("*"===t[i]||cZ(e,t[i]))return!0;return!1}e.s(["TrustedDomainService",()=>c$,"isURLDomainTrusted",()=>c2],231018);var c3=e.i(736758);let c5=class{async validateLink(e,t){let i;if(!(0,cQ.matchesScheme)(e,cQ.Schemas.http)&&!(0,cQ.matchesScheme)(e,cQ.Schemas.https)||(null==t?void 0:t.fromWorkspace)&&this._workspaceTrustService.isWorkspaceTrusted()&&!this._configurationService.getValue("workbench.trustedDomains.promptInTrustedWorkspace")||(i="string"==typeof e?iU.URI.parse(e):e,await this._trustedDomainService.isValid(i)))return!0;{let{scheme:t,authority:o,path:n,query:r,fragment:s}=i,a="".concat(t,"://").concat(o).concat(n),l="".concat(r?"?"+r:"").concat(s?"#"+s:""),d=Math.min(Math.max(5,Math.max(0,60-a.length)),l.length);d===l.length?a+=l:a+=l.charAt(0)+"..."+l.substring(l.length-d+1);let{result:c}=await this._dialogService.prompt({type:nv.default.Info,message:(0,eA.localize)(10488,"Do you want {0} to open the external website?",this._productService.nameShort),detail:"string"==typeof e?e:a,buttons:[{label:(0,eA.localize)(10489,"&&Open"),run:()=>!0},{label:(0,eA.localize)(10490,"&&Copy"),run:()=>(this._clipboardService.writeText("string"==typeof e?e:i.toString(!0)),!1)},{label:(0,eA.localize)(10491,"Configure &&Trusted Domains"),run:async()=>{let{trustedDomains:e}=this._instantiationService.invokeFunction(cB),n="".concat(t,"://").concat(o),r=await cz(e,n,i,this._quickInputService,this._storageService,this._editorService);return!!(-1!==r.indexOf("*")||c2(i,r))}}],cancelButton:{run:()=>!1}});return c}}constructor(e,t,i,o,n,r,s,a,l,d,c,u){this._openerService=e,this._storageService=t,this._dialogService=i,this._productService=o,this._quickInputService=n,this._editorService=r,this._clipboardService=s,this._telemetryService=a,this._instantiationService=l,this._configurationService=d,this._workspaceTrustService=c,this._trustedDomainService=u,this._openerService.registerValidator({shouldOpen:(e,t)=>this.validateLink(e,t)})}};c5=(0,ex.__decorate)([(0,ex.__param)(0,nR.IOpenerService),(0,ex.__param)(1,tz.IStorageService),(0,ex.__param)(2,tj.IDialogService),(0,ex.__param)(3,d4.IProductService),(0,ex.__param)(4,tr.IQuickInputService),(0,ex.__param)(5,t$.IEditorService),(0,ex.__param)(6,tk.IClipboardService),(0,ex.__param)(7,nN.ITelemetryService),(0,ex.__param)(8,eZ.IInstantiationService),(0,ex.__param)(9,eO.IConfigurationService),(0,ex.__param)(10,l8.IWorkspaceTrustManagementService),(0,ex.__param)(11,c3.ITrustedDomainService)],c5);var c4=e.i(78732);class c6 extends cL.Action2{async run(e){let t=e.get(tr.IQuickInputService),i=e.get(cT.IURLService);return t.input({prompt:(0,eA.localize)(10493,"URL to open")}).then(e=>{if(e){let t=iU.URI.parse(e);i.open(t,{originalUrl:e})}})}constructor(){super({id:"workbench.action.url.openUrl",title:(0,eA.localize2)(10492,"Open URL"),category:tU.Categories.Developer,f1:!0})}}(0,cL.registerAction2)(c6),tw.CommandsRegistry.registerCommand(cW),cL.MenuRegistry.appendMenuItem(cL.MenuId.CommandPalette,{command:{id:cW.id,title:cW.description.description}}),eM.Registry.as(eL.Extensions.Workbench).registerWorkbenchContribution(c5,eN.LifecyclePhase.Restored),(0,eL.registerWorkbenchContribution2)(cj.ID,cj,eL.WorkbenchPhase.BlockRestore),(0,eL.registerWorkbenchContribution2)(cP.ID,cP,eL.WorkbenchPhase.BlockRestore),eM.Registry.as(eT.Extensions.Configuration).registerConfiguration({...c4.workbenchConfigurationNodeBase,properties:{"workbench.trustedDomains.promptInTrustedWorkspace":{scope:eT.ConfigurationScope.APPLICATION,type:"boolean",default:!1,description:(0,eA.localize)(10494,"When enabled, trusted domain prompts will appear when opening links in trusted workspaces.")}}});var c8=e.i(535429),c9=eD,c7=e.i(890696),ue=e.i(281034),ut=e.i(977857),ui=e.i(239686),uo=e.i(47179);!function(e){e.titleSeparator="window.titleSeparator",e.title="window.title"}(ec||(ec={}));let un=(()=>{if(tD.isMacintosh&&tD.isNative)return"${activeEditorShort}${separator}${rootName}${separator}${profileName}";let e="${dirty}${activeEditorShort}${separator}${rootName}${separator}${profileName}${separator}${appName}";return tD.isWeb?e+"${separator}${remoteName}":e})(),ur=tD.isMacintosh?" — ":" - ",us=(ed=el=class extends c9.Disposable{get value(){var e;return null!=(e=this.title)?e:""}get workspaceName(){return this.labelService.getWorkspaceLabel(this.contextService.getWorkspace())}get fileName(){let e=this.editorService.activeEditor;if(!e)return;let t=e.getTitle(c7.Verbosity.SHORT),i=(null==e?void 0:e.isDirty())&&!e.isSaving()?ed.TITLE_DIRTY:"";return"".concat(i).concat(t)}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.onConfigurationChanged(e))),this._register(this.editorService.onDidActiveEditorChange(()=>this.onActiveEditorChange())),this._register(this.contextService.onDidChangeWorkspaceFolders(()=>this.titleUpdater.schedule())),this._register(this.contextService.onDidChangeWorkbenchState(()=>this.titleUpdater.schedule())),this._register(this.contextService.onDidChangeWorkspaceName(()=>this.titleUpdater.schedule())),this._register(this.labelService.onDidChangeFormatters(()=>this.titleUpdater.schedule())),this._register(this.userDataProfileService.onDidChangeCurrentProfile(()=>this.titleUpdater.schedule())),this._register(this.viewsService.onDidChangeFocusedView(()=>{this.titleIncludesFocusedView&&this.titleUpdater.schedule()})),this._register(this.contextKeyService.onDidChangeContext(e=>{e.affectsSome(this.variables)&&this.titleUpdater.schedule()}))}onConfigurationChanged(e){e.affectsConfiguration(ec.title)&&this.updateTitleIncludesFocusedView(),(e.affectsConfiguration(ec.title)||e.affectsConfiguration(ec.titleSeparator))&&this.titleUpdater.schedule()}updateTitleIncludesFocusedView(){let e=this.configurationService.getValue(ec.title);this.titleIncludesFocusedView="string"==typeof e&&e.includes("${focusedView}")}onActiveEditorChange(){this.activeEditorListeners.clear(),this.titleUpdater.schedule();let e=this.editorService.activeEditor;if(e&&(this.activeEditorListeners.add(e.onDidChangeDirty(()=>this.titleUpdater.schedule())),this.activeEditorListeners.add(e.onDidChangeLabel(()=>this.titleUpdater.schedule()))),this.titleIncludesFocusedView){let e=this.editorService.activeTextEditorControl,t=[];for(let i of((0,iz.isCodeEditor)(e)?t.push(e):(0,iz.isDiffEditor)(e)&&t.push(e.getOriginalEditor(),e.getModifiedEditor()),t))this.activeEditorListeners.add(i.onDidBlurEditorText(()=>this.titleUpdater.schedule())),this.activeEditorListeners.add(i.onDidFocusEditorText(()=>this.titleUpdater.schedule()))}}doUpdateTitle(){let e=this.getFullWindowTitle();if(e!==this.title){let t=e;(0,iE.trim)(t)||(t=this.productService.nameLong);let i=(0,eK.getWindowById)(this.windowId,!0).window;!i.document.title&&tD.isMacintosh&&t===this.productService.nameLong&&(i.document.title="".concat(this.productService.nameLong," ").concat(ed.TITLE_DIRTY)),i.document.title=t,this.title=e,this.onDidChangeEmitter.fire()}}getFullWindowTitle(){let{prefix:e,suffix:t}=this.getTitleDecorations(),i=this.getWindowTitle()||this.productService.nameLong;return e&&(i="".concat(e," ").concat(i)),t&&(i="".concat(i," ").concat(t)),i.replace(/[^\S ]/g," ")}getTitleDecorations(){let e,t;return this.properties.prefix&&(e=this.properties.prefix),this.environmentService.isExtensionDevelopment&&(e=e?"".concat(ed.NLS_EXTENSION_HOST," - ").concat(e):ed.NLS_EXTENSION_HOST),this.properties.isAdmin&&(t=ed.NLS_USER_IS_ADMIN),{prefix:e,suffix:t}}updateProperties(e){let t="boolean"==typeof e.isAdmin?e.isAdmin:this.properties.isAdmin,i="boolean"==typeof e.isPure?e.isPure:this.properties.isPure,o="string"==typeof e.prefix?e.prefix:this.properties.prefix;(t!==this.properties.isAdmin||i!==this.properties.isPure||o!==this.properties.prefix)&&(this.properties.isAdmin=t,this.properties.isPure=i,this.properties.prefix=o,this.titleUpdater.schedule())}registerVariables(e){let t=!1;for(let{name:i,contextKey:o}of e)this.variables.has(o)||(this.variables.set(o,i),t=!0);t&&this.titleUpdater.schedule()}getWindowTitle(){var e,t;let i,o,n,r=this.editorService.activeEditor,s=this.contextService.getWorkspace();s.configuration?i=s.configuration:s.folders.length&&(i=s.folders[0].uri);let a=c7.EditorResourceAccessor.getOriginalUri(r,{supportSideBySide:c7.SideBySideEditor.PRIMARY}),l=a?(0,n1.dirname)(a):void 0;if((null==l?void 0:l.path)==="."&&(l=void 0),this.contextService.getWorkbenchState()===ue.WorkbenchState.FOLDER?o=s.folders[0]:a&&(o=null!=(e=this.contextService.getWorkspaceFolder(a))?e:void 0),this.environmentService.remoteAuthority&&!tD.isWeb)n=this.labelService.getHostLabel(cQ.Schemas.vscodeRemote,this.environmentService.remoteAuthority);else{let e=(0,uo.getVirtualWorkspaceLocation)(s);e&&(n=this.labelService.getHostLabel(e.scheme,e.authority))}let d=r?r.getTitle(c7.Verbosity.SHORT):"",c=r?r.getTitle(c7.Verbosity.MEDIUM):d,u=r?r.getTitle(c7.Verbosity.LONG):c,h=l?(0,n1.basename)(l):"",p=l?this.labelService.getUriLabel(l,{relative:!0}):"",g=l?this.labelService.getUriLabel(l):"",m=this.labelService.getWorkspaceLabel(s),v=this.labelService.getWorkspaceLabel(s,{verbose:ui.Verbosity.SHORT}),_=i?this.labelService.getUriLabel(i):"",f=o?o.name:"",y=o?this.labelService.getUriLabel(o.uri):"",C=(null==r?void 0:r.isDirty())&&!r.isSaving()?ed.TITLE_DIRTY:"",b=this.productService.nameLong,S=this.userDataProfileService.currentProfile.isDefault?"":this.userDataProfileService.currentProfile.name,w=this.viewsService.getFocusedViewName(),E={};for(let[e,i]of this.variables)E[i]=null!=(t=this.contextKeyService.getContextKeyValue(e))?t:"";let I=this.configurationService.getValue(ec.title);"string"!=typeof I&&(I=un);let x=this.configurationService.getValue(ec.titleSeparator);return"string"!=typeof x&&(x=ur),(0,ut.template)(I,{...E,activeEditorShort:d,activeEditorLong:u,activeEditorMedium:c,activeFolderShort:h,activeFolderMedium:p,activeFolderLong:g,rootName:m,rootPath:_,rootNameShort:v,folderName:f,folderPath:y,dirty:C,appName:b,remoteName:n,profileName:S,focusedView:w,separator:{label:x}})}isCustomTitleFormat(){let e=this.configurationService.inspect(ec.title),t=this.configurationService.inspect(ec.titleSeparator);return e.value!==e.defaultValue||t.value!==t.defaultValue}constructor(e,t,i,o,n,r,s,a,l,d,c){super(),this.configurationService=i,this.contextKeyService=o,this.environmentService=r,this.contextService=s,this.labelService=a,this.userDataProfileService=l,this.productService=d,this.viewsService=c,this.properties={isPure:!0,isAdmin:!1,prefix:void 0},this.variables=new Map,this.activeEditorListeners=this._register(new c9.DisposableStore),this.titleUpdater=this._register(new tF.RunOnceScheduler(()=>this.doUpdateTitle(),0)),this.onDidChangeEmitter=new e0.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.titleIncludesFocusedView=!1,this.editorService=n.createScoped(t,this._store),this.windowId=e.vscodeWindowId,this.updateTitleIncludesFocusedView(),this.registerListeners()}},el.NLS_USER_IS_ADMIN=tD.isWindows?(0,eA.localize)(3374,"[Administrator]"):(0,eA.localize)(3375,"[Superuser]"),el.NLS_EXTENSION_HOST=(0,eA.localize)(3376,"[Extension Development Host]"),el.TITLE_DIRTY="● ",el);us=ed=(0,ex.__decorate)([(0,ex.__param)(2,eO.IConfigurationService),(0,ex.__param)(3,eY.IContextKeyService),(0,ex.__param)(4,t$.IEditorService),(0,ex.__param)(5,cN.IBrowserWorkbenchEnvironmentService),(0,ex.__param)(6,rI.IWorkspaceContextService),(0,ex.__param)(7,n6.ILabelService),(0,ex.__param)(8,tX.IUserDataProfileService),(0,ex.__param)(9,d4.IProductService),(0,ex.__param)(10,c_.IViewsService)],us),e.s(["WindowTitle",()=>us,"defaultWindowTitle",()=>un,"defaultWindowTitleSeparator",()=>ur],946935);var ua=e.i(413117),ul=eD,ud=e.i(912097);let uc=(eh=eu=class extends ul.Disposable{registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{if(e.affectsConfiguration(eh.SETTING_ID_ENABLED)){let e=this.enabled;this.storeEnablementState(),e!==this.enabled&&this.patterns.length>0&&this._onDidChange.fire()}else e.affectsConfiguration(eh.SETTING_ID_PATTERNS)&&(this.cache.clear(),this.storeCustomPatterns(),this._onDidChange.fire())}))}storeEnablementState(){this.enabled=this.configurationService.getValue(eh.SETTING_ID_ENABLED)}storeCustomPatterns(){this.patterns=[];let e=this.configurationService.getValue(eh.SETTING_ID_PATTERNS);for(let t in e){let i=e[t];if(!this._templateRegexValidation.test(i))continue;let o=(0,ud.isAbsolute)(t),n=(0,ua.parse)(t);this.patterns.push({pattern:t,template:i,isAbsolutePath:o,parsedPattern:n})}this.patterns.sort((e,t)=>this.patternWeight(t.pattern)-this.patternWeight(e.pattern))}patternWeight(e){let t=0;for(let i of e.split("/"))"**"===i?t+=1:"*"===i?t+=10:i.includes("*")||i.includes("?")?t+=50:""!==i&&(t+=100);return t}getName(e){if(!this.enabled||0===this.patterns.length)return;let t=e.toString(),i=this.cache.get(t);if(void 0!==i)return null!=i?i:void 0;let o=this.applyPatterns(e);return this.cache.set(t,null!=o?o:null),o}applyPatterns(e){let t,i=this.workspaceContextService.getWorkspaceFolder(e);for(let n of this.patterns){let r;if(i&&!n.isAbsolutePath){if(!t){var o;t=null!=(o=(0,n1.relativePath)((0,n1.dirname)(i.uri),e))?o:e.path}r=t}else r=e.path;if(n.parsedPattern(r))return this.applyTemplate(n.template,e,r)}}applyTemplate(e,t,i){let o;var n=this;return e.replace(this._parsedTemplateExpression,function(e,r){for(var s,a,l=arguments.length,d=Array(l>2?l-2:0),c=2;c<l;c++)d[c-2]=arguments[c];o=null!=o?o:(0,ud.parse)(t.path);let{dirnameN:u="0",extnameN:h="0"}=d.pop();if("filename"===r){let{filename:e}=null!=(a=null==(s=n._filenameCaptureExpression.exec(o.base))?void 0:s.groups)?a:{};if(e)return e}else if("extname"===r){let e=n.getExtnames(o.base);if(e)return e}else if(r.startsWith("extname")){let e=parseInt(h),t=n.getNthExtname(o.base,e);if(t)return t}else if(r.startsWith("dirname")){let e=parseInt(u),t=n.getNthDirname((0,ud.dirname)(i),e);if(t)return t}return e})}removeLeadingDot(e){let t=e;for(;t.startsWith(".");)t=t.slice(1);return t}getNthDirname(e,t){let i=(e=e.startsWith("/")?e.slice(1):e).split("/");return this.getNthFragment(i,t)}getExtnames(e){return this.removeLeadingDot(e).split(".").slice(1).join(".")}getNthExtname(e,t){let i=this.removeLeadingDot(e).split(".");return i.shift(),this.getNthFragment(i,t)}getNthFragment(e,t){let i=e.length,o=e[t<0?Math.abs(t)-1:i-t-1];if(void 0!==o&&""!==o)return o}constructor(e,t){super(),this.configurationService=e,this.workspaceContextService=t,this._onDidChange=this._register(new e0.Emitter),this.onDidChange=this._onDidChange.event,this.patterns=[],this.enabled=!0,this.cache=new iQ.MRUCache(1e3),this._templateRegexValidation=/[a-zA-Z0-9]/,this._parsedTemplateExpression=RegExp("\\$\\{(dirname|filename|extname|extname\\((?<extnameN>[-+]?\\d+)\\)|dirname\\((?<dirnameN>[-+]?\\d+)\\))\\}","g"),this._filenameCaptureExpression=RegExp("(?<filename>^\\.*[^.]*)"),this.storeEnablementState(),this.storeCustomPatterns(),this.registerListeners()}},eu.SETTING_ID_PATTERNS="workbench.editor.customLabels.patterns",eu.SETTING_ID_ENABLED="workbench.editor.customLabels.enabled",eu);uc=eh=(0,ex.__decorate)([(0,ex.__param)(0,eO.IConfigurationService),(0,ex.__param)(1,rI.IWorkspaceContextService)],uc),e.s(["CustomEditorLabelService",()=>uc],305634);let uu=eM.Registry.as(eT.Extensions.Configuration);!function(){(0,eL.registerWorkbenchContribution2)(c4.ConfigurationMigrationWorkbenchContribution.ID,c4.ConfigurationMigrationWorkbenchContribution,eL.WorkbenchPhase.Eventually),(0,eL.registerWorkbenchContribution2)(c4.DynamicWorkbenchSecurityConfiguration.ID,c4.DynamicWorkbenchSecurityConfiguration,eL.WorkbenchPhase.AfterRestored),uu.registerConfiguration({...c4.workbenchConfigurationNodeBase,properties:{"workbench.externalBrowser":{type:"string",markdownDescription:(0,eA.localize)(3416,"Configure the browser to use for opening http or https links externally. This can either be the name of the browser (`edge`, `chrome`, `firefox`) or an absolute path to the browser's executable. Will use the system default if not set."),included:tD.isNative,restricted:!0},"workbench.editor.titleScrollbarSizing":{type:"string",enum:["default","large"],enumDescriptions:[(0,eA.localize)(3417,"The default size."),(0,eA.localize)(3418,"Increases the size, so it can be grabbed more easily with the mouse.")],description:(0,eA.localize)(3419,"Controls the height of the scrollbars used for tabs and breadcrumbs in the editor title area."),default:"default"},[c8.LayoutSettings.EDITOR_TABS_MODE]:{type:"string",enum:[c8.EditorTabsMode.MULTIPLE,c8.EditorTabsMode.SINGLE,c8.EditorTabsMode.NONE],enumDescriptions:[(0,eA.localize)(3420,"Each editor is displayed as a tab in the editor title area."),(0,eA.localize)(3421,"The active editor is displayed as a single large tab in the editor title area."),(0,eA.localize)(3422,"The editor title area is not displayed.")],description:(0,eA.localize)(3423,"Controls whether opened editors should show as individual tabs, one single large tab or if the title area should not be shown."),default:"multiple"},[c8.LayoutSettings.EDITOR_ACTIONS_LOCATION]:{type:"string",enum:[c8.EditorActionsLocation.DEFAULT,c8.EditorActionsLocation.TITLEBAR,c8.EditorActionsLocation.HIDDEN],markdownEnumDescriptions:[(0,eA.localize)(3424,"Show editor actions in the window title bar when {0} is set to {1}. Otherwise, editor actions are shown in the editor tab bar.","`#workbench.editor.showTabs#`","`none`"),(0,eA.localize)(3425,"Show editor actions in the window title bar. If {0} is set to {1}, editor actions are hidden.","`#window.customTitleBarVisibility#`","`never`"),(0,eA.localize)(3426,"Editor actions are not shown.")],markdownDescription:(0,eA.localize)(3427,"Controls where the editor actions are shown."),default:"default"},"workbench.editor.alwaysShowEditorActions":{type:"boolean",markdownDescription:(0,eA.localize)(3428,"Controls whether to always show the editor actions, even when the editor group is not active."),default:!1},"workbench.editor.wrapTabs":{type:"boolean",markdownDescription:(0,eA.localize)(3429,"Controls whether tabs should be wrapped over multiple lines when exceeding available space or whether a scrollbar should appear instead. This value is ignored when {0} is not set to '{1}'.","`#workbench.editor.showTabs#`","`multiple`"),default:!1},"workbench.editor.scrollToSwitchTabs":{type:"boolean",markdownDescription:(0,eA.localize)(3430,"Controls whether scrolling over tabs will open them or not. By default tabs will only reveal upon scrolling, but not open. You can press and hold the Shift-key while scrolling to change this behavior for that duration. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`"),default:!1},"workbench.editor.highlightModifiedTabs":{type:"boolean",markdownDescription:(0,eA.localize)(3431,"Controls whether a top border is drawn on tabs for editors that have unsaved changes. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","multiple"),default:!1},"workbench.editor.decorations.badges":{type:"boolean",markdownDescription:(0,eA.localize)(3432,"Controls whether editor file decorations should use badges."),default:!0},"workbench.editor.decorations.colors":{type:"boolean",markdownDescription:(0,eA.localize)(3433,"Controls whether editor file decorations should use colors."),default:!0},[uc.SETTING_ID_ENABLED]:{type:"boolean",markdownDescription:(0,eA.localize)(3434,"Controls whether the custom workbench editor labels should be applied."),default:!0},[uc.SETTING_ID_PATTERNS]:{type:"object",markdownDescription:(0,eA.localize)(3435,"Controls the rendering of the editor label. Each __Item__ is a pattern that matches a file path. Both relative and absolute file paths are supported. The relative path must include the WORKSPACE_FOLDER (e.g `WORKSPACE_FOLDER/src/**.tsx` or `*/src/**.tsx`). Absolute patterns must start with a `/`. In case multiple patterns match, the longest matching path will be picked. Each __Value__ is the template for the rendered editor when the __Item__ matches. Variables are substituted based on the context:")+"\n- "+[(0,eA.localize)(3436,"`${dirname}`: name of the folder in which the file is located (e.g. `WORKSPACE_FOLDER/folder/file.txt -> folder`)."),(0,eA.localize)(3437,"`${dirname(N)}`: name of the nth parent folder in which the file is located (e.g. `N=2: WORKSPACE_FOLDER/static/folder/file.txt -> WORKSPACE_FOLDER`). Folders can be picked from the start of the path by using negative numbers (e.g. `N=-1: WORKSPACE_FOLDER/folder/file.txt -> WORKSPACE_FOLDER`). If the __Item__ is an absolute pattern path, the first folder (`N=-1`) refers to the first folder in the absolute path, otherwise it corresponds to the workspace folder."),(0,eA.localize)(3438,"`${filename}`: name of the file without the file extension (e.g. `WORKSPACE_FOLDER/folder/file.txt -> file`)."),(0,eA.localize)(3439,"`${extname}`: the file extension (e.g. `WORKSPACE_FOLDER/folder/file.txt -> txt`)."),(0,eA.localize)(3440,"`${extname(N)}`: the nth extension of the file separated by '.' (e.g. `N=2: WORKSPACE_FOLDER/folder/file.ext1.ext2.ext3 -> ext1`). Extension can be picked from the start of the extension by using negative numbers (e.g. `N=-1: WORKSPACE_FOLDER/folder/file.ext1.ext2.ext3 -> ext2`).")].join("\n- ")+"\n\n"+(0,eA.localize)(3441,'Example: `"**/static/**/*.html": "${filename} - ${dirname} (${extname})"` will render a file `WORKSPACE_FOLDER/static/folder/file.html` as `file - folder (html)`.'),additionalProperties:{type:["string","null"],markdownDescription:(0,eA.localize)(3442,"The template which should be rendered when the pattern matches. May include the variables ${dirname}, ${filename} and ${extname}."),minLength:1,pattern:".*[a-zA-Z0-9].*"},default:{}},"workbench.editor.labelFormat":{type:"string",enum:["default","short","medium","long"],enumDescriptions:[(0,eA.localize)(3443,"Show the name of the file. When tabs are enabled and two files have the same name in one group the distinguishing sections of each file's path are added. When tabs are disabled, the path relative to the workspace folder is shown if the editor is active."),(0,eA.localize)(3444,"Show the name of the file followed by its directory name."),(0,eA.localize)(3445,"Show the name of the file followed by its path relative to the workspace folder."),(0,eA.localize)(3446,"Show the name of the file followed by its absolute path.")],default:"default",description:(0,eA.localize)(3447,"Controls the format of the label for an editor.")},"workbench.editor.untitled.labelFormat":{type:"string",enum:["content","name"],enumDescriptions:[(0,eA.localize)(3448,"The name of the untitled file is derived from the contents of its first line unless it has an associated file path. It will fallback to the name in case the line is empty or contains no word characters."),(0,eA.localize)(3449,"The name of the untitled file is not derived from the contents of the file.")],default:"content",description:(0,eA.localize)(3450,"Controls the format of the label for an untitled editor.")},"workbench.editor.empty.hint":{type:"string",enum:["text","hidden"],default:"text",markdownDescription:(0,eA.localize)(3451,"Controls if the empty editor text hint should be visible in the editor.")},"workbench.editor.languageDetection":{type:"boolean",default:!0,description:(0,eA.localize)(3452,"Controls whether the language in a text editor is automatically detected unless the language has been explicitly set by the language picker. This can also be scoped by language so you can specify which languages you do not want to be switched off of. This is useful for languages like Markdown that often contain other languages that might trick language detection into thinking it's the embedded language and not Markdown."),scope:eT.ConfigurationScope.LANGUAGE_OVERRIDABLE},"workbench.editor.historyBasedLanguageDetection":{type:"boolean",default:!0,description:(0,eA.localize)(3453,"Enables use of editor history in language detection. This causes automatic language detection to favor languages that have been recently opened and allows for automatic language detection to operate with smaller inputs.")},"workbench.editor.preferHistoryBasedLanguageDetection":{type:"boolean",default:!1,description:(0,eA.localize)(3454,"When enabled, a language detection model that takes into account editor history will be given higher precedence.")},"workbench.editor.languageDetectionHints":{type:"object",default:{untitledEditors:!0,notebookEditors:!0},description:(0,eA.localize)(3455,"When enabled, shows a Status bar Quick Fix when the editor language doesn't match detected content language."),additionalProperties:!1,properties:{untitledEditors:{type:"boolean",description:(0,eA.localize)(3456,"Show in untitled text editors")},notebookEditors:{type:"boolean",description:(0,eA.localize)(3457,"Show in notebook editors")}}},"workbench.editor.tabActionLocation":{type:"string",enum:["left","right"],default:"right",markdownDescription:(0,eA.localize)(3458,"Controls the position of the editor's tabs action buttons (close, unpin). This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`")},"workbench.editor.tabActionCloseVisibility":{type:"boolean",default:!0,description:(0,eA.localize)(3459,"Controls the visibility of the tab close action button.")},"workbench.editor.tabActionUnpinVisibility":{type:"boolean",default:!0,description:(0,eA.localize)(3460,"Controls the visibility of the tab unpin action button.")},"workbench.editor.tabSizing":{type:"string",enum:["fit","shrink","fixed"],default:"fit",enumDescriptions:[(0,eA.localize)(3461,"Always keep tabs large enough to show the full editor label."),(0,eA.localize)(3462,"Allow tabs to get smaller when the available space is not enough to show all tabs at once."),(0,eA.localize)(3463,"Make all tabs the same size, while allowing them to get smaller when the available space is not enough to show all tabs at once.")],markdownDescription:(0,eA.localize)(3464,"Controls the size of editor tabs. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`")},"workbench.editor.tabSizingFixedMinWidth":{type:"number",default:50,minimum:38,markdownDescription:(0,eA.localize)(3465,"Controls the minimum width of tabs when {0} size is set to {1}.","`#workbench.editor.tabSizing#`","`fixed`")},"workbench.editor.tabSizingFixedMaxWidth":{type:"number",default:160,minimum:38,markdownDescription:(0,eA.localize)(3466,"Controls the maximum width of tabs when {0} size is set to {1}.","`#workbench.editor.tabSizing#`","`fixed`")},"window.density.editorTabHeight":{type:"string",enum:["default","compact"],default:"default",markdownDescription:(0,eA.localize)(3467,"Controls the height of editor tabs. Also applies to the title control bar when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`")},"workbench.editor.pinnedTabSizing":{type:"string",enum:["normal","compact","shrink"],default:"normal",enumDescriptions:[(0,eA.localize)(3468,"A pinned tab inherits the look of non pinned tabs."),(0,eA.localize)(3469,"A pinned tab will show in a compact form with only icon or first letter of the editor name."),(0,eA.localize)(3470,"A pinned tab shrinks to a compact fixed size showing parts of the editor name.")],markdownDescription:(0,eA.localize)(3471,"Controls the size of pinned editor tabs. Pinned tabs are sorted to the beginning of all opened tabs and typically do not close until unpinned. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`")},"workbench.editor.pinnedTabsOnSeparateRow":{type:"boolean",default:!1,markdownDescription:(0,eA.localize)(3472,"When enabled, displays pinned tabs in a separate row above all other tabs. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`")},"workbench.editor.preventPinnedEditorClose":{type:"string",enum:["keyboardAndMouse","keyboard","mouse","never"],default:"keyboardAndMouse",enumDescriptions:[(0,eA.localize)(3473,"Always prevent closing the pinned editor when using mouse middle click or keyboard."),(0,eA.localize)(3474,"Prevent closing the pinned editor when using the keyboard."),(0,eA.localize)(3475,"Prevent closing the pinned editor when using mouse middle click."),(0,eA.localize)(3476,"Never prevent closing a pinned editor.")],description:(0,eA.localize)(3477,"Controls whether pinned editors should close when keyboard or middle mouse click is used for closing.")},"workbench.editor.splitSizing":{type:"string",enum:["auto","distribute","split"],default:"auto",enumDescriptions:[(0,eA.localize)(3478,"Splits the active editor group to equal parts, unless all editor groups are already in equal parts. In that case, splits all the editor groups to equal parts."),(0,eA.localize)(3479,"Splits all the editor groups to equal parts."),(0,eA.localize)(3480,"Splits the active editor group to equal parts.")],description:(0,eA.localize)(3481,"Controls the size of editor groups when splitting them.")},"workbench.editor.splitOnDragAndDrop":{type:"boolean",default:!0,description:(0,eA.localize)(3482,"Controls if editor groups can be split from drag and drop operations by dropping an editor or file on the edges of the editor area.")},"workbench.editor.dragToOpenWindow":{type:"boolean",default:!0,markdownDescription:(0,eA.localize)(3483,"Controls if editors can be dragged out of the window to open them in a new window. Press and hold the `Alt` key while dragging to toggle this dynamically.")},"workbench.editor.focusRecentEditorAfterClose":{type:"boolean",description:(0,eA.localize)(3484,"Controls whether editors are closed in most recently used order or from left to right."),default:!0},"workbench.editor.showIcons":{type:"boolean",description:(0,eA.localize)(3485,"Controls whether opened editors should show with an icon or not. This requires a file icon theme to be enabled as well."),default:!0},"workbench.editor.enablePreview":{type:"boolean",description:(0,eA.localize)(3486,"Controls whether preview mode is used when editors open. There is a maximum of one preview mode editor per editor group. This editor displays its filename in italics on its tab or title label and in the Open Editors view. Its contents will be replaced by the next editor opened in preview mode. Making a change in a preview mode editor will persist it, as will a double-click on its label, or the 'Keep Open' option in its label context menu. Opening a file from Explorer with a double-click persists its editor immediately."),default:!0},"workbench.editor.enablePreviewFromQuickOpen":{type:"boolean",markdownDescription:(0,eA.localize)(3487,"Controls whether editors opened from Quick Open show as preview editors. Preview editors do not stay open, and are reused until explicitly set to be kept open (via double-click or editing). When enabled, hold Ctrl before selection to open an editor as a non-preview. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`"),default:!1},"workbench.editor.enablePreviewFromCodeNavigation":{type:"boolean",markdownDescription:(0,eA.localize)(3488,"Controls whether editors remain in preview when a code navigation is started from them. Preview editors do not stay open, and are reused until explicitly set to be kept open (via double-click or editing). This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`"),default:!1},"workbench.editor.closeOnFileDelete":{type:"boolean",description:(0,eA.localize)(3489,"Controls whether editors showing a file that was opened during the session should close automatically when getting deleted or renamed by some other process. Disabling this will keep the editor open  on such an event. Note that deleting from within the application will always close the editor and that editors with unsaved changes will never close to preserve your data."),default:!1},"workbench.editor.openPositioning":{type:"string",enum:["left","right","first","last"],default:"right",markdownDescription:(0,eA.localize)(3490,"Controls where editors open. Select {0} or {1} to open editors to the left or right of the currently active one. Select {2} or {3} to open editors independently from the currently active one.","`left`","`right`","`first`","`last`")},"workbench.editor.openSideBySideDirection":{type:"string",enum:["right","down"],default:"right",markdownDescription:(0,eA.localize)(3491,"Controls the default direction of editors that are opened side by side (for example, from the Explorer). By default, editors will open on the right hand side of the currently active one. If changed to `down`, the editors will open below the currently active one.")},"workbench.editor.closeEmptyGroups":{type:"boolean",description:(0,eA.localize)(3492,"Controls the behavior of empty editor groups when the last tab in the group is closed. When enabled, empty groups will automatically close. When disabled, empty groups will remain part of the grid."),default:!0},"workbench.editor.revealIfOpen":{type:"boolean",description:(0,eA.localize)(3493,"Controls whether an editor is revealed in any of the visible groups if opened. If disabled, an editor will prefer to open in the currently active editor group. If enabled, an already opened editor will be revealed instead of opened again in the currently active editor group. Note that there are some cases where this setting is ignored, such as when forcing an editor to open in a specific group or to the side of the currently active group."),default:!1},"workbench.editor.mouseBackForwardToNavigate":{type:"boolean",description:(0,eA.localize)(3494,"Enables the use of mouse buttons four and five for commands 'Go Back' and 'Go Forward'."),default:!0},"workbench.editor.navigationScope":{type:"string",enum:["default","editorGroup","editor"],default:"default",markdownDescription:(0,eA.localize)(3495,"Controls the scope of history navigation in editors for commands such as 'Go Back' and 'Go Forward'."),enumDescriptions:[(0,eA.localize)(3496,"Navigate across all opened editors and editor groups."),(0,eA.localize)(3497,"Navigate only in editors of the active editor group."),(0,eA.localize)(3498,"Navigate only in the active editor.")]},"workbench.editor.restoreViewState":{type:"boolean",markdownDescription:(0,eA.localize)(3499,"Restores the last editor view state (such as scroll position) when re-opening editors after they have been closed. Editor view state is stored per editor group and discarded when a group closes. Use the {0} setting to use the last known view state across all editor groups in case no previous view state was found for a editor group.","`#workbench.editor.sharedViewState#`"),default:!0,scope:eT.ConfigurationScope.LANGUAGE_OVERRIDABLE},"workbench.editor.sharedViewState":{type:"boolean",description:(0,eA.localize)(3500,"Preserves the most recent editor view state (such as scroll position) across all editor groups and restores that if no specific editor view state is found for the editor group."),default:!1},"workbench.editor.splitInGroupLayout":{type:"string",enum:["vertical","horizontal"],default:"horizontal",markdownDescription:(0,eA.localize)(3501,"Controls the layout for when an editor is split in an editor group to be either vertical or horizontal."),enumDescriptions:[(0,eA.localize)(3502,"Editors are positioned from top to bottom."),(0,eA.localize)(3503,"Editors are positioned from left to right.")]},"workbench.editor.centeredLayoutAutoResize":{type:"boolean",default:!0,description:(0,eA.localize)(3504,"Controls if the centered layout should automatically resize to maximum width when more than one group is open. Once only one group is open it will resize back to the original centered width.")},"workbench.editor.centeredLayoutFixedWidth":{type:"boolean",default:!1,description:(0,eA.localize)(3505,"Controls whether the centered layout tries to maintain constant width when the window is resized.")},"workbench.editor.doubleClickTabToToggleEditorGroupSizes":{type:"string",enum:["maximize","expand","off"],default:"expand",markdownDescription:(0,eA.localize)(3506,"Controls how the editor group is resized when double clicking on a tab. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`"),enumDescriptions:[(0,eA.localize)(3507,"All other editor groups are hidden and the current editor group is maximized to take up the entire editor area."),(0,eA.localize)(3508,"The editor group takes as much space as possible by making all other editor groups as small as possible."),(0,eA.localize)(3509,"No editor group is resized when double clicking on a tab.")]},"workbench.editor.limit.enabled":{type:"boolean",default:!1,description:(0,eA.localize)(3510,"Controls if the number of opened editors should be limited or not. When enabled, less recently used editors will close to make space for newly opening editors.")},"workbench.editor.limit.value":{type:"number",default:10,exclusiveMinimum:0,markdownDescription:(0,eA.localize)(3511,"Controls the maximum number of opened editors. Use the {0} setting to control this limit per editor group or across all groups.","`#workbench.editor.limit.perEditorGroup#`")},"workbench.editor.limit.excludeDirty":{type:"boolean",default:!1,description:(0,eA.localize)(3512,"Controls if the maximum number of opened editors should exclude dirty editors for counting towards the configured limit.")},"workbench.editor.limit.perEditorGroup":{type:"boolean",default:!1,description:(0,eA.localize)(3513,"Controls if the limit of maximum opened editors should apply per editor group or across all editor groups.")},"workbench.localHistory.enabled":{type:"boolean",default:!0,description:(0,eA.localize)(3514,"Controls whether local file history is enabled. When enabled, the file contents of an editor that is saved will be stored to a backup location to be able to restore or review the contents later. Changing this setting has no effect on existing local file history entries."),scope:eT.ConfigurationScope.RESOURCE},"workbench.localHistory.maxFileSize":{type:"number",default:256,minimum:1,description:(0,eA.localize)(3515,"Controls the maximum size of a file (in KB) to be considered for local file history. Files that are larger will not be added to the local file history. Changing this setting has no effect on existing local file history entries."),scope:eT.ConfigurationScope.RESOURCE},"workbench.localHistory.maxFileEntries":{type:"number",default:50,minimum:0,description:(0,eA.localize)(3516,"Controls the maximum number of local file history entries per file. When the number of local file history entries exceeds this number for a file, the oldest entries will be discarded."),scope:eT.ConfigurationScope.RESOURCE},"workbench.localHistory.exclude":{type:"object",patternProperties:{".*":{type:"boolean"}},markdownDescription:(0,eA.localize)(3517,"Configure paths or [glob patterns](https://aka.ms/vscode-glob-patterns) for excluding files from the local file history. Glob patterns are always evaluated relative to the path of the workspace folder unless they are absolute paths. Changing this setting has no effect on existing local file history entries."),scope:eT.ConfigurationScope.RESOURCE},"workbench.localHistory.mergeWindow":{type:"number",default:10,minimum:1,markdownDescription:(0,eA.localize)(3518,"Configure an interval in seconds during which the last entry in local file history is replaced with the entry that is being added. This helps reduce the overall number of entries that are added, for example when auto save is enabled. This setting is only applied to entries that have the same source of origin. Changing this setting has no effect on existing local file history entries."),scope:eT.ConfigurationScope.RESOURCE},"workbench.commandPalette.history":{type:"number",description:(0,eA.localize)(3519,"Controls the number of recently used commands to keep in history for the command palette. Set to 0 to disable command history."),default:50,minimum:0},"workbench.commandPalette.preserveInput":{type:"boolean",description:(0,eA.localize)(3520,"Controls whether the last typed input to the command palette should be restored when opening it the next time."),default:!1},"workbench.commandPalette.experimental.suggestCommands":{type:"boolean",tags:["experimental"],description:(0,eA.localize)(3521,"Controls whether the command palette should have a list of commonly used commands."),default:!1},"workbench.commandPalette.experimental.askChatLocation":{type:"string",tags:["experimental"],description:(0,eA.localize)(3522,"Controls where the command palette should ask chat questions."),default:"chatView",enum:["chatView","quickChat"],enumDescriptions:[(0,eA.localize)(3523,"Ask chat questions in the Chat view."),(0,eA.localize)(3524,"Ask chat questions in Quick Chat.")]},"workbench.commandPalette.experimental.enableNaturalLanguageSearch":{type:"boolean",tags:["experimental"],description:(0,eA.localize)(3525,"Controls whether the command palette should include similar commands. You must have an extension installed that provides Natural Language support."),default:!0},"workbench.quickOpen.closeOnFocusLost":{type:"boolean",description:(0,eA.localize)(3526,"Controls whether Quick Open should close automatically once it loses focus."),default:!0},"workbench.quickOpen.preserveInput":{type:"boolean",description:(0,eA.localize)(3527,"Controls whether the last typed input to Quick Open should be restored when opening it the next time."),default:!1},"workbench.settings.openDefaultSettings":{type:"boolean",description:(0,eA.localize)(3528,"Controls whether opening settings also opens an editor showing all default settings."),default:!1},"workbench.settings.useSplitJSON":{type:"boolean",markdownDescription:(0,eA.localize)(3529,"Controls whether to use the split JSON editor when editing settings as JSON."),default:!1},"workbench.settings.openDefaultKeybindings":{type:"boolean",description:(0,eA.localize)(3530,"Controls whether opening keybinding settings also opens an editor showing all default keybindings."),default:!1},"workbench.sideBar.location":{type:"string",enum:["left","right"],default:"left",description:(0,eA.localize)(3531,"Controls the location of the primary side bar and activity bar. They can either show on the left or right of the workbench. The secondary side bar will show on the opposite side of the workbench.")},"workbench.panel.showLabels":{type:"boolean",default:!0,description:(0,eA.localize)(3532,"Controls whether activity items in the panel title are shown as label or icon.")},"workbench.panel.defaultLocation":{type:"string",enum:["left","bottom","top","right"],default:"bottom",description:(0,eA.localize)(3533,"Controls the default location of the panel (Terminal, Debug Console, Output, Problems) in a new workspace. It can either show at the bottom, top, right, or left of the editor area.")},"workbench.panel.opensMaximized":{type:"string",enum:["always","never","preserve"],default:"preserve",description:(0,eA.localize)(3534,"Controls whether the panel opens maximized. It can either always open maximized, never open maximized, or open to the last state it was in before being closed."),enumDescriptions:[(0,eA.localize)(3535,"Always maximize the panel when opening it."),(0,eA.localize)(3536,"Never maximize the panel when opening it. The panel will open un-maximized."),(0,eA.localize)(3537,"Open the panel to the state that it was in, before it was closed.")]},"workbench.statusBar.visible":{type:"boolean",default:!0,description:(0,eA.localize)(3538,"Controls the visibility of the status bar at the bottom of the workbench.")},[c8.LayoutSettings.ACTIVITY_BAR_LOCATION]:{type:"string",enum:["default","top","bottom","hidden"],default:"default",markdownDescription:(0,eA.localize)(3539,"Controls the location of the Activity Bar relative to the Primary and Secondary Side Bars."),enumDescriptions:[(0,eA.localize)(3540,"Show the Activity Bar on the side of the Primary Side Bar and on top of the Secondary Side Bar."),(0,eA.localize)(3541,"Show the Activity Bar on top of the Primary and Secondary Side Bars."),(0,eA.localize)(3542,"Show the Activity Bar at the bottom of the Primary and Secondary Side Bars."),(0,eA.localize)(3543,"Hide the Activity Bar in the Primary and Secondary Side Bars.")]},"workbench.activityBar.iconClickBehavior":{type:"string",enum:["toggle","focus"],default:"toggle",markdownDescription:(0,eA.localize)(3544,"Controls the behavior of clicking an Activity Bar icon in the workbench. This value is ignored when {0} is not set to {1}.","`#workbench.activityBar.location#`","`default`"),enumDescriptions:[(0,eA.localize)(3545,"Hide the Primary Side Bar if the clicked item is already visible."),(0,eA.localize)(3546,"Focus the Primary Side Bar if the clicked item is already visible.")]},"workbench.view.alwaysShowHeaderActions":{type:"boolean",default:!1,description:(0,eA.localize)(3547,"Controls the visibility of view header actions. View header actions may either be always visible, or only visible when that view is focused or hovered over.")},"workbench.view.showQuietly":{type:"object",description:(0,eA.localize)(3548,"If an extension requests a hidden view to be shown, display a clickable status bar indicator instead."),scope:eT.ConfigurationScope.WINDOW,properties:{"workbench.panel.output":{type:"boolean",description:(0,eA.localize)(3549,"Output view")}},additionalProperties:!1},"workbench.fontAliasing":{type:"string",enum:["default","antialiased","none","auto"],default:"default",description:(0,eA.localize)(3550,"Controls font aliasing method in the workbench."),enumDescriptions:[(0,eA.localize)(3551,"Sub-pixel font smoothing. On most non-retina displays this will give the sharpest text."),(0,eA.localize)(3552,"Smooth the font on the level of the pixel, as opposed to the subpixel. Can make the font appear lighter overall."),(0,eA.localize)(3553,"Disables font smoothing. Text will show with jagged sharp edges."),(0,eA.localize)(3554,"Applies `default` or `antialiased` automatically based on the DPI of displays.")],included:tD.isMacintosh},"workbench.settings.editor":{type:"string",enum:["ui","json"],enumDescriptions:[(0,eA.localize)(3555,"Use the settings UI editor."),(0,eA.localize)(3556,"Use the JSON file editor.")],description:(0,eA.localize)(3557,"Determines which settings editor to use by default."),default:"ui",scope:eT.ConfigurationScope.WINDOW},"workbench.hover.delay":{type:"number",description:(0,eA.localize)(3558,"Controls the delay in milliseconds after which the hover is shown for workbench items (ex. some extension provided tree view items). Already visible items may require a refresh before reflecting this setting change."),default:tD.isMacintosh?1500:500,minimum:0},"workbench.reduceMotion":{type:"string",description:(0,eA.localize)(3559,"Controls whether the workbench should render with fewer animations."),enumDescriptions:[(0,eA.localize)(3560,"Always render with reduced motion."),(0,eA.localize)(3561,"Do not render with reduced motion"),(0,eA.localize)(3562,"Render with reduced motion based on OS configuration.")],default:"auto",tags:["accessibility"],enum:["on","off","auto"]},"workbench.navigationControl.enabled":{type:"boolean",default:!0,markdownDescription:tD.isWeb?(0,eA.localize)(3563,"Controls whether the navigation control in the title bar is shown."):(0,eA.localize)(3564,"Controls whether the navigation control is shown in the custom title bar. This setting only has an effect when {0} is not set to {1}.","`#window.customTitleBarVisibility#`","`never`")},[c8.LayoutSettings.LAYOUT_ACTIONS]:{type:"boolean",default:!0,markdownDescription:tD.isWeb?(0,eA.localize)(3565,"Controls whether the layout control in the title bar is shown."):(0,eA.localize)(3566,"Controls whether the layout control is shown in the custom title bar. This setting only has an effect when {0} is not set to {1}.","`#window.customTitleBarVisibility#`","`never`")},"workbench.layoutControl.type":{type:"string",enum:["menu","toggles","both"],enumDescriptions:[(0,eA.localize)(3567,"Shows a single button with a dropdown of layout options."),(0,eA.localize)(3568,"Shows several buttons for toggling the visibility of the panels and side bar."),(0,eA.localize)(3569,"Shows both the dropdown and toggle buttons.")],default:"both",description:(0,eA.localize)(3570,"Controls whether the layout control in the custom title bar is displayed as a single menu button or with multiple UI toggles.")},"workbench.tips.enabled":{type:"boolean",default:!0,description:(0,eA.localize)(3571,"When enabled, will show the watermark tips when no editor is open.")}}});let e=(0,eA.localize)(3572,"Controls the window title based on the current context such as the opened workspace or active editor. Variables are substituted based on the context:");e+="\n- "+[(0,eA.localize)(3573,"`${activeEditorShort}`: the file name (e.g. myFile.txt)."),(0,eA.localize)(3574,"`${activeEditorMedium}`: the path of the file relative to the workspace folder (e.g. myFolder/myFileFolder/myFile.txt)."),(0,eA.localize)(3575,"`${activeEditorLong}`: the full path of the file (e.g. /Users/Development/myFolder/myFileFolder/myFile.txt)."),(0,eA.localize)(3576,"`${activeFolderShort}`: the name of the folder the file is contained in (e.g. myFileFolder)."),(0,eA.localize)(3577,"`${activeFolderMedium}`: the path of the folder the file is contained in, relative to the workspace folder (e.g. myFolder/myFileFolder)."),(0,eA.localize)(3578,"`${activeFolderLong}`: the full path of the folder the file is contained in (e.g. /Users/Development/myFolder/myFileFolder)."),(0,eA.localize)(3579,"`${folderName}`: name of the workspace folder the file is contained in (e.g. myFolder)."),(0,eA.localize)(3580,"`${folderPath}`: file path of the workspace folder the file is contained in (e.g. /Users/Development/myFolder)."),(0,eA.localize)(3581,"`${rootName}`: name of the workspace with optional remote name and workspace indicator if applicable (e.g. myFolder, myRemoteFolder [SSH] or myWorkspace (Workspace))."),(0,eA.localize)(3582,"`${rootNameShort}`: shortened name of the workspace without suffixes (e.g. myFolder, myRemoteFolder or myWorkspace)."),(0,eA.localize)(3583,"`${rootPath}`: file path of the opened workspace or folder (e.g. /Users/Development/myWorkspace)."),(0,eA.localize)(3584,"`${profileName}`: name of the profile in which the workspace is opened (e.g. Data Science (Profile)). Ignored if default profile is used."),(0,eA.localize)(3585,"`${appName}`: e.g. VS Code."),(0,eA.localize)(3586,"`${remoteName}`: e.g. SSH"),(0,eA.localize)(3587,"`${dirty}`: an indicator for when the active editor has unsaved changes."),(0,eA.localize)(3588,"`${focusedView}`: the name of the view that is currently focused."),(0,eA.localize)(3589,"`${activeRepositoryName}`: the name of the active repository (e.g. vscode)."),(0,eA.localize)(3590,"`${activeRepositoryBranchName}`: the name of the active branch in the active repository (e.g. main)."),(0,eA.localize)(3591,'`${separator}`: a conditional separator (" - ") that only shows when surrounded by variables with values or static text.')].join("\n- "),uu.registerConfiguration({...c4.windowConfigurationNodeBase,properties:{"window.title":{type:"string",default:un,markdownDescription:e},"window.titleSeparator":{type:"string",default:ur,markdownDescription:(0,eA.localize)(3592,"Separator used by {0}.","`#window.title#`")},[c8.LayoutSettings.COMMAND_CENTER]:{type:"boolean",default:!0,markdownDescription:tD.isWeb?(0,eA.localize)(3593,"Show command launcher together with the window title."):(0,eA.localize)(3594,"Show command launcher together with the window title. This setting only has an effect when {0} is not set to {1}.","`#window.customTitleBarVisibility#`","`never`")},"window.menuBarVisibility":{type:"string",enum:["classic","visible","toggle","hidden","compact"],markdownEnumDescriptions:[(0,eA.localize)(3595,"Menu is displayed at the top of the window and only hidden in full screen mode."),(0,eA.localize)(3596,"Menu is always visible at the top of the window even in full screen mode."),tD.isMacintosh?(0,eA.localize)(3597,"Menu is hidden but can be displayed at the top of the window by executing the `Focus Application Menu` command."):(0,eA.localize)(3598,"Menu is hidden but can be displayed at the top of the window via the Alt key."),(0,eA.localize)(3599,"Menu is always hidden."),tD.isWeb?(0,eA.localize)(3600,"Menu is displayed as a compact button in the side bar."):(0,eA.localize)(3601,"Menu is displayed as a compact button in the side bar. This value is ignored when {0} is {1}.","`#window.titleBarStyle#`","`native`")],default:tD.isWeb?"compact":"classic",scope:eT.ConfigurationScope.APPLICATION,markdownDescription:tD.isMacintosh?(0,eA.localize)(3602,"Control the visibility of the menu bar. A setting of 'toggle' means that the menu bar is hidden and executing `Focus Application Menu` will show it. A setting of 'compact' will move the menu into the side bar."):(0,eA.localize)(3603,"Control the visibility of the menu bar. A setting of 'toggle' means that the menu bar is hidden and a single press of the Alt key will show it. A setting of 'compact' will move the menu into the side bar."),included:tD.isWindows||tD.isLinux||tD.isWeb},"window.enableMenuBarMnemonics":{type:"boolean",default:!0,scope:eT.ConfigurationScope.APPLICATION,description:(0,eA.localize)(3604,"Controls whether the main menus can be opened via Alt-key shortcuts. Disabling mnemonics allows to bind these Alt-key shortcuts to editor commands instead."),included:tD.isWindows||tD.isLinux},"window.customMenuBarAltFocus":{type:"boolean",default:!0,scope:eT.ConfigurationScope.APPLICATION,markdownDescription:(0,eA.localize)(3605,"Controls whether the menu bar will be focused by pressing the Alt-key. This setting has no effect on toggling the menu bar with the Alt-key."),included:tD.isWindows||tD.isLinux},"window.openFilesInNewWindow":{type:"string",enum:["on","off","default"],enumDescriptions:[(0,eA.localize)(3606,"Files will open in a new window."),(0,eA.localize)(3607,"Files will open in the window with the files' folder open or the last active window."),tD.isMacintosh?(0,eA.localize)(3608,"Files will open in the window with the files' folder open or the last active window unless opened via the Dock or from Finder."):(0,eA.localize)(3609,"Files will open in a new window unless picked from within the application (e.g. via the File menu).")],default:"off",scope:eT.ConfigurationScope.APPLICATION,markdownDescription:tD.isMacintosh?(0,eA.localize)(3610,"Controls whether files should open in a new window when using a command line or file dialog.\nNote that there can still be cases where this setting is ignored (e.g. when using the `--new-window` or `--reuse-window` command line option)."):(0,eA.localize)(3611,"Controls whether files should open in a new window when using a command line or file dialog.\nNote that there can still be cases where this setting is ignored (e.g. when using the `--new-window` or `--reuse-window` command line option).")},"window.openFoldersInNewWindow":{type:"string",enum:["on","off","default"],enumDescriptions:[(0,eA.localize)(3612,"Folders will open in a new window."),(0,eA.localize)(3613,"Folders will replace the last active window."),(0,eA.localize)(3614,"Folders will open in a new window unless a folder is picked from within the application (e.g. via the File menu).")],default:"default",scope:eT.ConfigurationScope.APPLICATION,markdownDescription:(0,eA.localize)(3615,"Controls whether folders should open in a new window or replace the last active window.\nNote that there can still be cases where this setting is ignored (e.g. when using the `--new-window` or `--reuse-window` command line option).")},"window.confirmBeforeClose":{type:"string",enum:["always","keyboardOnly","never"],enumDescriptions:[tD.isWeb?(0,eA.localize)(3616,"Always try to ask for confirmation. Note that browsers may still decide to close a tab or window without confirmation."):(0,eA.localize)(3617,"Always ask for confirmation."),tD.isWeb?(0,eA.localize)(3618,"Only ask for confirmation if a keybinding was used to close the window. Note that detection may not be possible in some cases."):(0,eA.localize)(3619,"Only ask for confirmation if a keybinding was used."),tD.isWeb?(0,eA.localize)(3620,"Never explicitly ask for confirmation unless data loss is imminent."):(0,eA.localize)(3621,"Never explicitly ask for confirmation.")],default:tD.isWeb&&!(0,dj.isStandalone)()?"keyboardOnly":"never",markdownDescription:tD.isWeb?(0,eA.localize)(3622,"Controls whether to show a confirmation dialog before closing the browser tab or window. Note that even if enabled, browsers may still decide to close a tab or window without confirmation and that this setting is only a hint that may not work in all cases."):(0,eA.localize)(3623,"Controls whether to show a confirmation dialog before closing a window or quitting the application."),scope:eT.ConfigurationScope.APPLICATION}}}),(0,eL.registerWorkbenchContribution2)(c4.DynamicWindowConfiguration.ID,c4.DynamicWindowConfiguration,eL.WorkbenchPhase.Eventually),uu.registerConfiguration({...c4.problemsConfigurationNodeBase,properties:{"problems.visibility":{type:"boolean",default:!0,description:(0,eA.localize)(3624,"Controls whether the problems are visible throughout the editor and workbench.")}}}),uu.registerConfiguration({id:"zenMode",order:9,title:(0,eA.localize)(3625,"Zen Mode"),type:"object",properties:{"zenMode.fullScreen":{type:"boolean",default:!0,description:(0,eA.localize)(3626,"Controls whether turning on Zen Mode also puts the workbench into full screen mode.")},"zenMode.centerLayout":{type:"boolean",default:!0,description:(0,eA.localize)(3627,"Controls whether turning on Zen Mode also centers the layout.")},"zenMode.showTabs":{type:"string",enum:["multiple","single","none"],description:(0,eA.localize)(3628,"Controls whether turning on Zen Mode should show multiple editor tabs, a single editor tab, or hide the editor title area completely."),enumDescriptions:[(0,eA.localize)(3629,"Each editor is displayed as a tab in the editor title area."),(0,eA.localize)(3630,"The active editor is displayed as a single large tab in the editor title area."),(0,eA.localize)(3631,"The editor title area is not displayed.")],default:"multiple"},"zenMode.hideStatusBar":{type:"boolean",default:!0,description:(0,eA.localize)(3632,"Controls whether turning on Zen Mode also hides the status bar at the bottom of the workbench.")},"zenMode.hideActivityBar":{type:"boolean",default:!0,description:(0,eA.localize)(3633,"Controls whether turning on Zen Mode also hides the activity bar either at the left or right of the workbench.")},"zenMode.hideLineNumbers":{type:"boolean",default:!0,description:(0,eA.localize)(3634,"Controls whether turning on Zen Mode also hides the editor line numbers.")},"zenMode.restore":{type:"boolean",default:!0,description:(0,eA.localize)(3635,"Controls whether a window should restore to Zen Mode if it was exited in Zen Mode.")},"zenMode.silentNotifications":{type:"boolean",default:!0,description:(0,eA.localize)(3636,"Controls whether notifications do not disturb mode should be enabled while in Zen Mode. If true, only error notifications will pop out.")}}})}(),eM.Registry.as(c4.Extensions.ConfigurationMigration).registerConfigurationMigrations([{key:"workbench.activityBar.visible",migrateFn:e=>{let t=[];return void 0!==e&&t.push(["workbench.activityBar.visible",{value:void 0}]),!1===e&&t.push([c8.LayoutSettings.ACTIVITY_BAR_LOCATION,{value:c8.ActivityBarPosition.HIDDEN}]),t}}]),eM.Registry.as(c4.Extensions.ConfigurationMigration).registerConfigurationMigrations([{key:c8.LayoutSettings.ACTIVITY_BAR_LOCATION,migrateFn:e=>{let t=[];return"side"===e&&t.push([c8.LayoutSettings.ACTIVITY_BAR_LOCATION,{value:c8.ActivityBarPosition.DEFAULT}]),t}}]),eM.Registry.as(c4.Extensions.ConfigurationMigration).registerConfigurationMigrations([{key:"workbench.editor.doubleClickTabToToggleEditorGroupSizes",migrateFn:e=>{let t=[];return"boolean"==typeof e&&t.push(["workbench.editor.doubleClickTabToToggleEditorGroupSizes",{value:e=e?"expand":"off"}]),t}},{key:c8.LayoutSettings.EDITOR_TABS_MODE,migrateFn:e=>{let t=[];return"boolean"==typeof e&&(e=e?c8.EditorTabsMode.MULTIPLE:c8.EditorTabsMode.SINGLE,t.push([c8.LayoutSettings.EDITOR_TABS_MODE,{value:e}])),t}},{key:"workbench.editor.tabCloseButton",migrateFn:e=>{let t=[];return"left"===e||"right"===e?t.push(["workbench.editor.tabActionLocation",{value:e}]):"off"===e&&t.push(["workbench.editor.tabActionCloseVisibility",{value:!1}]),t}},{key:"zenMode.hideTabs",migrateFn:e=>{let t=[["zenMode.hideTabs",{value:void 0}]];return!0===e&&t.push(["zenMode.showTabs",{value:"single"}]),t}}]),e.s([],347714);let uh=()=>!1,up=()=>!1,ug=cr.prototype.getCommandPicks;cr.prototype.getCommandPicks=async function(e){let t=await ug.call(this,e);return uh()||(t=t.map(e=>({...e,buttons:void 0}))),t};let um=class{get activeService(){let e=dB.StandaloneServices.get(tm.ICodeEditorService).getFocusedCodeEditor();return null==e||up(e,e instanceof dq.StandaloneCodeEditor)?this.workbenchQuickInputService:(null!=this.standaloneQuickInputService||(this.standaloneQuickInputService=this.instantiationService.createInstance(dV.StandaloneQuickInputService)),this.standaloneQuickInputService)}get currentQuickInput(){return this.activeService.currentQuickInput}get quickAccess(){return this.activeService.quickAccess}get backButton(){return this.activeService.backButton}get onShow(){return this.activeService.onShow}get onHide(){return this.activeService.onHide}createQuickWidget(){return this.activeService.createQuickWidget()}pick(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eW.CancellationToken.None;return this.activeService.pick(e,t,i)}input(e,t){return this.activeService.input(e,t)}createQuickPick(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{useSeparators:!1};return this.activeService.createQuickPick(e)}createInputBox(){return this.activeService.createInputBox()}focus(){return this.activeService.focus()}toggle(){return this.activeService.toggle()}navigate(e,t){return this.activeService.navigate(e,t)}accept(){return this.activeService.accept()}back(){return this.activeService.back()}cancel(){return this.activeService.cancel()}constructor(e){this.instantiationService=e,this.workbenchQuickInputService=e.createInstance(dG)}};function uv(){let{isKeybindingConfigurationVisible:e,shouldUseGlobalPicker:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=e&&(uh=e),null!=t&&(up=t),{[tr.IQuickInputService.toString()]:new dz.SyncDescriptor(um,[],!0)}}um=(0,ex.__decorate)([(0,ex.__param)(0,eZ.IInstantiationService)],um),e.s(["default",()=>uv],405035);var u_=e.i(155941),uf=e.i(618284),uy=e.i(790728);e.i(456369);let uC=/^([^.]+\..+)[:=](.+)$/;class ub{get remoteAuthority(){return this.options.remoteAuthority}get expectsResolverExtension(){var e;return!!(null==(e=this.options.remoteAuthority)?void 0:e.includes("+"))&&!this.options.webSocketFactory}get isBuilt(){return!!this.productService.commit}get logLevel(){var e,t,i;let o=null==(e=this.payload)?void 0:e.get("logLevel");return o?o.split(",").find(e=>!uC.test(e)):(null==(t=this.options.developmentOptions)?void 0:t.logLevel)!==void 0?(0,uy.LogLevelToString)(null==(i=this.options.developmentOptions)?void 0:i.logLevel):void 0}get extensionLogLevel(){var e,t,i;let o=null==(e=this.payload)?void 0:e.get("logLevel");if(o){let e=[];for(let t of o.split(",")){let i=uC.exec(t);i&&i[1]&&i[2]&&e.push([i[1],i[2]])}return e.length?e:void 0}return(null==(t=this.options.developmentOptions)?void 0:t.extensionLogLevel)!==void 0?null==(i=this.options.developmentOptions)?void 0:i.extensionLogLevel.map(e=>{let[t,i]=e;return[t,(0,uy.LogLevelToString)(i)]}):void 0}get profDurationMarkers(){var e;let t=null==(e=this.payload)?void 0:e.get("profDurationMarkers");if(t){let e=[];for(let i of t.split(","))e.push(i);return 2===e.length?e:void 0}}get windowLogsPath(){return this.logsHome}get logFile(){return(0,n1.joinPath)(this.windowLogsPath,"window.log")}get userRoamingDataHome(){return iU.URI.file("/User").with({scheme:cQ.Schemas.vscodeUserData})}get argvResource(){return(0,n1.joinPath)(this.userRoamingDataHome,"argv.json")}get cacheHome(){return(0,n1.joinPath)(this.userRoamingDataHome,"caches")}get workspaceStorageHome(){return(0,n1.joinPath)(this.userRoamingDataHome,"workspaceStorage")}get localHistoryHome(){return(0,n1.joinPath)(this.userRoamingDataHome,"History")}get stateResource(){return(0,n1.joinPath)(this.userRoamingDataHome,"State","storage.json")}get userDataSyncHome(){return(0,n1.joinPath)(this.userRoamingDataHome,"sync",this.workspaceId)}get sync(){}get keyboardLayoutResource(){return(0,n1.joinPath)(this.userRoamingDataHome,"keyboardLayout.json")}get untitledWorkspacesHome(){return(0,n1.joinPath)(this.userRoamingDataHome,"Workspaces")}get serviceMachineIdResource(){return(0,n1.joinPath)(this.userRoamingDataHome,"machineid")}get extHostLogsPath(){return(0,n1.joinPath)(this.logsHome,"exthost")}get extHostTelemetryLogFile(){return(0,n1.joinPath)(this.extHostLogsPath,"extensionTelemetry.log")}get debugExtensionHost(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.params}get isExtensionDevelopment(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.isExtensionDevelopment}get extensionDevelopmentLocationURI(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionDevelopmentLocationURI}get extensionDevelopmentLocationKind(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionDevelopmentKind}get extensionTestsLocationURI(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionTestsLocationURI}get extensionEnabledProposedApi(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionEnabledProposedApi}get debugRenderer(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.debugRenderer}get enableSmokeTestDriver(){var e;return null==(e=this.options.developmentOptions)?void 0:e.enableSmokeTestDriver}get disableExtensions(){var e;return(null==(e=this.payload)?void 0:e.get("disableExtensions"))==="true"}get enableExtensions(){return this.options.enabledExtensions}get webviewExternalEndpoint(){var e,t,i;let o=this.options.webviewEndpoint||this.productService.webviewContentExternalBaseUrlTemplate||"https://{{uuid}}.vscode-cdn.net/{{quality}}/{{commit}}/out/vs/workbench/contrib/webview/browser/pre/",n=null==(e=this.payload)?void 0:e.get("webviewExternalEndpointCommit");return o.replace("{{commit}}",null!=(t=null!=n?n:this.productService.commit)?t:"ef65ac1ba57f57f2a3961bfe94aa20481caca4c6").replace("{{quality}}",null!=(i=n?"insider":this.productService.quality)?i:"insider")}get extensionTelemetryLogResource(){return(0,n1.joinPath)(this.logsHome,"extensionTelemetry.log")}get disableTelemetry(){return!1}get verbose(){var e;return(null==(e=this.payload)?void 0:e.get("verbose"))==="true"}get logExtensionHostCommunication(){var e;return(null==(e=this.payload)?void 0:e.get("logExtensionHostCommunication"))==="true"}get skipReleaseNotes(){var e;return(null==(e=this.payload)?void 0:e.get("skipReleaseNotes"))==="true"}get skipWelcome(){var e;return(null==(e=this.payload)?void 0:e.get("skipWelcome"))==="true"}get disableWorkspaceTrust(){return!this.options.enableWorkspaceTrust}get profile(){var e;return null==(e=this.payload)?void 0:e.get("profile")}resolveExtensionHostDebugEnvironment(){let e={params:{port:null,break:!1},debugRenderer:!1,isExtensionDevelopment:!1,extensionDevelopmentLocationURI:void 0,extensionDevelopmentKind:void 0};if(this.payload)for(let[t,i]of this.payload)switch(t){case"extensionDevelopmentPath":e.extensionDevelopmentLocationURI||(e.extensionDevelopmentLocationURI=[]),e.extensionDevelopmentLocationURI.push(iU.URI.parse(i)),e.isExtensionDevelopment=!0;break;case"extensionDevelopmentKind":e.extensionDevelopmentKind=[i];break;case"extensionTestsPath":e.extensionTestsLocationURI=iU.URI.parse(i);break;case"debugRenderer":e.debugRenderer="true"===i;break;case"debugId":e.params.debugId=i;break;case"inspect-brk-extensions":e.params.port=parseInt(i),e.params.break=!0;break;case"inspect-extensions":e.params.port=parseInt(i);break;case"enableProposedApi":e.extensionEnabledProposedApi=[]}let t=this.options.developmentOptions;if(t&&!e.isExtensionDevelopment){var i;(null==(i=t.extensions)?void 0:i.length)&&(e.extensionDevelopmentLocationURI=t.extensions.map(e=>iU.URI.revive(e)),e.isExtensionDevelopment=!0),t.extensionTestsPath&&(e.extensionTestsLocationURI=iU.URI.revive(t.extensionTestsPath))}return e}get filesToOpenOrCreate(){if(this.payload){let e=this.payload.get("openFile");if(e){let t=iU.URI.parse(e);if(this.payload.has("gotoLineMode")){let e=(0,uf.parseLineAndColumnAware)(t.path);return[{fileUri:t.with({path:e.path}),options:{selection:(0,iH.isUndefined)(e.line)?void 0:{startLineNumber:e.line,startColumn:e.column||1}}}]}return[{fileUri:t}]}}}get filesToDiff(){if(this.payload){let e=this.payload.get("diffFilePrimary"),t=this.payload.get("diffFileSecondary");if(e&&t)return[{fileUri:iU.URI.parse(t)},{fileUri:iU.URI.parse(e)}]}}get filesToMerge(){if(this.payload){let e=this.payload.get("mergeFile1"),t=this.payload.get("mergeFile2"),i=this.payload.get("mergeFileBase"),o=this.payload.get("mergeFileResult");if(e&&t&&i&&o)return[{fileUri:iU.URI.parse(e)},{fileUri:iU.URI.parse(t)},{fileUri:iU.URI.parse(i)},{fileUri:iU.URI.parse(o)}]}}constructor(e,t,i,o){if(this.workspaceId=e,this.logsHome=t,this.options=i,this.productService=o,this.extensionHostDebugEnvironment=void 0,this.editSessionId=this.options.editSessionId,i.workspaceProvider&&Array.isArray(i.workspaceProvider.payload))try{this.payload=new Map(i.workspaceProvider.payload)}catch(e){(0,tp.onUnexpectedError)(e)}}}ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"remoteAuthority",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"expectsResolverExtension",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"isBuilt",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"logLevel",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"windowLogsPath",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"logFile",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"userRoamingDataHome",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"argvResource",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"cacheHome",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"workspaceStorageHome",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"localHistoryHome",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"stateResource",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"userDataSyncHome",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"sync",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"keyboardLayoutResource",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"untitledWorkspacesHome",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"serviceMachineIdResource",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"extHostLogsPath",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"extHostTelemetryLogFile",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"debugExtensionHost",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"isExtensionDevelopment",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"extensionDevelopmentLocationURI",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"extensionDevelopmentLocationKind",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"extensionTestsLocationURI",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"extensionEnabledProposedApi",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"debugRenderer",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"enableSmokeTestDriver",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"disableExtensions",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"enableExtensions",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"webviewExternalEndpoint",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"extensionTelemetryLogResource",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"disableTelemetry",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"verbose",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"logExtensionHostCommunication",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"skipReleaseNotes",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"skipWelcome",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"disableWorkspaceTrust",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"profile",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"filesToOpenOrCreate",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"filesToDiff",null),ub.__decorator=(0,ex.__decorate)([u_.memoize],ub.prototype,"filesToMerge",null);var uS=e.i(239548);let uw=class extends ub{constructor(e=(0,uS.getWorkspaceIdentifier)().id,t=(0,uS.getWorkbenchConstructionOptions)(),i){super(e,uS.logsPath,t,i)}};function uE(e){return{[t0.IEnvironmentService.toString()]:new dz.SyncDescriptor(uw,[void 0,e],!0)}}uw=(0,ex.__decorate)([(0,ex.__param)(2,d4.IProductService)],uw),e.s(["default",()=>uE],355788),(0,tT.default)(".monaco-workbench .part{box-sizing:border-box;overflow:hidden}.monaco-workbench .part>.drop-block-overlay.visible{visibility:visible}.monaco-workbench .part>.drop-block-overlay{height:100%;opacity:0;position:absolute;top:0;visibility:hidden;width:100%;z-index:12}.monaco-workbench .part>.header-or-footer,.monaco-workbench .part>.title{box-sizing:border-box;display:none;display:flex;height:35px;overflow:hidden}.monaco-workbench .part>.title{padding-left:8px;padding-right:8px}.monaco-workbench .part>.title>.title-label{line-height:35px;overflow:hidden;padding-left:12px;text-overflow:ellipsis;white-space:nowrap}.monaco-workbench .part>.title>.title-label h2{cursor:default;font-size:11px;font-weight:400;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-workbench .part>.title>.title-label a{cursor:default;font-size:13px;text-decoration:none}.monaco-workbench .part>.title>.title-actions{flex:1;height:35px;padding-left:5px}.monaco-workbench .part>.title>.title-actions .action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}.monaco-workbench .part>.title>.title-actions .action-label .label{display:none}.monaco-workbench .part>.content{font-size:13px}.monaco-workbench .part.editor>.content .editor-group-container>.monaco-progress-container,.monaco-workbench .part>.content>.monaco-progress-container{left:0;position:absolute;top:33px;z-index:5}",{});var uI=e.i(577707);class ux extends uI.Component{get dimension(){return this._dimension}get contentPosition(){return this._contentPosition}onThemeChange(e){this.parent&&super.onThemeChange(e)}create(e,t){this.parent=e,this.titleArea=this.createTitleArea(e,t),this.contentArea=this.createContentArea(e,t),this.partLayout=new uD(this.options,this.contentArea),this.updateStyles()}getContainer(){return this.parent}createTitleArea(e,t){}getTitleArea(){return this.titleArea}createContentArea(e,t){}getContentArea(){return this.contentArea}setHeaderArea(e){var t;if(this.headerArea)throw Error("Header already exists");this.parent&&this.titleArea&&((0,eK.prepend)(this.parent,e),e.classList.add("header-or-footer"),e.classList.add("header"),this.headerArea=e,null==(t=this.partLayout)||t.setHeaderVisibility(!0),this.relayout())}setFooterArea(e){var t;if(this.footerArea)throw Error("Footer already exists");this.parent&&this.titleArea&&(this.parent.appendChild(e),e.classList.add("header-or-footer"),e.classList.add("footer"),this.footerArea=e,null==(t=this.partLayout)||t.setFooterVisibility(!0),this.relayout())}removeHeaderArea(){if(this.headerArea){var e;this.headerArea.remove(),this.headerArea=void 0,null==(e=this.partLayout)||e.setHeaderVisibility(!1),this.relayout()}}removeFooterArea(){if(this.footerArea){var e;this.footerArea.remove(),this.footerArea=void 0,null==(e=this.partLayout)||e.setFooterVisibility(!1),this.relayout()}}relayout(){this.dimension&&this.contentPosition&&this.layout(this.dimension.width,this.dimension.height,this.contentPosition.top,this.contentPosition.left)}layoutContents(e,t){return(0,iH.assertIsDefined)(this.partLayout).layout(e,t)}get onDidChange(){return this._onDidChange.event}layout(e,t,i,o){this._dimension=new eK.Dimension(e,t),this._contentPosition={top:i,left:o}}setVisible(e){this._onDidVisibilityChange.fire(e)}constructor(e,t,i,o,n){super(e,i,o),this.options=t,this.layoutService=n,this._onDidVisibilityChange=this._register(new e0.Emitter),this.onDidVisibilityChange=this._onDidVisibilityChange.event,this._onDidChange=this._register(new e0.Emitter),this._register(n.registerPart(this))}}class uD{layout(e,t){let i,o,n;i=this.options.hasTitle?new eK.Dimension(e,Math.min(t,uD.TITLE_HEIGHT)):eK.Dimension.None,o=this.headerVisible?new eK.Dimension(e,Math.min(t,uD.HEADER_HEIGHT)):eK.Dimension.None,n=this.footerVisible?new eK.Dimension(e,Math.min(t,uD.Footer_HEIGHT)):eK.Dimension.None;let r=e;this.options&&"function"==typeof this.options.borderWidth&&(r-=this.options.borderWidth());let s=new eK.Dimension(r,t-i.height-o.height-n.height);return this.contentArea&&(0,eK.size)(this.contentArea,s.width,s.height),{headerSize:o,titleSize:i,contentSize:s,footerSize:n}}setFooterVisibility(e){this.footerVisible=e}setHeaderVisibility(e){this.headerVisible=e}constructor(e,t){this.options=e,this.contentArea=t,this.headerVisible=!1,this.footerVisible=!1}}uD.HEADER_HEIGHT=35,uD.TITLE_HEIGHT=44,uD.Footer_HEIGHT=35;class uk extends uI.Component{get parts(){return Array.from(this._parts)}registerPart(e){return this._parts.add(e),(0,eD.toDisposable)(()=>this.unregisterPart(e))}unregisterPart(e){this._parts.delete(e)}getPart(e){return this.getPartByDocument(e.ownerDocument)}getPartByDocument(e){if(this._parts.size>1)for(let i of this._parts){var t;if((null==(t=i.element)?void 0:t.ownerDocument)===e)return i}return this.mainPart}get activePart(){return this.getPartByDocument((0,eK.getActiveDocument)())}constructor(){super(...arguments),this._parts=new Set}}e.s(["MultiWindowParts",()=>uk,"Part",()=>ux],480332),(0,tT.default)('.monaco-workbench .part.activitybar{height:100%;width:48px}.monaco-workbench .activitybar.bordered:before{border-color:inherit;box-sizing:border-box;content:"";float:left;height:100%;position:absolute;width:0}.monaco-workbench .activitybar.left.bordered:before{border-right-style:solid;border-right-width:1px;right:0}.monaco-workbench .activitybar.right.bordered:before{border-left-style:solid;border-left-width:1px;left:0}.monaco-workbench .activitybar>.content{display:flex;flex-direction:column;height:100%;justify-content:space-between}.monaco-workbench .activitybar>.content .monaco-action-bar{background-color:inherit;text-align:left}.monaco-workbench .activitybar .action-item:focus{outline:0!important}.monaco-workbench .activitybar>.content>.composite-bar{margin-bottom:auto}.monaco-workbench .activitybar .menubar,.monaco-workbench .activitybar .menubar.compact .toolbar-toggle-more{height:35px;width:100%}',{}),(0,tT.default)('.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item{display:block;position:relative}.monaco-workbench .activitybar>.content .composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .activitybar>.content .composite-bar>.monaco-action-bar .action-item:before{background-color:transparent;content:"";display:none;height:2px;position:absolute;transition-delay:.1s;transition-duration:0ms;transition-property:background-color;width:48px}.monaco-workbench .activitybar>.content.dragged-over .composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .activitybar>.content.dragged-over .composite-bar>.monaco-action-bar .action-item:before{display:block}.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.bottom:after,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.bottom:before,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.top:after,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.top:before{transition-delay:0s}.monaco-workbench .activitybar>.content.dragged-over-head>.composite-bar>.monaco-action-bar .action-item:first-of-type:before,.monaco-workbench .activitybar>.content.dragged-over-tail>.composite-bar>.monaco-action-bar .action-item:last-of-type:after,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.bottom+.action-item:before,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.top:before,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item:last-of-type.bottom:after{background-color:var(--insert-border-color)}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-label{box-sizing:border-box;display:flex;height:48px;margin-right:0;overflow:hidden;position:relative;width:48px;z-index:1}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-label:not(.codicon){font-size:15px;line-height:40px;padding:0 0 0 48px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-label.codicon{align-items:center;font-size:24px;justify-content:center}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.active .action-label.codicon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .action-label.codicon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:hover .action-label.codicon{color:var(--vscode-activityBar-foreground)!important}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.active .action-label.uri-icon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .action-label.uri-icon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:hover .action-label.uri-icon{background-color:var(--vscode-activityBar-foreground)!important}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked .active-item-indicator:before,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .active-item-indicator:before{border-left:2px solid;content:"";height:100%;position:absolute;top:0;width:0;z-index:1}.monaco-workbench.hc-black .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked .active-item-indicator:before,.monaco-workbench.hc-black .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .active-item-indicator:before{border-color:var(--vscode-activityBar-activeBorder)}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked .active-item-indicator:before{height:100%;top:0}.monaco-workbench.hc-black .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator.action-item,.monaco-workbench.hc-light .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator{display:none}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.clicked:focus .active-item-indicator:before,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.clicked:focus:before{border-left:none!important}.monaco-workbench .activitybar.left>.content :not(.monaco-menu)>.monaco-action-bar .action-item .active-item-indicator:before{left:0}.monaco-workbench .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .action-item .active-item-indicator:before{right:0}.monaco-workbench.hc-black .activitybar.left>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before,.monaco-workbench.hc-black .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before,.monaco-workbench.hc-light .activitybar.left>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before,.monaco-workbench.hc-light .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before{outline:none}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge{bottom:0;height:100%;left:0;margin:auto;overflow:hidden;position:absolute;top:0;width:100%}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge{z-index:2}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge{z-index:1}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator{pointer-events:none}.monaco-workbench.border .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator{left:-2px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge .badge-content{border-radius:20px;font-size:9px;font-weight:600;height:16px;line-height:16px;min-width:8px;padding:0 4px;position:absolute;right:8px;text-align:center;top:24px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge .profile-text-overlay{background-color:var(--vscode-profileBadge-background);border:2px solid var(--vscode-activityBar-background);border-radius:7px;color:var(--vscode-profileBadge-foreground);font-size:9px;font-weight:600;line-height:10px;padding:2px 3px;position:absolute;right:6px;top:24px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:active .profile-text-overlay,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .profile-text-overlay,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:hover .profile-text-overlay{color:var(--vscode-activityBar-foreground)}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge .codicon.badge-content{font-size:12px;font-weight:unset;justify-content:center;padding:0}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge .codicon.badge-content:before{text-align:center;vertical-align:baseline}.monaco-workbench .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .badge,.monaco-workbench .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge{left:auto;right:0}',{});var uA=eG,uM=eG,uL=e.i(257945),uT=tE,uR=e.i(539502),uN=e.i(36048),uP=e.i(312371),uO=e.i(429053),uF=eG,uK=e.i(595904);class uW extends uT.Action{get compositeBarActionItem(){return this.item}set compositeBarActionItem(e){this._label=e.name,this.item=e,this._onDidChangeCompositeBarActionItem.fire(this)}get activity(){return this._activity}set activity(e){this._activity=e,this._onDidChangeActivity.fire(e)}activate(){this.checked||this._setChecked(!0)}deactivate(){this.checked&&this._setChecked(!1)}constructor(e){var t;super(e.id,e.name,null==(t=e.classNames)?void 0:t.join(" "),!0),this.item=e,this._onDidChangeCompositeBarActionItem=this._register(new e0.Emitter),this.onDidChangeCompositeBarActionItem=this._onDidChangeCompositeBarActionItem.event,this._onDidChangeActivity=this._register(new e0.Emitter),this.onDidChangeActivity=this._onDidChangeActivity.event}}let uz=class extends uO.BaseActionViewItem{get compositeBarActionItem(){return this._action.compositeBarActionItem}updateStyles(){let e=this.themeService.getColorTheme(),t=this.options.colors(e);if(this.label){if(this.options.icon){let e=this._action.checked?t.activeForegroundColor:t.inactiveForegroundColor;this.compositeBarActionItem.iconUrl?(this.label.style.backgroundColor=e?e.toString():"",this.label.style.color=""):(this.label.style.color=e?e.toString():"",this.label.style.backgroundColor="")}else{let e=this._action.checked?t.activeForegroundColor:t.inactiveForegroundColor,i=this._action.checked?t.activeBorderBottomColor:null;this.label.style.color=e?e.toString():"",this.label.style.borderBottomColor=i?i.toString():""}this.container.style.setProperty("--insert-border-color",t.dragAndDropBorder?t.dragAndDropBorder.toString():"")}if(this.badgeContent){var i,o,n,r,s,a;let l=null==(i=this.getActivity())?void 0:i.badge.getColors(e),d=null!=(n=null!=(o=null==l?void 0:l.badgeForeground)?o:t.badgeForeground)?n:e.getColor(ro.badgeForeground),c=null!=(s=null!=(r=null==l?void 0:l.badgeBackground)?r:t.badgeBackground)?s:e.getColor(ro.badgeBackground),u=null!=(a=null==l?void 0:l.badgeBorder)?a:e.getColor(n7.contrastBorder);this.badgeContent.style.color=d?d.toString():"",this.badgeContent.style.backgroundColor=c?c.toString():"",this.badgeContent.style.borderStyle=u&&!this.options.compact?"solid":"",this.badgeContent.style.borderWidth=u?"1px":"",this.badgeContent.style.borderColor=u?u.toString():""}}render(e){super.render(e),this.container=e,this.options.icon&&this.container.classList.add("icon"),this.options.hasPopup?(this.container.setAttribute("role","button"),this.container.setAttribute("aria-haspopup","true")):this.container.setAttribute("role","tab"),this._register((0,eK.addDisposableListener)(this.container,eK.EventType.MOUSE_DOWN,()=>{this.container.classList.add("clicked")})),this._register((0,eK.addDisposableListener)(this.container,eK.EventType.MOUSE_UP,()=>{this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.mouseUpTimeout=setTimeout(()=>{this.container.classList.remove("clicked")},800)})),this._register(this.hoverService.setupDelayedHover(this.container,()=>({content:this.computeTitle(),position:{hoverPosition:this.options.hoverOptions.position()},persistence:{hideOnKeyDown:!0},appearance:{showPointer:!0,compact:!0}}),{groupId:"composite-bar-actions"})),this.label=(0,eK.append)(e,(0,eK.$)("a")),this.badge=(0,eK.append)(e,(0,eK.$)(".badge")),this.badgeContent=(0,eK.append)(this.badge,(0,eK.$)(".badge-content")),(0,eK.append)(e,(0,eK.$)(".active-item-indicator")),(0,eK.hide)(this.badge),this.update(),this.updateStyles(),this.updateTitle()}onThemeChange(e){this.updateStyles()}update(){this.updateLabel(),this.updateActivity(),this.updateTitle(),this.updateStyles()}getActivity(){if(this._action instanceof uW)return this._action.activity}updateActivity(){if(!this.badge||!this.badgeContent||!(this._action instanceof uW))return;let e=this.getActivity();this.badgeDisposable.value=new eD.DisposableStore,(0,eK.clearNode)(this.badgeContent),(0,eK.hide)(this.badge);let t=this.badgesEnabled(this.compositeBarActionItem.id);if(e&&t){let{badge:t}=e,i=[];if(this.options.compact&&i.push("compact"),t instanceof uR.ProgressBadge)(0,eK.show)(this.badge),i.push("progress-badge");else if(t instanceof uR.NumberBadge){if(t.number){let e=t.number.toString();if(t.number>999){let i=t.number/1e3,o=Math.floor(i);e=i>o?"".concat(o,"K+"):"".concat(i,"K")}this.options.compact&&e.length>=3&&i.push("compact-content"),this.badgeContent.textContent=e,(0,eK.show)(this.badge)}}else if(t instanceof uR.IconBadge){i.push("icon-badge");let e=["icon-overlay",...r3.ThemeIcon.asClassNameArray(t.icon)];this.badgeContent.classList.add(...e),this.badgeDisposable.value.add((0,eD.toDisposable)(()=>{var t;return null==(t=this.badgeContent)?void 0:t.classList.remove(...e)})),(0,eK.show)(this.badge)}i.length&&(this.badge.classList.add(...i),this.badgeDisposable.value.add((0,eD.toDisposable)(()=>this.badge.classList.remove(...i))))}this.updateTitle(),this.updateStyles()}updateLabel(){this.label.className="action-label",this.compositeBarActionItem.classNames&&this.label.classList.add(...this.compositeBarActionItem.classNames),this.options.icon||(this.label.textContent=this.action.label)}updateTitle(){let e=this.computeTitle();[this.label,this.badge,this.container].forEach(t=>{t&&(t.setAttribute("aria-label",e),t.setAttribute("title",""),t.removeAttribute("title"))})}computeTitle(){var e;this.keybindingLabel=this.computeKeybindingLabel();let t=this.keybindingLabel?(0,eA.localize)(2733,"{0} ({1})",this.compositeBarActionItem.name,this.keybindingLabel):this.compositeBarActionItem.name,i=null==(e=this.action.activity)?void 0:e.badge;return(null==i?void 0:i.getDescription())&&(t=(0,eA.localize)(2734,"{0} - {1}",t,i.getDescription())),t}computeKeybindingLabel(){let e=this.compositeBarActionItem.keybindingId?this.keybindingService.lookupKeybinding(this.compositeBarActionItem.keybindingId):null;return null==e?void 0:e.getLabel()}dispose(){super.dispose(),this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.badge.remove()}constructor(e,t,i,o,n,r,s){super(null,e,t),this.badgesEnabled=i,this.themeService=o,this.hoverService=n,this.configurationService=r,this.keybindingService=s,this.badgeDisposable=this._register(new eD.MutableDisposable),this.options=t,this._register(this.themeService.onDidColorThemeChange(this.onThemeChange,this)),this._register(e.onDidChangeCompositeBarActionItem(()=>this.update())),this._register(e0.Event.filter(s.onDidUpdateKeybindings,()=>this.keybindingLabel!==this.computeKeybindingLabel())(()=>this.updateTitle())),this._register(e.onDidChangeActivity(()=>this.updateActivity()))}};uz=(0,ex.__decorate)([(0,ex.__param)(3,oh.IThemeService),(0,ex.__param)(4,o_.IHoverService),(0,ex.__param)(5,eO.IConfigurationService),(0,ex.__param)(6,e6.IKeybindingService)],uz);class uV extends uW{async run(){this.showMenu()}constructor(e){super({id:"additionalComposites.action",name:(0,eA.localize)(2735,"Additional Views"),classNames:r3.ThemeIcon.asClassNameArray(it.Codicon.more)}),this.showMenu=e}}let uB=class extends uz{showMenu(){this.contextMenuService.showContextMenu({getAnchor:()=>this.container,getActions:()=>this.getActions(),getCheckedActionsRepresentation:()=>"radio"})}getActions(){return this.getOverflowingComposites().map(e=>{let t,i=this.getCompositeOpenAction(e.id);i.checked=this.getActiveCompositeId()===i.id;let o=this.getBadge(e.id);return o instanceof uR.NumberBadge&&(t=o.number),t?i.label=(0,eA.localize)(2736,"{0} ({1})",e.name,t):i.label=e.name||"",i})}constructor(e,t,i,o,n,r,s,a,l,d,c,u){super(e,{icon:!0,colors:r,hasPopup:!0,hoverOptions:s},()=>!0,l,d,c,u),this.getOverflowingComposites=t,this.getActiveCompositeId=i,this.getBadge=o,this.getCompositeOpenAction=n,this.contextMenuService=a}};uB=(0,ex.__decorate)([(0,ex.__param)(7,ty.IContextMenuService),(0,ex.__param)(8,oh.IThemeService),(0,ex.__param)(9,o_.IHoverService),(0,ex.__param)(10,eO.IConfigurationService),(0,ex.__param)(11,e6.IKeybindingService)],uB);let uH=class extends uT.Action{run(e){return this.commandService.executeCommand("_extensions.manage",e)}constructor(e){super("activitybar.manage.extension",(0,eA.localize)(2737,"Manage Extension")),this.commandService=e}};uH=(0,ex.__decorate)([(0,ex.__param)(0,i9.ICommandService)],uH);let uU=(eg=ep=class extends uz{render(e){let t;super.render(e),this.updateChecked(),this.updateEnabled(),this._register((0,eK.addDisposableListener)(this.container,eK.EventType.CONTEXT_MENU,t=>{eK.EventHelper.stop(t,!0),this.showContextMenu(e)})),this._register(uP.CompositeDragAndDropObserver.INSTANCE.registerDraggable(this.container,()=>({type:"composite",id:this.compositeBarActionItem.id}),{onDragOver:i=>{let o=i.dragAndDropData.getData().id!==this.compositeBarActionItem.id&&this.dndHandler.onDragOver(i.dragAndDropData,this.compositeBarActionItem.id,i.eventData);(0,uP.toggleDropEffect)(i.eventData.dataTransfer,"move",o),t=this.updateFromDragging(e,o,i.eventData)},onDragLeave:i=>{t=this.updateFromDragging(e,!1,i.eventData)},onDragEnd:i=>{t=this.updateFromDragging(e,!1,i.eventData)},onDrop:i=>{eK.EventHelper.stop(i.eventData,!0),this.dndHandler.drop(i.dragAndDropData,this.compositeBarActionItem.id,i.eventData,t),t=this.updateFromDragging(e,!1,i.eventData)},onDragStart:e=>{e.dragAndDropData.getData().id===this.compositeBarActionItem.id&&(e.eventData.dataTransfer&&(e.eventData.dataTransfer.effectAllowed="move"),this.blur())}})),[this.badge,this.label].forEach(e=>this._register(new uN.DelayedDragHandler(e,()=>{this.action.checked||this.action.run()}))),this.updateStyles()}updateFromDragging(e,t,i){let o=e.getBoundingClientRect(),n=i.clientX,r=i.clientY,s=o.bottom-o.top,a=o.right-o.left,l=r<=o.top+.4*s,d=r>o.bottom-.4*s,c=r<=o.top+.5*s,u=n<=o.left+.4*a,h=n>o.right-.4*a,p=n<=o.left+.5*a,g=e.classList,m={vertical:g.contains("top")?"top":g.contains("bottom")?"bottom":void 0,horizontal:g.contains("left")?"left":g.contains("right")?"right":void 0},v=l||c&&!m.vertical||!d&&"top"===m.vertical,_=d||!c&&!m.vertical||!l&&"bottom"===m.vertical,f=u||p&&!m.horizontal||!h&&"left"===m.horizontal,y=h||!p&&!m.horizontal||!u&&"right"===m.horizontal;if(e.classList.toggle("top",t&&v),e.classList.toggle("bottom",t&&_),e.classList.toggle("left",t&&f),e.classList.toggle("right",t&&y),t)return{verticallyBefore:v,horizontallyBefore:f}}showContextMenu(e){let t=[];this.compositeBarActionItem.keybindingId&&t.push((0,uK.createConfigureKeybindingAction)(this.commandService,this.keybindingService,this.compositeBarActionItem.keybindingId)),t.push(this.toggleCompositePinnedAction,this.toggleCompositeBadgeAction);let i=this.compositeContextMenuActionsProvider(this.compositeBarActionItem.id);i.length&&t.push(...i),this.compositeActivityAction.compositeBarActionItem.extensionId&&(t.push(new uT.Separator),t.push(eg.manageExtensionAction)),this.compositeBar.isPinned(this.compositeBarActionItem.id)?(this.toggleCompositePinnedAction.label=(0,eA.localize)(2738,"Hide '{0}'",this.compositeBarActionItem.name),this.toggleCompositePinnedAction.checked=!1,this.toggleCompositePinnedAction.enabled=this.compositeBar.getPinnedCompositeIds().length>1):(this.toggleCompositePinnedAction.label=(0,eA.localize)(2739,"Keep '{0}'",this.compositeBarActionItem.name),this.toggleCompositePinnedAction.enabled=!0),this.compositeBar.areBadgesEnabled(this.compositeBarActionItem.id)?this.toggleCompositeBadgeAction.label=(0,eA.localize)(2740,"Hide Badge"):this.toggleCompositeBadgeAction.label=(0,eA.localize)(2741,"Show Badge");let o=this.contextMenuActionsProvider();o.length&&(t.push(new uT.Separator),t.push(...o));let n=(0,eK.getDomNodePagePosition)(e),r={x:Math.floor(n.left+n.width/2),y:n.top+n.height};this.contextMenuService.showContextMenu({getAnchor:()=>r,getActions:()=>t,getActionsContext:()=>this.compositeBarActionItem.id})}updateChecked(){var e,t;this.action.checked?(this.container.classList.add("checked"),this.container.setAttribute("aria-label",null!=(e=this.getTooltip())?e:this.container.title),this.container.setAttribute("aria-expanded","true"),this.container.setAttribute("aria-selected","true")):(this.container.classList.remove("checked"),this.container.setAttribute("aria-label",null!=(t=this.getTooltip())?t:this.container.title),this.container.setAttribute("aria-expanded","false"),this.container.setAttribute("aria-selected","false")),this.updateStyles()}updateEnabled(){this.element&&(this.action.enabled?this.element.classList.remove("disabled"):this.element.classList.add("disabled"))}dispose(){super.dispose(),this.label.remove()}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p,g){super(t,e,a.areBadgesEnabled.bind(a),u,h,p,d),this.compositeActivityAction=t,this.toggleCompositePinnedAction=i,this.toggleCompositeBadgeAction=o,this.compositeContextMenuActionsProvider=n,this.contextMenuActionsProvider=r,this.dndHandler=s,this.compositeBar=a,this.contextMenuService=l,this.commandService=g,eg.manageExtensionAction||(eg.manageExtensionAction=c.createInstance(uH))}},ep);uU=eg=(0,ex.__decorate)([(0,ex.__param)(8,ty.IContextMenuService),(0,ex.__param)(9,e6.IKeybindingService),(0,ex.__param)(10,eZ.IInstantiationService),(0,ex.__param)(11,oh.IThemeService),(0,ex.__param)(12,o_.IHoverService),(0,ex.__param)(13,eO.IConfigurationService),(0,ex.__param)(14,i9.ICommandService)],uU);class uG extends uT.Action{async run(e){let t=this.activity?this.activity.id:e;this.compositeBar.isPinned(t)?this.compositeBar.unpin(t):this.compositeBar.pin(t)}constructor(e,t){super("show.toggleCompositePinned",e?e.name:(0,eA.localize)(2742,"Toggle View Pinned")),this.activity=e,this.compositeBar=t,this.checked=!!this.activity&&this.compositeBar.isPinned(this.activity.id)}}class uq extends uT.Action{async run(e){let t=this.compositeBarActionItem?this.compositeBarActionItem.id:e;this.compositeBar.toggleBadgeEnablement(t)}constructor(e,t){super("show.toggleCompositeBadge",e?e.name:(0,eA.localize)(2743,"Toggle View Badge")),this.compositeBarActionItem=e,this.compositeBar=t,this.checked=!1}}class uj extends uF.Action2{async run(e){let t,i=e.get(cC.IPaneCompositePartService),o=i.getActivePaneComposite(this.location);if(!o)return;let n=i.getVisiblePaneCompositeIds(this.location);for(let e=0;e<n.length;e++)if(n[e]===o.getId()){t=n[(e+n.length+this.offset)%n.length];break}void 0!==t&&await i.openPaneComposite(t,this.location,!0)}constructor(e,t,i){super(e),this.location=t,this.offset=i}}let uQ=(0,nJ.registerIcon)("auxiliarybar-right-layout-icon",it.Codicon.layoutSidebarRight,(0,eA.localize)(2715,"Icon to toggle the auxiliary bar off in its right position.")),uY=(0,nJ.registerIcon)("auxiliarybar-right-off-layout-icon",it.Codicon.layoutSidebarRightOff,(0,eA.localize)(2716,"Icon to toggle the auxiliary bar on in its right position.")),uZ=(0,nJ.registerIcon)("auxiliarybar-left-layout-icon",it.Codicon.layoutSidebarLeft,(0,eA.localize)(2717,"Icon to toggle the auxiliary bar in its left position.")),uX=(0,nJ.registerIcon)("auxiliarybar-left-off-layout-icon",it.Codicon.layoutSidebarLeftOff,(0,eA.localize)(2718,"Icon to toggle the auxiliary bar on in its left position."));class u$ extends uM.Action2{async run(e){let t=e.get(tI.IWorkbenchLayoutService);t.setPartHidden(t.isVisible(c8.Parts.AUXILIARYBAR_PART),c8.Parts.AUXILIARYBAR_PART)}constructor(){super({id:u$.ID,title:u$.LABEL,toggled:{condition:uL.AuxiliaryBarVisibleContext,title:(0,eA.localize)(2720,"Secondary Side Bar"),mnemonicTitle:(0,eA.localize)(2721,"Secondary Si&&de Bar")},category:tU.Categories.View,f1:!0,keybinding:{weight:eX.KeybindingWeight.WorkbenchContrib,primary:ez.KeyMod.CtrlCmd|ez.KeyMod.Alt|ez.KeyCode.KeyB},menu:[{id:uM.MenuId.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:1},{id:uM.MenuId.MenubarAppearanceMenu,group:"2_workbench_layout",order:2}]})}}u$.ID="workbench.action.toggleAuxiliaryBar",u$.LABEL=(0,eA.localize2)(2719,"Toggle Secondary Side Bar Visibility"),(0,uM.registerAction2)(u$),(0,uM.registerAction2)(((em=class e extends uM.Action2{async run(e){let t=e.get(cC.IPaneCompositePartService),i=e.get(tI.IWorkbenchLayoutService);i.isVisible(c8.Parts.AUXILIARYBAR_PART)||i.setPartHidden(!1,c8.Parts.AUXILIARYBAR_PART);let o=t.getActivePaneComposite(cm.ViewContainerLocation.AuxiliaryBar);null==o||o.focus()}constructor(){super({id:e.ID,title:e.LABEL,category:tU.Categories.View,f1:!0})}}).ID="workbench.action.focusAuxiliaryBar",em.LABEL=(0,eA.localize2)(2722,"Focus into Secondary Side Bar"),em)),uM.MenuRegistry.appendMenuItems([{id:uM.MenuId.LayoutControlMenu,item:{group:"2_pane_toggles",command:{id:u$.ID,title:(0,eA.localize)(2723,"Toggle Secondary Side Bar"),toggled:{condition:uL.AuxiliaryBarVisibleContext,icon:uZ},icon:uX},when:eQ.ContextKeyExpr.and(eQ.ContextKeyExpr.or(eQ.ContextKeyExpr.equals("config.workbench.layoutControl.type","toggles"),eQ.ContextKeyExpr.equals("config.workbench.layoutControl.type","both")),eQ.ContextKeyExpr.equals("config.workbench.sideBar.location","right")),order:0}},{id:uM.MenuId.LayoutControlMenu,item:{group:"2_pane_toggles",command:{id:u$.ID,title:(0,eA.localize)(2723,"Toggle Secondary Side Bar"),toggled:{condition:uL.AuxiliaryBarVisibleContext,icon:uQ},icon:uY},when:eQ.ContextKeyExpr.and(eQ.ContextKeyExpr.or(eQ.ContextKeyExpr.equals("config.workbench.layoutControl.type","toggles"),eQ.ContextKeyExpr.equals("config.workbench.layoutControl.type","both")),eQ.ContextKeyExpr.equals("config.workbench.sideBar.location","left")),order:2}},{id:uM.MenuId.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:u$.ID,title:(0,eA.localize2)(2724,"Hide Secondary Side Bar")},when:eQ.ContextKeyExpr.and(uL.AuxiliaryBarVisibleContext,eQ.ContextKeyExpr.equals("viewLocation",(0,cm.ViewContainerLocationToString)(cm.ViewContainerLocation.AuxiliaryBar))),order:2}}]),(0,uM.registerAction2)(class extends uj{constructor(){super({id:"workbench.action.previousAuxiliaryBarView",title:(0,eA.localize2)(2725,"Previous Secondary Side Bar View"),category:tU.Categories.View,f1:!0},cm.ViewContainerLocation.AuxiliaryBar,-1)}}),(0,uM.registerAction2)(class extends uj{constructor(){super({id:"workbench.action.nextAuxiliaryBarView",title:(0,eA.localize2)(2726,"Next Secondary Side Bar View"),category:tU.Categories.View,f1:!0},cm.ViewContainerLocation.AuxiliaryBar,1)}}),e.s(["ToggleAuxiliaryBarAction",()=>u$],427944),(0,tT.default)(".monaco-workbench.nopanel .part.panel{display:none!important;visibility:hidden!important}.monaco-workbench .part.panel.bottom .composite.title{border-top-style:solid;border-top-width:1px}.monaco-workbench.nomaineditorarea .part.panel.bottom .composite.title{border-top-width:0}.monaco-workbench .part.panel.top{border-bottom-style:solid;border-bottom-width:1px}.monaco-workbench.nomaineditorarea .part.panel.top{border-bottom-width:0}.monaco-workbench .part.panel.right{border-left-style:solid;border-left-width:1px}.monaco-workbench.nomaineditorarea .part.panel.right{border-left-width:0}.monaco-workbench .part.panel.left{border-right-style:solid;border-right-width:1px}.monaco-workbench.nomaineditorarea .part.panel.left{border-right-width:0}.monaco-workbench .part.panel>.content .monaco-editor,.monaco-workbench .part.panel>.content .monaco-editor .margin,.monaco-workbench .part.panel>.content .monaco-editor .monaco-editor-background{background-color:var(--vscode-panel-background)}.monaco-workbench .part.panel>.content .suggest-input-container .monaco-editor,.monaco-workbench .part.panel>.content .suggest-input-container .monaco-editor .margin,.monaco-workbench .part.panel>.content .suggest-input-container .monaco-editor .monaco-editor-background{background-color:inherit}.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked.clicked:focus .active-item-indicator:before,.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator:before{border-top-color:var(--vscode-panelTitle-activeBorder)!important}.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .action-label,.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label{color:var(--vscode-panelTitle-activeForeground)!important}.monaco-workbench .part.panel .monaco-inputbox{border-color:var(--vscode-panelInput-border,transparent)!important}.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus{outline:none}.monaco-workbench .part.basepanel.right .global-actions .codicon-panel-maximize:before,.monaco-workbench .part.basepanel.right .global-actions .codicon-panel-restore:before,.monaco-workbench .part.basepanel.right .title-actions .codicon-split-horizontal:before{display:inline-block;transform:rotate(-90deg)}.monaco-workbench .part.basepanel.left .global-actions .codicon-panel-maximize:before,.monaco-workbench .part.basepanel.left .global-actions .codicon-panel-restore:before,.monaco-workbench .part.basepanel.left .title-actions .codicon-split-horizontal:before{display:inline-block;transform:rotate(90deg)}.monaco-workbench .part.basepanel.top .global-actions .codicon-panel-maximize:before,.monaco-workbench .part.basepanel.top .global-actions .codicon-panel-restore:before,.monaco-workbench .part.basepanel.top .title-actions .codicon-split-horizontal:before{display:inline-block;transform:rotate(180deg)}",{}),e.s([],491701);var uJ=eG;let u0=(0,nJ.registerIcon)("panel-maximize",it.Codicon.chevronUp,(0,eA.localize)(3283,"Icon to maximize a panel.")),u1=(0,nJ.registerIcon)("panel-restore",it.Codicon.chevronDown,(0,eA.localize)(3284,"Icon to restore a panel.")),u2=(0,nJ.registerIcon)("panel-close",it.Codicon.close,(0,eA.localize)(3285,"Icon to close a panel.")),u3=(0,nJ.registerIcon)("panel-layout-icon",it.Codicon.layoutPanel,(0,eA.localize)(3286,"Icon to toggle the panel off when it is on.")),u5=(0,nJ.registerIcon)("panel-layout-icon-off",it.Codicon.layoutPanelOff,(0,eA.localize)(3287,"Icon to toggle the panel on when it is off."));class u4 extends uJ.Action2{async run(e){let t=e.get(tI.IWorkbenchLayoutService);t.setPartHidden(t.isVisible(c8.Parts.PANEL_PART),c8.Parts.PANEL_PART)}constructor(){super({id:u4.ID,title:u4.LABEL,toggled:{condition:uL.PanelVisibleContext,title:(0,eA.localize)(3289,"Panel"),mnemonicTitle:(0,eA.localize)(3290,"&&Panel")},f1:!0,category:tU.Categories.View,keybinding:{primary:ez.KeyMod.CtrlCmd|ez.KeyCode.KeyJ,weight:eX.KeybindingWeight.WorkbenchContrib},menu:[{id:uJ.MenuId.MenubarAppearanceMenu,group:"2_workbench_layout",order:5},{id:uJ.MenuId.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:4}]})}}u4.ID="workbench.action.togglePanel",u4.LABEL=(0,eA.localize2)(3288,"Toggle Panel Visibility"),(0,uJ.registerAction2)(u4),(0,uJ.registerAction2)(((ev=class extends uJ.Action2{async run(e){let t=e.get(tI.IWorkbenchLayoutService),i=e.get(cC.IPaneCompositePartService);t.isVisible(c8.Parts.PANEL_PART)||t.setPartHidden(!1,c8.Parts.PANEL_PART);let o=i.getActivePaneComposite(cm.ViewContainerLocation.Panel);null==o||o.focus()}constructor(){super({id:"workbench.action.focusPanel",title:(0,eA.localize2)(3291,"Focus into Panel"),category:tU.Categories.View,f1:!0})}}).ID="workbench.action.focusPanel",ev.LABEL=(0,eA.localize)(3291,"Focus into Panel"),ev));let u6={LEFT:"workbench.action.positionPanelLeft",RIGHT:"workbench.action.positionPanelRight",BOTTOM:"workbench.action.positionPanelBottom",TOP:"workbench.action.positionPanelTop"},u8={LEFT:"workbench.action.alignPanelLeft",RIGHT:"workbench.action.alignPanelRight",CENTER:"workbench.action.alignPanelCenter",JUSTIFY:"workbench.action.alignPanelJustify"};function u9(e,t,i,o,n){return{id:e,title:t,shortLabel:i,value:o,when:n}}function u7(e,t,i,o){return u9(e,t,i,o,uL.PanelPositionContext.notEqualsTo((0,c8.positionToString)(o)))}function he(e,t,i,o){return u9(e,t,i,o,uL.PanelAlignmentContext.notEqualsTo(o))}let ht=[u7(u6.TOP,(0,eA.localize2)(3292,"Move Panel To Top"),(0,eA.localize)(3293,"Top"),c8.Position.TOP),u7(u6.LEFT,(0,eA.localize2)(3294,"Move Panel Left"),(0,eA.localize)(3295,"Left"),c8.Position.LEFT),u7(u6.RIGHT,(0,eA.localize2)(3296,"Move Panel Right"),(0,eA.localize)(3297,"Right"),c8.Position.RIGHT),u7(u6.BOTTOM,(0,eA.localize2)(3298,"Move Panel To Bottom"),(0,eA.localize)(3299,"Bottom"),c8.Position.BOTTOM)],hi=[he(u8.LEFT,(0,eA.localize2)(3300,"Set Panel Alignment to Left"),(0,eA.localize)(3301,"Left"),"left"),he(u8.RIGHT,(0,eA.localize2)(3302,"Set Panel Alignment to Right"),(0,eA.localize)(3303,"Right"),"right"),he(u8.CENTER,(0,eA.localize2)(3304,"Set Panel Alignment to Center"),(0,eA.localize)(3305,"Center"),"center"),he(u8.JUSTIFY,(0,eA.localize2)(3306,"Set Panel Alignment to Justify"),(0,eA.localize)(3307,"Justify"),"justify")];uJ.MenuRegistry.appendMenuItem(uJ.MenuId.MenubarAppearanceMenu,{submenu:uJ.MenuId.PanelPositionMenu,title:(0,eA.localize)(3308,"Panel Position"),group:"3_workbench_layout_move",order:4}),ht.forEach((e,t)=>{let{id:i,title:o,shortLabel:n,value:r,when:s}=e;(0,uJ.registerAction2)(class extends uJ.Action2{run(e){e.get(tI.IWorkbenchLayoutService).setPanelPosition(void 0===r?c8.Position.BOTTOM:r)}constructor(){super({id:i,title:o,category:tU.Categories.View,f1:!0})}}),uJ.MenuRegistry.appendMenuItem(uJ.MenuId.PanelPositionMenu,{command:{id:i,title:n,toggled:s.negate()},order:5+t})}),uJ.MenuRegistry.appendMenuItem(uJ.MenuId.MenubarAppearanceMenu,{submenu:uJ.MenuId.PanelAlignmentMenu,title:(0,eA.localize)(3309,"Align Panel"),group:"3_workbench_layout_move",order:5}),hi.forEach(e=>{let{id:t,title:i,shortLabel:o,value:n,when:r}=e;(0,uJ.registerAction2)(class extends uJ.Action2{run(e){e.get(tI.IWorkbenchLayoutService).setPanelAlignment(void 0===n?"center":n)}constructor(){super({id:t,title:i,category:tU.Categories.View,toggled:r.negate(),f1:!0})}}),uJ.MenuRegistry.appendMenuItem(uJ.MenuId.PanelAlignmentMenu,{command:{id:t,title:o,toggled:r.negate()},order:5})}),(0,uJ.registerAction2)(class extends uj{constructor(){super({id:"workbench.action.previousPanelView",title:(0,eA.localize2)(3310,"Previous Panel View"),category:tU.Categories.View,f1:!0},cm.ViewContainerLocation.Panel,-1)}}),(0,uJ.registerAction2)(class extends uj{constructor(){super({id:"workbench.action.nextPanelView",title:(0,eA.localize2)(3311,"Next Panel View"),category:tU.Categories.View,f1:!0},cm.ViewContainerLocation.Panel,1)}}),(0,uJ.registerAction2)(class extends uJ.Action2{run(e){let t=e.get(tI.IWorkbenchLayoutService),i=e.get(i7.INotificationService);if("center"!==t.getPanelAlignment()&&(0,c8.isHorizontal)(t.getPanelPosition()))return void i.warn((0,eA.localize)(3315,"Maximizing the panel is only supported when it is center aligned."));t.isVisible(c8.Parts.PANEL_PART)?t.toggleMaximizedPanel():(t.setPartHidden(!1,c8.Parts.PANEL_PART),t.isPanelMaximized()||t.toggleMaximizedPanel())}constructor(){super({id:"workbench.action.toggleMaximizedPanel",title:(0,eA.localize2)(3312,"Toggle Maximized Panel"),tooltip:(0,eA.localize)(3313,"Maximize Panel Size"),category:tU.Categories.View,f1:!0,icon:u0,precondition:eQ.ContextKeyExpr.or(uL.PanelAlignmentContext.isEqualTo("center"),eQ.ContextKeyExpr.and(uL.PanelPositionContext.notEqualsTo("bottom"),uL.PanelPositionContext.notEqualsTo("top"))),toggled:{condition:uL.PanelMaximizedContext,icon:u1,tooltip:(0,eA.localize)(3314,"Restore Panel Size")},menu:[{id:uJ.MenuId.PanelTitle,group:"navigation",order:1,when:eQ.ContextKeyExpr.or(uL.PanelAlignmentContext.isEqualTo("center"),eQ.ContextKeyExpr.and(uL.PanelPositionContext.notEqualsTo("bottom"),uL.PanelPositionContext.notEqualsTo("top")))}]})}}),(0,uJ.registerAction2)(class extends uJ.Action2{run(e){e.get(tI.IWorkbenchLayoutService).setPartHidden(!0,c8.Parts.PANEL_PART)}constructor(){super({id:"workbench.action.closePanel",title:(0,eA.localize2)(3316,"Hide Panel"),category:tU.Categories.View,icon:u2,menu:[{id:uJ.MenuId.CommandPalette,when:uL.PanelVisibleContext},{id:uJ.MenuId.PanelTitle,group:"navigation",order:2}]})}}),(0,uJ.registerAction2)(class extends uJ.Action2{run(e){e.get(tI.IWorkbenchLayoutService).setPartHidden(!0,c8.Parts.AUXILIARYBAR_PART)}constructor(){super({id:"workbench.action.closeAuxiliaryBar",title:(0,eA.localize2)(3317,"Hide Secondary Side Bar"),category:tU.Categories.View,icon:u2,menu:[{id:uJ.MenuId.CommandPalette,when:uL.AuxiliaryBarVisibleContext},{id:uJ.MenuId.AuxiliaryBarTitle,group:"navigation",order:2,when:eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.ACTIVITY_BAR_LOCATION),c8.ActivityBarPosition.DEFAULT)}]})}}),uJ.MenuRegistry.appendMenuItems([{id:uJ.MenuId.LayoutControlMenu,item:{group:"2_pane_toggles",command:{id:u4.ID,title:(0,eA.localize)(3318,"Toggle Panel"),icon:u5,toggled:{condition:uL.PanelVisibleContext,icon:u3}},when:eQ.ContextKeyExpr.or(eQ.ContextKeyExpr.equals("config.workbench.layoutControl.type","toggles"),eQ.ContextKeyExpr.equals("config.workbench.layoutControl.type","both")),order:1}},{id:uJ.MenuId.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:u4.ID,title:(0,eA.localize2)(3319,"Hide Panel")},when:eQ.ContextKeyExpr.and(uL.PanelVisibleContext,eQ.ContextKeyExpr.equals("viewLocation",(0,cm.ViewContainerLocationToString)(cm.ViewContainerLocation.Panel))),order:2}}]);class ho extends uJ.Action2{run(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];let n=e.get(cv.IViewDescriptorService),r=e.get(tI.IWorkbenchLayoutService),s=e.get(c_.IViewsService),a=n.getViewContainersByLocation(this.source),l=n.getViewContainersByLocation(this.destination);if(a.length){let e=s.getVisibleViewContainer(this.source);a.forEach(e=>n.moveViewContainerToLocation(e,this.destination,void 0,this.desc.id)),r.setPartHidden(!1,this.destination===cm.ViewContainerLocation.Panel?c8.Parts.PANEL_PART:c8.Parts.AUXILIARYBAR_PART),e&&0===l.length&&s.openViewContainer(e.id,!0)}}constructor(e,t,i){super(i),this.source=e,this.destination=t}}class hn extends ho{constructor(){super(cm.ViewContainerLocation.Panel,cm.ViewContainerLocation.AuxiliaryBar,{id:hn.ID,title:(0,eA.localize2)(3320,"Move Panel Views To Secondary Side Bar"),category:tU.Categories.View,f1:!1})}}hn.ID="workbench.action.movePanelToSidePanel";class hr extends ho{constructor(){super(cm.ViewContainerLocation.Panel,cm.ViewContainerLocation.AuxiliaryBar,{id:hr.ID,title:(0,eA.localize2)(3320,"Move Panel Views To Secondary Side Bar"),category:tU.Categories.View,f1:!0})}}hr.ID="workbench.action.movePanelToSecondarySideBar",(0,uJ.registerAction2)(hn),(0,uJ.registerAction2)(hr);class hs extends ho{constructor(){super(cm.ViewContainerLocation.AuxiliaryBar,cm.ViewContainerLocation.Panel,{id:hs.ID,title:(0,eA.localize2)(3321,"Move Secondary Side Bar Views To Panel"),category:tU.Categories.View,f1:!1})}}hs.ID="workbench.action.moveSidePanelToPanel";class ha extends ho{constructor(){super(cm.ViewContainerLocation.AuxiliaryBar,cm.ViewContainerLocation.Panel,{id:ha.ID,title:(0,eA.localize2)(3321,"Move Secondary Side Bar Views To Panel"),category:tU.Categories.View,f1:!0})}}ha.ID="workbench.action.moveSecondarySideBarToPanel",(0,uJ.registerAction2)(hs),(0,uJ.registerAction2)(ha),e.s(["TogglePanelAction",()=>u4],410416);var hl=e.i(481150);let hd=(0,nJ.registerIcon)("menuBar",it.Codicon.layoutMenubar,(0,eA.localize)(2499,"Represents the menu bar")),hc=(0,nJ.registerIcon)("activity-bar-left",it.Codicon.layoutActivitybarLeft,(0,eA.localize)(2500,"Represents the activity bar in the left position")),hu=(0,nJ.registerIcon)("activity-bar-right",it.Codicon.layoutActivitybarRight,(0,eA.localize)(2501,"Represents the activity bar in the right position")),hh=(0,nJ.registerIcon)("panel-left",it.Codicon.layoutSidebarLeft,(0,eA.localize)(2502,"Represents a side bar in the left position"));(0,nJ.registerIcon)("panel-left-off",it.Codicon.layoutSidebarLeftOff,(0,eA.localize)(2503,"Represents a side bar in the left position toggled off"));let hp=(0,nJ.registerIcon)("panel-right",it.Codicon.layoutSidebarRight,(0,eA.localize)(2504,"Represents side bar in the right position"));(0,nJ.registerIcon)("panel-right-off",it.Codicon.layoutSidebarRightOff,(0,eA.localize)(2505,"Represents side bar in the right position toggled off"));let hg=(0,nJ.registerIcon)("panel-bottom",it.Codicon.layoutPanel,(0,eA.localize)(2506,"Represents the bottom panel")),hm=(0,nJ.registerIcon)("statusBar",it.Codicon.layoutStatusbar,(0,eA.localize)(2507,"Represents the status bar")),hv=(0,nJ.registerIcon)("panel-align-left",it.Codicon.layoutPanelLeft,(0,eA.localize)(2508,"Represents the bottom panel alignment set to the left")),h_=(0,nJ.registerIcon)("panel-align-right",it.Codicon.layoutPanelRight,(0,eA.localize)(2509,"Represents the bottom panel alignment set to the right")),hf=(0,nJ.registerIcon)("panel-align-center",it.Codicon.layoutPanelCenter,(0,eA.localize)(2510,"Represents the bottom panel alignment set to the center")),hy=(0,nJ.registerIcon)("panel-align-justify",it.Codicon.layoutPanelJustify,(0,eA.localize)(2511,"Represents the bottom panel alignment set to justified")),hC=(0,nJ.registerIcon)("fullscreen",it.Codicon.screenFull,(0,eA.localize)(2512,"Represents full screen")),hb=(0,nJ.registerIcon)("centerLayoutIcon",it.Codicon.layoutCentered,(0,eA.localize)(2513,"Represents centered layout mode")),hS=(0,nJ.registerIcon)("zenMode",it.Codicon.target,(0,eA.localize)(2514,"Represents zen mode"));(0,uA.registerAction2)(class extends uA.Action2{run(e){e.get(tI.IWorkbenchLayoutService).setPartHidden(!0,c8.Parts.SIDEBAR_PART)}constructor(){super({id:"workbench.action.closeSidebar",title:(0,eA.localize2)(2515,"Close Primary Side Bar"),category:tU.Categories.View,f1:!0})}});let hw="workbench.action.toggleActivityBarVisibility";(0,uA.registerAction2)(class extends uA.Action2{run(e){let t=e.get(tI.IWorkbenchLayoutService);t.centerMainEditorLayout(!t.isMainEditorLayoutCentered())}constructor(){super({id:"workbench.action.toggleCenteredLayout",title:{...(0,eA.localize2)(2516,"Toggle Centered Layout"),mnemonicTitle:(0,eA.localize)(2517,"&&Centered Layout")},precondition:uL.IsAuxiliaryWindowFocusedContext.toNegated(),category:tU.Categories.View,f1:!0,toggled:uL.IsMainEditorCenteredLayoutContext,menu:[{id:uA.MenuId.MenubarAppearanceMenu,group:"1_toggle_view",order:3}]})}});let hE="workbench.sideBar.location";class hI extends uA.Action2{async run(e){let t=e.get(tI.IWorkbenchLayoutService),i=e.get(eO.IConfigurationService);if(t.getSideBarPosition()!==this.position)return i.updateValue(hE,(0,c8.positionToString)(this.position))}constructor(e,t,i){super({id:e,title:t,f1:!1}),this.position=i}}class hx extends hI{constructor(){super(hx.ID,(0,eA.localize2)(2518,"Move Primary Side Bar Right"),c8.Position.RIGHT)}}hx.ID="workbench.action.moveSideBarRight";class hD extends hI{constructor(){super(hD.ID,(0,eA.localize2)(2519,"Move Primary Side Bar Left"),c8.Position.LEFT)}}hD.ID="workbench.action.moveSideBarLeft",(0,uA.registerAction2)(hx),(0,uA.registerAction2)(hD);class hk extends uA.Action2{static getLabel(e){return e.getSideBarPosition()===c8.Position.LEFT?(0,eA.localize)(2518,"Move Primary Side Bar Right"):(0,eA.localize)(2519,"Move Primary Side Bar Left")}run(e){let t=e.get(tI.IWorkbenchLayoutService),i=e.get(eO.IConfigurationService),o=t.getSideBarPosition()===c8.Position.LEFT?"right":"left";return i.updateValue(hE,o)}constructor(){super({id:hk.ID,title:(0,eA.localize2)(2520,"Toggle Primary Side Bar Position"),category:tU.Categories.View,f1:!0})}}hk.ID="workbench.action.toggleSidebarPosition",hk.LABEL=(0,eA.localize)(2520,"Toggle Primary Side Bar Position"),(0,uA.registerAction2)(hk);let hA=(0,nJ.registerIcon)("configure-layout-icon",it.Codicon.layout,(0,eA.localize)(2521,"Icon represents workbench layout configuration."));(0,uA.registerAction2)(class extends uA.Action2{run(e){e.get(tI.IWorkbenchLayoutService).toggleMaximizedPanel()}constructor(){super({id:"workbench.action.toggleEditorVisibility",title:{...(0,eA.localize2)(2530,"Toggle Editor Area Visibility"),mnemonicTitle:(0,eA.localize)(2531,"Show &&Editor Area")},category:tU.Categories.View,f1:!0,toggled:uL.MainEditorAreaVisibleContext,precondition:eQ.ContextKeyExpr.and(uL.IsAuxiliaryWindowFocusedContext.toNegated(),eQ.ContextKeyExpr.or(uL.PanelAlignmentContext.isEqualTo("center"),uL.PanelPositionContext.notEqualsTo("bottom")))})}});class hM extends uA.Action2{run(e){let t=e.get(tI.IWorkbenchLayoutService);t.setPartHidden(t.isVisible(c8.Parts.SIDEBAR_PART),c8.Parts.SIDEBAR_PART)}constructor(){super({id:hM.ID,title:(0,eA.localize2)(2533,"Toggle Primary Side Bar Visibility"),toggled:{condition:uL.SideBarVisibleContext,title:(0,eA.localize)(2534,"Primary Side Bar"),mnemonicTitle:(0,eA.localize)(2535,"&&Primary Side Bar")},category:tU.Categories.View,f1:!0,keybinding:{weight:eX.KeybindingWeight.WorkbenchContrib,primary:ez.KeyMod.CtrlCmd|ez.KeyCode.KeyB},menu:[{id:uA.MenuId.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:0},{id:uA.MenuId.MenubarAppearanceMenu,group:"2_workbench_layout",order:1}]})}}hM.ID="workbench.action.toggleSidebarVisibility",(0,uA.registerAction2)(hM);class hL extends uA.Action2{run(e){let t=e.get(tI.IWorkbenchLayoutService),i=e.get(eO.IConfigurationService),o=t.isVisible(c8.Parts.STATUSBAR_PART,iZ.mainWindow);return i.updateValue(hL.statusbarVisibleKey,!o)}constructor(){super({id:hL.ID,title:{...(0,eA.localize2)(2538,"Toggle Status Bar Visibility"),mnemonicTitle:(0,eA.localize)(2539,"S&&tatus Bar")},category:tU.Categories.View,f1:!0,toggled:eQ.ContextKeyExpr.equals("config.workbench.statusBar.visible",!0),menu:[{id:uA.MenuId.MenubarAppearanceMenu,group:"2_workbench_layout",order:3}]})}}hL.ID="workbench.action.toggleStatusbarVisibility",hL.statusbarVisibleKey="workbench.statusBar.visible",(0,uA.registerAction2)(hL);class hT extends uA.Action2{run(e){return e.get(eO.IConfigurationService).updateValue(this.settingName,this.value)}constructor(e,t,i,o,n,r){super({id:o,title:i,category:tU.Categories.View,precondition:n,metadata:r?{description:r}:void 0,f1:!0}),this.settingName=e,this.value=t}}class hR extends hT{constructor(){super(c8.LayoutSettings.EDITOR_TABS_MODE,c8.EditorTabsMode.NONE,(0,eA.localize2)(2540,"Hide Editor Tabs"),hR.ID,eQ.ContextKeyExpr.and(eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.EDITOR_TABS_MODE),c8.EditorTabsMode.NONE).negate(),uL.InEditorZenModeContext.negate()),(0,eA.localize2)(2541,"Hide Tab Bar"))}}hR.ID="workbench.action.hideEditorTabs";class hN extends hT{constructor(){super(c8.ZenModeSettings.SHOW_TABS,c8.EditorTabsMode.NONE,(0,eA.localize2)(2542,"Hide Editor Tabs in Zen Mode"),hN.ID,eQ.ContextKeyExpr.and(eQ.ContextKeyExpr.equals("config.".concat(c8.ZenModeSettings.SHOW_TABS),c8.EditorTabsMode.NONE).negate(),uL.InEditorZenModeContext),(0,eA.localize2)(2543,"Hide Tab Bar in Zen Mode"))}}hN.ID="workbench.action.zenHideEditorTabs";class hP extends hT{constructor(){super(c8.LayoutSettings.EDITOR_TABS_MODE,c8.EditorTabsMode.MULTIPLE,(0,eA.localize2)(2544,"Show Multiple Editor Tabs"),hP.ID,eQ.ContextKeyExpr.and(eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.EDITOR_TABS_MODE),c8.EditorTabsMode.MULTIPLE).negate(),uL.InEditorZenModeContext.negate()),(0,eA.localize2)(2545,"Show Tab Bar with multiple tabs"))}}hP.ID="workbench.action.showMultipleEditorTabs";class hO extends hT{constructor(){super(c8.ZenModeSettings.SHOW_TABS,c8.EditorTabsMode.MULTIPLE,(0,eA.localize2)(2546,"Show Multiple Editor Tabs in Zen Mode"),hO.ID,eQ.ContextKeyExpr.and(eQ.ContextKeyExpr.equals("config.".concat(c8.ZenModeSettings.SHOW_TABS),c8.EditorTabsMode.MULTIPLE).negate(),uL.InEditorZenModeContext),(0,eA.localize2)(2547,"Show Tab Bar in Zen Mode"))}}hO.ID="workbench.action.zenShowMultipleEditorTabs";class hF extends hT{constructor(){super(c8.LayoutSettings.EDITOR_TABS_MODE,c8.EditorTabsMode.SINGLE,(0,eA.localize2)(2548,"Show Single Editor Tab"),hF.ID,eQ.ContextKeyExpr.and(eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.EDITOR_TABS_MODE),c8.EditorTabsMode.SINGLE).negate(),uL.InEditorZenModeContext.negate()),(0,eA.localize2)(2549,"Show Tab Bar with one Tab"))}}hF.ID="workbench.action.showEditorTab";class hK extends hT{constructor(){super(c8.ZenModeSettings.SHOW_TABS,c8.EditorTabsMode.SINGLE,(0,eA.localize2)(2550,"Show Single Editor Tab in Zen Mode"),hK.ID,eQ.ContextKeyExpr.and(eQ.ContextKeyExpr.equals("config.".concat(c8.ZenModeSettings.SHOW_TABS),c8.EditorTabsMode.SINGLE).negate(),uL.InEditorZenModeContext),(0,eA.localize2)(2551,"Show Tab Bar in Zen Mode with one Tab"))}}hK.ID="workbench.action.zenShowEditorTab",(0,uA.registerAction2)(hR),(0,uA.registerAction2)(hN),(0,uA.registerAction2)(hP),(0,uA.registerAction2)(hO),(0,uA.registerAction2)(hF),(0,uA.registerAction2)(hK);class hW extends uA.Action2{run(e){return e.get(eO.IConfigurationService).updateValue(c8.LayoutSettings.EDITOR_ACTIONS_LOCATION,c8.EditorActionsLocation.TITLEBAR)}constructor(){super({id:hW.ID,title:(0,eA.localize2)(2553,"Move Editor Actions to Title Bar"),category:tU.Categories.View,precondition:eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.EDITOR_ACTIONS_LOCATION),c8.EditorActionsLocation.TITLEBAR).negate(),metadata:{description:(0,eA.localize2)(2554,"Move Editor Actions from the tab bar to the title bar")},f1:!0})}}hW.ID="workbench.action.editorActionsTitleBar",(0,uA.registerAction2)(hW);class hz extends uA.Action2{run(e){return e.get(eO.IConfigurationService).updateValue(c8.LayoutSettings.EDITOR_ACTIONS_LOCATION,c8.EditorActionsLocation.DEFAULT)}constructor(){super({id:hz.ID,title:(0,eA.localize2)(2555,"Move Editor Actions to Tab Bar"),category:tU.Categories.View,precondition:eQ.ContextKeyExpr.and(eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.EDITOR_ACTIONS_LOCATION),c8.EditorActionsLocation.DEFAULT).negate(),eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.EDITOR_TABS_MODE),c8.EditorTabsMode.NONE).negate()),metadata:{description:(0,eA.localize2)(2556,"Move Editor Actions from the title bar to the tab bar")},f1:!0})}}hz.ID="workbench.action.editorActionsDefault",(0,uA.registerAction2)(hz);class hV extends uA.Action2{run(e){return e.get(eO.IConfigurationService).updateValue(c8.LayoutSettings.EDITOR_ACTIONS_LOCATION,c8.EditorActionsLocation.HIDDEN)}constructor(){super({id:hV.ID,title:(0,eA.localize2)(2557,"Hide Editor Actions"),category:tU.Categories.View,precondition:eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.EDITOR_ACTIONS_LOCATION),c8.EditorActionsLocation.HIDDEN).negate(),metadata:{description:(0,eA.localize2)(2558,"Hide Editor Actions in the tab and title bar")},f1:!0})}}hV.ID="workbench.action.hideEditorActions",(0,uA.registerAction2)(hV);class hB extends uA.Action2{run(e){return e.get(eO.IConfigurationService).updateValue(c8.LayoutSettings.EDITOR_ACTIONS_LOCATION,c8.EditorActionsLocation.DEFAULT)}constructor(){super({id:hB.ID,title:(0,eA.localize2)(2559,"Show Editor Actions"),category:tU.Categories.View,precondition:eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.EDITOR_ACTIONS_LOCATION),c8.EditorActionsLocation.HIDDEN),metadata:{description:(0,eA.localize2)(2560,"Make Editor Actions visible.")},f1:!0})}}hB.ID="workbench.action.showEditorActions",(0,uA.registerAction2)(hB);class hH extends uA.Action2{run(e){e.get(cn.IPreferencesService).openSettings({jsonEditor:!1,query:"workbench.editor tab"})}constructor(){super({id:hH.ID,title:(0,eA.localize2)(2562,"Configure Tabs"),category:tU.Categories.View})}}hH.ID="workbench.action.configureEditorTabs",(0,uA.registerAction2)(hH);class hU extends uA.Action2{run(e){e.get(cn.IPreferencesService).openSettings({jsonEditor:!1,query:"workbench.editor"})}constructor(){super({id:hU.ID,title:(0,eA.localize2)(2563,"Configure Editors"),category:tU.Categories.View})}}hU.ID="workbench.action.configureEditor",(0,uA.registerAction2)(hU),(0,uA.registerAction2)(class extends uA.Action2{run(e){let t=e.get(eO.IConfigurationService),i=t.getValue("workbench.editor.pinnedTabsOnSeparateRow");return t.updateValue("workbench.editor.pinnedTabsOnSeparateRow",!i)}constructor(){super({id:"workbench.action.toggleSeparatePinnedEditorTabs",title:(0,eA.localize2)(2564,"Separate Pinned Editor Tabs"),category:tU.Categories.View,precondition:eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.EDITOR_TABS_MODE),c8.EditorTabsMode.MULTIPLE),metadata:{description:(0,eA.localize2)(2565,"Toggle whether pinned editor tabs are shown on a separate row above unpinned tabs.")},f1:!0})}}),(0,uA.registerAction2)(class extends uA.Action2{run(e){return e.get(tI.IWorkbenchLayoutService).toggleZenMode()}constructor(){super({id:"workbench.action.toggleZenMode",title:{...(0,eA.localize2)(2566,"Toggle Zen Mode"),mnemonicTitle:(0,eA.localize)(2567,"Zen Mode")},precondition:uL.IsAuxiliaryWindowFocusedContext.toNegated(),category:tU.Categories.View,f1:!0,keybinding:{weight:eX.KeybindingWeight.WorkbenchContrib,primary:(0,ez.KeyChord)(ez.KeyMod.CtrlCmd|ez.KeyCode.KeyK,ez.KeyCode.KeyZ)},toggled:uL.InEditorZenModeContext,menu:[{id:uA.MenuId.MenubarAppearanceMenu,group:"1_toggle_view",order:2}]})}}),eX.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.exitZenMode",weight:eX.KeybindingWeight.EditorContrib-1e3,handler(e){let t=e.get(tI.IWorkbenchLayoutService),i=e.get(eY.IContextKeyService);uL.InEditorZenModeContext.getValue(i)&&t.toggleZenMode()},when:uL.InEditorZenModeContext,primary:(0,ez.KeyChord)(ez.KeyCode.Escape,ez.KeyCode.Escape)}),(tD.isWindows||tD.isLinux||tD.isWeb)&&(0,uA.registerAction2)(class extends uA.Action2{run(e){return e.get(tI.IWorkbenchLayoutService).toggleMenuBar()}constructor(){super({id:"workbench.action.toggleMenuBar",title:{...(0,eA.localize2)(2568,"Toggle Menu Bar"),mnemonicTitle:(0,eA.localize)(2569,"Menu &&Bar")},category:tU.Categories.View,f1:!0,toggled:eQ.ContextKeyExpr.and(db.IsMacNativeContext.toNegated(),eQ.ContextKeyExpr.notEquals("config.window.menuBarVisibility","hidden"),eQ.ContextKeyExpr.notEquals("config.window.menuBarVisibility","toggle"),eQ.ContextKeyExpr.notEquals("config.window.menuBarVisibility","compact")),menu:[{id:uA.MenuId.MenubarAppearanceMenu,group:"2_workbench_layout",order:0}]})}}),(0,uA.registerAction2)(class extends uA.Action2{run(e){return e.get(cv.IViewDescriptorService).reset()}constructor(){super({id:"workbench.action.resetViewLocations",title:(0,eA.localize2)(2571,"Reset View Locations"),category:tU.Categories.View,f1:!0})}}),(0,uA.registerAction2)(class extends uA.Action2{async run(e){var t;let i,o=e.get(cv.IViewDescriptorService),n=e.get(eZ.IInstantiationService),r=e.get(tr.IQuickInputService),s=e.get(eY.IContextKeyService),a=e.get(cC.IPaneCompositePartService),l=uL.FocusedViewContext.getValue(s);l&&(null==(t=o.getViewDescriptorById(l))?void 0:t.canMoveView)&&(i=l);try{if(!(i=await this.getView(r,o,a,i)))return;let e=new hG;n.invokeFunction(t=>e.run(t,i))}catch(e){}}getViewItems(e,t){let i=[];return t.getVisiblePaneCompositeIds(cm.ViewContainerLocation.Sidebar).forEach(t=>{let o=e.getViewContainerById(t),n=e.getViewContainerModel(o),r=!1;n.visibleViewDescriptors.forEach(e=>{e.canMoveView&&(r||(i.push({type:"separator",label:(0,eA.localize)(2573,"Side Bar / {0}",n.title)}),r=!0),i.push({id:e.id,label:e.name.value}))})}),t.getPinnedPaneCompositeIds(cm.ViewContainerLocation.Panel).forEach(t=>{let o=e.getViewContainerById(t),n=e.getViewContainerModel(o),r=!1;n.visibleViewDescriptors.forEach(e=>{e.canMoveView&&(r||(i.push({type:"separator",label:(0,eA.localize)(2574,"Panel / {0}",n.title)}),r=!0),i.push({id:e.id,label:e.name.value}))})}),t.getPinnedPaneCompositeIds(cm.ViewContainerLocation.AuxiliaryBar).forEach(t=>{let o=e.getViewContainerById(t),n=e.getViewContainerModel(o),r=!1;n.visibleViewDescriptors.forEach(e=>{e.canMoveView&&(r||(i.push({type:"separator",label:(0,eA.localize)(2575,"Secondary Side Bar / {0}",n.title)}),r=!0),i.push({id:e.id,label:e.name.value}))})}),i}async getView(e,t,i,o){let n=new eD.DisposableStore,r=n.add(e.createQuickPick({useSeparators:!0}));return r.placeholder=(0,eA.localize)(2576,"Select a View to Move"),r.items=this.getViewItems(t,i),r.selectedItems=r.items.filter(e=>e.id===o),new Promise((e,t)=>{n.add(r.onDidAccept(()=>{let i=r.selectedItems[0];i.id?e(i.id):t(),r.hide()})),n.add(r.onDidHide(()=>{n.dispose(),t()})),r.show()})}constructor(){super({id:"workbench.action.moveView",title:(0,eA.localize2)(2572,"Move View"),category:tU.Categories.View,f1:!0})}});class hG extends uA.Action2{run(e,t){let i=e.get(cv.IViewDescriptorService),o=e.get(c_.IViewsService),n=e.get(tr.IQuickInputService),r=e.get(eY.IContextKeyService),s=e.get(tj.IDialogService),a=e.get(cC.IPaneCompositePartService),l=t||uL.FocusedViewContext.getValue(r);if(void 0===l||""===l.trim())return void s.error((0,eA.localize)(2578,"There is no view currently focused."));let d=i.getViewDescriptorById(l);if(!d||!d.canMoveView)return void s.error((0,eA.localize)(2579,"The currently focused view is not movable."));let c=new eD.DisposableStore,u=c.add(n.createQuickPick({useSeparators:!0}));u.placeholder=(0,eA.localize)(2580,"Select a Destination for the View"),u.title=(0,eA.localize)(2581,"View: Move {0}",d.name.value);let h=[],p=i.getViewContainerByViewId(l),g=i.getViewLocationById(l),m=1===i.getViewContainerModel(p).allViewDescriptors.length;m&&g===cm.ViewContainerLocation.Panel||h.push({id:"_.panel.newcontainer",label:(0,eA.localize)(2582,"New Panel Entry")}),m&&g===cm.ViewContainerLocation.Sidebar||h.push({id:"_.sidebar.newcontainer",label:(0,eA.localize)(2583,"New Side Bar Entry")}),m&&g===cm.ViewContainerLocation.AuxiliaryBar||h.push({id:"_.auxiliarybar.newcontainer",label:(0,eA.localize)(2584,"New Secondary Side Bar Entry")}),h.push({type:"separator",label:(0,eA.localize)(2585,"Side Bar")}),h.push(...a.getVisiblePaneCompositeIds(cm.ViewContainerLocation.Sidebar).filter(e=>e!==i.getViewContainerByViewId(l).id&&!i.getViewContainerById(e).rejectAddedViews).map(e=>({id:e,label:i.getViewContainerModel(i.getViewContainerById(e)).title}))),h.push({type:"separator",label:(0,eA.localize)(2586,"Panel")}),h.push(...a.getPinnedPaneCompositeIds(cm.ViewContainerLocation.Panel).filter(e=>e!==i.getViewContainerByViewId(l).id&&!i.getViewContainerById(e).rejectAddedViews).map(e=>({id:e,label:i.getViewContainerModel(i.getViewContainerById(e)).title}))),h.push({type:"separator",label:(0,eA.localize)(2587,"Secondary Side Bar")}),h.push(...a.getPinnedPaneCompositeIds(cm.ViewContainerLocation.AuxiliaryBar).filter(e=>e!==i.getViewContainerByViewId(l).id&&!i.getViewContainerById(e).rejectAddedViews).map(e=>({id:e,label:i.getViewContainerModel(i.getViewContainerById(e)).title}))),u.items=h,c.add(u.onDidAccept(()=>{let e=u.selectedItems[0];"_.panel.newcontainer"===e.id?(i.moveViewToLocation(d,cm.ViewContainerLocation.Panel,this.desc.id),o.openView(l,!0)):"_.sidebar.newcontainer"===e.id?(i.moveViewToLocation(d,cm.ViewContainerLocation.Sidebar,this.desc.id),o.openView(l,!0)):"_.auxiliarybar.newcontainer"===e.id?(i.moveViewToLocation(d,cm.ViewContainerLocation.AuxiliaryBar,this.desc.id),o.openView(l,!0)):e.id&&(i.moveViewsToContainer([d],i.getViewContainerById(e.id),void 0,this.desc.id),o.openView(l,!0)),u.hide()})),c.add(u.onDidHide(()=>c.dispose())),u.show()}constructor(){super({id:"workbench.action.moveFocusedView",title:(0,eA.localize2)(2577,"Move Focused View"),category:tU.Categories.View,precondition:uL.FocusedViewContext.notEqualsTo(""),f1:!0})}}(0,uA.registerAction2)(hG),(0,uA.registerAction2)(class extends uA.Action2{run(e){let t=e.get(cv.IViewDescriptorService),i=e.get(eY.IContextKeyService),o=e.get(tj.IDialogService),n=e.get(c_.IViewsService),r=uL.FocusedViewContext.getValue(i),s=null;if(void 0!==r&&""!==r.trim()&&(s=t.getViewDescriptorById(r)),!s)return void o.error((0,eA.localize)(2589,"There is no view currently focused."));let a=t.getDefaultContainerById(s.id);a&&a!==t.getViewContainerByViewId(s.id)&&(t.moveViewsToContainer([s],a,void 0,this.desc.id),n.openView(s.id,!0))}constructor(){super({id:"workbench.action.resetFocusedViewLocation",title:(0,eA.localize2)(2588,"Reset Focused View Location"),category:tU.Categories.View,f1:!0,precondition:uL.FocusedViewContext.notEqualsTo("")})}});class hq extends uA.Action2{resizePart(e,t,i,o){let n;if(void 0===o){let e=i.hasFocus(c8.Parts.EDITOR_PART),t=i.hasFocus(c8.Parts.SIDEBAR_PART),o=i.hasFocus(c8.Parts.PANEL_PART),r=i.hasFocus(c8.Parts.AUXILIARYBAR_PART);t?n=c8.Parts.SIDEBAR_PART:o?n=c8.Parts.PANEL_PART:e?n=c8.Parts.EDITOR_PART:r&&(n=c8.Parts.AUXILIARYBAR_PART)}else n=o;n&&i.resizePart(n,e,t)}}hq.RESIZE_INCREMENT=60,(0,uA.registerAction2)(class extends hq{run(e){this.resizePart(hq.RESIZE_INCREMENT,hq.RESIZE_INCREMENT,e.get(tI.IWorkbenchLayoutService))}constructor(){super({id:"workbench.action.increaseViewSize",title:(0,eA.localize2)(2590,"Increase Current View Size"),f1:!0,precondition:uL.IsAuxiliaryWindowFocusedContext.toNegated()})}}),(0,uA.registerAction2)(class extends hq{run(e){this.resizePart(hq.RESIZE_INCREMENT,0,e.get(tI.IWorkbenchLayoutService),c8.Parts.EDITOR_PART)}constructor(){super({id:"workbench.action.increaseViewWidth",title:(0,eA.localize2)(2591,"Increase Editor Width"),f1:!0,precondition:uL.IsAuxiliaryWindowFocusedContext.toNegated()})}}),(0,uA.registerAction2)(class extends hq{run(e){this.resizePart(0,hq.RESIZE_INCREMENT,e.get(tI.IWorkbenchLayoutService),c8.Parts.EDITOR_PART)}constructor(){super({id:"workbench.action.increaseViewHeight",title:(0,eA.localize2)(2592,"Increase Editor Height"),f1:!0,precondition:uL.IsAuxiliaryWindowFocusedContext.toNegated()})}}),(0,uA.registerAction2)(class extends hq{run(e){this.resizePart(-hq.RESIZE_INCREMENT,-hq.RESIZE_INCREMENT,e.get(tI.IWorkbenchLayoutService))}constructor(){super({id:"workbench.action.decreaseViewSize",title:(0,eA.localize2)(2593,"Decrease Current View Size"),f1:!0,precondition:uL.IsAuxiliaryWindowFocusedContext.toNegated()})}}),(0,uA.registerAction2)(class extends hq{run(e){this.resizePart(-hq.RESIZE_INCREMENT,0,e.get(tI.IWorkbenchLayoutService),c8.Parts.EDITOR_PART)}constructor(){super({id:"workbench.action.decreaseViewWidth",title:(0,eA.localize2)(2594,"Decrease Editor Width"),f1:!0,precondition:uL.IsAuxiliaryWindowFocusedContext.toNegated()})}}),(0,uA.registerAction2)(class extends hq{run(e){this.resizePart(0,-hq.RESIZE_INCREMENT,e.get(tI.IWorkbenchLayoutService),c8.Parts.EDITOR_PART)}constructor(){super({id:"workbench.action.decreaseViewHeight",title:(0,eA.localize2)(2595,"Decrease Editor Height"),f1:!0,precondition:uL.IsAuxiliaryWindowFocusedContext.toNegated()})}});let hj=(e,t,i,o)=>({id:e,active:t,label:i,visualIcon:o,activeIcon:it.Codicon.eye,inactiveIcon:it.Codicon.eyeClosed,activeAriaLabel:(0,eA.localize)(2596,"Select to Hide"),inactiveAriaLabel:(0,eA.localize)(2597,"Select to Show"),useButtons:!0}),hQ=(e,t,i,o)=>({id:e,active:t,label:i,visualIcon:o,activeIcon:it.Codicon.check,activeAriaLabel:(0,eA.localize)(2598,"Active"),useButtons:!1}),hY=eQ.ContextKeyExpr.and(db.IsMacNativeContext.toNegated(),eQ.ContextKeyExpr.notEquals("config.window.menuBarVisibility","hidden"),eQ.ContextKeyExpr.notEquals("config.window.menuBarVisibility","toggle"),eQ.ContextKeyExpr.notEquals("config.window.menuBarVisibility","compact")),hZ=[];tD.isMacintosh&&tD.isNative||hZ.push(hj("workbench.action.toggleMenuBar",hY,(0,eA.localize)(2599,"Menu Bar"),hd)),hZ.push(hj(hw,eQ.ContextKeyExpr.notEquals("config.workbench.activityBar.location","hidden"),(0,eA.localize)(2600,"Activity Bar"),{whenA:eQ.ContextKeyExpr.equals("config.workbench.sideBar.location","left"),iconA:hc,iconB:hu}),hj(hM.ID,uL.SideBarVisibleContext,(0,eA.localize)(2601,"Primary Side Bar"),{whenA:eQ.ContextKeyExpr.equals("config.workbench.sideBar.location","left"),iconA:hh,iconB:hp}),hj(u$.ID,uL.AuxiliaryBarVisibleContext,(0,eA.localize)(2587,"Secondary Side Bar"),{whenA:eQ.ContextKeyExpr.equals("config.workbench.sideBar.location","left"),iconA:hp,iconB:hh}),hj(u4.ID,uL.PanelVisibleContext,(0,eA.localize)(2586,"Panel"),hg),hj(hL.ID,eQ.ContextKeyExpr.equals("config.workbench.statusBar.visible",!0),(0,eA.localize)(2602,"Status Bar"),hm));let hX=[hQ(hD.ID,eQ.ContextKeyExpr.equals("config.workbench.sideBar.location","left"),(0,eA.localize)(2603,"Left"),hh),hQ(hx.ID,eQ.ContextKeyExpr.equals("config.workbench.sideBar.location","right"),(0,eA.localize)(2604,"Right"),hp)],h$=[hQ("workbench.action.alignPanelLeft",uL.PanelAlignmentContext.isEqualTo("left"),(0,eA.localize)(2605,"Left"),hv),hQ("workbench.action.alignPanelRight",uL.PanelAlignmentContext.isEqualTo("right"),(0,eA.localize)(2606,"Right"),h_),hQ("workbench.action.alignPanelCenter",uL.PanelAlignmentContext.isEqualTo("center"),(0,eA.localize)(2607,"Center"),hf),hQ("workbench.action.alignPanelJustify",uL.PanelAlignmentContext.isEqualTo("justify"),(0,eA.localize)(2608,"Justify"),hy)],hJ=[hQ("workbench.action.toggleFullScreen",uL.IsMainWindowFullscreenContext,(0,eA.localize)(2609,"Full Screen"),hC),hQ("workbench.action.toggleZenMode",uL.InEditorZenModeContext,(0,eA.localize)(2610,"Zen Mode"),hS),hQ("workbench.action.toggleCenteredLayout",uL.IsMainEditorCenteredLayoutContext,(0,eA.localize)(2611,"Centered Layout"),hb)],h0=new Set;for(let{active:e}of[...hZ,...hX,...h$,...hJ])for(let t of e.keys())h0.add(t);(0,uA.registerAction2)(class extends uA.Action2{getItems(e,t){let i=i=>{let o=i.active.evaluate(e.getContext(null)),n=i.useButtons?i.label:i.label+(o&&i.activeIcon?" $(".concat(i.activeIcon.id,")"):!o&&i.inactiveIcon?" $(".concat(i.inactiveIcon.id,")"):""),r=i.label+(o&&i.activeAriaLabel?" (".concat(i.activeAriaLabel,")"):!o&&i.inactiveAriaLabel?" (".concat(i.inactiveAriaLabel,")"):"");if(i.visualIcon){let t=i.visualIcon;void 0!==t.iconA&&(t=t.whenA.evaluate(e.getContext(null))?t.iconA:t.iconB),n="$(".concat(t.id,") ").concat(n)}let s=o?i.activeIcon:i.inactiveIcon;return{type:"item",id:i.id,label:n,ariaLabel:r,keybinding:t.lookupKeybinding(i.id,e),buttons:i.useButtons?[{alwaysVisible:!1,tooltip:r,iconClass:s?r3.ThemeIcon.asClassName(s):void 0}]:void 0}};return[{type:"separator",label:(0,eA.localize)(2613,"Visibility")},...hZ.map(i),{type:"separator",label:(0,eA.localize)(2614,"Primary Side Bar Position")},...hX.map(i),{type:"separator",label:(0,eA.localize)(2615,"Panel Alignment")},...h$.map(i),{type:"separator",label:(0,eA.localize)(2616,"Modes")},...hJ.map(i)]}run(e){let t;if(this._currentQuickPick)return void this._currentQuickPick.hide();let i=e.get(eO.IConfigurationService),o=e.get(eY.IContextKeyService),n=e.get(i9.ICommandService),r=e.get(tr.IQuickInputService),s=e.get(e6.IKeybindingService),a=new eD.DisposableStore,l=a.add(r.createQuickPick({useSeparators:!0}));this._currentQuickPick=l,l.items=this.getItems(o,s),l.ignoreFocusOut=!0,l.hideInput=!0,l.title=(0,eA.localize)(2617,"Customize Layout");let d={alwaysVisible:!0,iconClass:r3.ThemeIcon.asClassName(it.Codicon.close),tooltip:(0,eA.localize)(2618,"Close")},c={alwaysVisible:!0,iconClass:r3.ThemeIcon.asClassName(it.Codicon.discard),tooltip:(0,eA.localize)(2619,"Restore Defaults")};l.buttons=[c,d],a.add(o.onDidChangeContext(e=>{e.affectsSome(h0)&&(l.items=this.getItems(o,s),t&&(l.activeItems=l.items.filter(e=>e.id===(null==t?void 0:t.id))),setTimeout(()=>r.focus(),0))})),a.add(l.onDidAccept(e=>{l.selectedItems.length&&(t=l.selectedItems[0],n.executeCommand(t.id))})),a.add(l.onDidTriggerItemButton(e=>{e.item&&(t=e.item,n.executeCommand(t.id))})),a.add(l.onDidTriggerButton(e=>{if(e===d)l.hide();else if(e===c){let e=e=>{let t=i.inspect(e);i.updateValue(e,t.defaultValue)};e("workbench.activityBar.location"),e("workbench.sideBar.location"),e("workbench.statusBar.visible"),e("workbench.panel.defaultLocation"),tD.isMacintosh&&tD.isNative||e("window.menuBarVisibility"),n.executeCommand("workbench.action.alignPanelCenter")}})),a.add(l.onDidHide(()=>{l.dispose()})),a.add(l.onDispose(()=>{this._currentQuickPick=void 0,a.dispose()})),l.show()}constructor(){super({id:"workbench.action.customizeLayout",title:(0,eA.localize2)(2612,"Customize Layout..."),f1:!0,icon:hA,menu:[{id:uA.MenuId.LayoutControlMenuSubmenu,group:"z_end"},{id:uA.MenuId.LayoutControlMenu,when:eQ.ContextKeyExpr.equals("config.workbench.layoutControl.type","both"),group:"1_layout"}]})}}),e.s(["ToggleActivityBarVisibilityActionId",()=>hw,"ToggleSidebarPositionAction",()=>hk],460663);var h1=e.i(640890);(0,tT.default)(".monaco-workbench .menubar .toolbar-toggle-more,.monaco-workbench .menubar>.menubar-menu-button{color:var(--vscode-titleBar-activeForeground)}.monaco-workbench .activitybar .menubar.compact .toolbar-toggle-more,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button{color:var(--vscode-activityBar-inactiveForeground)}.monaco-workbench .activitybar .menubar.compact:not(:focus-within)>.menubar-menu-button:hover,.monaco-workbench .activitybar .menubar.compact:not(:focus-within)>.menubar-menu-button:hover .toolbar-toggle-more,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button.open,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button.open .toolbar-toggle-more,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button:focus,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button:focus .toolbar-toggle-more{color:var(--vscode-activityBar-foreground)}.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button:focus{background-color:var(--vscode-menubar-selectionBackground)}.monaco-workbench .menubar.inactive:not(.compact)>.menubar-menu-button,.monaco-workbench .menubar.inactive:not(.compact)>.menubar-menu-button .toolbar-toggle-more{color:var(--vscode-titleBar-inactiveForeground)}.monaco-workbench .menubar:not(.compact)>.menubar-menu-button.open,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button.open .toolbar-toggle-more,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus .toolbar-toggle-more,.monaco-workbench .menubar:not(:focus-within):not(.compact)>.menubar-menu-button:hover,.monaco-workbench .menubar:not(:focus-within):not(.compact)>.menubar-menu-button:hover .toolbar-toggle-more{color:var(--vscode-menubar-selectionForeground)}.monaco-workbench .menubar:not(.compact)>.menubar-menu-button.open .menubar-menu-title,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus .menubar-menu-title,.monaco-workbench .menubar:not(:focus-within):not(.compact)>.menubar-menu-button:hover .menubar-menu-title{background-color:var(--vscode-menubar-selectionBackground)}.monaco-workbench .menubar>.menubar-menu-button:hover .menubar-menu-title{outline:dashed 1px var(--vscode-menubar-selectionBorder)}.monaco-workbench .menubar>.menubar-menu-button.open .menubar-menu-title,.monaco-workbench .menubar>.menubar-menu-button:focus .menubar-menu-title{outline:solid 1px var(--vscode-menubar-selectionBorder)}.monaco-workbench .menubar>.menubar-menu-button.open .menubar-menu-title,.monaco-workbench .menubar>.menubar-menu-button:focus .menubar-menu-title,.monaco-workbench .menubar>.menubar-menu-button:hover .menubar-menu-title{outline-color:var(--vscode-menubar-selectionBorder);outline-offset:-1px}",{});var h2=eG,h3=eD,h5=e.i(4121),h4=e.i(534888),h6=e.i(153397),h8=e.i(18640),h9=e.i(84389),h7=e.i(941761),pe=e.i(284222),pt=eD;(0,tT.default)(".menubar{box-sizing:border-box;display:flex;flex-shrink:1;height:100%;overflow:hidden}.menubar.overflow-menu-only{width:38px}.fullscreen .menubar:not(.compact){margin:0;padding:4px 5px}.menubar>.menubar-menu-button{-webkit-app-region:no-drag;zoom:1;align-items:center;box-sizing:border-box;cursor:default;display:flex;outline:0!important;white-space:nowrap}.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus .menubar-menu-title{outline-color:var(--vscode-focusBorder);outline-offset:-1px;outline-style:solid;outline-width:1px}.menubar.compact{flex-shrink:0;overflow:visible}.menubar.compact>.menubar-menu-button{height:100%;padding:0;width:100%}.menubar-menu-title{border-radius:5px;padding:0 8px}.menubar .menubar-menu-items-holder{left:0;opacity:1;position:fixed;z-index:2000}.menubar.compact .menubar-menu-items-holder{position:fixed}.menubar .menubar-menu-items-holder.monaco-menu-container{border:none;outline:0}.menubar .menubar-menu-items-holder.monaco-menu-container :focus{outline:0}.menubar .toolbar-toggle-more{align-items:center;display:flex;height:22px;justify-content:center;padding:0 8px;vertical-align:sub;width:22px}.menubar.compact .toolbar-toggle-more{align-items:center;cursor:pointer;display:flex;justify-content:center;left:0;position:relative;top:0;width:100%}.menubar.compact .toolbar-toggle-more:before,.menubar:not(.compact) .menubar-menu-button:first-child .toolbar-toggle-more:before{content:var(--vscode-icon-menu-content)!important;font-family:var(--vscode-icon-menu-font-family)!important}.menubar.compact>.menubar-menu-button.open .menubar-menu-title,.menubar.compact>.menubar-menu-button:focus .menubar-menu-title,.menubar.compact>.menubar-menu-button:hover .menubar-menu-title{outline-offset:-8px!important;outline-width:1px!important}",{});let pi=eK.$;!function(e){e[e.HIDDEN=0]="HIDDEN",e[e.VISIBLE=1]="VISIBLE",e[e.FOCUSED=2]="FOCUSED",e[e.OPEN=3]="OPEN"}(e_||(e_={}));class po extends pt.Disposable{push(e){(0,o3.asArray)(e).forEach(e=>{let t=this.menus.length,i=(0,pe.cleanMnemonic)(e.label),o=pe.MENU_MNEMONIC_REGEX.exec(e.label);if(o){let e=o[1]?o[1]:o[3];this.registerMnemonic(this.menus.length,e)}if(this.isCompact)this.menus.push(e);else{let o=pi("div.menubar-menu-button",{role:"menuitem",tabindex:-1,"aria-label":i,"aria-haspopup":!0}),n=pi("div.menubar-menu-title",{role:"none","aria-hidden":!0});o.appendChild(n),this.container.insertBefore(o,this.overflowMenu.buttonElement),this.updateLabels(n,o,e.label),this._register((0,eK.addDisposableListener)(o,eK.EventType.KEY_UP,e=>{let i=new tO.StandardKeyboardEvent(e),o=!0;(i.equals(ez.KeyCode.DownArrow)||i.equals(ez.KeyCode.Enter))&&!this.isOpen?(this.focusedMenu={index:t},this.openedViaKeyboard=!0,this.focusState=e_.OPEN):o=!1,o&&(i.preventDefault(),i.stopPropagation())})),this._register(h7.Gesture.addTarget(o)),this._register((0,eK.addDisposableListener)(o,h7.EventType.Tap,e=>{this.isOpen&&this.focusedMenu&&this.focusedMenu.holder&&(0,eK.isAncestor)(e.initialTarget,this.focusedMenu.holder)||(this.ignoreNextMouseUp=!1,this.onMenuTriggered(t,!0),e.preventDefault(),e.stopPropagation())})),this._register((0,eK.addDisposableListener)(o,eK.EventType.MOUSE_DOWN,e=>{if(!new tA.StandardMouseEvent((0,eK.getWindow)(o),e).leftButton)return void e.preventDefault();this.isOpen?this.ignoreNextMouseUp=!1:(this.ignoreNextMouseUp=!0,this.onMenuTriggered(t,!0)),e.preventDefault(),e.stopPropagation()})),this._register((0,eK.addDisposableListener)(o,eK.EventType.MOUSE_UP,e=>{!e.defaultPrevented&&(this.ignoreNextMouseUp?this.ignoreNextMouseUp=!1:this.isFocused&&this.onMenuTriggered(t,!0))})),this._register((0,eK.addDisposableListener)(o,eK.EventType.MOUSE_ENTER,()=>{this.isOpen&&!this.isCurrentMenu(t)?(o.focus(),this.cleanupCustomMenu(),this.showCustomMenu(t,!1)):this.isFocused&&!this.isOpen&&(this.focusedMenu={index:t},o.focus())})),this.menus.push({label:e.label,actions:e.actions,buttonElement:o,titleElement:n})}})}createOverflowMenu(){let e=this.isCompact?(0,eA.localize)(27,"Application Menu"):(0,eA.localize)(28,"More"),t=pi("div.menubar-menu-button",{role:"menuitem",tabindex:this.isCompact?0:-1,"aria-label":e,"aria-haspopup":!0}),i=pi("div.menubar-menu-title.toolbar-toggle-more"+r3.ThemeIcon.asCSSSelector(it.Codicon.menuBarMore),{role:"none","aria-hidden":!0});t.appendChild(i),this.container.appendChild(t),t.style.visibility="hidden",this._register((0,eK.addDisposableListener)(t,eK.EventType.KEY_UP,e=>{let t=new tO.StandardKeyboardEvent(e),i=!0,o=[ez.KeyCode.Enter];if(this.isCompact){var n,r;o.push(ez.KeyCode.Space),(null==(n=this.options.compactMode)?void 0:n.horizontal)===pe.HorizontalDirection.Right?o.push(ez.KeyCode.RightArrow):(null==(r=this.options.compactMode)?void 0:r.horizontal)===pe.HorizontalDirection.Left&&o.push(ez.KeyCode.LeftArrow)}else o.push(ez.KeyCode.DownArrow);o.some(e=>t.equals(e))&&!this.isOpen?(this.focusedMenu={index:po.OVERFLOW_INDEX},this.openedViaKeyboard=!0,this.focusState=e_.OPEN):i=!1,i&&(t.preventDefault(),t.stopPropagation())})),this._register(h7.Gesture.addTarget(t)),this._register((0,eK.addDisposableListener)(t,h7.EventType.Tap,e=>{this.isOpen&&this.focusedMenu&&this.focusedMenu.holder&&(0,eK.isAncestor)(e.initialTarget,this.focusedMenu.holder)||(this.ignoreNextMouseUp=!1,this.onMenuTriggered(po.OVERFLOW_INDEX,!0),e.preventDefault(),e.stopPropagation())})),this._register((0,eK.addDisposableListener)(t,eK.EventType.MOUSE_DOWN,e=>{if(!new tA.StandardMouseEvent((0,eK.getWindow)(t),e).leftButton)return void e.preventDefault();this.isOpen?this.ignoreNextMouseUp=!1:(this.ignoreNextMouseUp=!0,this.onMenuTriggered(po.OVERFLOW_INDEX,!0)),e.preventDefault(),e.stopPropagation()})),this._register((0,eK.addDisposableListener)(t,eK.EventType.MOUSE_UP,e=>{!e.defaultPrevented&&(this.ignoreNextMouseUp?this.ignoreNextMouseUp=!1:this.isFocused&&this.onMenuTriggered(po.OVERFLOW_INDEX,!0))})),this._register((0,eK.addDisposableListener)(t,eK.EventType.MOUSE_ENTER,()=>{this.isOpen&&!this.isCurrentMenu(po.OVERFLOW_INDEX)?(this.overflowMenu.buttonElement.focus(),this.cleanupCustomMenu(),this.showCustomMenu(po.OVERFLOW_INDEX,!1)):this.isFocused&&!this.isOpen&&(this.focusedMenu={index:po.OVERFLOW_INDEX},t.focus())})),this.overflowMenu={buttonElement:t,titleElement:i,label:"More",actions:[]}}updateMenu(e){let t=this.menus.filter(t=>t.label===e.label);t&&t.length&&(t[0].actions=e.actions)}dispose(){super.dispose(),this.menus.forEach(e=>{var t,i;null==(t=e.titleElement)||t.remove(),null==(i=e.buttonElement)||i.remove()}),this.overflowMenu.titleElement.remove(),this.overflowMenu.buttonElement.remove(),(0,pt.dispose)(this.overflowLayoutScheduled),this.overflowLayoutScheduled=void 0}blur(){this.setUnfocusedState()}getWidth(){if(!this.isCompact&&this.menus){let e=this.menus[0].buttonElement.getBoundingClientRect().left;return(this.hasOverflow?this.overflowMenu.buttonElement.getBoundingClientRect().right:this.menus[this.menus.length-1].buttonElement.getBoundingClientRect().right)-e}return 0}getHeight(){return this.container.clientHeight}toggleFocus(){this.isFocused||"hidden"===this.options.visibility?this.isOpen||this.setUnfocusedState():(this.mnemonicsInUse=!0,this.focusedMenu={index:this.numMenusShown>0?0:po.OVERFLOW_INDEX},this.focusState=e_.FOCUSED)}updateOverflowAction(){if(!this.menus||!this.menus.length)return;let e="overflow-menu-only";this.container.classList.toggle(e,!1);let t=this.container.offsetWidth,i=0,o=this.isCompact,n=this.numMenusShown;this.numMenusShown=0;let r=this.menus.filter(e=>void 0!==e.buttonElement&&void 0!==e.titleElement);for(let e of r){if(!o){let r=e.buttonElement.offsetWidth;i+r>t?o=!0:(i+=r,this.numMenusShown++,this.numMenusShown>n&&(e.buttonElement.style.visibility="visible"))}o&&(e.buttonElement.style.visibility="hidden")}if(this.numMenusShown-1<=r.length/4){for(let e of r)e.buttonElement.style.visibility="hidden";o=!0,this.numMenusShown=0,i=0}if(this.isCompact){var s,a;this.overflowMenu.actions=[];for(let e=this.numMenusShown;e<this.menus.length;e++)this.overflowMenu.actions.push(new tE.SubmenuAction("menubar.submenu.".concat(this.menus[e].label),this.menus[e].label,this.menus[e].actions||[]));let e=null==(s=(a=this.options).getCompactMenuActions)?void 0:s.call(a);e&&e.length&&(this.overflowMenu.actions.push(new tE.Separator),this.overflowMenu.actions.push(...e)),this.overflowMenu.buttonElement.style.visibility="visible"}else if(o){for(;i+this.overflowMenu.buttonElement.offsetWidth>t&&this.numMenusShown>0;){this.numMenusShown--;let e=r[this.numMenusShown].buttonElement.offsetWidth;r[this.numMenusShown].buttonElement.style.visibility="hidden",i-=e}this.overflowMenu.actions=[];for(let e=this.numMenusShown;e<r.length;e++)this.overflowMenu.actions.push(new tE.SubmenuAction("menubar.submenu.".concat(r[e].label),r[e].label,r[e].actions||[]));this.overflowMenu.buttonElement.nextElementSibling!==r[this.numMenusShown].buttonElement&&(this.overflowMenu.buttonElement.remove(),this.container.insertBefore(this.overflowMenu.buttonElement,r[this.numMenusShown].buttonElement)),this.overflowMenu.buttonElement.style.visibility="visible"}else this.overflowMenu.buttonElement.remove(),this.container.appendChild(this.overflowMenu.buttonElement),this.overflowMenu.buttonElement.style.visibility="hidden";this.container.classList.toggle(e,0===this.numMenusShown)}updateLabels(e,t,i){let o=(0,pe.cleanMnemonic)(i);if(this.options.enableMnemonics){let t=(0,iE.escape)(i);pe.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let o=pe.MENU_ESCAPED_MNEMONIC_REGEX.exec(t);for(;o&&o[1];)o=pe.MENU_ESCAPED_MNEMONIC_REGEX.exec(t);let n=e=>e.replace(/&amp;&amp;/g,"&amp;");o?(e.innerText="",e.append((0,iE.ltrim)(n(t.substr(0,o.index))," "),pi("mnemonic",{"aria-hidden":"true"},o[3]),(0,iE.rtrim)(n(t.substr(o.index+o[0].length))," "))):e.innerText=n(t).trim()}else e.innerText=o.replace(/&&/g,"&");let n=pe.MENU_MNEMONIC_REGEX.exec(i);if(n){let e=n[1]?n[1]:n[3];this.options.enableMnemonics?t.setAttribute("aria-keyshortcuts","Alt+"+e.toLocaleLowerCase()):t.removeAttribute("aria-keyshortcuts")}}update(e){if(e&&(this.options=e),this.isFocused){this.updatePending=!0;return}this.menus.forEach(e=>{e.buttonElement&&e.titleElement&&this.updateLabels(e.titleElement,e.buttonElement,e.label)}),this.overflowLayoutScheduled||(this.overflowLayoutScheduled=(0,eK.scheduleAtNextAnimationFrame)((0,eK.getWindow)(this.container),()=>{this.updateOverflowAction(),this.overflowLayoutScheduled=void 0})),this.setUnfocusedState()}registerMnemonic(e,t){this.mnemonics.set(t.toLocaleLowerCase(),e)}hideMenubar(){"none"!==this.container.style.display&&(this.container.style.display="none",this._onVisibilityChange.fire(!1))}showMenubar(){"flex"!==this.container.style.display&&(this.container.style.display="flex",this._onVisibilityChange.fire(!0),this.updateOverflowAction())}get focusState(){return this._focusState}set focusState(e){var t,i;if(this._focusState>=e_.FOCUSED&&e<e_.FOCUSED&&this.updatePending&&(this.menuUpdater.schedule(),this.updatePending=!1),e===this._focusState)return;let o=this.isVisible,n=this.isOpen,r=this.isFocused;switch(this._focusState=e,e){case e_.HIDDEN:o&&this.hideMenubar(),n&&this.cleanupCustomMenu(),r&&(this.focusedMenu=void 0,this.focusToReturn&&(this.focusToReturn.focus(),this.focusToReturn=void 0));break;case e_.VISIBLE:o||this.showMenubar(),n&&this.cleanupCustomMenu(),r&&(this.focusedMenu&&(this.focusedMenu.index===po.OVERFLOW_INDEX?this.overflowMenu.buttonElement.blur():null==(t=this.menus[this.focusedMenu.index].buttonElement)||t.blur()),this.focusedMenu=void 0,this.focusToReturn&&(this.focusToReturn.focus(),this.focusToReturn=void 0));break;case e_.FOCUSED:o||this.showMenubar(),n&&this.cleanupCustomMenu(),this.focusedMenu&&(0===this.focusedMenu.index&&0===this.numMenusShown&&(this.focusedMenu.index=po.OVERFLOW_INDEX),this.focusedMenu.index===po.OVERFLOW_INDEX?this.overflowMenu.buttonElement.focus():null==(i=this.menus[this.focusedMenu.index].buttonElement)||i.focus());break;case e_.OPEN:o||this.showMenubar(),this.focusedMenu&&(this.cleanupCustomMenu(),this.showCustomMenu(this.focusedMenu.index,this.openedViaKeyboard))}this._focusState=e,this._onFocusStateChange.fire(this.focusState>=e_.FOCUSED)}get isVisible(){return this.focusState>=e_.VISIBLE}get isFocused(){return this.focusState>=e_.FOCUSED}get isOpen(){return this.focusState>=e_.OPEN}get hasOverflow(){return this.isCompact||this.numMenusShown<this.menus.length}get isCompact(){return void 0!==this.options.compactMode}setUnfocusedState(){"toggle"===this.options.visibility||"hidden"===this.options.visibility||"classic"===this.options.visibility&&(0,dj.isFullscreen)(iZ.mainWindow)?this.focusState=e_.HIDDEN:this.focusState=e_.VISIBLE,this.ignoreNextMouseUp=!1,this.mnemonicsInUse=!1,this.updateMnemonicVisibility(!1)}focusPrevious(){if(!this.focusedMenu||0===this.numMenusShown)return;let e=(this.focusedMenu.index-1+this.numMenusShown)%this.numMenusShown;if(this.focusedMenu.index===po.OVERFLOW_INDEX?e=this.numMenusShown-1:0===this.focusedMenu.index&&this.hasOverflow&&(e=po.OVERFLOW_INDEX),e!==this.focusedMenu.index){if(this.isOpen)this.cleanupCustomMenu(),this.showCustomMenu(e);else if(this.isFocused)if(this.focusedMenu.index=e,e===po.OVERFLOW_INDEX)this.overflowMenu.buttonElement.focus();else{var t;null==(t=this.menus[e].buttonElement)||t.focus()}}}focusNext(){if(!this.focusedMenu||0===this.numMenusShown)return;let e=(this.focusedMenu.index+1)%this.numMenusShown;if(this.focusedMenu.index===po.OVERFLOW_INDEX?e=0:this.focusedMenu.index===this.numMenusShown-1&&(e=po.OVERFLOW_INDEX),e!==this.focusedMenu.index){if(this.isOpen)this.cleanupCustomMenu(),this.showCustomMenu(e);else if(this.isFocused)if(this.focusedMenu.index=e,e===po.OVERFLOW_INDEX)this.overflowMenu.buttonElement.focus();else{var t;null==(t=this.menus[e].buttonElement)||t.focus()}}}updateMnemonicVisibility(e){this.menus&&this.menus.forEach(t=>{if(t.titleElement&&t.titleElement.children.length){let i=t.titleElement.children.item(0);i&&(i.style.textDecoration=this.options.alwaysOnMnemonics||e?"underline":"")}})}get mnemonicsInUse(){return this._mnemonicsInUse}set mnemonicsInUse(e){this._mnemonicsInUse=e}get shouldAltKeyFocus(){return!tD.isMacintosh&&(!this.options.disableAltFocus||"toggle"===this.options.visibility)}get onVisibilityChange(){return this._onVisibilityChange.event}get onFocusStateChange(){return this._onFocusStateChange.event}onMenuTriggered(e,t){this.isOpen?this.isCurrentMenu(e)?this.setUnfocusedState():(this.cleanupCustomMenu(),this.showCustomMenu(e,this.openedViaKeyboard)):(this.focusedMenu={index:e},this.openedViaKeyboard=!t,this.focusState=e_.OPEN)}onModifierKeyToggled(e){let t=!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey;"hidden"!==this.options.visibility&&(e.event&&this.shouldAltKeyFocus&&ez.ScanCodeUtils.toEnum(e.event.code)===ez.ScanCode.AltLeft&&e.event.preventDefault(),this.isFocused&&"alt"===e.lastKeyPressed&&e.altKey&&(this.setUnfocusedState(),this.mnemonicsInUse=!1,this.awaitingAltRelease=!0),t&&"alt"===e.lastKeyPressed&&"alt"===e.lastKeyReleased&&!this.awaitingAltRelease&&(!this.isFocused&&this.shouldAltKeyFocus?(this.mnemonicsInUse=!0,this.focusedMenu={index:this.numMenusShown>0?0:po.OVERFLOW_INDEX},this.focusState=e_.FOCUSED):this.isOpen||this.setUnfocusedState()),e.altKey||"alt"!==e.lastKeyReleased||(this.awaitingAltRelease=!1),this.options.enableMnemonics&&this.menus&&!this.isOpen&&this.updateMnemonicVisibility(!this.awaitingAltRelease&&e.altKey||this.mnemonicsInUse))}isCurrentMenu(e){return!!this.focusedMenu&&this.focusedMenu.index===e}cleanupCustomMenu(){if(this.focusedMenu){var e,t,i;this.focusedMenu.index===po.OVERFLOW_INDEX?this.overflowMenu.buttonElement.focus():null==(t=this.menus[this.focusedMenu.index].buttonElement)||t.focus(),this.focusedMenu.holder&&(null==(i=this.focusedMenu.holder.parentElement)||i.classList.remove("open"),this.focusedMenu.holder.remove()),null==(e=this.focusedMenu.widget)||e.dispose(),this.focusedMenu={index:this.focusedMenu.index}}this.menuDisposables.clear()}showCustomMenu(e){var t,i,o,n,r;let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=e>=this.numMenusShown?po.OVERFLOW_INDEX:e,l=a===po.OVERFLOW_INDEX?this.overflowMenu:this.menus[a];if(!l.actions||!l.buttonElement||!l.titleElement)return;let d=pi("div.menubar-menu-items-holder",{title:""});l.buttonElement.classList.add("open");let c=l.titleElement.getBoundingClientRect(),u=(0,eK.getDomNodeZoomLevel)(l.titleElement);if((null==(t=this.options.compactMode)?void 0:t.horizontal)===pe.HorizontalDirection.Right)d.style.left="".concat(c.left+this.container.clientWidth,"px");else if((null==(i=this.options.compactMode)?void 0:i.horizontal)===pe.HorizontalDirection.Left){let e=(0,eK.getWindow)(this.container).innerWidth;d.style.right="".concat(e-c.left,"px"),d.style.left="auto"}else d.style.left="".concat(c.left*u,"px");(null==(o=this.options.compactMode)?void 0:o.vertical)===pe.VerticalDirection.Above?d.style.top="".concat(c.top-30*this.menus.length+this.container.clientHeight,"px"):(null==(n=this.options.compactMode)?void 0:n.vertical)===pe.VerticalDirection.Below?d.style.top="".concat(c.top,"px"):d.style.top="".concat(c.bottom*u,"px"),l.buttonElement.appendChild(d);let h={getKeyBinding:this.options.getKeybinding,actionRunner:this.actionRunner,enableMnemonics:this.options.alwaysOnMnemonics||this.mnemonicsInUse&&this.options.enableMnemonics,ariaLabel:null!=(r=l.buttonElement.getAttribute("aria-label"))?r:void 0,expandDirection:this.isCompact?this.options.compactMode:{horizontal:pe.HorizontalDirection.Right,vertical:pe.VerticalDirection.Below},useEventAsContext:!0},p=this.menuDisposables.add(new pe.Menu(d,l.actions,h,this.menuStyle));this.menuDisposables.add(p.onDidCancel(()=>{this.focusState=e_.FOCUSED})),a!==e?p.trigger(e-this.numMenusShown):p.focus(s),this.focusedMenu={index:a,holder:d,widget:p}}constructor(e,t,i){var o;super(),this.container=e,this.options=t,this.menuStyle=i,this._mnemonicsInUse=!1,this.openedViaKeyboard=!1,this.awaitingAltRelease=!1,this.ignoreNextMouseUp=!1,this.updatePending=!1,this.numMenusShown=0,this.overflowLayoutScheduled=void 0,this.menuDisposables=this._register(new pt.DisposableStore),this.container.setAttribute("role","menubar"),this.isCompact&&this.container.classList.add("compact"),this.menus=[],this.mnemonics=new Map,this._focusState=e_.VISIBLE,this._onVisibilityChange=this._register(new e0.Emitter),this._onFocusStateChange=this._register(new e0.Emitter),this.createOverflowMenu(),this.menuUpdater=this._register(new tF.RunOnceScheduler(()=>this.update(),200)),this.actionRunner=null!=(o=this.options.actionRunner)?o:this._register(new tE.ActionRunner),this._register(this.actionRunner.onWillRun(()=>{this.setUnfocusedState()})),this._register(eK.ModifierKeyEmitter.getInstance().event(this.onModifierKeyToggled,this)),this._register((0,eK.addDisposableListener)(this.container,eK.EventType.KEY_DOWN,e=>{let t=new tO.StandardKeyboardEvent(e),i=!0,o=e.key?e.key.toLocaleLowerCase():"",n=tD.isMacintosh&&!this.isCompact;if(t.equals(ez.KeyCode.LeftArrow)||n&&t.equals(ez.KeyCode.Tab|ez.KeyMod.Shift))this.focusPrevious();else if(t.equals(ez.KeyCode.RightArrow)||n&&t.equals(ez.KeyCode.Tab))this.focusNext();else if(t.equals(ez.KeyCode.Escape)&&this.isFocused&&!this.isOpen)this.setUnfocusedState();else if(!this.isOpen&&!t.ctrlKey&&this.options.enableMnemonics&&this.mnemonicsInUse&&this.mnemonics.has(o)){let e=this.mnemonics.get(o);this.onMenuTriggered(e,!1)}else i=!1;!this.isCompact&&(t.equals(ez.KeyCode.Tab|ez.KeyMod.Shift)||t.equals(ez.KeyCode.Tab))&&t.preventDefault(),i&&(t.preventDefault(),t.stopPropagation())}));let n=(0,eK.getWindow)(this.container);this._register((0,eK.addDisposableListener)(n,eK.EventType.MOUSE_DOWN,()=>{this.isFocused&&this.setUnfocusedState()})),this._register((0,eK.addDisposableListener)(this.container,eK.EventType.FOCUS_IN,e=>{e.relatedTarget&&!this.container.contains(e.relatedTarget)&&(this.focusToReturn=e.relatedTarget)})),this._register((0,eK.addDisposableListener)(this.container,eK.EventType.FOCUS_OUT,e=>{e.relatedTarget?e.relatedTarget&&!this.container.contains(e.relatedTarget)&&(this.focusToReturn=void 0,this.setUnfocusedState()):this.setUnfocusedState()})),this._register((0,eK.addDisposableListener)(n,eK.EventType.KEY_DOWN,e=>{if(!this.options.enableMnemonics||!e.altKey||e.ctrlKey||e.defaultPrevented)return;let t=e.key.toLocaleLowerCase();if(!this.mnemonics.has(t))return;this.mnemonicsInUse=!0,this.updateMnemonicVisibility(!0);let i=this.mnemonics.get(t);this.onMenuTriggered(i,!1)})),this.setUnfocusedState()}}po.OVERFLOW_INDEX=-1;var pn=e.i(976204),pr=e.i(128733),ps=e.i(203956);h2.MenuRegistry.appendMenuItem(h2.MenuId.MenubarMainMenu,{submenu:h2.MenuId.MenubarFileMenu,title:{value:"File",original:"File",mnemonicTitle:(0,eA.localize)(3338,"&&File")},order:1}),h2.MenuRegistry.appendMenuItem(h2.MenuId.MenubarMainMenu,{submenu:h2.MenuId.MenubarEditMenu,title:{value:"Edit",original:"Edit",mnemonicTitle:(0,eA.localize)(3339,"&&Edit")},order:2}),h2.MenuRegistry.appendMenuItem(h2.MenuId.MenubarMainMenu,{submenu:h2.MenuId.MenubarSelectionMenu,title:{value:"Selection",original:"Selection",mnemonicTitle:(0,eA.localize)(3340,"&&Selection")},order:3}),h2.MenuRegistry.appendMenuItem(h2.MenuId.MenubarMainMenu,{submenu:h2.MenuId.MenubarViewMenu,title:{value:"View",original:"View",mnemonicTitle:(0,eA.localize)(3341,"&&View")},order:4}),h2.MenuRegistry.appendMenuItem(h2.MenuId.MenubarMainMenu,{submenu:h2.MenuId.MenubarGoMenu,title:{value:"Go",original:"Go",mnemonicTitle:(0,eA.localize)(3342,"&&Go")},order:5}),h2.MenuRegistry.appendMenuItem(h2.MenuId.MenubarMainMenu,{submenu:h2.MenuId.MenubarTerminalMenu,title:{value:"Terminal",original:"Terminal",mnemonicTitle:(0,eA.localize)(3343,"&&Terminal")},order:7}),h2.MenuRegistry.appendMenuItem(h2.MenuId.MenubarMainMenu,{submenu:h2.MenuId.MenubarHelpMenu,title:{value:"Help",original:"Help",mnemonicTitle:(0,eA.localize)(3344,"&&Help")},order:8}),h2.MenuRegistry.appendMenuItem(h2.MenuId.MenubarMainMenu,{submenu:h2.MenuId.MenubarPreferencesMenu,title:{value:"Preferences",original:"Preferences",mnemonicTitle:(0,eA.localize)(3345,"Preferences")},when:db.IsMacNativeContext,order:9});class pa extends h3.Disposable{registerListeners(){this._register(this.hostService.onDidChangeFocus(e=>this.onDidChangeWindowFocus(e))),this._register(this.configurationService.onDidChangeConfiguration(e=>this.onConfigurationUpdated(e))),this._register(this.updateService.onStateChange(()=>this.onUpdateStateChange())),this._register(this.workspacesService.onDidChangeRecentlyOpened(()=>{this.onDidChangeRecentlyOpened()})),this._register(this.keybindingService.onDidUpdateKeybindings(()=>this.updateMenubar())),this._register(this.labelService.onDidChangeFormatters(()=>{this.onDidChangeRecentlyOpened()})),this._register(this.mainMenu.onDidChange(()=>{this.setupMainMenu(),this.doUpdateMenubar(!0)}))}setupMainMenu(){this.mainMenuDisposables.clear(),this.menus={},this.topLevelTitles={};let[,e]=this.mainMenu.getActions()[0];for(let i of e)if(i instanceof h2.SubmenuItemAction&&"string"!=typeof i.item.title){var t;this.menus[i.item.title.original]=this.mainMenuDisposables.add(this.menuService.createMenu(i.item.submenu,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.topLevelTitles[i.item.title.original]=null!=(t=i.item.title.mnemonicTitle)?t:i.item.title.value}}updateMenubar(){this.menuUpdater.schedule()}calculateActionLabel(e){return e.label}onUpdateStateChange(){this.updateMenubar()}onUpdateKeybindings(){this.updateMenubar()}getOpenRecentActions(){if(!this.recentlyOpened)return[];let{workspaces:e,files:t}=this.recentlyOpened,i=[];if(e.length>0){for(let t=0;t<pa.MAX_MENU_RECENT_ENTRIES&&t<e.length;t++)i.push(this.createOpenRecentMenuAction(e[t]));i.push(new tE.Separator)}if(t.length>0){for(let e=0;e<pa.MAX_MENU_RECENT_ENTRIES&&e<t.length;e++)i.push(this.createOpenRecentMenuAction(t[e]));i.push(new tE.Separator)}return i}onDidChangeWindowFocus(e){e&&this.onDidChangeRecentlyOpened()}onConfigurationUpdated(e){this.keys.some(t=>e.affectsConfiguration(t))&&this.updateMenubar(),e.affectsConfiguration("editor.accessibilitySupport")&&this.notifyUserOfCustomMenubarAccessibility(),e.affectsConfiguration("window.menuBarVisibility")&&this.onDidChangeRecentlyOpened()}get menubarHidden(){return(!tD.isMacintosh||!tD.isNative)&&"hidden"===(0,hl.getMenuBarVisibility)(this.configurationService)}onDidChangeRecentlyOpened(){this.menubarHidden||this.workspacesService.getRecentlyOpened().then(e=>{this.recentlyOpened=e,this.updateMenubar()})}createOpenRecentMenuAction(e){let t,i,o,n,r=e.remoteAuthority;return(0,h5.isRecentFolder)(e)?(i=e.folderUri,t=e.label||this.labelService.getWorkspaceLabel(i,{verbose:ui.Verbosity.LONG}),o="openRecentFolder",n={folderUri:i}):(0,h5.isRecentWorkspace)(e)?(i=e.workspace.configPath,t=e.label||this.labelService.getWorkspaceLabel(e.workspace,{verbose:ui.Verbosity.LONG}),o="openRecentWorkspace",n={workspaceUri:i}):(i=e.fileUri,t=e.label||this.labelService.getUriLabel(i),o="openRecentFile",n={fileUri:i}),Object.assign((0,tE.toAction)({id:o,label:(0,ut.unmnemonicLabel)(t),run:e=>{let t=e&&(!tD.isMacintosh&&(e.ctrlKey||e.shiftKey)||tD.isMacintosh&&(e.metaKey||e.altKey));return this.hostService.openWindow([n],{forceNewWindow:!!t,remoteAuthority:r||null})}}),{uri:i,remoteAuthority:r})}notifyUserOfCustomMenubarAccessibility(){if(tD.isWeb||tD.isMacintosh)return;let e=this.storageService.getBoolean("menubar/accessibleMenubarNotified",tW.StorageScope.APPLICATION,!1),t=!(0,hl.hasNativeTitlebar)(this.configurationService);if(e||t||!this.accessibilityService.isScreenReaderOptimized())return;let i=(0,eA.localize)(3346,"Accessibility support is enabled for you. For the most accessible experience, we recommend the custom title bar style.");this.notificationService.prompt(nv.default.Info,i,[{label:(0,eA.localize)(3347,"Open Settings"),run:()=>this.preferencesService.openUserSettings({query:hl.TitleBarSetting.TITLE_BAR_STYLE})}]),this.storageService.store("menubar/accessibleMenubarNotified",!0,tW.StorageScope.APPLICATION,tW.StorageTarget.USER)}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p){super(),this.menuService=e,this.workspacesService=t,this.contextKeyService=i,this.keybindingService=o,this.configurationService=n,this.labelService=r,this.updateService=s,this.storageService=a,this.notificationService=l,this.preferencesService=d,this.environmentService=c,this.accessibilityService=u,this.hostService=h,this.commandService=p,this.keys=["window.menuBarVisibility","window.enableMenuBarMnemonics","window.customMenuBarAltFocus","workbench.sideBar.location","window.nativeTabs"],this.menus={},this.topLevelTitles={},this.recentlyOpened={files:[],workspaces:[]},this.mainMenu=this._register(this.menuService.createMenu(h2.MenuId.MenubarMainMenu,this.contextKeyService)),this.mainMenuDisposables=this._register(new h3.DisposableStore),this.setupMainMenu(),this.menuUpdater=this._register(new tF.RunOnceScheduler(()=>this.doUpdateMenubar(!1),200)),this.notifyUserOfCustomMenubarAccessibility()}}pa.MAX_MENU_RECENT_ENTRIES=10;let pl=class extends pa{doUpdateMenubar(e){this.focusInsideMenubar||this.setupCustomMenubar(e),e&&(this.pendingFirstTimeUpdate=!0)}getUpdateAction(){switch(this.updateService.state.type){case h6.StateType.Idle:return new tE.Action("update.check",(0,eA.localize)(3349,"Check for &&Updates..."),void 0,!0,()=>this.updateService.checkForUpdates(!0));case h6.StateType.CheckingForUpdates:return new tE.Action("update.checking",(0,eA.localize)(3350,"Checking for Updates..."),void 0,!1);case h6.StateType.AvailableForDownload:return new tE.Action("update.downloadNow",(0,eA.localize)(3351,"D&&ownload Update"),void 0,!0,()=>this.updateService.downloadUpdate());case h6.StateType.Downloading:return new tE.Action("update.downloading",(0,eA.localize)(3352,"Downloading Update..."),void 0,!1);case h6.StateType.Downloaded:return tD.isMacintosh?null:new tE.Action("update.install",(0,eA.localize)(3353,"Install &&Update..."),void 0,!0,()=>this.updateService.applyUpdate());case h6.StateType.Updating:return new tE.Action("update.updating",(0,eA.localize)(3354,"Installing Update..."),void 0,!1);case h6.StateType.Ready:return new tE.Action("update.restart",(0,eA.localize)(3355,"Restart to &&Update"),void 0,!0,()=>this.updateService.quitAndInstall());default:return null}}get currentMenubarVisibility(){return(0,hl.getMenuBarVisibility)(this.configurationService)}get currentDisableMenuBarAltFocus(){let e=this.configurationService.getValue("window.customMenuBarAltFocus"),t=!1;return"boolean"==typeof e&&(t=!e),t}insertActionsBefore(e,t){switch(e.id){case ps.OpenRecentAction.ID:t.push(...this.getOpenRecentActions());break;case"workbench.action.showAboutDialog":if(!tD.isMacintosh&&!tD.isWeb){let e=this.getUpdateAction();e&&(e.label=(0,ut.mnemonicMenuLabel)(e.label),t.push(e),t.push(new tE.Separator))}}}get currentEnableMenuBarMnemonics(){let e=this.configurationService.getValue("window.enableMenuBarMnemonics");return"boolean"!=typeof e&&(e=!0),e&&(!tD.isWeb||(0,dj.isFullscreen)(iZ.mainWindow))}get currentCompactMenuMode(){if("compact"===this.currentMenubarVisibility)return{horizontal:"right"===this.configurationService.getValue("workbench.sideBar.location")?pe.HorizontalDirection.Left:pe.HorizontalDirection.Right,vertical:this.configurationService.getValue("workbench.activityBar.location")===c8.ActivityBarPosition.BOTTOM?pe.VerticalDirection.Above:pe.VerticalDirection.Below}}onDidVisibilityChange(e){this.visible=e,this.onDidChangeRecentlyOpened(),this._onVisibilityChange.fire(e)}toActionsArray(e){return(0,n5.getFlatContextMenuActions)(e.getActions({shouldForwardArgs:!0}))}setupCustomMenubar(e){if(!this.container)return;if(e)this.menubar&&this.reinstallDisposables.clear(),this.menubar=this.reinstallDisposables.add(new po(this.container,this.getMenuBarOptions(),aF.defaultMenuStyles)),this.accessibilityService.alwaysUnderlineAccessKeys().then(e=>{var t;this.alwaysOnMnemonics=e,null==(t=this.menubar)||t.update(this.getMenuBarOptions())}),this.reinstallDisposables.add(this.menubar.onFocusStateChange(e=>{this._onFocusStateChange.fire(e),e||(this.pendingFirstTimeUpdate?(this.setupCustomMenubar(!0),this.pendingFirstTimeUpdate=!1):this.updateMenubar(),this.focusInsideMenubar=!1)})),this.reinstallDisposables.add(this.menubar.onVisibilityChange(e=>this.onDidVisibilityChange(e))),this.reinstallDisposables.add((0,eK.addDisposableListener)(this.container,eK.EventType.FOCUS_IN,()=>{this.focusInsideMenubar=!0})),this.reinstallDisposables.add((0,eK.addDisposableListener)(this.container,eK.EventType.FOCUS_OUT,()=>{this.focusInsideMenubar=!1})),this.menubar.isVisible&&this.onDidVisibilityChange(!0);else{var t;null==(t=this.menubar)||t.update(this.getMenuBarOptions())}let i=(e,t,o)=>{for(let a of(t.splice(0),e))if(this.insertActionsBefore(a,t),a instanceof tE.Separator)t.push(a);else if(a instanceof h2.SubmenuItemAction||a instanceof h2.MenuItemAction){var n,r,s;let e="string"==typeof a.item.title?a.item.title:null!=(n=a.item.title.mnemonicTitle)?n:a.item.title.value;if(a instanceof h2.SubmenuItemAction){let n=[];i(a.actions,n,o),n.length>0&&t.push(new tE.SubmenuAction(a.id,(0,ut.mnemonicMenuLabel)(e),n))}else{(0,dY.isICommandActionToggleInfo)(a.item.toggled)&&(e=null!=(s=null!=(r=a.item.toggled.mnemonicTitle)?r:a.item.toggled.title)?s:e);let i=new tE.Action(a.id,(0,ut.mnemonicMenuLabel)(e),a.class,a.enabled,()=>this.commandService.executeCommand(a.id));i.tooltip=a.tooltip,i.checked=a.checked,t.push(i)}}if("File"===o&&void 0===this.currentCompactMenuMode){let e=this.getWebNavigationActions();e.length&&t.push(...e)}};for(let t of Object.keys(this.topLevelTitles)){let o=this.menus[t];e&&o&&(this.reinstallDisposables.add(o.onDidChange(()=>{if(!this.focusInsideMenubar){var e;let n=[];i(this.toActionsArray(o),n,t),null==(e=this.menubar)||e.updateMenu({actions:n,label:(0,ut.mnemonicMenuLabel)(this.topLevelTitles[t])})}})),o===this.menus.File&&this.reinstallDisposables.add(this.webNavigationMenu.onDidChange(()=>{if(!this.focusInsideMenubar){var e;let n=[];i(this.toActionsArray(o),n,t),null==(e=this.menubar)||e.updateMenu({actions:n,label:(0,ut.mnemonicMenuLabel)(this.topLevelTitles[t])})}})));let n=[];o&&i(this.toActionsArray(o),n,t),this.menubar&&(e?this.menubar.push({actions:n,label:(0,ut.mnemonicMenuLabel)(this.topLevelTitles[t])}):this.menubar.updateMenu({actions:n,label:(0,ut.mnemonicMenuLabel)(this.topLevelTitles[t])}))}}getWebNavigationActions(){if(!tD.isWeb)return[];let e=[];for(let i of this.webNavigationMenu.getActions()){let[,o]=i;for(let i of o)if(i instanceof h2.MenuItemAction){var t;let o="string"==typeof i.item.title?i.item.title:null!=(t=i.item.title.mnemonicTitle)?t:i.item.title.value;e.push(new tE.Action(i.id,(0,ut.mnemonicMenuLabel)(o),i.class,i.enabled,async e=>{this.commandService.executeCommand(i.id,e)}))}e.push(new tE.Separator)}return e.length&&e.pop(),e}getMenuBarOptions(){return{enableMnemonics:this.currentEnableMenuBarMnemonics,disableAltFocus:this.currentDisableMenuBarAltFocus,visibility:this.currentMenubarVisibility,actionRunner:this.actionRunner,getKeybinding:e=>this.keybindingService.lookupKeybinding(e.id),alwaysOnMnemonics:this.alwaysOnMnemonics,compactMode:this.currentCompactMenuMode,getCompactMenuActions:()=>tD.isWeb?this.getWebNavigationActions():[]}}onDidChangeWindowFocus(e){if(this.visible&&(super.onDidChangeWindowFocus(e),this.container))if(e)this.container.classList.remove("inactive");else{var t;this.container.classList.add("inactive"),null==(t=this.menubar)||t.blur()}}onUpdateStateChange(){this.visible&&super.onUpdateStateChange()}onDidChangeRecentlyOpened(){this.visible&&super.onDidChangeRecentlyOpened()}onUpdateKeybindings(){this.visible&&super.onUpdateKeybindings()}registerListeners(){super.registerListeners(),this._register((0,eK.addDisposableListener)(iZ.mainWindow,eK.EventType.RESIZE,()=>{this.menubar&&!(tD.isIOS&&pr.BrowserFeatures.pointerEvents)&&this.menubar.blur()})),tD.isWeb&&(this._register((0,dj.onDidChangeFullscreen)(e=>{e===iZ.mainWindow.vscodeWindowId&&this.updateMenubar()})),this._register(this.webNavigationMenu.onDidChange(()=>this.updateMenubar())),this._register((!i&&(i=new e0.Emitter,(0,h2.registerAction2)(class extends h2.Action2{async run(){null==i||i.fire()}constructor(){super({id:"workbench.actions.menubar.focus",title:(0,eA.localize2)(3348,"Focus Application Menu"),keybinding:{primary:ez.KeyMod.Alt|ez.KeyCode.F10,weight:eX.KeybindingWeight.WorkbenchContrib,when:db.IsWebContext},f1:!0})}})),i).event(()=>{var e;return null==(e=this.menubar)?void 0:e.toggleFocus()})))}get onVisibilityChange(){return this._onVisibilityChange.event}get onFocusStateChange(){return this._onFocusStateChange.event}getMenubarItemsDimensions(){return this.menubar?new eK.Dimension(this.menubar.getWidth(),this.menubar.getHeight()):new eK.Dimension(0,0)}create(e){return this.container=e,this.container&&this.doUpdateMenubar(!0),this.container}layout(e){var t;null==(t=this.menubar)||t.update(this.getMenuBarOptions())}toggleFocus(){var e;null==(e=this.menubar)||e.toggleFocus()}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p,g){super(e,t,i,o,n,r,s,a,l,d,c,u,p,g),this.telemetryService=h,this.alwaysOnMnemonics=!1,this.focusInsideMenubar=!1,this.pendingFirstTimeUpdate=!1,this.visible=!0,this.webNavigationMenu=this._register(this.menuService.createMenu(h2.MenuId.MenubarHomeMenu,this.contextKeyService)),this.reinstallDisposables=this._register(new h3.DisposableStore),this._onVisibilityChange=this._register(new e0.Emitter),this._onFocusStateChange=this._register(new e0.Emitter),this.actionRunner=this._register(new tE.ActionRunner),this.actionRunner.onDidRun(e=>{this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"menu"})}),this.workspacesService.getRecentlyOpened().then(e=>{this.recentlyOpened=e}),this.registerListeners()}};pl=(0,ex.__decorate)([(0,ex.__param)(0,n4.IMenuService),(0,ex.__param)(1,h4.IWorkspacesService),(0,ex.__param)(2,eY.IContextKeyService),(0,ex.__param)(3,e6.IKeybindingService),(0,ex.__param)(4,eO.IConfigurationService),(0,ex.__param)(5,n6.ILabelService),(0,ex.__param)(6,h8.IUpdateService),(0,ex.__param)(7,tz.IStorageService),(0,ex.__param)(8,i7.INotificationService),(0,ex.__param)(9,cn.IPreferencesService),(0,ex.__param)(10,h9.IWorkbenchEnvironmentService),(0,ex.__param)(11,nT.IAccessibilityService),(0,ex.__param)(12,nN.ITelemetryService),(0,ex.__param)(13,pn.IHostService),(0,ex.__param)(14,i9.ICommandService)],pl);var pd=e.i(368954),pc=e.i(928546),pu=eD,ph=e.i(403197);class pp{drop(e,t,i,o){let n=e.getData();if("composite"===n.type){let e=this.viewDescriptorService.getViewContainerById(n.id),i=this.viewDescriptorService.getViewContainerLocation(e),r=!1;i===this.targetContainerLocation?t&&(this.moveComposite(n.id,t,o),r=!0):(this.viewDescriptorService.moveViewContainerToLocation(e,this.targetContainerLocation,this.getTargetIndex(t,o),"dnd"),r=!0),r&&this.openComposite(e.id,!0)}if("view"===n.type){let e=this.viewDescriptorService.getViewDescriptorById(n.id);if(e&&e.canMoveView){this.viewDescriptorService.moveViewToLocation(e,this.targetContainerLocation,"dnd");let i=this.viewDescriptorService.getViewContainerByViewId(e.id);t&&this.moveComposite(i.id,t,o),this.openComposite(i.id,!0).then(t=>{null==t||t.openView(e.id,!0)})}}}onDragEnter(e,t,i){return this.canDrop(e,t)}onDragOver(e,t,i){return this.canDrop(e,t)}getTargetIndex(e,t){if(!e)return;let i=this.getItems(),o=this.orientation===l2.ActionsOrientation.HORIZONTAL?null==t?void 0:t.horizontallyBefore:null==t?void 0:t.verticallyBefore;return i.filter(e=>e.visible).findIndex(t=>t.id===e)+ +!o}canDrop(e,t){let i=e.getData();if("composite"===i.type){let e=this.viewDescriptorService.getViewContainerById(i.id);return this.viewDescriptorService.getViewContainerLocation(e)!==this.targetContainerLocation||i.id!==t}{let e=this.viewDescriptorService.getViewDescriptorById(i.id);return!!e&&!!e.canMoveView}}constructor(e,t,i,o,n,r){this.viewDescriptorService=e,this.targetContainerLocation=t,this.orientation=i,this.openComposite=o,this.moveComposite=n,this.getItems=r}}class pg{onDragOver(e){let t=this.compositeBarModel.visibleItems;if(!t.length||e.eventData.target&&(0,eK.isAncestor)(e.eventData.target,this.actionBarContainer)){this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!0);return}let i=this.insertAtFront(this.actionBarContainer,e.eventData),o=i?t[0]:t[t.length-1],n=this.dndHandler.onDragOver(e.dragAndDropData,o.id,e.eventData);(0,uP.toggleDropEffect)(e.eventData.dataTransfer,"move",n),this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,n,i,!0)}onDragLeave(e){this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!1)}onDragEnd(e){this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!1)}onDrop(e){let t,i=this.compositeBarModel.visibleItems;i.length&&(t=this.insertAtFront(this.actionBarContainer,e.eventData)?i[0].id:i[i.length-1].id),this.dndHandler.drop(e.dragAndDropData,t,e.eventData,this.insertDropBefore),this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!1)}insertAtFront(e,t){let i=e.getBoundingClientRect(),o=t.clientX,n=t.clientY;switch(this.orientation){case l2.ActionsOrientation.HORIZONTAL:return o<i.left;case l2.ActionsOrientation.VERTICAL:return n<i.top}}updateFromDragging(e,t,i,o){if(e.classList.toggle("dragged-over",o),e.classList.toggle("dragged-over-head",t&&i),e.classList.toggle("dragged-over-tail",t&&!i),t)return{verticallyBefore:i,horizontallyBefore:i}}constructor(e,t,i,o,n){this.compositeBarContainer=e,this.actionBarContainer=t,this.compositeBarModel=i,this.dndHandler=o,this.orientation=n,this.insertDropBefore=void 0}}let pm=class extends ph.Widget{getCompositeBarItems(){return[...this.model.items]}setCompositeBarItems(e){this.model.setItems(e),this.updateCompositeSwitcher(!0)}getPinnedComposites(){return this.model.pinnedItems}getPinnedCompositeIds(){return this.getPinnedComposites().map(e=>e.id)}getVisibleComposites(){return this.model.visibleItems}create(e){let t=e.appendChild((0,eK.$)(".composite-bar"));this.compositeSwitcherBar=this._register(new l2.ActionBar(t,{actionViewItemProvider:(e,t)=>{if(e instanceof uV)return this.compositeOverflowActionViewItem;let i=this.model.findItem(e.id);return i&&this.instantiationService.createInstance(uU,{...t,draggable:!0,colors:this.options.colors,icon:this.options.icon,hoverOptions:this.options.activityHoverOptions,compact:this.options.compact},e,i.pinnedAction,i.toggleBadgeAction,e=>this.options.getContextMenuActionsForComposite(e),()=>this.getContextMenuActions(),this.options.dndHandler,this)},orientation:this.options.orientation,ariaLabel:(0,eA.localize)(2732,"Active View Switcher"),ariaRole:"tablist",preventLoopNavigation:this.options.preventLoopNavigation,triggerKeys:{keyDown:!0}})),this._register((0,eK.addDisposableListener)(e,eK.EventType.CONTEXT_MENU,t=>this.showContextMenu((0,eK.getWindow)(e),t))),this._register(h7.Gesture.addTarget(e)),this._register((0,eK.addDisposableListener)(e,h7.EventType.Contextmenu,t=>this.showContextMenu((0,eK.getWindow)(e),t)));let i=new pg(e,t,this.model,this.options.dndHandler,this.options.orientation);return this._register(uP.CompositeDragAndDropObserver.INSTANCE.registerTarget(e,i)),t}focus(e){var t;null==(t=this.compositeSwitcherBar)||t.focus(e)}recomputeSizes(){this.computeSizes(this.model.visibleItems),this.updateCompositeSwitcher()}layout(e){this.dimension=e,0!==e.height&&0!==e.width&&(0===this.compositeSizeInBar.size&&this.computeSizes(this.model.visibleItems),this.updateCompositeSwitcher())}addComposite(e){let{id:t,name:i,order:o,requestedIndex:n}=e;this.model.add(t,i,o,n)&&(this.computeSizes([this.model.findItem(t)]),this.updateCompositeSwitcher())}removeComposite(e){this.isPinned(e)&&this.unpin(e),this.model.remove(e)&&this.updateCompositeSwitcher()}hideComposite(e){this.model.hide(e)&&(this.resetActiveComposite(e),this.updateCompositeSwitcher())}activateComposite(e){let t=this.model.activeItem;this.model.activate(e)&&(-1===this.visibleComposites.indexOf(e)||this.model.activeItem&&!this.model.activeItem.pinned||t&&!t.pinned)&&this.updateCompositeSwitcher()}deactivateComposite(e){let t=this.model.activeItem;this.model.deactivate()&&t&&!t.pinned&&this.updateCompositeSwitcher()}async pin(e,t){this.model.setPinned(e,!0)&&(this.updateCompositeSwitcher(),t&&(await this.options.openComposite(e),this.activateComposite(e)))}unpin(e){this.model.setPinned(e,!1)&&(this.updateCompositeSwitcher(),this.resetActiveComposite(e))}areBadgesEnabled(e){return this.viewDescriptorService.getViewContainerBadgeEnablementState(e)}toggleBadgeEnablement(e){this.viewDescriptorService.setViewContainerBadgeEnablementState(e,!this.areBadgesEnabled(e)),this.updateCompositeSwitcher();let t=this.model.findItem(e);t&&(t.activityAction.activity=t.activityAction.activity)}resetActiveComposite(e){let t=this.options.getDefaultCompositeId();if(this.model.activeItem&&this.model.activeItem.id===e)if(this.deactivateComposite(e),t&&t!==e&&this.isPinned(t))this.options.openComposite(t,!0);else{let t=this.visibleComposites.find(t=>t!==e);t&&this.options.openComposite(t)}}isPinned(e){let t=this.model.findItem(e);return null==t?void 0:t.pinned}move(e,t,i){if(void 0!==i){let o=this.model.items.findIndex(t=>t.id===e),n=this.model.items.findIndex(e=>e.id===t);o>=0&&n>=0&&(!i&&o>n&&n++,i&&o<n&&n--,n<this.model.items.length&&n>=0&&n!==o&&this.model.move(this.model.items[o].id,this.model.items[n].id)&&setTimeout(()=>this.updateCompositeSwitcher(),0))}else this.model.move(e,t)&&setTimeout(()=>this.updateCompositeSwitcher(),0)}getAction(e){let t=this.model.findItem(e);return null==t?void 0:t.activityAction}computeSizes(e){let t=this.options.compositeSize;if(t)e.forEach(e=>this.compositeSizeInBar.set(e.id,t));else{let t=this.compositeSwitcherBar;if(t&&this.dimension&&0!==this.dimension.height&&0!==this.dimension.width){let i=t.viewItems.length;t.push(e.map(e=>e.activityAction)),e.forEach((e,o)=>this.compositeSizeInBar.set(e.id,this.options.orientation===l2.ActionsOrientation.VERTICAL?t.getHeight(i+o):t.getWidth(i+o))),e.forEach(()=>t.pull(t.viewItems.length-1))}}}updateCompositeSwitcher(e){var t,i;let o=this.compositeSwitcherBar;if(!o||!this.dimension)return;let n=this.model.visibleItems.filter(e=>e.pinned||this.model.activeItem&&this.model.activeItem.id===e.id).map(e=>e.id),r=n.length,s=n.length,a=0,l=this.options.orientation===l2.ActionsOrientation.VERTICAL?this.dimension.height:this.dimension.width;for(let e=0;e<n.length;e++){let t=this.compositeSizeInBar.get(n[e]);if(a+t>l){r=e;break}a+=t}for(s>r&&(n=n.slice(0,r)),this.model.activeItem&&n.every(e=>!!this.model.activeItem&&e!==this.model.activeItem.id)&&(a+=this.compositeSizeInBar.get(this.model.activeItem.id),n.push(this.model.activeItem.id));a>l&&n.length;){let e=n.length>1?n.splice(n.length-2,1)[0]:n.pop();a-=this.compositeSizeInBar.get(e)}for(s>n.length&&(a+=this.options.overflowActionSize);a>l&&n.length;){let e=n.length>1&&n[n.length-1]===(null==(t=this.model.activeItem)?void 0:t.id)?n.splice(n.length-2,1)[0]:n.pop();a-=this.compositeSizeInBar.get(e)}s===n.length&&this.compositeOverflowAction&&(o.pull(o.length()-1),this.compositeOverflowAction.dispose(),this.compositeOverflowAction=void 0,null==(i=this.compositeOverflowActionViewItem)||i.dispose(),this.compositeOverflowActionViewItem=void 0);let d=[];this.visibleComposites.forEach((e,t)=>{n.includes(e)||d.push(t)}),d.reverse().forEach(e=>{o.pull(e),this.visibleComposites.splice(e,1)}),n.forEach((e,t)=>{let i=this.visibleComposites.indexOf(e);t!==i&&(-1!==i&&(o.pull(i),this.visibleComposites.splice(i,1)),o.push(this.model.findItem(e).activityAction,{label:!0,icon:this.options.icon,index:t}),this.visibleComposites.splice(t,0,e))}),s>n.length&&!this.compositeOverflowAction&&(this.compositeOverflowAction=this._register(this.instantiationService.createInstance(uV,()=>{var e;null==(e=this.compositeOverflowActionViewItem)||e.showMenu()})),this.compositeOverflowActionViewItem=this._register(this.instantiationService.createInstance(uB,this.compositeOverflowAction,()=>this.getOverflowingComposites(),()=>this.model.activeItem?this.model.activeItem.id:void 0,e=>{var t;let i=this.model.findItem(e);return null==i||null==(t=i.activity[0])?void 0:t.badge},this.options.getOnCompositeClickAction,this.options.colors,this.options.activityHoverOptions)),o.push(this.compositeOverflowAction,{label:!1,icon:!0})),e||this._onDidChange.fire()}getOverflowingComposites(){let e=this.model.visibleItems.filter(e=>e.pinned).map(e=>e.id);return this.model.activeItem&&!this.model.activeItem.pinned&&e.push(this.model.activeItem.id),e=e.filter(e=>!this.visibleComposites.includes(e)),this.model.visibleItems.filter(t=>e.includes(t.id)).map(e=>{var t;return{id:e.id,name:(null==(t=this.getAction(e.id))?void 0:t.label)||e.name}})}showContextMenu(e,t){eK.EventHelper.stop(t,!0);let i=new tA.StandardMouseEvent(e,t);this.contextMenuService.showContextMenu({getAnchor:()=>i,getActions:()=>this.getContextMenuActions(t)})}getContextMenuActions(e){let t=this.model.visibleItems.map(e=>{let{id:t,name:i,activityAction:o}=e,n=this.isPinned(t);return(0,tE.toAction)({id:t,label:this.getAction(t).label||i||t,checked:n,enabled:o.enabled&&(!n||this.getPinnedCompositeIds().length>1),run:()=>{this.isPinned(t)?this.unpin(t):this.pin(t,!0)}})});return this.options.fillExtraContextMenuActions(t,e),t}constructor(e,t,i,o,n){super(),this.options=t,this.instantiationService=i,this.contextMenuService=o,this.viewDescriptorService=n,this._onDidChange=this._register(new e0.Emitter),this.onDidChange=this._onDidChange.event,this.model=new pv(e,t),this.visibleComposites=[],this.compositeSizeInBar=new Map,this.computeSizes(this.model.visibleItems)}};pm=(0,ex.__decorate)([(0,ex.__param)(2,eZ.IInstantiationService),(0,ex.__param)(3,ty.IContextMenuService),(0,ex.__param)(4,cv.IViewDescriptorService)],pm);class pv{get items(){return this._items}setItems(e){this._items=[],this._items=e.map(e=>this.createCompositeBarItem(e.id,e.name,e.order,e.pinned,e.visible))}get visibleItems(){return this.items.filter(e=>e.visible)}get pinnedItems(){return this.items.filter(e=>e.visible&&e.pinned)}createCompositeBarItem(e,t,i,o,n){let r=this.options;return{id:e,name:t,pinned:o,order:i,visible:n,activity:[],get activityAction(){return r.getActivityAction(e)},get pinnedAction(){return r.getCompositePinnedAction(e)},get toggleBadgeAction(){return r.getCompositeBadgeAction(e)}}}add(e,t,i,o){let n=this.findItem(e);if(n){let e=!1;return n.name=t,(0,iH.isUndefinedOrNull)(i)||(e=n.order!==i,n.order=i),n.visible||(n.visible=!0,e=!0),e}{let n=this.createCompositeBarItem(e,t,i,!0,!0);if((0,iH.isUndefinedOrNull)(o))if((0,iH.isUndefinedOrNull)(i))this.items.push(n);else{let e=0;for(;e<this.items.length&&"number"==typeof this.items[e].order&&this.items[e].order<i;)e++;this.items.splice(e,0,n)}else{let e=0,t=o;for(;t>0&&e<this.items.length;)this.items[e++].visible&&t--;this.items.splice(e,0,n)}return!0}}remove(e){for(let t=0;t<this.items.length;t++)if(this.items[t].id===e)return this.items.splice(t,1),!0;return!1}hide(e){for(let t of this.items)if(t.id===e){if(t.visible)return t.visible=!1,!0;break}return!1}move(e,t){let i=this.findIndex(e),o=this.findIndex(t);if(-1===i||-1===o)return!1;let n=this.items.splice(i,1)[0];return this.items.splice(o,0,n),n.pinned=!0,!0}setPinned(e,t){for(let i of this.items)if(i.id===e){if(i.pinned!==t)return i.pinned=t,!0;break}return!1}activate(e){if(!this.activeItem||this.activeItem.id!==e){for(let t of(this.activeItem&&this.deactivate(),this.items))if(t.id===e)return this.activeItem=t,this.activeItem.activityAction.activate(),!0}return!1}deactivate(){return!!this.activeItem&&(this.activeItem.activityAction.deactivate(),this.activeItem=void 0,!0)}findItem(e){return this.items.filter(t=>t.id===e)[0]}findIndex(e){for(let t=0;t<this.items.length;t++)if(this.items[t].id===e)return t;return -1}constructor(e,t){this._items=[],this.options=t,this.setItems(e)}}var p_=e.i(757641),pf=e.i(547158);let py=class extends pu.Disposable{createCompositeBar(e){return this._register(this.instantiationService.createInstance(pm,e,{icon:this.options.icon,compact:this.options.compact,orientation:this.options.orientation,activityHoverOptions:this.options.activityHoverOptions,preventLoopNavigation:this.options.preventLoopNavigation,openComposite:async(e,t)=>{var i;return null!=(i=await this.paneCompositePart.openPaneComposite(e,!t))?i:null},getActivityAction:e=>this.getCompositeActions(e).activityAction,getCompositePinnedAction:e=>this.getCompositeActions(e).pinnedAction,getCompositeBadgeAction:e=>this.getCompositeActions(e).badgeAction,getOnCompositeClickAction:e=>this.getCompositeActions(e).activityAction,fillExtraContextMenuActions:(e,t)=>this.options.fillExtraContextMenuActions(e,t),getContextMenuActionsForComposite:e=>this.getContextMenuActionsForComposite(e),getDefaultCompositeId:()=>{var e;return null==(e=this.viewDescriptorService.getDefaultViewContainer(this.location))?void 0:e.id},dndHandler:this.dndHandler,compositeSize:this.options.compositeSize,overflowActionSize:this.options.overflowActionSize,colors:e=>this.options.colors(e)}))}getContextMenuActionsForComposite(e){let t=[new tE.Separator],i=this.viewDescriptorService.getViewContainerById(e),o=this.viewDescriptorService.getDefaultViewContainerLocation(i),n=this.viewDescriptorService.getViewContainerLocation(i),r=[];for(let e of[cm.ViewContainerLocation.Sidebar,cm.ViewContainerLocation.AuxiliaryBar,cm.ViewContainerLocation.Panel])n!==e&&r.push(this.createMoveAction(i,e,o));if(t.push(new tE.SubmenuAction("moveToMenu",(0,eA.localize)(3275,"Move To"),r)),o!==n)t.push((0,tE.toAction)({id:"resetLocationAction",label:(0,eA.localize)(3276,"Reset Location"),run:()=>{this.viewDescriptorService.moveViewContainerToLocation(i,o,void 0,"resetLocationAction"),this.viewService.openViewContainer(i.id,!0)}}));else{let e=this.viewDescriptorService.getViewContainerModel(i);if(1===e.allViewDescriptors.length){let o=e.allViewDescriptors[0],n=this.viewDescriptorService.getDefaultContainerById(o.id);n!==i&&t.push((0,tE.toAction)({id:"resetLocationAction",label:(0,eA.localize)(3276,"Reset Location"),run:()=>{this.viewDescriptorService.moveViewsToContainer([o],n,void 0,"resetLocationAction"),this.viewService.openViewContainer(i.id,!0)}}))}}return t}createMoveAction(e,t,i){return(0,tE.toAction)({id:"moveViewContainerTo".concat(t),label:t===cm.ViewContainerLocation.Panel?(0,eA.localize)(3277,"Panel"):t===cm.ViewContainerLocation.Sidebar?(0,eA.localize)(3278,"Primary Side Bar"):(0,eA.localize)(3279,"Secondary Side Bar"),run:()=>{let o;o=t!==i?this.viewDescriptorService.getViewContainersByLocation(t).length:void 0,this.viewDescriptorService.moveViewContainerToLocation(e,t,o),this.viewService.openViewContainer(e.id,!0)}})}registerListeners(){this._register(this.viewDescriptorService.onDidChangeViewContainers(e=>{let{added:t,removed:i}=e;return this.onDidChangeViewContainers(t,i)})),this._register(this.viewDescriptorService.onDidChangeContainerLocation(e=>{let{viewContainer:t,from:i,to:o}=e;return this.onDidChangeViewContainerLocation(t,i,o)})),this._register(this.paneCompositePart.onDidPaneCompositeOpen(e=>this.onDidChangeViewContainerVisibility(e.getId(),!0))),this._register(this.paneCompositePart.onDidPaneCompositeClose(e=>this.onDidChangeViewContainerVisibility(e.getId(),!1))),this.extensionService.whenInstalledExtensionsRegistered().then(()=>{this._store.isDisposed||(this.onDidRegisterExtensions(),this._register(this.compositeBar.onDidChange(()=>{this.updateCompositeBarItemsFromStorage(!0),this.saveCachedViewContainers()})),this._register(this.storageService.onDidChangeValue(tW.StorageScope.PROFILE,this.options.pinnedViewContainersKey,this._store)(()=>this.updateCompositeBarItemsFromStorage(!1))))})}onDidChangeViewContainers(e,t){t.filter(e=>{let{location:t}=e;return t===this.location}).forEach(e=>{let{container:t}=e;return this.onDidDeregisterViewContainer(t)}),this.onDidRegisterViewContainers(e.filter(e=>{let{location:t}=e;return t===this.location}).map(e=>{let{container:t}=e;return t}))}onDidChangeViewContainerLocation(e,t,i){t===this.location&&this.onDidDeregisterViewContainer(e),i===this.location&&this.onDidRegisterViewContainers([e])}onDidChangeViewContainerVisibility(e,t){t?this.onDidViewContainerVisible(e):this.compositeBar.deactivateComposite(e)}onDidRegisterExtensions(){for(let{id:e}of(this.hasExtensionsRegistered=!0,this.cachedViewContainers)){let t=this.getViewContainer(e);t?this.showOrHideViewContainer(t):this.viewDescriptorService.isViewContainerRemovedPermanently(e)?this.removeComposite(e):this.hideComposite(e)}this.saveCachedViewContainers()}onDidViewContainerVisible(e){let t=this.getViewContainer(e);t&&(this.addComposite(t),this.compositeBar.activateComposite(t.id),this.shouldBeHidden(t)&&0===this.viewDescriptorService.getViewContainerModel(t).activeViewDescriptors.length&&this.hideComposite(t.id))}create(e){return this.compositeBar.create(e)}getCompositeActions(e){let t=this.compositeActions.get(e);if(!t){let o=this.getViewContainer(e);if(o){let e=this.viewDescriptorService.getViewContainerModel(o);t={activityAction:this._register(this.instantiationService.createInstance(pC,this.toCompositeBarActionItemFrom(e),this.part,this.paneCompositePart)),pinnedAction:this._register(new uG(this.toCompositeBarActionItemFrom(e),this.compositeBar)),badgeAction:this._register(new uq(this.toCompositeBarActionItemFrom(e),this.compositeBar))}}else{var i;let o=this.cachedViewContainers.filter(t=>t.id===e)[0];t={activityAction:this._register(this.instantiationService.createInstance(pb,this.toCompositeBarActionItem(e,null!=(i=null==o?void 0:o.name)?i:e,null==o?void 0:o.icon,void 0),this.part,this.paneCompositePart)),pinnedAction:this._register(new pS(e,this.compositeBar)),badgeAction:this._register(new pw(e,this.compositeBar))}}this.compositeActions.set(e,t)}return t}onDidRegisterViewContainers(e){for(let t of e){this.addComposite(t),this.cachedViewContainers.filter(e=>{let{id:i}=e;return i===t.id})[0]||this.compositeBar.pin(t.id);let e=this.paneCompositePart.getActivePaneComposite();(null==e?void 0:e.getId())===t.id&&this.compositeBar.activateComposite(t.id);let i=this.viewDescriptorService.getViewContainerModel(t);this.updateCompositeBarActionItem(t,i),this.showOrHideViewContainer(t);let o=new pu.DisposableStore;o.add(i.onDidChangeContainerInfo(()=>this.updateCompositeBarActionItem(t,i))),o.add(i.onDidChangeActiveViewDescriptors(()=>this.showOrHideViewContainer(t))),this.viewContainerDisposables.set(t.id,o)}}onDidDeregisterViewContainer(e){this.viewContainerDisposables.deleteAndDispose(e.id),this.removeComposite(e.id)}updateCompositeBarActionItem(e,t){let i=this.toCompositeBarActionItemFrom(t),{activityAction:o,pinnedAction:n}=this.getCompositeActions(e.id);o.updateCompositeBarActionItem(i),n instanceof pS&&n.setActivity(i),this.options.recomputeSizes&&this.compositeBar.recomputeSizes(),this.saveCachedViewContainers()}toCompositeBarActionItemFrom(e){return this.toCompositeBarActionItem(e.viewContainer.id,e.title,e.icon,e.keybindingId)}toCompositeBarActionItem(e,t,i,o){let n,r;if(this.options.icon)if(iU.URI.isUri(i)){r=i;let t=(0,p_.asCSSUrl)(i),o=new pf.StringSHA1;o.update(t);let s="activity-".concat(e.replace(/\./g,"-"),"-").concat(o.digest()),a=".monaco-workbench .".concat(this.options.partContainerClass," .monaco-action-bar .action-label.").concat(s);n=[s,"uri-icon"],(0,tP.createCSSRule)(a,"\n				mask: ".concat(t," no-repeat 50% 50%;\n				mask-size: ").concat(this.options.iconSize,"px;\n				-webkit-mask: ").concat(t," no-repeat 50% 50%;\n				-webkit-mask-size: ").concat(this.options.iconSize,"px;\n				mask-origin: padding;\n				-webkit-mask-origin: padding;\n			"))}else r3.ThemeIcon.isThemeIcon(i)&&(n=r3.ThemeIcon.asClassNameArray(i));return{id:e,name:t,classNames:n,iconUrl:r,keybindingId:o}}showOrHideViewContainer(e){if(this.shouldBeHidden(e))this.hideComposite(e.id);else{this.addComposite(e);let t=this.paneCompositePart.getActivePaneComposite();(null==t?void 0:t.getId())===e.id&&this.compositeBar.activateComposite(e.id)}}shouldBeHidden(e,t){let i=(0,iH.isString)(e)?this.getViewContainer(e):e,o=(0,iH.isString)(e)?e:e.id;if(i){if(!i.hideIfEmpty)return!1;else if(this.viewService.isViewContainerActive(o))return!1}if(!this.hasExtensionsRegistered&&!(this.part===c8.Parts.SIDEBAR_PART&&this.environmentService.remoteAuthority&&tD.isNative)){var n;if(t=t||this.cachedViewContainers.find(e=>{let{id:t}=e;return t===o}),!i&&(null==t?void 0:t.isBuiltin)&&(null==t?void 0:t.visible))return!1;if(null==t||null==(n=t.views)?void 0:n.length)return t.views.every(e=>{let{when:t}=e;return!!t&&!this.contextKeyService.contextMatchesRules(eQ.ContextKeyExpr.deserialize(t))})}return!0}addComposite(e){this.compositeBar.addComposite({id:e.id,name:"string"==typeof e.title?e.title:e.title.value,order:e.order,requestedIndex:e.requestedIndex})}hideComposite(e){this.compositeBar.hideComposite(e);let t=this.compositeActions.get(e);t&&(t.activityAction.dispose(),t.pinnedAction.dispose(),this.compositeActions.delete(e))}removeComposite(e){this.compositeBar.removeComposite(e);let t=this.compositeActions.get(e);t&&(t.activityAction.dispose(),t.pinnedAction.dispose(),this.compositeActions.delete(e))}getPinnedPaneCompositeIds(){let e=this.compositeBar.getPinnedComposites().map(e=>e.id);return this.getViewContainers().filter(e=>this.compositeBar.isPinned(e.id)).sort((t,i)=>e.indexOf(t.id)-e.indexOf(i.id)).map(e=>e.id)}getVisiblePaneCompositeIds(){return this.compositeBar.getVisibleComposites().filter(e=>{var t;return(null==(t=this.paneCompositePart.getActivePaneComposite())?void 0:t.getId())===e.id||this.compositeBar.isPinned(e.id)}).map(e=>e.id)}getPaneCompositeIds(){return this.compositeBar.getVisibleComposites().map(e=>e.id)}getContextMenuActions(){return this.compositeBar.getContextMenuActions()}focus(e){this.compositeBar.focus(e)}layout(e,t){this.compositeBar.layout(new eK.Dimension(e,t))}getViewContainer(e){let t=this.viewDescriptorService.getViewContainerById(e);return t&&this.viewDescriptorService.getViewContainerLocation(t)===this.location?t:void 0}getViewContainers(){return this.viewDescriptorService.getViewContainersByLocation(this.location)}updateCompositeBarItemsFromStorage(e){if(this.pinnedViewContainersValue===this.getStoredPinnedViewContainersValue())return;this._placeholderViewContainersValue=void 0,this._pinnedViewContainersValue=void 0,this._cachedViewContainers=void 0;let t=[],i=this.compositeBar.getCompositeBarItems();for(let e of this.cachedViewContainers)t.push({id:e.id,name:e.name,order:e.order,pinned:e.pinned,visible:e.visible&&!!this.getViewContainer(e.id)});for(let e of this.getViewContainers())if(!t.some(t=>{let{id:i}=t;return i===e.id})){let o=i.findIndex(t=>{let{id:i}=t;return i===e.id});if(-1!==o){let n=i[o];t.splice(o,0,{id:e.id,name:"string"==typeof e.title?e.title:e.title.value,order:n.order,pinned:n.pinned,visible:n.visible})}else t.push({id:e.id,name:"string"==typeof e.title?e.title:e.title.value,order:e.order,pinned:!0,visible:!this.shouldBeHidden(e)})}if(e)for(let e of i)t.find(t=>{let{id:i}=t;return i===e.id})||t.push(e);this.compositeBar.setCompositeBarItems(t)}saveCachedViewContainers(){let e=[];for(let t of this.compositeBar.getCompositeBarItems()){let i=this.getViewContainer(t.id);if(i){let o=this.viewDescriptorService.getViewContainerModel(i),n=[];for(let{when:e}of o.allViewDescriptors)n.push({when:e?e.serialize():void 0});e.push({id:t.id,name:o.title,icon:iU.URI.isUri(o.icon)&&this.environmentService.remoteAuthority?void 0:o.icon,views:n,pinned:t.pinned,order:t.order,visible:t.visible,isBuiltin:!i.extensionId})}else e.push({id:t.id,name:t.name,pinned:t.pinned,order:t.order,visible:!1,isBuiltin:!1})}this.storeCachedViewContainersState(e)}get cachedViewContainers(){if(void 0===this._cachedViewContainers){var e,t;for(let t of(this._cachedViewContainers=this.getPinnedViewContainers(),this.getPlaceholderViewContainers())){let i=this._cachedViewContainers.find(e=>e.id===t.id);i&&(i.visible=null!=(e=t.visible)?e:i.visible,i.name=t.name,i.icon=t.themeIcon?t.themeIcon:t.iconUrl?iU.URI.revive(t.iconUrl):void 0,iU.URI.isUri(i.icon)&&this.environmentService.remoteAuthority&&(i.icon=void 0),i.views=t.views,i.isBuiltin=t.isBuiltin)}for(let e of this.getViewContainersWorkspaceState()){let i=this._cachedViewContainers.find(t=>t.id===e.id);i&&(i.visible=null!=(t=e.visible)?t:i.visible)}}return this._cachedViewContainers}storeCachedViewContainersState(e){let t=this.getPinnedViewContainers();this.setPinnedViewContainers(e.map(e=>{var i;let{id:o,pinned:n,order:r}=e;return{id:o,pinned:n,visible:!!(null==(i=t.find(e=>{let{id:t}=e;return t===o}))?void 0:i.visible),order:r}})),this.setPlaceholderViewContainers(e.map(e=>{let{id:t,icon:i,name:o,views:n,isBuiltin:r}=e;return{id:t,iconUrl:iU.URI.isUri(i)?i:void 0,themeIcon:r3.ThemeIcon.isThemeIcon(i)?i:void 0,name:o,isBuiltin:r,views:n}})),this.setViewContainersWorkspaceState(e.map(e=>{let{id:t,visible:i}=e;return{id:t,visible:i}}))}getPinnedViewContainers(){return JSON.parse(this.pinnedViewContainersValue)}setPinnedViewContainers(e){this.pinnedViewContainersValue=JSON.stringify(e)}get pinnedViewContainersValue(){return this._pinnedViewContainersValue||(this._pinnedViewContainersValue=this.getStoredPinnedViewContainersValue()),this._pinnedViewContainersValue}set pinnedViewContainersValue(e){this.pinnedViewContainersValue!==e&&(this._pinnedViewContainersValue=e,this.setStoredPinnedViewContainersValue(e))}getStoredPinnedViewContainersValue(){return this.storageService.get(this.options.pinnedViewContainersKey,tW.StorageScope.PROFILE,"[]")}setStoredPinnedViewContainersValue(e){this.storageService.store(this.options.pinnedViewContainersKey,e,tW.StorageScope.PROFILE,tW.StorageTarget.USER)}getPlaceholderViewContainers(){return JSON.parse(this.placeholderViewContainersValue)}setPlaceholderViewContainers(e){this.placeholderViewContainersValue=JSON.stringify(e)}get placeholderViewContainersValue(){return this._placeholderViewContainersValue||(this._placeholderViewContainersValue=this.getStoredPlaceholderViewContainersValue()),this._placeholderViewContainersValue}set placeholderViewContainersValue(e){this.placeholderViewContainersValue!==e&&(this._placeholderViewContainersValue=e,this.setStoredPlaceholderViewContainersValue(e))}getStoredPlaceholderViewContainersValue(){return this.storageService.get(this.options.placeholderViewContainersKey,tW.StorageScope.PROFILE,"[]")}setStoredPlaceholderViewContainersValue(e){this.storageService.store(this.options.placeholderViewContainersKey,e,tW.StorageScope.PROFILE,tW.StorageTarget.MACHINE)}getViewContainersWorkspaceState(){return JSON.parse(this.viewContainersWorkspaceStateValue)}setViewContainersWorkspaceState(e){this.viewContainersWorkspaceStateValue=JSON.stringify(e)}get viewContainersWorkspaceStateValue(){return this._viewContainersWorkspaceStateValue||(this._viewContainersWorkspaceStateValue=this.getStoredViewContainersWorkspaceStateValue()),this._viewContainersWorkspaceStateValue}set viewContainersWorkspaceStateValue(e){this.viewContainersWorkspaceStateValue!==e&&(this._viewContainersWorkspaceStateValue=e,this.setStoredViewContainersWorkspaceStateValue(e))}getStoredViewContainersWorkspaceStateValue(){return this.storageService.get(this.options.viewContainersWorkspaceStateKey,tW.StorageScope.WORKSPACE,"[]")}setStoredViewContainersWorkspaceStateValue(e){this.storageService.store(this.options.viewContainersWorkspaceStateKey,e,tW.StorageScope.WORKSPACE,tW.StorageTarget.MACHINE)}constructor(e,t,i,o,n,r,s,a,l,d,c){super(),this.options=e,this.part=t,this.paneCompositePart=i,this.instantiationService=o,this.storageService=n,this.extensionService=r,this.viewDescriptorService=s,this.viewService=a,this.contextKeyService=l,this.environmentService=d,this.layoutService=c,this.viewContainerDisposables=this._register(new pu.DisposableMap),this.compositeActions=new Map,this.hasExtensionsRegistered=!1,this._cachedViewContainers=void 0,this.location=i.partId===c8.Parts.PANEL_PART?cm.ViewContainerLocation.Panel:i.partId===c8.Parts.AUXILIARYBAR_PART?cm.ViewContainerLocation.AuxiliaryBar:cm.ViewContainerLocation.Sidebar,this.dndHandler=new pp(this.viewDescriptorService,this.location,this.options.orientation,async(e,t)=>{var i;return null!=(i=await this.paneCompositePart.openPaneComposite(e,t))?i:null},(e,t,i)=>this.compositeBar.move(e,t,this.options.orientation===l2.ActionsOrientation.VERTICAL?null==i?void 0:i.verticallyBefore:null==i?void 0:i.horizontallyBefore),()=>this.compositeBar.getCompositeBarItems());let u=this.cachedViewContainers.map(e=>({id:e.id,name:e.name,visible:!this.shouldBeHidden(e.id,e),order:e.order,pinned:e.pinned}));this.compositeBar=this.createCompositeBar(u),this.onDidRegisterViewContainers(this.getViewContainers()),this.registerListeners()}};py=(0,ex.__decorate)([(0,ex.__param)(3,eZ.IInstantiationService),(0,ex.__param)(4,tz.IStorageService),(0,ex.__param)(5,eP.IExtensionService),(0,ex.__param)(6,cv.IViewDescriptorService),(0,ex.__param)(7,c_.IViewsService),(0,ex.__param)(8,eY.IContextKeyService),(0,ex.__param)(9,h9.IWorkbenchEnvironmentService),(0,ex.__param)(10,tI.IWorkbenchLayoutService)],py);let pC=(ey=ef=class extends uW{updateCompositeBarActionItem(e){this.compositeBarActionItem=e}updateActivity(){let e=this.activityService.getViewContainerActivities(this.compositeBarActionItem.id);this.activity=e[0]}async run(e){if((0,eK.isMouseEvent)(e)&&2===e.button)return;let t=Date.now();if(t>this.lastRun&&t-this.lastRun<ey.preventDoubleClickDelay)return;this.lastRun=t;let i=!e||!("preserveFocus"in e)||!e.preserveFocus;if(this.part===c8.Parts.ACTIVITYBAR_PART){let e=this.layoutService.isVisible(c8.Parts.SIDEBAR_PART),t=this.paneCompositePart.getActivePaneComposite(),o=this.configurationService.getValue("workbench.activityBar.iconClickBehavior");if(e&&(null==t?void 0:t.getId())===this.compositeBarActionItem.id)return void("focus"===o?(this.logAction("refocus"),this.paneCompositePart.openPaneComposite(this.compositeBarActionItem.id,i)):(this.logAction("hide"),this.layoutService.setPartHidden(!0,c8.Parts.SIDEBAR_PART)));this.logAction("show")}return await this.paneCompositePart.openPaneComposite(this.compositeBarActionItem.id,i),this.activate()}logAction(e){this.telemetryService.publicLog2("activityBarAction",{viewletId:this.compositeBarActionItem.id,action:e})}constructor(e,t,i,o,n,r,s){super(e),this.part=t,this.paneCompositePart=i,this.layoutService=o,this.telemetryService=n,this.configurationService=r,this.activityService=s,this.lastRun=0,this.updateActivity(),this._register(this.activityService.onDidChangeActivity(e=>{(0,iH.isString)(e)||e.id!==this.compositeBarActionItem.id||this.updateActivity()}))}},ef.preventDoubleClickDelay=300,ef);pC=ey=(0,ex.__decorate)([(0,ex.__param)(3,tI.IWorkbenchLayoutService),(0,ex.__param)(4,nN.ITelemetryService),(0,ex.__param)(5,eO.IConfigurationService),(0,ex.__param)(6,pc.IActivityService)],pC);class pb extends pC{}class pS extends uG{setActivity(e){this.label=e.name}constructor(e,t){super({id:e,name:e,classNames:void 0},t)}}class pw extends uq{setCompositeBarActionItem(e){this.label=e.name}constructor(e,t){super({id:e,name:e,classNames:void 0},t)}}e.s(["PaneCompositeBar",()=>py],877999);var pE=e.i(147502),pI=eD,px=e.i(110284),pD=e.i(796635),pk=e.i(795519),pA=e.i(559813),pM=e.i(604058);let pL=(0,nJ.registerIcon)("settings-view-bar-icon",it.Codicon.settingsGear,(0,eA.localize)(12047,"Settings icon in the view bar."));it.Codicon.vm,it.Codicon.server,it.Codicon.recordKeys,it.Codicon.deviceMobile,it.Codicon.watch,it.Codicon.vr,it.Codicon.piano,it.Codicon.ruby,it.Codicon.code,it.Codicon.coffee,it.Codicon.snake,it.Codicon.project,it.Codicon.window,it.Codicon.library,it.Codicon.extensions,it.Codicon.terminal,it.Codicon.terminalDebian,it.Codicon.terminalLinux,it.Codicon.terminalUbuntu,it.Codicon.beaker,it.Codicon.package,it.Codicon.cloud,it.Codicon.book,it.Codicon.globe,it.Codicon.database,it.Codicon.notebook,it.Codicon.robot,it.Codicon.game,it.Codicon.chip,it.Codicon.music,it.Codicon.remoteExplorer,it.Codicon.github,it.Codicon.azure,it.Codicon.vscode,it.Codicon.copilot,it.Codicon.gift,it.Codicon.send,it.Codicon.bookmark,it.Codicon.briefcase,it.Codicon.megaphone,it.Codicon.comment,it.Codicon.telescope,it.Codicon.creditCard,it.Codicon.map,it.Codicon.deviceCameraVideo,it.Codicon.unmute,it.Codicon.law,it.Codicon.graphLine,it.Codicon.heart,it.Codicon.home,it.Codicon.inbox,it.Codicon.mortarBoard,it.Codicon.rocket,it.Codicon.magnet,it.Codicon.lock,it.Codicon.milestone,it.Codicon.tag,it.Codicon.pulse,it.Codicon.radioTower,it.Codicon.smiley,it.Codicon.zap,it.Codicon.squirrel,it.Codicon.symbolColor,it.Codicon.mail,it.Codicon.key,it.Codicon.pieChart,it.Codicon.organization,it.Codicon.preview,it.Codicon.wand,it.Codicon.starEmpty,it.Codicon.lightbulb,it.Codicon.symbolRuler,it.Codicon.dashboard,it.Codicon.calendar,it.Codicon.shield,it.Codicon.verified,it.Codicon.debug,it.Codicon.flame,it.Codicon.compass,it.Codicon.paintcan,it.Codicon.archive,it.Codicon.mic,it.Codicon.jersey;let pT=(eS=eC=class extends pI.Disposable{registerListeners(){this.extensionService.whenInstalledExtensionsRegistered().then(()=>{this._store.isDisposed||this._register(this.storageService.onDidChangeValue(tW.StorageScope.PROFILE,pN.ACCOUNTS_VISIBILITY_PREFERENCE_KEY,this._store)(()=>this.toggleAccountsActivity()))})}create(e){e.appendChild(this.element)}focus(){this.globalActivityActionBar.focus(!0)}size(){return this.globalActivityActionBar.viewItems.length}getContextMenuActions(){return[(0,tE.toAction)({id:"toggleAccountsVisibility",label:(0,eA.localize)(3203,"Accounts"),checked:this.accountsVisibilityPreference,run:()=>this.accountsVisibilityPreference=!this.accountsVisibilityPreference})]}toggleAccountsActivity(){2===this.globalActivityActionBar.length()&&this.accountsVisibilityPreference||(2===this.globalActivityActionBar.length()?this.globalActivityActionBar.pull(eS.ACCOUNTS_ACTION_INDEX):this.globalActivityActionBar.push(this.accountAction,{index:eS.ACCOUNTS_ACTION_INDEX}))}get accountsVisibilityPreference(){return pW(this.storageService)}set accountsVisibilityPreference(e){pz(this.storageService,e)}constructor(e,t,i,o,n,r,s){super(),this.contextMenuActionsProvider=e,this.colors=t,this.activityHoverOptions=i,this.instantiationService=n,this.storageService=r,this.extensionService=s,this.globalActivityAction=this._register(new tE.Action(pE.GLOBAL_ACTIVITY_ID)),this.accountAction=this._register(new tE.Action(pE.ACCOUNTS_ACTIVITY_ID)),this.element=document.createElement("div");let a=()=>({anchorAlignment:"left"===o.getValue("workbench.sideBar.location")?px.AnchorAlignment.RIGHT:px.AnchorAlignment.LEFT,anchorAxisAlignment:px.AnchorAxisAlignment.HORIZONTAL});this.globalActivityActionBar=this._register(new l2.ActionBar(this.element,{actionViewItemProvider:(e,t)=>{if(e.id===pE.GLOBAL_ACTIVITY_ID)return this.instantiationService.createInstance(pP,this.contextMenuActionsProvider,{...t,colors:this.colors,hoverOptions:this.activityHoverOptions},a);if(e.id===pE.ACCOUNTS_ACTIVITY_ID)return this.instantiationService.createInstance(pN,this.contextMenuActionsProvider,{...t,colors:this.colors,hoverOptions:this.activityHoverOptions},a,e=>{e.unshift((0,tE.toAction)({id:"hideAccounts",label:(0,eA.localize)(3201,"Hide Accounts"),run:()=>pz(r,!1)}),new tE.Separator)});throw Error("No view item for action '".concat(e.id,"'"))},orientation:l2.ActionsOrientation.VERTICAL,ariaLabel:(0,eA.localize)(3202,"Manage"),preventLoopNavigation:!0})),this.accountsVisibilityPreference&&this.globalActivityActionBar.push(this.accountAction,{index:eS.ACCOUNTS_ACTION_INDEX}),this.globalActivityActionBar.push(this.globalActivityAction),this.registerListeners()}},eC.ACCOUNTS_ACTION_INDEX=0,eC.ACCOUNTS_ICON=(0,nJ.registerIcon)("accounts-view-bar-icon",it.Codicon.account,(0,eA.localize)(3200,"Accounts icon in the view bar.")),eC);pT=eS=(0,ex.__decorate)([(0,ex.__param)(3,eO.IConfigurationService),(0,ex.__param)(4,eZ.IInstantiationService),(0,ex.__param)(5,tz.IStorageService),(0,ex.__param)(6,eP.IExtensionService)],pT);let pR=class extends uz{updateItemActivity(){let e=this.activityService.getActivity(this.compositeBarActionItem.id),t=e[0];if(t){let{badge:i,priority:o}=t;i instanceof uR.NumberBadge&&e.length>1&&(t={badge:this.getCumulativeNumberBadge(e,null!=o?o:0)})}this.action.activity=t}getCumulativeNumberBadge(e,t){let i=e.filter(e=>{var i;return e.badge instanceof uR.NumberBadge&&(null!=(i=e.priority)?i:0)===t}),o=i.reduce((e,t)=>e+t.badge.number,0);return new uR.NumberBadge(o,()=>i.reduce((e,t,o)=>(e+=t.badge.getDescription(),o<i.length-1&&(e="".concat(e,"\n")),e),""))}render(e){super.render(e),this._register((0,eK.addDisposableListener)(this.container,eK.EventType.MOUSE_DOWN,async e=>{eK.EventHelper.stop(e,!0),(null==e?void 0:e.button)!==2&&this.run()})),this._register((0,eK.addDisposableListener)(this.container,eK.EventType.CONTEXT_MENU,async e=>{e.stopPropagation();let t=new pI.DisposableStore,i=await this.resolveContextMenuActions(t),o=new tA.StandardMouseEvent((0,eK.getWindow)(this.container),e);this.contextMenuService.showContextMenu({getAnchor:()=>o,getActions:()=>i,onHide:()=>t.dispose()})})),this._register((0,eK.addDisposableListener)(this.container,eK.EventType.KEY_UP,e=>{let t=new tO.StandardKeyboardEvent(e);(t.equals(ez.KeyCode.Enter)||t.equals(ez.KeyCode.Space))&&(eK.EventHelper.stop(e,!0),this.run())})),this._register((0,eK.addDisposableListener)(this.container,h7.EventType.Tap,e=>{eK.EventHelper.stop(e,!0),this.run()}))}async resolveContextMenuActions(e){return this.contextMenuActionsProvider()}async run(){var e;let t=new pI.DisposableStore,i=t.add(this.menuService.createMenu(this.menuId,this.contextKeyService)),o=await this.resolveMainMenuActions(i,t),{anchorAlignment:n,anchorAxisAlignment:r}=null!=(e=this.contextMenuAlignmentOptions())?e:{anchorAlignment:void 0,anchorAxisAlignment:void 0};this.contextMenuService.showContextMenu({getAnchor:()=>this.label,anchorAlignment:n,anchorAxisAlignment:r,getActions:()=>o,onHide:()=>t.dispose(),menuActionOptions:{renderShortTitle:!0}})}async resolveMainMenuActions(e,t){return(0,n5.getActionBarActions)(e.getActions({renderShortTitle:!0})).secondary}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h){super(t,{draggable:!1,icon:!0,hasPopup:!0,...i},()=>!0,r,s,c,u),this.menuId=e,this.contextMenuActionsProvider=o,this.contextMenuAlignmentOptions=n,this.menuService=a,this.contextMenuService=l,this.contextKeyService=d,this.activityService=h,this.updateItemActivity(),this._register(this.activityService.onDidChangeActivity(e=>{(0,iH.isString)(e)&&e===this.compositeBarActionItem.id&&this.updateItemActivity()}))}};pR=(0,ex.__decorate)([(0,ex.__param)(5,oh.IThemeService),(0,ex.__param)(6,o_.IHoverService),(0,ex.__param)(7,n4.IMenuService),(0,ex.__param)(8,ty.IContextMenuService),(0,ex.__param)(9,eY.IContextKeyService),(0,ex.__param)(10,eO.IConfigurationService),(0,ex.__param)(11,e6.IKeybindingService),(0,ex.__param)(12,pc.IActivityService)],pR);let pN=((eb=class extends pR{registerListeners(){this._register(this.authenticationService.onDidRegisterAuthenticationProvider(async e=>{await this.addAccountsFromProvider(e.id)})),this._register(this.authenticationService.onDidUnregisterAuthenticationProvider(e=>{this.groupedAccounts.delete(e.id),this.problematicProviders.delete(e.id)})),this._register(this.authenticationService.onDidChangeSessions(async e=>{var t,i;if(e.event.removed)for(let t of e.event.removed)this.removeAccount(e.providerId,t.account);for(let o of[...null!=(t=e.event.changed)?t:[],...null!=(i=e.event.added)?i:[]])try{await this.addOrUpdateAccount(e.providerId,o.account)}catch(e){this.logService.error(e)}}))}async initialize(){if(await this.lifecycleService.when(eN.LifecyclePhase.Restored),this._store.isDisposed)return;let e=this._register((0,eK.runWhenWindowIdle)((0,eK.getWindow)(this.element),async()=>{await this.doInitialize(),e.dispose()}))}async doInitialize(){let e=this.authenticationService.getProviderIds();for(let t of(await Promise.allSettled(e.map(e=>this.addAccountsFromProvider(e)))))"rejected"===t.status&&this.logService.error(t.reason);this.initialized=!0}async resolveMainMenuActions(e,t){await super.resolveMainMenuActions(e,t);let i=this.authenticationService.getProviderIds(),o=e.getActions(),n=[];for(let e of i){if(!this.initialized){let e=t.add(new tE.Action("noAccountsAvailable",(0,eA.localize)(3204,"Loading..."),void 0,!1));n.push(e);break}let i=this.authenticationService.getProvider(e).label,o=this.groupedAccounts.get(e);if(!o){if(this.problematicProviders.has(e)){let o=t.add(new tE.Action("providerUnavailable",(0,eA.localize)(3205,"{0} is currently unavailable",i),void 0,!1));n.push(o);try{await this.addAccountsFromProvider(e)}catch(e){this.logService.error(e)}}continue}for(let t of o){let o=[(0,tE.toAction)({id:"configureSessions".concat(t.label),label:(0,eA.localize)(3206,"Manage Trusted Extensions"),enabled:!0,run:()=>this.commandService.executeCommand("_manageTrustedExtensionsForAccount",{providerId:e,accountLabel:t.label})})];t.canSignOut&&o.push((0,tE.toAction)({id:"signOut",label:(0,eA.localize)(3207,"Sign Out"),enabled:!0,run:()=>this.commandService.executeCommand("_signOutOfAccount",{providerId:e,accountLabel:t.label})}));let r=new tE.SubmenuAction("activitybar.submenu","".concat(t.label," (").concat(i,")"),o);n.push(r)}}if(i.length&&!n.length){let e=t.add(new tE.Action("noAccountsAvailable",(0,eA.localize)(3208,"You are not signed in to any accounts"),void 0,!1));n.push(e)}return n.length&&o.length&&n.push(new tE.Separator),o.forEach((e,t)=>{let i=e[1];n=n.concat(i),t!==o.length-1&&n.push(new tE.Separator)}),n}async resolveContextMenuActions(e){let t=await super.resolveContextMenuActions(e);return this.fillContextMenuActions(t),t}async addOrUpdateAccount(e,t){let i=this.groupedAccounts.get(e);i||(i=[],this.groupedAccounts.set(e,i));let o=await this.sessionFromEmbedder.value,n=!0;o&&!o.canSignOut&&(await this.authenticationService.getSessions(e)).some(e=>e.id===o.id&&e.account.id===t.id)&&(n=!1);let r=i.find(e=>e.label===t.label);r?n||(r.canSignOut=n):i.push({...t,canSignOut:n})}removeAccount(e,t){let i=this.groupedAccounts.get(e);if(!i)return;let o=i.findIndex(e=>e.id===t.id);-1!==o&&(i.splice(o,1),0===i.length&&this.groupedAccounts.delete(e))}async addAccountsFromProvider(e){try{let t=await this.authenticationService.getSessions(e);for(let i of(this.problematicProviders.delete(e),t))try{await this.addOrUpdateAccount(e,i.account)}catch(e){this.logService.error(e)}}catch(t){this.logService.error(t),this.problematicProviders.add(e)}}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p,g,m,v,_,f,y){let C=f.createInstance(uW,{id:pE.ACCOUNTS_ACTIVITY_ID,name:(0,eA.localize)(3203,"Accounts"),classNames:r3.ThemeIcon.asClassNameArray(pT.ACCOUNTS_ICON)});super(eG.MenuId.AccountsContext,C,t,e,i,n,s,l,a,d,p,g,_),this.fillContextMenuActions=o,this.lifecycleService=r,this.authenticationService=c,this.productService=h,this.secretStorageService=m,this.logService=v,this.commandService=y,this.groupedAccounts=new Map,this.problematicProviders=new Set,this.initialized=!1,this.sessionFromEmbedder=new tM.Lazy(()=>(0,pk.getCurrentAuthenticationSessionInfo)(this.secretStorageService,this.productService)),this._register(C),this.registerListeners(),this.initialize()}}).ACCOUNTS_VISIBILITY_PREFERENCE_KEY="workbench.activity.showAccounts",eb);pN=(0,ex.__decorate)([(0,ex.__param)(4,oh.IThemeService),(0,ex.__param)(5,pM.ILifecycleService),(0,ex.__param)(6,o_.IHoverService),(0,ex.__param)(7,ty.IContextMenuService),(0,ex.__param)(8,n4.IMenuService),(0,ex.__param)(9,eY.IContextKeyService),(0,ex.__param)(10,pA.IAuthenticationService),(0,ex.__param)(11,h9.IWorkbenchEnvironmentService),(0,ex.__param)(12,d4.IProductService),(0,ex.__param)(13,eO.IConfigurationService),(0,ex.__param)(14,e6.IKeybindingService),(0,ex.__param)(15,pD.ISecretStorageService),(0,ex.__param)(16,tB.ILogService),(0,ex.__param)(17,pc.IActivityService),(0,ex.__param)(18,eZ.IInstantiationService),(0,ex.__param)(19,i9.ICommandService)],pN);let pP=class extends pR{render(e){super.render(e),this.profileBadge=(0,eK.append)(e,(0,eK.$)(".profile-badge")),this.profileBadgeContent=(0,eK.append)(this.profileBadge,(0,eK.$)(".profile-badge-content")),this.updateProfileBadge()}updateProfileBadge(){if(this.profileBadge&&this.profileBadgeContent)(0,eK.clearNode)(this.profileBadgeContent),(0,eK.hide)(this.profileBadge),this.userDataProfileService.currentProfile.isDefault||this.userDataProfileService.currentProfile.icon&&this.userDataProfileService.currentProfile.icon!==pL.id||this.action.activity||((0,eK.show)(this.profileBadge),this.profileBadgeContent.classList.add("profile-text-overlay"),this.profileBadgeContent.textContent=this.userDataProfileService.currentProfile.name.substring(0,2).toUpperCase())}updateActivity(){super.updateActivity(),this.updateProfileBadge()}computeTitle(){return this.userDataProfileService.currentProfile.isDefault?super.computeTitle():(0,eA.localize)(3209,"Manage {0} (Profile)",this.userDataProfileService.currentProfile.name)}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p){let g=h.createInstance(uW,{id:pE.GLOBAL_ACTIVITY_ID,name:(0,eA.localize)(3202,"Manage"),classNames:r3.ThemeIcon.asClassNameArray(o.currentProfile.icon?r3.ThemeIcon.fromId(o.currentProfile.icon):pL)});super(eG.MenuId.GlobalActivity,g,t,e,i,n,r,s,a,l,d,u,p),this.userDataProfileService=o,this._register(g),this._register(this.userDataProfileService.onDidChangeCurrentProfile(e=>{g.compositeBarActionItem={...g.compositeBarActionItem,classNames:r3.ThemeIcon.asClassNameArray(o.currentProfile.icon?r3.ThemeIcon.fromId(o.currentProfile.icon):pL)}}))}};pP=(0,ex.__decorate)([(0,ex.__param)(3,tX.IUserDataProfileService),(0,ex.__param)(4,oh.IThemeService),(0,ex.__param)(5,o_.IHoverService),(0,ex.__param)(6,n4.IMenuService),(0,ex.__param)(7,ty.IContextMenuService),(0,ex.__param)(8,eY.IContextKeyService),(0,ex.__param)(9,eO.IConfigurationService),(0,ex.__param)(10,h9.IWorkbenchEnvironmentService),(0,ex.__param)(11,e6.IKeybindingService),(0,ex.__param)(12,eZ.IInstantiationService),(0,ex.__param)(13,pc.IActivityService)],pP);let pO=class extends pN{constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p,g,m,v,_,f){super(()=>pK(g,!0),{...t,colors:e=>({badgeBackground:e.getColor(h1.ACTIVITY_BAR_BADGE_BACKGROUND),badgeForeground:e.getColor(h1.ACTIVITY_BAR_BADGE_FOREGROUND)}),hoverOptions:e,compact:!0},()=>void 0,e=>e,i,o,n,r,s,a,l,d,c,u,h,p,m,v,_,f)}};pO=(0,ex.__decorate)([(0,ex.__param)(2,oh.IThemeService),(0,ex.__param)(3,pM.ILifecycleService),(0,ex.__param)(4,o_.IHoverService),(0,ex.__param)(5,ty.IContextMenuService),(0,ex.__param)(6,n4.IMenuService),(0,ex.__param)(7,eY.IContextKeyService),(0,ex.__param)(8,pA.IAuthenticationService),(0,ex.__param)(9,h9.IWorkbenchEnvironmentService),(0,ex.__param)(10,d4.IProductService),(0,ex.__param)(11,eO.IConfigurationService),(0,ex.__param)(12,e6.IKeybindingService),(0,ex.__param)(13,pD.ISecretStorageService),(0,ex.__param)(14,tz.IStorageService),(0,ex.__param)(15,tB.ILogService),(0,ex.__param)(16,pc.IActivityService),(0,ex.__param)(17,eZ.IInstantiationService),(0,ex.__param)(18,i9.ICommandService)],pO);let pF=class extends pP{constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p){super(()=>pK(p,!1),{...t,colors:e=>({badgeBackground:e.getColor(h1.ACTIVITY_BAR_BADGE_BACKGROUND),badgeForeground:e.getColor(h1.ACTIVITY_BAR_BADGE_FOREGROUND)}),hoverOptions:e,compact:!0},()=>void 0,i,o,n,r,s,a,l,d,c,u,h)}};function pK(e,t){let i=[];return t&&i.push((0,tE.toAction)({id:"hideAccounts",label:(0,eA.localize)(3201,"Hide Accounts"),run:()=>pz(e,!1)}),new tE.Separator),[...i,(0,tE.toAction)({id:"toggle.hideAccounts",label:(0,eA.localize)(3203,"Accounts"),checked:pW(e),run:()=>pz(e,!pW(e))}),(0,tE.toAction)({id:"toggle.hideManage",label:(0,eA.localize)(3202,"Manage"),checked:!0,enabled:!1,run:()=>{throw Error('"Manage" can not be hidden')}})]}function pW(e){return e.getBoolean(pN.ACCOUNTS_VISIBILITY_PREFERENCE_KEY,tW.StorageScope.PROFILE,!0)}function pz(e,t){e.store(pN.ACCOUNTS_VISIBILITY_PREFERENCE_KEY,t,tW.StorageScope.PROFILE,tW.StorageTarget.USER)}pF=(0,ex.__decorate)([(0,ex.__param)(2,tX.IUserDataProfileService),(0,ex.__param)(3,oh.IThemeService),(0,ex.__param)(4,o_.IHoverService),(0,ex.__param)(5,n4.IMenuService),(0,ex.__param)(6,ty.IContextMenuService),(0,ex.__param)(7,eY.IContextKeyService),(0,ex.__param)(8,eO.IConfigurationService),(0,ex.__param)(9,h9.IWorkbenchEnvironmentService),(0,ex.__param)(10,e6.IKeybindingService),(0,ex.__param)(11,eZ.IInstantiationService),(0,ex.__param)(12,pc.IActivityService),(0,ex.__param)(13,tz.IStorageService)],pF);var pV=eG;let pB=(eE=ew=class extends ux{createCompositeBar(){return this.instantiationService.createInstance(pH,{partContainerClass:"activitybar",pinnedViewContainersKey:eE.pinnedViewContainersKey,placeholderViewContainersKey:eE.placeholderViewContainersKey,viewContainersWorkspaceStateKey:eE.viewContainersWorkspaceStateKey,orientation:l2.ActionsOrientation.VERTICAL,icon:!0,iconSize:24,activityHoverOptions:{position:()=>this.layoutService.getSideBarPosition()===c8.Position.LEFT?pd.HoverPosition.RIGHT:pd.HoverPosition.LEFT},preventLoopNavigation:!0,recomputeSizes:!1,fillExtraContextMenuActions:(e,t)=>{},compositeSize:52,colors:e=>({activeForegroundColor:e.getColor(h1.ACTIVITY_BAR_FOREGROUND),inactiveForegroundColor:e.getColor(h1.ACTIVITY_BAR_INACTIVE_FOREGROUND),activeBorderColor:e.getColor(h1.ACTIVITY_BAR_ACTIVE_BORDER),activeBackground:e.getColor(h1.ACTIVITY_BAR_ACTIVE_BACKGROUND),badgeBackground:e.getColor(h1.ACTIVITY_BAR_BADGE_BACKGROUND),badgeForeground:e.getColor(h1.ACTIVITY_BAR_BADGE_FOREGROUND),dragAndDropBorder:e.getColor(h1.ACTIVITY_BAR_DRAG_AND_DROP_BORDER),activeBackgroundColor:void 0,inactiveBackgroundColor:void 0,activeBorderBottomColor:void 0}),overflowActionSize:eE.ACTION_HEIGHT},c8.Parts.ACTIVITYBAR_PART,this.paneCompositePart,!0)}createContentArea(e){return this.element=e,this.content=(0,eK.append)(this.element,(0,eK.$)(".content")),this.layoutService.isVisible(c8.Parts.ACTIVITYBAR_PART)&&this.show(),this.content}getPinnedPaneCompositeIds(){var e,t;return null!=(t=null==(e=this.compositeBar.value)?void 0:e.getPinnedPaneCompositeIds())?t:[]}getVisiblePaneCompositeIds(){var e,t;return null!=(t=null==(e=this.compositeBar.value)?void 0:e.getVisiblePaneCompositeIds())?t:[]}getPaneCompositeIds(){var e,t;return null!=(t=null==(e=this.compositeBar.value)?void 0:e.getPaneCompositeIds())?t:[]}focus(){var e;null==(e=this.compositeBar.value)||e.focus()}updateStyles(){super.updateStyles();let e=(0,iH.assertIsDefined)(this.getContainer()),t=this.getColor(h1.ACTIVITY_BAR_BACKGROUND)||"";e.style.backgroundColor=t;let i=this.getColor(h1.ACTIVITY_BAR_BORDER)||this.getColor(n7.contrastBorder)||"";e.classList.toggle("bordered",!!i),e.style.borderColor=i||""}show(e){this.content&&(!this.compositeBar.value&&(this.compositeBar.value=this.createCompositeBar(),this.compositeBar.value.create(this.content),this.dimension&&this.layout(this.dimension.width,this.dimension.height)),e&&this.focus())}hide(){this.compositeBar.value&&(this.compositeBar.clear(),this.content&&(0,eK.clearNode)(this.content))}layout(e,t){if(super.layout(e,t,0,0),!this.compositeBar.value)return;let i=super.layoutContents(e,t).contentSize;this.compositeBar.value.layout(e,i.height)}toJSON(){return{type:c8.Parts.ACTIVITYBAR_PART}}constructor(e,t,i,o,n){super(c8.Parts.ACTIVITYBAR_PART,{hasTitle:!1},o,n,i),this.paneCompositePart=e,this.instantiationService=t,this.minimumWidth=48,this.maximumWidth=48,this.minimumHeight=0,this.maximumHeight=1/0,this.compositeBar=this._register(new eD.MutableDisposable)}},ew.ACTION_HEIGHT=48,ew.pinnedViewContainersKey="workbench.activity.pinnedViewlets2",ew.placeholderViewContainersKey="workbench.activity.placeholderViewlets",ew.viewContainersWorkspaceStateKey="workbench.activity.viewletsWorkspaceState",ew);pB=eE=(0,ex.__decorate)([(0,ex.__param)(1,eZ.IInstantiationService),(0,ex.__param)(2,tI.IWorkbenchLayoutService),(0,ex.__param)(3,oh.IThemeService),(0,ex.__param)(4,tz.IStorageService)],pB);let pH=class extends py{fillContextMenuActions(e,t){let i=(0,hl.getMenuBarVisibility)(this.configurationService);("compact"===i||"hidden"===i||"toggle"===i)&&e.unshift((0,tE.toAction)({id:"toggleMenuVisibility",label:(0,eA.localize)(2696,"Menu"),checked:"compact"===i,run:()=>this.configurationService.updateValue("window.menuBarVisibility","compact"===i?"toggle":"compact")}),new tE.Separator),"compact"===i&&this.menuBarContainer&&(null==t?void 0:t.target)&&(0,eK.isAncestor)(t.target,this.menuBarContainer)&&e.unshift((0,tE.toAction)({id:"hideCompactMenu",label:(0,eA.localize)(2697,"Hide Menu"),run:()=>this.configurationService.updateValue("window.menuBarVisibility","toggle")}),new tE.Separator),this.globalCompositeBar&&(e.push(new tE.Separator),e.push(...this.globalCompositeBar.getContextMenuActions())),e.push(new tE.Separator),e.push(...this.getActivityBarContextMenuActions())}uninstallMenubar(){this.menuBar&&(this.menuBar.dispose(),this.menuBar=void 0),this.menuBarContainer&&(this.menuBarContainer.remove(),this.menuBarContainer=void 0)}installMenubar(){this.menuBar||(this.menuBarContainer=document.createElement("div"),this.menuBarContainer.classList.add("menubar"),(0,iH.assertIsDefined)(this.element).prepend(this.menuBarContainer),this.menuBar=this._register(this.instantiationService.createInstance(pl)),this.menuBar.create(this.menuBarContainer))}registerKeyboardNavigationListeners(){this.keyboardNavigationDisposables.clear(),this.menuBarContainer&&this.keyboardNavigationDisposables.add((0,eK.addDisposableListener)(this.menuBarContainer,eK.EventType.KEY_DOWN,e=>{let t=new tO.StandardKeyboardEvent(e);(t.equals(ez.KeyCode.DownArrow)||t.equals(ez.KeyCode.RightArrow))&&this.focus()})),this.compositeBarContainer&&this.keyboardNavigationDisposables.add((0,eK.addDisposableListener)(this.compositeBarContainer,eK.EventType.KEY_DOWN,e=>{var t,i;let o=new tO.StandardKeyboardEvent(e);o.equals(ez.KeyCode.DownArrow)||o.equals(ez.KeyCode.RightArrow)?null==(t=this.globalCompositeBar)||t.focus():(o.equals(ez.KeyCode.UpArrow)||o.equals(ez.KeyCode.LeftArrow))&&(null==(i=this.menuBar)||i.toggleFocus())})),this.globalCompositeBar&&this.keyboardNavigationDisposables.add((0,eK.addDisposableListener)(this.globalCompositeBar.element,eK.EventType.KEY_DOWN,e=>{let t=new tO.StandardKeyboardEvent(e);(t.equals(ez.KeyCode.UpArrow)||t.equals(ez.KeyCode.LeftArrow))&&this.focus(this.getVisiblePaneCompositeIds().length-1)}))}create(e){return this.element=e,"compact"===(0,hl.getMenuBarVisibility)(this.configurationService)&&this.installMenubar(),this.compositeBarContainer=super.create(this.element),this.globalCompositeBar&&this.globalCompositeBar.create(this.element),this.registerKeyboardNavigationListeners(),this.compositeBarContainer}layout(e,t){this.menuBarContainer&&(this.options.orientation===l2.ActionsOrientation.VERTICAL?t-=this.menuBarContainer.clientHeight:e-=this.menuBarContainer.clientWidth),this.globalCompositeBar&&(this.options.orientation===l2.ActionsOrientation.VERTICAL?t-=this.globalCompositeBar.size()*pB.ACTION_HEIGHT:e-=this.globalCompositeBar.element.clientWidth),super.layout(e,t)}getActivityBarContextMenuActions(){let e=this.menuService.getMenuActions(pV.MenuId.ActivityBarPositionMenu,this.contextKeyService,{shouldForwardArgs:!0,renderShortTitle:!0}),t=(0,n5.getContextMenuActions)(e).secondary;return[new tE.SubmenuAction("workbench.action.panel.position",(0,eA.localize)(2698,"Activity Bar Position"),t),(0,tE.toAction)({id:hk.ID,label:hk.getLabel(this.layoutService),run:()=>this.instantiationService.invokeFunction(e=>new hk().run(e))})]}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p){super({...e,fillExtraContextMenuActions:(t,i)=>{e.fillExtraContextMenuActions(t,i),this.fillContextMenuActions(t,i)}},t,i,n,r,s,a,l,d,c,p),this.configurationService=u,this.menuService=h,this.keyboardNavigationDisposables=this._register(new eD.DisposableStore),o&&(this.globalCompositeBar=this._register(n.createInstance(pT,()=>this.getContextMenuActions(),e=>this.options.colors(e),this.options.activityHoverOptions))),this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration("window.menuBarVisibility")&&("compact"===(0,hl.getMenuBarVisibility)(this.configurationService)?this.installMenubar():this.uninstallMenubar())}))}};pH=(0,ex.__decorate)([(0,ex.__param)(4,eZ.IInstantiationService),(0,ex.__param)(5,tz.IStorageService),(0,ex.__param)(6,eP.IExtensionService),(0,ex.__param)(7,cv.IViewDescriptorService),(0,ex.__param)(8,c_.IViewsService),(0,ex.__param)(9,eY.IContextKeyService),(0,ex.__param)(10,h9.IWorkbenchEnvironmentService),(0,ex.__param)(11,eO.IConfigurationService),(0,ex.__param)(12,n4.IMenuService),(0,ex.__param)(13,tI.IWorkbenchLayoutService)],pH),(0,pV.registerAction2)(class extends pV.Action2{run(e){e.get(eO.IConfigurationService).updateValue(c8.LayoutSettings.ACTIVITY_BAR_LOCATION,c8.ActivityBarPosition.DEFAULT)}constructor(){super({id:"workbench.action.activityBarLocation.default",title:{...(0,eA.localize2)(2699,"Move Activity Bar to Side"),mnemonicTitle:(0,eA.localize)(2700,"&&Default")},shortTitle:(0,eA.localize)(2701,"Default"),category:tU.Categories.View,toggled:eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.ACTIVITY_BAR_LOCATION),c8.ActivityBarPosition.DEFAULT),menu:[{id:pV.MenuId.ActivityBarPositionMenu,order:1},{id:pV.MenuId.CommandPalette,when:eQ.ContextKeyExpr.notEquals("config.".concat(c8.LayoutSettings.ACTIVITY_BAR_LOCATION),c8.ActivityBarPosition.DEFAULT)}]})}}),(0,pV.registerAction2)(class extends pV.Action2{run(e){e.get(eO.IConfigurationService).updateValue(c8.LayoutSettings.ACTIVITY_BAR_LOCATION,c8.ActivityBarPosition.TOP)}constructor(){super({id:"workbench.action.activityBarLocation.top",title:{...(0,eA.localize2)(2702,"Move Activity Bar to Top"),mnemonicTitle:(0,eA.localize)(2703,"&&Top")},shortTitle:(0,eA.localize)(2704,"Top"),category:tU.Categories.View,toggled:eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.ACTIVITY_BAR_LOCATION),c8.ActivityBarPosition.TOP),menu:[{id:pV.MenuId.ActivityBarPositionMenu,order:2},{id:pV.MenuId.CommandPalette,when:eQ.ContextKeyExpr.notEquals("config.".concat(c8.LayoutSettings.ACTIVITY_BAR_LOCATION),c8.ActivityBarPosition.TOP)}]})}}),(0,pV.registerAction2)(class extends pV.Action2{run(e){e.get(eO.IConfigurationService).updateValue(c8.LayoutSettings.ACTIVITY_BAR_LOCATION,c8.ActivityBarPosition.BOTTOM)}constructor(){super({id:"workbench.action.activityBarLocation.bottom",title:{...(0,eA.localize2)(2705,"Move Activity Bar to Bottom"),mnemonicTitle:(0,eA.localize)(2706,"&&Bottom")},shortTitle:(0,eA.localize)(2707,"Bottom"),category:tU.Categories.View,toggled:eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.ACTIVITY_BAR_LOCATION),c8.ActivityBarPosition.BOTTOM),menu:[{id:pV.MenuId.ActivityBarPositionMenu,order:3},{id:pV.MenuId.CommandPalette,when:eQ.ContextKeyExpr.notEquals("config.".concat(c8.LayoutSettings.ACTIVITY_BAR_LOCATION),c8.ActivityBarPosition.BOTTOM)}]})}}),(0,pV.registerAction2)(class extends pV.Action2{run(e){e.get(eO.IConfigurationService).updateValue(c8.LayoutSettings.ACTIVITY_BAR_LOCATION,c8.ActivityBarPosition.HIDDEN)}constructor(){super({id:"workbench.action.activityBarLocation.hide",title:{...(0,eA.localize2)(2708,"Hide Activity Bar"),mnemonicTitle:(0,eA.localize)(2709,"&&Hidden")},shortTitle:(0,eA.localize)(2710,"Hidden"),category:tU.Categories.View,toggled:eQ.ContextKeyExpr.equals("config.".concat(c8.LayoutSettings.ACTIVITY_BAR_LOCATION),c8.ActivityBarPosition.HIDDEN),menu:[{id:pV.MenuId.ActivityBarPositionMenu,order:4},{id:pV.MenuId.CommandPalette,when:eQ.ContextKeyExpr.notEquals("config.".concat(c8.LayoutSettings.ACTIVITY_BAR_LOCATION),c8.ActivityBarPosition.HIDDEN)}]})}}),(0,pV.registerAction2)(class extends uj{constructor(){super({id:"workbench.action.previousSideBarView",title:(0,eA.localize2)(2712,"Previous Primary Side Bar View"),category:tU.Categories.View,f1:!0},cm.ViewContainerLocation.Sidebar,-1)}}),(0,pV.registerAction2)(class extends uj{constructor(){super({id:"workbench.action.nextSideBarView",title:(0,eA.localize2)(2713,"Next Primary Side Bar View"),category:tU.Categories.View,f1:!0},cm.ViewContainerLocation.Sidebar,1)}}),(0,pV.registerAction2)(class extends pV.Action2{async run(e){e.get(tI.IWorkbenchLayoutService).focusPart(c8.Parts.ACTIVITYBAR_PART)}constructor(){super({id:"workbench.action.focusActivityBar",title:(0,eA.localize2)(2714,"Focus Activity Bar"),category:tU.Categories.View,f1:!0})}}),(0,rY.registerThemingParticipant)((e,t)=>{let i=e.getColor(h1.ACTIVITY_BAR_ACTIVE_BORDER);i&&t.addRule("\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .active-item-indicator:before {\n				border-left-color: ".concat(i,";\n			}\n		"));let o=e.getColor(h1.ACTIVITY_BAR_ACTIVE_FOCUS_BORDER);o&&t.addRule("\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:focus::before {\n				visibility: hidden;\n			}\n\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:focus .active-item-indicator:before {\n				visibility: visible;\n				border-left-color: ".concat(o,";\n			}\n		"));let n=e.getColor(h1.ACTIVITY_BAR_ACTIVE_BACKGROUND);n&&t.addRule("\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .active-item-indicator {\n				z-index: 0;\n				background-color: ".concat(n,";\n			}\n		"));let r=e.getColor(n7.activeContrastBorder);if(r)t.addRule("\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item .action-label::before{\n				padding: 6px;\n			}\n\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.active .action-label::before,\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.active:hover .action-label::before,\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .action-label::before,\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:hover .action-label::before {\n				outline: 1px solid ".concat(r,";\n			}\n\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:hover .action-label::before {\n				outline: 1px dashed ").concat(r,";\n			}\n\n			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:focus .active-item-indicator:before {\n				border-left-color: ").concat(r,";\n			}\n		"));else{let i=e.getColor(n7.focusBorder);i&&t.addRule("\n				.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:focus .active-item-indicator::before {\n						border-left-color: ".concat(i,";\n					}\n				"))}}),e.s(["ActivityBarCompositeBar",()=>pH,"ActivitybarPart",()=>pB],266264);var pU=e.i(595156),pG=eD,pq=e.i(370769),pj=e.i(288265),pQ=e.i(437780);class pY extends pG.Disposable{getSize(e){var t,i;return null!=(i=null==(t=this.getPart(e))?void 0:t.dimension)?i:{height:0,width:0}}whenContainerStylesLoaded(){}hasMainWindowBorder(){return!1}getMainWindowBorderRadius(){}isMainEditorLayoutCentered(){return!1}centerMainEditorLayout(){}get activeContainer(){return this.getContainerFromDocument((0,eK.getActiveDocument)())}get containers(){let e=[];for(let{window:t}of(0,eK.getWindows)())e.push(this.getContainerFromDocument(t.document));return e}getContainerFromDocument(e){return e===this.mainContainer.ownerDocument?this.mainContainer:e.body.getElementsByClassName("monaco-workbench")[0]}init(e){var t,i;this.editorGroupService=e.get(ci.IEditorGroupsService),this.paneCompositeService=e.get(cC.IPaneCompositePartService),this.statusBarService=e.get(pU.IStatusbarService),this.viewDescriptorService=e.get(cv.IViewDescriptorService),this.configurationService=e.get(eO.IConfigurationService),this.auxiliaryWindowService=e.get(pq.IAuxiliaryWindowService),this.hostService=e.get(pn.IHostService),this._register(this.configurationService.onDidChangeConfiguration(e=>{var t,i;e.affectsConfiguration(c8.LayoutSettings.ACTIVITY_BAR_LOCATION)&&this.setPartHidden(this.isActivityBarHidden(),c8.Parts.ACTIVITYBAR_PART),e.affectsConfiguration("workbench.statusBar.visible")&&this.setPartHidden(!this.configurationService.getValue("workbench.statusBar.visible"),c8.Parts.STATUSBAR_PART),e.affectsConfiguration("workbench.sideBar.location")&&this.setSideBarPosition((0,c8.positionFromString)(null!=(t=this.configurationService.getValue("workbench.sideBar.location"))?t:"left")),e.affectsConfiguration("workbench.panel.defaultLocation")&&this.setPanelPosition((0,c8.positionFromString)(null!=(i=this.configurationService.getValue("workbench.panel.defaultLocation"))?i:"bottom"))})),this.setPartHidden(this.isActivityBarHidden(),c8.Parts.ACTIVITYBAR_PART),this.setPartHidden(!this.configurationService.getValue("workbench.statusBar.visible"),c8.Parts.STATUSBAR_PART),this.sideBarPosition=(0,c8.positionFromString)(null!=(t=this.configurationService.getValue("workbench.sideBar.location"))?t:"left"),this.panelPosition=(0,c8.positionFromString)(null!=(i=this.configurationService.getValue("workbench.panel.defaultLocation"))?i:"bottom"),this._register(this.hostService.onDidChangeActiveWindow(()=>this.onActiveWindowChanged())),this._register(this.auxiliaryWindowService.onDidOpenAuxiliaryWindow(e=>{let{window:t,disposables:i}=e;this._onDidAddContainer.fire({container:t.container,disposables:new pG.DisposableStore}),i.add(t.onDidLayout(e=>this.handleContainerDidLayout(t.container,e))),i.add((0,pG.toDisposable)(()=>this._onDidRemoveContainer.fire(t.container)))}))}handleContainerDidLayout(e,t){e===this.mainContainer&&this._onDidLayoutMainContainer.fire(t),(0,eK.isActiveDocument)(e)&&this._onDidLayoutActiveContainer.fire(t)}getActiveContainerId(){let e=this.activeContainer;return(0,eK.getWindow)(e).vscodeWindowId}onActiveWindowChanged(){let e=this.getActiveContainerId();this.activeContainerId!==e&&(this.activeContainerId=e,this._onDidChangeActiveContainer.fire())}isActivityBarHidden(){let e=this.configurationService.getValue("workbench.activityBar.visible");return void 0!==e?!e:this.configurationService.getValue(c8.LayoutSettings.ACTIVITY_BAR_LOCATION)!==c8.ActivityBarPosition.DEFAULT}focusPart(e){switch(e){case c8.Parts.EDITOR_PART:this.editorGroupService.activeGroup.focus();break;case c8.Parts.PANEL_PART:{let e=this.paneCompositeService.getActivePaneComposite(cm.ViewContainerLocation.Panel);null==e||e.focus();break}case c8.Parts.SIDEBAR_PART:{let e=this.paneCompositeService.getActivePaneComposite(cm.ViewContainerLocation.Sidebar);null==e||e.focus();break}case c8.Parts.ACTIVITYBAR_PART:this.getPart(c8.Parts.ACTIVITYBAR_PART).focus();break;case c8.Parts.STATUSBAR_PART:this.statusBarService.focus();break;default:{let t=this.getContainer(e);null==t||t.focus()}}}getDimension(e){var t;return null==(t=this.getPart(e))?void 0:t.dimension}toggleMaximizedPanel(){}toggleMenuBar(){let e,t=(0,hl.getMenuBarVisibility)(this.configurationService);"string"!=typeof t&&(t="classic"),e="visible"===t||"classic"===t?"native"===(0,hl.getTitleBarStyle)(this.configurationService)?"toggle":"compact":"classic",this.configurationService.updateValue("window.menuBarVisibility",e)}setPanelPosition(e){this.panelPosition=e;let t=this.getPart(c8.Parts.PANEL_PART);null==t||t.updateStyles(),this._onDidChangePanelPosition.fire((0,c8.positionToString)(e))}getPanelAlignment(){return"left"}setPanelAlignment(){}toggleZenMode(){}isEditorLayoutCentered(){return!1}centerEditorLayout(){}resizePart(){}isWindowMaximized(){return!1}updateWindowMaximizedState(){}getVisibleNeighborPart(){}getMaximumEditorDimensions(){return new eK.Dimension(1/0,1/0)}isPanelMaximized(){return!1}getPanelPosition(){return this.panelPosition}hasFocus(e){let t=document.activeElement;if(null==t)return!1;let i=this.getContainer(e);return null!=i&&(0,eK.isAncestorUsingFlowTo)(t,i)}getContainer(e){if("string"==typeof e){var t;if(null!=this.parts.get(e))return null==(t=this.getPart(e))?void 0:t.getContainer()}else if(e.document===this.mainContainer.ownerDocument)return this.mainContainer;else return e.document.body.getElementsByClassName("monaco-workbench")[0]}getPart(e){return this.parts.get(e)}hasViews(e){let t=this.viewDescriptorService.getViewContainerById(e);if(null==t)return!1;let i=this.viewDescriptorService.getViewContainerModel(t);return null!=i&&i.activeViewDescriptors.length>=1}setPartHidden(e,t){var i,o;e?this.hiddenParts.add(t):this.hiddenParts.delete(t),this._onDidChangePartVisibility.fire();let n={[c8.Parts.SIDEBAR_PART]:cm.ViewContainerLocation.Sidebar,[c8.Parts.AUXILIARYBAR_PART]:cm.ViewContainerLocation.AuxiliaryBar,[c8.Parts.PANEL_PART]:cm.ViewContainerLocation.Panel}[t];if(null!=n){let t=this.paneCompositeService.getActivePaneComposite(n);if(null!=t&&e)this.paneCompositeService.hideActivePaneComposite(n);else if(null==t&&!e){let e=this.paneCompositeService.getLastActivePaneCompositeId(n);null!=e&&this.hasViews(e)||(e=null==(o=this.viewDescriptorService.getViewContainersByLocation(n).find(e=>this.hasViews(e.id)))?void 0:o.id),null!=e&&this.paneCompositeService.openPaneComposite(e,n,!0)}}null==(i=this.getPart(t))||i.setVisible(!e)}isVisible(e){return!this.hiddenParts.has(e)}getSideBarPosition(){return this.sideBarPosition}setSideBarPosition(e){this.sideBarPosition=e;let t=this.getPart(c8.Parts.ACTIVITYBAR_PART),i=this.getPart(c8.Parts.SIDEBAR_PART),o=this.getPart(c8.Parts.AUXILIARYBAR_PART);null==t||t.updateStyles(),null==i||i.updateStyles(),null==o||o.updateStyles(),this._onDidChangeSideBarPosition.fire((0,c8.positionToString)(e))}registerPart(e){let t=e.getId();return this.parts.set(t,e),(0,pG.toDisposable)(()=>this.parts.delete(t))}isRestored(){return!0}get mainContainerDimension(){return this._mainContainerDimension}get activeContainerDimension(){let e=this.activeContainer;return e===this.mainContainer?this.mainContainerDimension:(0,eK.getClientArea)(e)}layout(){this._mainContainerDimension=(0,eK.getClientArea)(window.document.body),this._onDidLayout.fire(this._mainContainerDimension)}get hasContainer(){return!0}focus(){let e=this.activeContainer;if(e===this.mainContainer){let e=dB.StandaloneServices.get(tm.ICodeEditorService).getFocusedCodeEditor();e instanceof dq.StandaloneCodeEditor?e.focus():this.focusPart(c8.Parts.EDITOR_PART)}else this.editorGroupService.getPart(e).activeGroup.focus()}constructor(e=(0,uS.getWorkbenchContainer)()){super(),this.mainContainer=e,this.setSize=pQ.unsupported,this.onDidChangeMainEditorCenteredLayout=e0.Event.None,this.whenActiveContainerStylesLoaded=Promise.resolve(),this._onDidLayoutContainer=this._register(new e0.Emitter),this.onDidLayoutContainer=this._onDidLayoutContainer.event,this._onDidAddContainer=this._register(new e0.Emitter),this.onDidAddContainer=this._onDidAddContainer.event,this._onDidRemoveContainer=this._register(new e0.Emitter),this.onDidRemoveContainer=this._onDidRemoveContainer.event,this._onDidLayoutMainContainer=this._register(new e0.Emitter),this.onDidLayoutMainContainer=this._onDidLayoutMainContainer.event,this._onDidLayoutActiveContainer=this._register(new e0.Emitter),this.onDidLayoutActiveContainer=this._onDidLayoutActiveContainer.event,this._onDidChangeActiveContainer=this._register(new e0.Emitter),this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0},this.onDidChangeFullscreen=e0.Event.None,this.onDidChangeZenMode=e0.Event.None,this.onDidChangeWindowMaximized=e0.Event.None,this.onDidChangeCenteredLayout=e0.Event.None,this._onDidChangePanelPosition=this._register(new e0.Emitter),this.onDidChangePanelPosition=this._onDidChangePanelPosition.event,this._onDidChangeSideBarPosition=this._register(new e0.Emitter),this.onDidChangeSideBarPosition=this._onDidChangeSideBarPosition.event,this.onDidChangePanelAlignment=e0.Event.None,this.onDidChangeNotificationsVisibility=e0.Event.None,this.openedDefaultEditors=!1,this.whenRestored=Promise.resolve(),this.parts=new Map,this.hiddenParts=new Set,this._onDidChangePartVisibility=new e0.Emitter,this.onDidChangePartVisibility=this._onDidChangePartVisibility.event,this.offset={top:0,quickPickTop:0},this._onDidLayout=new e0.Emitter,this.onDidLayout=this._onDidLayout.event,window.addEventListener("resize",()=>this.layout()),this.layout();let t=tD.isWindows?"windows":tD.isLinux?"linux":"mac",i=(0,o3.coalesce)(["monaco-workbench",t,"web",tD.isChrome?"chromium":tD.isFirefox?"firefox":tD.isSafari?"safari":void 0]);e.classList.add(...i),document.body.classList.add(t),document.body.classList.add("web")}}function pZ(e){return{[tC.ILayoutService.toString()]:new dz.SyncDescriptor(pY,[e],!0)}}(0,pj.onRenderWorkbench)(e=>{let t=e.get(tC.ILayoutService);t instanceof pY&&t.init(e)}),e.s(["default",()=>pZ],242696);var pX=e.i(464627),p$=e.i(804085),pJ=eD,p0=e.i(47515),p1=e.i(429681),p2=e.i(708251);!function(e){e[e.Unknown=1]="Unknown",e[e.Keyboard=2]="Keyboard",e[e.Api=3]="Api"}(eI||(eI={}));let p3=class extends pJ.Disposable{registerListeners(){this._register(this.lifecycleService.onBeforeShutdown(e=>this.onBeforeShutdown(e))),this._register(eK.ModifierKeyEmitter.getInstance().event(()=>this.updateShutdownReasonFromEvent()))}onBeforeShutdown(e){switch(this.shutdownReason){case eI.Unknown:case eI.Keyboard:{let t=this.configurationService.getValue("window.confirmBeforeClose");("always"===t||"keyboardOnly"===t&&this.shutdownReason===eI.Keyboard)&&e.veto(!0,"veto.confirmBeforeClose")}}this.shutdownReason=eI.Unknown}updateShutdownReasonFromEvent(){this.shutdownReason!==eI.Api&&(eK.ModifierKeyEmitter.getInstance().isModifierPressed?this.shutdownReason=eI.Keyboard:this.shutdownReason=eI.Unknown)}get onDidChangeFocus(){let e=this._register(new e0.Emitter);return this._register(e0.Event.runAndSubscribe(eK.onDidRegisterWindow,t=>{let{window:i,disposables:o}=t,n=o.add((0,eK.trackFocus)(i)),r=o.add(new tR.DomEmitter(i.document,"visibilitychange"));e0.Event.any(e0.Event.map(n.onDidFocus,()=>this.hasFocus,o),e0.Event.map(n.onDidBlur,()=>this.hasFocus,o),e0.Event.map(r.event,()=>this.hasFocus,o),e0.Event.map(this.onDidChangeActiveWindow,()=>this.hasFocus,o))(t=>e.fire(t))},{window:iZ.mainWindow,disposables:this._store})),e0.Event.latch(e.event,void 0,this._store)}get hasFocus(){return(0,eK.getActiveDocument)().hasFocus()}async hadLastFocus(){return!0}async focus(e){e.focus()}get onDidChangeActiveWindow(){let e=this._register(new e0.Emitter);return this._register(e0.Event.runAndSubscribe(eK.onDidRegisterWindow,t=>{let{window:i,disposables:o}=t,n=(0,eK.getWindowId)(i),r=o.add((0,eK.trackFocus)(i));o.add(r.onDidFocus(()=>e.fire(n))),(0,iZ.isAuxiliaryWindow)(i)&&o.add((0,eK.disposableWindowInterval)(i,()=>{let t=i.document.hasFocus();return t&&e.fire(n),t},100,20))},{window:iZ.mainWindow,disposables:this._store})),e0.Event.latch(e.event,void 0,this._store)}get onDidChangeFullScreen(){let e=this._register(new e0.Emitter);return this._register(e0.Event.runAndSubscribe(eK.onDidRegisterWindow,t=>{let{window:i,disposables:o}=t,n=(0,eK.getWindowId)(i),r=tD.isIOS&&i.visualViewport?i.visualViewport:i,s=()=>{let e=(0,eK.detectFullscreen)(i);return null!==e&&!e.guess};for(let t of[eK.EventType.FULLSCREEN_CHANGE,eK.EventType.WK_FULLSCREEN_CHANGE])o.add((0,eK.addDisposableListener)(i.document,t,()=>e.fire({windowId:n,fullscreen:s()})));o.add((0,eK.addDisposableThrottledListener)(r,eK.EventType.RESIZE,()=>e.fire({windowId:n,fullscreen:s()}),void 0,tD.isMacintosh?2e3:800))},{window:iZ.mainWindow,disposables:this._store})),e.event}openWindow(e,t){return Array.isArray(e)?this.doOpenWindow(e,t):this.doOpenEmptyWindow(e)}async doOpenWindow(e,t){let i=this.preservePayload(!1,t),o=[],n=[];for(let r of e)r.label=r.label||this.getRecentLabel(r),(0,hl.isFolderToOpen)(r)?(null==t?void 0:t.addMode)?n.push({uri:r.folderUri}):this.doOpen({folderUri:r.folderUri},{reuse:this.shouldReuse(t,!1),payload:i}):(0,hl.isWorkspaceToOpen)(r)?this.doOpen({workspaceUri:r.workspaceUri},{reuse:this.shouldReuse(t,!1),payload:i}):(0,hl.isFileToOpen)(r)&&o.push(r);n.length>0&&this.withServices(e=>{e.get(p0.IWorkspaceEditingService).addFolders(n)}),o.length>0&&this.withServices(async e=>{let i=e.get(t$.IEditorService);if((null==t?void 0:t.mergeMode)&&4===o.length){let e=(0,o3.coalesce)(await (0,c7.pathsToEditors)(o,this.fileService,this.logService));if(4!==e.length||!(0,c7.isResourceEditorInput)(e[0])||!(0,c7.isResourceEditorInput)(e[1])||!(0,c7.isResourceEditorInput)(e[2])||!(0,c7.isResourceEditorInput)(e[3]))return;if(this.shouldReuse(t,!0))i.openEditor({input1:{resource:e[0].resource},input2:{resource:e[1].resource},base:{resource:e[2].resource},result:{resource:e[3].resource},options:{pinned:!0}});else{let t=new Map;t.set("mergeFile1",e[0].resource.toString()),t.set("mergeFile2",e[1].resource.toString()),t.set("mergeFileBase",e[2].resource.toString()),t.set("mergeFileResult",e[3].resource.toString()),this.doOpen(void 0,{payload:Array.from(t.entries())})}}else if((null==t?void 0:t.diffMode)&&2===o.length){let e=(0,o3.coalesce)(await (0,c7.pathsToEditors)(o,this.fileService,this.logService));if(2!==e.length||!(0,c7.isResourceEditorInput)(e[0])||!(0,c7.isResourceEditorInput)(e[1]))return;if(this.shouldReuse(t,!0))i.openEditor({original:{resource:e[0].resource},modified:{resource:e[1].resource},options:{pinned:!0}});else{let t=new Map;t.set("diffFileSecondary",e[0].resource.toString()),t.set("diffFilePrimary",e[1].resource.toString()),this.doOpen(void 0,{payload:Array.from(t.entries())})}}else for(let e of o)if(this.shouldReuse(t,!0)){let o=[];if(null==t?void 0:t.gotoLineMode){let t=(0,uf.parseLineAndColumnAware)(e.fileUri.path);o=[{fileUri:e.fileUri.with({path:t.path}),options:{selection:(0,iH.isUndefined)(t.line)?void 0:{startLineNumber:t.line,startColumn:t.column||1}}}]}else o=[e];i.openEditors((0,o3.coalesce)(await (0,c7.pathsToEditors)(o,this.fileService,this.logService)),void 0,{validateTrust:!0})}else{let i=new Map;i.set("openFile",e.fileUri.toString()),(null==t?void 0:t.gotoLineMode)&&i.set("gotoLineMode","true"),this.doOpen(void 0,{payload:Array.from(i.entries())})}let n=null==t?void 0:t.waitMarkerFileURI;n&&(async()=>{await this.instantiationService.invokeFunction(e=>(0,p$.whenEditorClosed)(e,o.map(e=>e.fileUri))),await this.fileService.del(n)})()})}withServices(e){this.instantiationService.invokeFunction(t=>e(t))}preservePayload(e,t){let i=[];!e&&this.environmentService.extensionDevelopmentLocationURI&&(i.push(["extensionDevelopmentPath",this.environmentService.extensionDevelopmentLocationURI.toString()]),this.environmentService.debugExtensionHost.debugId&&i.push(["debugId",this.environmentService.debugExtensionHost.debugId]),this.environmentService.debugExtensionHost.port&&i.push(["inspect-brk-extensions",String(this.environmentService.debugExtensionHost.port)]));let o=(null==t?void 0:t.forceProfile)?this.userDataProfilesService.profiles.find(e=>e.name===(null==t?void 0:t.forceProfile)):void 0;return o&&!o.isDefault&&i.push(["profile",o.name]),i.length?i:void 0}getRecentLabel(e){return(0,hl.isFolderToOpen)(e)?this.labelService.getWorkspaceLabel(e.folderUri,{verbose:ui.Verbosity.LONG}):(0,hl.isWorkspaceToOpen)(e)?this.labelService.getWorkspaceLabel((0,p1.getWorkspaceIdentifier)(e.workspaceUri),{verbose:ui.Verbosity.LONG}):this.labelService.getUriLabel(e.fileUri)}shouldReuse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.create(null),t=arguments.length>1?arguments[1]:void 0;if(e.waitMarkerFileURI)return!0;let i=this.configurationService.getValue("window"),o=t?(null==i?void 0:i.openFilesInNewWindow)||"off":(null==i?void 0:i.openFoldersInNewWindow)||"default",n=(e.preferNewWindow||!!e.forceNewWindow)&&!e.forceReuseWindow;return e.forceNewWindow||e.forceReuseWindow||"on"!==o&&"off"!==o||(n="on"===o),!n}async doOpenEmptyWindow(e){return this.doOpen(void 0,{reuse:null==e?void 0:e.forceReuseWindow,payload:this.preservePayload(!0,e)})}async doOpen(e,t){if(e&&(0,hl.isFolderToOpen)(e)&&e.folderUri.scheme===cQ.Schemas.file&&(0,ue.isTemporaryWorkspace)(this.contextService.getWorkspace()))return void this.withServices(async t=>{let i=t.get(p0.IWorkspaceEditingService);await i.updateFolders(0,this.contextService.getWorkspace().folders.length,[{uri:e.folderUri}])});if((null==t?void 0:t.reuse)&&await this.handleExpectedShutdown(eN.ShutdownReason.LOAD),!await this.workspaceProvider.open(e,t)){let{confirmed:i}=await this.dialogService.confirm({type:nv.default.Warning,message:(0,eA.localize)(11605,"The browser interrupted the opening of a new tab or window. Press 'Open' to open it anyway."),primaryButton:(0,eA.localize)(11606,"&&Open")});i&&await this.workspaceProvider.open(e,t)}}async toggleFullScreen(e){let t=this.layoutService.getContainer(e);if(void 0!==e.document.fullscreen)if(e.document.fullscreen)try{return await e.document.exitFullscreen()}catch(e){this.logService.warn("toggleFullScreen(): exitFullscreen failed")}else try{return await t.requestFullscreen()}catch(e){this.logService.warn("toggleFullScreen(): requestFullscreen failed")}if(void 0!==e.document.webkitIsFullScreen)try{e.document.webkitIsFullScreen?e.document.webkitExitFullscreen():t.webkitRequestFullscreen()}catch(e){this.logService.warn("toggleFullScreen(): requestFullscreen/exitFullscreen failed")}}async moveTop(e){}async getCursorScreenPoint(){}async restart(){this.reload()}async reload(){await this.handleExpectedShutdown(eN.ShutdownReason.RELOAD),iZ.mainWindow.location.reload()}async close(){await this.handleExpectedShutdown(eN.ShutdownReason.CLOSE),iZ.mainWindow.close()}async withExpectedShutdown(e){let t=this.shutdownReason;try{return this.shutdownReason=eI.Api,await e()}finally{this.shutdownReason=t}}async handleExpectedShutdown(e){return this.shutdownReason=eI.Api,this.lifecycleService.withExpectedShutdown(e)}async getScreenshot(){let e,t=new pJ.DisposableStore,i=document.createElement("video");t.add((0,pJ.toDisposable)(()=>i.remove()));try{i.srcObject=e=await navigator.mediaDevices.getDisplayMedia({audio:!1,video:!0}),i.play(),await Promise.all([new Promise(e=>t.add((0,eK.addDisposableListener)(i,"loadedmetadata",()=>e()))),new Promise(e=>t.add((0,eK.addDisposableListener)(i,"canplaythrough",()=>e())))]);let o=document.createElement("canvas");o.width=i.videoWidth,o.height=i.videoHeight;let n=o.getContext("2d");if(!n)return;n.drawImage(i,0,0,o.width,o.height);let r=await new Promise(e=>o.toBlob(t=>e(t),"image/jpeg",.95));if(!r)throw Error("Failed to create blob from canvas");return r.arrayBuffer()}catch(e){console.error("Error taking screenshot:",e);return}finally{if(t.dispose(),e)for(let t of e.getTracks())t.stop()}}async getNativeWindowHandle(e){}constructor(e,t,i,o,n,r,s,a,l,d,c){var u;super(),this.layoutService=e,this.configurationService=t,this.fileService=i,this.labelService=o,this.environmentService=n,this.instantiationService=r,this.lifecycleService=s,this.logService=a,this.dialogService=l,this.contextService=d,this.userDataProfilesService=c,this.shutdownReason=eI.Unknown,(null==(u=n.options)?void 0:u.workspaceProvider)?this.workspaceProvider=n.options.workspaceProvider:this.workspaceProvider=new class{async open(){return!0}constructor(){this.workspace=void 0,this.trusted=void 0}},this.registerListeners()}};p3.__decorator=(0,ex.__decorate)([u_.memoize],p3.prototype,"onDidChangeFocus",null),p3.__decorator=(0,ex.__decorate)([u_.memoize],p3.prototype,"onDidChangeActiveWindow",null),p3.__decorator=(0,ex.__decorate)([u_.memoize],p3.prototype,"onDidChangeFullScreen",null),p3=(0,ex.__decorate)([(0,ex.__param)(0,tC.ILayoutService),(0,ex.__param)(1,eO.IConfigurationService),(0,ex.__param)(2,rE.IFileService),(0,ex.__param)(3,n6.ILabelService),(0,ex.__param)(4,cN.IBrowserWorkbenchEnvironmentService),(0,ex.__param)(5,eZ.IInstantiationService),(0,ex.__param)(6,pM.ILifecycleService),(0,ex.__param)(7,tB.ILogService),(0,ex.__param)(8,tj.IDialogService),(0,ex.__param)(9,rI.IWorkspaceContextService),(0,ex.__param)(10,p2.IUserDataProfilesService)],p3);var p5=eD;class p4 extends p5.Disposable{registerListeners(){(0,dj.addMatchMediaChangeListener)(iZ.mainWindow,"(prefers-color-scheme: dark)",()=>{this._onDidSchemeChangeEvent.fire()}),(0,dj.addMatchMediaChangeListener)(iZ.mainWindow,"(forced-colors: active)",()=>{this._onDidSchemeChangeEvent.fire()})}get onDidChangeColorScheme(){return this._onDidSchemeChangeEvent.event}get dark(){if(iZ.mainWindow.matchMedia("(prefers-color-scheme: light)").matches);else if(iZ.mainWindow.matchMedia("(prefers-color-scheme: dark)").matches)return!0;return!1}get highContrast(){return!!iZ.mainWindow.matchMedia("(forced-colors: active)").matches}constructor(){super(),this._onDidSchemeChangeEvent=this._register(new e0.Emitter),this.registerListeners()}}function p6(){return{[pn.IHostService.toString()]:new dz.SyncDescriptor(p3,[],!0),[pX.IHostColorSchemeService.toString()]:new dz.SyncDescriptor(p4,[],!0)}}e.s(["default",()=>p6],533523)},717789,e=>{"use strict";var t;!function(e){e[e.ERROR_INVALID_FILE=0]="ERROR_INVALID_FILE"}(t||(t={}));class i extends Error{constructor(e,t){super(e),this.code=t}}e.s(["JSONEditingError",()=>i,"JSONEditingErrorCode",()=>t])},693941,e=>{"use strict";var t,i,o=e.i(308165);e.i(225911),e.i(150132),e.i(262465),e.i(934767),e.i(816921),e.i(528045),e.i(190342),e.i(64918),e.i(853788),e.i(710249),e.i(405560),e.i(753725),e.i(779461),e.i(319219),e.i(804810),e.i(906696),e.i(676101),e.i(364316),e.i(251046),e.i(531462),e.i(96373),e.i(717179),e.i(709442),e.i(887418),e.i(584056),e.i(123460),e.i(547687),e.i(116748),e.i(697120),e.i(910207),e.i(6658),e.i(534970),e.i(49811),e.i(235610),e.i(565176),e.i(197379),e.i(550118),e.i(556065),e.i(294372),e.i(514663),e.i(615650),e.i(306033),e.i(496709),e.i(101797),e.i(873505),e.i(92121),e.i(64803),e.i(115838),e.i(719249),e.i(299201),e.i(808456),e.i(228273),e.i(610916),e.i(199511),e.i(517323),e.i(890154),e.i(71634),e.i(295347),e.i(468387),e.i(287231),e.i(886197),e.i(891680),e.i(217508),e.i(982252),e.i(583763),e.i(329381),e.i(39192),e.i(381853),e.i(471590),e.i(486988),e.i(697340),e.i(860906),e.i(647564),e.i(601244),e.i(332786),e.i(986189),e.i(481200),e.i(112692),e.i(272431),e.i(734201),e.i(547184),e.i(267026),e.i(391722),e.i(729588),e.i(518655),e.i(402720),e.i(588624),e.i(323094),e.i(152619),e.i(231010),e.i(286894);var n=e.i(413174),r=e.i(116086),s=e.i(550483),a=e.i(693655),l=e.i(436120),d=e.i(312582),c=e.i(576549),u=e.i(239548),h=e.i(288265),p=e.i(405035),g=e.i(246159),m=e.i(671941),v=e.i(355788),_=e.i(242696),f=e.i(533523),y=e.i(299665),C=e.i(364045),b=e.i(452229),S=e.i(577289),w=e.i(74944),E=e.i(834045),I=e.i(797837),x=e.i(383962),D=e.i(790059),k=e.i(504473),A=e.i(395806),M=e.i(224961),L=e.i(475424),T=e.i(91418),R=e.i(524819),N=e.i(911694),P=e.i(490582),O=e.i(717789);e.i(777700);let F=class{write(e,t){return Promise.resolve(this.queue.queue(()=>this.doWriteConfiguration(e,t)))}async doWriteConfiguration(e,t){let i=await this.resolveAndValidate(e,!0);try{await this.writeToBuffer(i.object.textEditorModel,t)}finally{i.dispose()}}async writeToBuffer(e,t){let i=!1;for(let o of t){let t=this.getEdits(e,o)[0];i=!!t&&this.applyEditsToBuffer(t,e)}if(i)return this.textFileService.save(e.uri)}applyEditsToBuffer(e,t){let i=t.getPositionAt(e.offset),o=t.getPositionAt(e.offset+e.length),n=new L.Range(i.lineNumber,i.column,o.lineNumber,o.column),r=t.getValueInRange(n);if(e.content!==r){let o=r?M.EditOperation.replace(n,e.content):M.EditOperation.insert(i,e.content);return t.pushEditOperations([new T.Selection(i.lineNumber,i.column,i.lineNumber,i.column)],[o],()=>[]),!0}return!1}getEdits(e,t){let{tabSize:i,insertSpaces:o}=e.getOptions(),n=e.getEOL(),{path:r,value:s}=t;if(!r.length){let e=JSON.stringify(s,null,o?" ".repeat(i):"	");return[{content:e,length:e.length,offset:0}]}return(0,k.setProperty)(e.getValue(),r,s,{tabSize:i,insertSpaces:o,eol:n})}async resolveModelReference(e){return await this.fileService.exists(e)||await this.textFileService.write(e,"{}",{encoding:"utf8"}),this.textModelResolverService.createModelReference(e)}hasParseErrors(e){let t=[];return(0,D.parse)(e.getValue(),t,{allowTrailingComma:!0,allowEmptyContent:!0}),t.length>0}async resolveAndValidate(e,t){let i=await this.resolveModelReference(e),o=i.object.textEditorModel;return this.hasParseErrors(o)?(i.dispose(),this.reject(O.JSONEditingErrorCode.ERROR_INVALID_FILE)):i}reject(e){let t=this.toErrorMessage(e);return Promise.reject(new O.JSONEditingError(t,e))}toErrorMessage(e){if(e===O.JSONEditingErrorCode.ERROR_INVALID_FILE)return(0,x.localize)(11322,"Unable to write into the file. Please open the file to correct errors/warnings in the file and try again.")}constructor(e,t,i){this.fileService=e,this.textModelResolverService=t,this.textFileService=i,this.queue=new A.Queue}};F=(0,o.__decorate)([(0,o.__param)(0,N.IFileService),(0,o.__param)(1,P.ITextModelService),(0,o.__param)(2,R.ITextFileService)],F);var K=e.i(145384),W=e.i(978238),z=e.i(450332),V=e.i(347997),B=e.i(757641),H=e.i(272117),U=e.i(610620),G=e.i(448493),q=e.i(394839),j=e.i(760837),Q=e.i(547158),Y=e.i(625092),Z=e.i(68858),X=e.i(945588);e.i(786480),e.i(184765),e.i(537397),e.i(765809),e.i(491481),e.i(827678),e.i(789672),e.i(847307),e.i(491120),e.i(165071);var $=e.i(358764);class J{static keyOf(e){if(Array.isArray(e))return e.map(J.keyOf).join(",");{let{color:t,letter:i}=e;return U.ThemeIcon.isThemeIcon(i)?"".concat(t,"+").concat(i.id):"".concat(t,"/").concat(i)}}acquire(){this._refCounter+=1}release(){return 0==--this._refCounter}appendCSSRules(e){Array.isArray(this.data)?this._appendForMany(this.data,e):this._appendForOne(this.data,e)}_appendForOne(e,t){let{color:i,letter:o}=e;(0,V.createCSSRule)(".".concat(this.itemColorClassName),"color: ".concat(eo(i),";"),t),U.ThemeIcon.isThemeIcon(o)?this._createIconCSSRule(o,i,t):o&&(0,V.createCSSRule)(".".concat(this.itemBadgeClassName,"::after"),'content: "'.concat(o,'"; color: ').concat(eo(i),";"),t)}_appendForMany(e,t){var i;let o,{color:n}=null!=(i=e.find(e=>!!e.color))?i:e[0];(0,V.createCSSRule)(".".concat(this.itemColorClassName),"color: ".concat(eo(n),";"),t);let r=[];for(let t of e)if(U.ThemeIcon.isThemeIcon(t.letter)){o=t.letter;break}else t.letter&&r.push(t.letter);o?this._createIconCSSRule(o,n,t):(r.length&&(0,V.createCSSRule)(".".concat(this.itemBadgeClassName,"::after"),'content: "'.concat(r.join(", "),'"; color: ').concat(eo(n),";"),t),(0,V.createCSSRule)(".".concat(this.bubbleBadgeClassName,"::after"),'content: ""; color: '.concat(eo(n),"; font-family: codicon; font-size: 14px; margin-right: 14px; opacity: 0.4;"),t))}_createIconCSSRule(e,t,i){var o,n;let r=U.ThemeIcon.getModifier(e);r&&(e=U.ThemeIcon.modify(e,void 0));let s=(0,$.getIconRegistry)().getIcon(e.id);if(!s)return;let a=this.themeService.getProductIconTheme().getIcon(s);a&&(0,V.createCSSRule)(".".concat(this.iconBadgeClassName,"::after"),"content: '".concat(a.fontCharacter,"';\n			color: ").concat(e.color?eo(e.color.id):eo(t),";\n			font-family: ").concat((0,B.stringValue)(null!=(n=null==(o=a.font)?void 0:o.id)?n:"codicon"),";\n			font-size: 16px;\n			margin-right: 14px;\n			font-weight: normal;\n			").concat("spin"===r?"animation: codicon-spin 1.5s steps(30) infinite":"",";\n			"),i)}removeCSSRules(e){(0,V.removeCSSRulesContainingSelector)(this.itemColorClassName,e),(0,V.removeCSSRulesContainingSelector)(this.itemBadgeClassName,e),(0,V.removeCSSRulesContainingSelector)(this.bubbleBadgeClassName,e),(0,V.removeCSSRulesContainingSelector)(this.iconBadgeClassName,e)}constructor(e,t,i){this.themeService=e,this._refCounter=0,this.data=t;let o=(0,Q.hash)(i).toString(36);this.itemColorClassName="".concat(J._classNamesPrefix,"-itemColor-").concat(o),this.itemBadgeClassName="".concat(J._classNamesPrefix,"-itemBadge-").concat(o),this.bubbleBadgeClassName="".concat(J._classNamesPrefix,"-bubbleBadge-").concat(o),this.iconBadgeClassName="".concat(J._classNamesPrefix,"-iconBadge-").concat(o)}}J._classNamesPrefix="monaco-decoration";class ee{dispose(){this._dispoables.dispose()}asDecoration(e,t){e.sort((e,t)=>(t.weight||0)-(e.weight||0));let i=J.keyOf(e),o=this._decorationRules.get(i);o||(o=new J(this._themeService,e,i),this._decorationRules.set(i,o),o.appendCSSRules(this._styleElement)),o.acquire();let n=o.itemColorClassName,r=o.itemBadgeClassName,s=o.iconBadgeClassName,a=(0,Z.distinct)(e.filter(e=>!(0,G.isFalsyOrWhitespace)(e.tooltip)).map(e=>e.tooltip)).join(" • "),l=e.some(e=>e.strikethrough);return t&&(r=o.bubbleBadgeClassName,a=(0,x.localize)(11360,"Contains emphasized items")),{labelClassName:n,badgeClassName:r,iconClassName:s,strikethrough:l,tooltip:a,dispose:()=>{(null==o?void 0:o.release())&&(this._decorationRules.delete(i),o.removeCSSRules(this._styleElement),o=void 0)}}}constructor(e){this._themeService=e,this._dispoables=new l.DisposableStore,this._styleElement=(0,V.createStyleSheet)(void 0,void 0,this._dispoables),this._decorationRules=new Map}}class et{affectsResource(e){return this._data.hasElementOrSubtree(e)}constructor(e){this._data=W.TernarySearchTree.forUris(e=>!0),this._data.fill(!0,(0,Z.asArray)(e))}}class ei{constructor(e,t){this.source=e,this.thenable=t}}function eo(e){return e?(0,X.asCssVariable)(e):"inherit"}let en=class{dispose(){this._store.dispose(),this._data.clear()}registerDecorationsProvider(e){let t=this._provider.unshift(e);this._onDidChangeDecorations.fire({affectsResource:()=>!0});let i=()=>{let t=[];for(let[i,o]of this._data)o.delete(e)&&t.push(i);t.length>0&&this._onDidChangeDecorationsDelayed.fire(t)},o=e.onDidChange(t=>{if(t)for(let i of t){let t=this._ensureEntry(i);this._fetchData(t,i,e)}else i()});return(0,l.toDisposable)(()=>{t(),o.dispose(),i()})}_ensureEntry(e){let t=this._data.get(e);return t||(t=new Map,this._data.set(e,t)),t}getDecoration(e,t){let i=[],o=!1,n=this._ensureEntry(e);for(let t of this._provider){let o=n.get(t);void 0===o&&(o=this._fetchData(n,e,t)),!o||o instanceof ei||i.push(o)}if(t){let t=this._data.findSuperstr(e);if(t)for(let e of t)for(let t of e[1].values())!t||t instanceof ei||!t.bubble||(i.push(t),o=!0)}return 0===i.length?void 0:this._decorationStyles.asDecoration(i,o)}_fetchData(e,t,i){let o=e.get(i);o instanceof ei&&(o.source.cancel(),e.delete(i));let n=new j.CancellationTokenSource,r=i.provideDecorations(t,n.token);if(!(0,A.isThenable)(r))return n.dispose(),this._keepItem(e,i,t,r);{let o=new ei(n,Promise.resolve(r).then(n=>{e.get(i)===o&&this._keepItem(e,i,t,n)}).catch(t=>{(0,q.isCancellationError)(t)||e.get(i)!==o||e.delete(i)}).finally(()=>{n.dispose()}));return e.set(i,o),null}}_keepItem(e,t,i,o){let n=o||null,r=e.get(t);return e.set(t,n),(n||r)&&this._onDidChangeDecorationsDelayed.fire(i),n}constructor(e,t){this._store=new l.DisposableStore,this._onDidChangeDecorationsDelayed=this._store.add(new K.DebounceEmitter({merge:e=>e.flat()})),this._onDidChangeDecorations=this._store.add(new K.Emitter),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._provider=new z.LinkedList,this._decorationStyles=new ee(t),this._data=W.TernarySearchTree.forUris(t=>e.extUri.ignorePathCasing(t)),this._store.add(this._onDidChangeDecorationsDelayed.event(e=>{this._onDidChangeDecorations.fire(new et(e))}))}};en=(0,o.__decorate)([(0,o.__param)(0,Y.IUriIdentityService),(0,o.__param)(1,H.IThemeService)],en);var er=e.i(619223),es=e.i(182408);class ea{async request(e,t){let[i,o]=await this.channel.call("request",[e],t);return{res:i,stream:(0,es.bufferToStream)(o)}}async resolveProxy(e){return this.channel.call("resolveProxy",[e])}async lookupAuthorization(e){return this.channel.call("lookupAuthorization",[e])}async lookupKerberosAuthorization(e){return this.channel.call("lookupKerberosAuthorization",[e])}async loadCertificates(){return this.channel.call("loadCertificates")}constructor(e){this.channel=e}}var el=e.i(873619),ed=e.i(785310),ec=e.i(827104);class eu extends Error{constructor(){super("Offline"),this.name=this.message}}async function eh(e,t,i){if(t.isCancellationRequested)throw(0,q.canceled)();let o=new AbortController,n=t.onCancellationRequested(()=>o.abort()),r=e.timeout?AbortSignal.any([o.signal,AbortSignal.timeout(e.timeout)]):o.signal;try{let t={method:e.type||"GET",headers:function(e){if(e.headers||e.user||e.password||e.proxyAuthorization){let t=new Headers;for(let i in e.headers){switch(i.toLowerCase()){case"user-agent":case"accept-encoding":case"content-length":continue}let o=e.headers[i];if("string"==typeof o)t.set(i,o);else if(Array.isArray(o))for(let e of o)t.append(i,e)}return(e.user||e.password)&&t.set("Authorization","Basic "+btoa("".concat(e.user||"",":").concat(e.password||""))),e.proxyAuthorization&&t.set("Proxy-Authorization",e.proxyAuthorization),t}}(e),body:e.data,signal:r};e.disableCache&&(t.cache="no-store");let i=await fetch(e.url||"",t);return{res:{statusCode:i.status,headers:function(e){let t=Object.create(null);return e.headers.forEach((e,i)=>{t[i]?Array.isArray(t[i])?t[i].push(e):t[i]=[t[i],e]:t[i]=e}),t}(i)},stream:(0,es.bufferToStream)(es.VSBuffer.wrap(new Uint8Array(await i.arrayBuffer())))}}catch(t){if(!i())throw new eu;if((null==t?void 0:t.name)==="AbortError")throw(0,q.canceled)();if((null==t?void 0:t.name)==="TimeoutError")throw Error("Fetch timeout: ".concat(e.timeout,"ms"));throw t}finally{n.dispose()}}var ep=e.i(322549);let eg=class extends ec.AbstractRequestService{async request(e,t){try{e.proxyAuthorization||(e.proxyAuthorization=this.configurationService.getValue("http.proxyAuthorization"));let i=await this.logAndRequest(e,()=>eh(e,t,()=>navigator.onLine)),o=this.remoteAgentService.getConnection();if(o&&405===i.res.statusCode)return this._makeRemoteRequest(o,e,t);return i}catch(o){let i=this.remoteAgentService.getConnection();if(i)return this._makeRemoteRequest(i,e,t);throw o}}async resolveProxy(e){}async lookupAuthorization(e){}async lookupKerberosAuthorization(e){}async loadCertificates(){return[]}_makeRemoteRequest(e,t,i){return e.withChannel("request",e=>new ea(e).request(t,i))}constructor(e,t,i){super(i),this.remoteAgentService=e,this.configurationService=t}};eg=(0,o.__decorate)([(0,o.__param)(0,el.IRemoteAgentService),(0,o.__param)(1,er.IConfigurationService),(0,o.__param)(2,ep.ILogService)],eg),ed.CommandsRegistry.registerCommand("_workbench.fetchJSON",async function(e,t,i){let o=await fetch(t,{method:i,headers:{Accept:"application/json"}});if(o.ok)return o.json();throw Error(o.statusText)});var em=e.i(292473),ev=l;e.i(266931),e.i(456369);var e_=e.i(912097),ef=e.i(509592);class ey extends ev.Disposable{open(e,t){let i=[...this.handlers.values()];return(0,A.first)(i.map(i=>()=>i.handleURL(e,t)),void 0,!1).then(e=>e||!1)}registerHandler(e){return this.handlers.add(e),(0,ev.toDisposable)(()=>this.handlers.delete(e))}constructor(){super(...arguments),this.handlers=new Set}}var eC=e.i(308955),eb=e.i(373742),eS=e.i(533412);class ew{async open(e,t){return(null==t||!t.openExternal)&&!!(0,eS.matchesScheme)(e,this.productService.urlProtocol)&&("string"==typeof e&&(e=em.URI.parse(e)),this.urlService.open(e,{trusted:!0}))}constructor(e,t){this.urlService=e,this.productService=t}}let eE=class extends ey{create(e){return this.provider?this.provider.create(e):em.URI.parse("unsupported://")}constructor(e,t,i){var o;super(),this.provider=null==(o=e.options)?void 0:o.urlCallbackProvider,this.provider&&this._register(this.provider.onCallback(e=>this.open(e,{trusted:!0}))),this._register(t.registerOpener(new ew(this,i)))}};eE=(0,o.__decorate)([(0,o.__param)(0,eC.IBrowserWorkbenchEnvironmentService),(0,o.__param)(1,eb.IOpenerService),(0,o.__param)(2,c.IProductService)],eE);class eI{registerCanonicalUriProvider(e){return this._providers.set(e.scheme,e),{dispose:()=>this._providers.delete(e.scheme)}}async provideCanonicalUri(e,t,i){let o=this._providers.get(e.scheme);if(o)return o.provideCanonicalUri(e,t,i)}constructor(){this._providers=new Map}}var ex=e.i(751326),eD=e.i(120359),ek=e.i(260263);let eA=class{async download(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.CancellationToken.None;if(e.scheme===eS.Schemas.file||e.scheme===eS.Schemas.vscodeRemote)return void await this.fileService.copy(e,t);let o={type:"GET",url:e.toString(!0)},n=await this.requestService.request(o,i);if(200===n.res.statusCode)await this.fileService.writeFile(t,n.stream);else{let e=await (0,ec.asTextOrError)(n);throw Error("Expected 200, got back ".concat(n.res.statusCode," instead.\n\n").concat(e))}}constructor(e,t){this.requestService=e,this.fileService=t}};eA=(0,o.__decorate)([(0,o.__param)(0,C.IRequestService),(0,o.__param)(1,N.IFileService)],eA);var eM=e.i(516245),eL=e.i(389083),eT=e.i(84389),eR=e.i(623885),eN=e.i(618284),eP=e.i(678417),eO=e.i(47179);let eF=t=class{hasValidBasename(e,t,i){return"string"==typeof t||void 0===t?this.resolveOS.then(i=>this.doHasValidBasename(e,i,t)):this.doHasValidBasename(e,t,i)}doHasValidBasename(e,t,i){return e.scheme!==eS.Schemas.file&&e.scheme!==eS.Schemas.vscodeRemote||(0,eN.isValidBasename)(null!=i?i:(0,eP.basename)(e),t===ef.OperatingSystem.Windows)}get defaultUriScheme(){return t.findDefaultUriScheme(this.environmentService,this.contextService)}static findDefaultUriScheme(e,t){if(e.remoteAuthority)return eS.Schemas.vscodeRemote;let i=(0,eO.getVirtualWorkspaceScheme)(t.getWorkspace());if(i)return i;let o=t.getWorkspace().folders[0];if(o)return o.uri.scheme;let n=t.getWorkspace().configuration;return n?n.scheme:eS.Schemas.file}userHome(e){return(null==e?void 0:e.preferLocal)?this.localUserHome:this.resolveUserHome}get resolvedUserHome(){return this.maybeUnresolvedUserHome}get path(){return this.resolveOS.then(e=>e===ef.OperatingSystem.Windows?e_.win32:e_.posix)}async fileURI(e){let t="";if(await this.resolveOS===ef.OperatingSystem.Windows&&(e=e.replace(/\\/g,"/")),"/"===e[0]&&"/"===e[1]){let i=e.indexOf("/",2);-1===i?(t=e.substring(2),e="/"):(t=e.substring(2,i),e=e.substring(i)||"/")}return em.URI.from({scheme:eS.Schemas.file,authority:t,path:e,query:"",fragment:""})}constructor(e,t,i,o){this.localUserHome=e,this.remoteAgentService=t,this.environmentService=i,this.contextService=o,this.resolveOS=(async()=>{let e=await this.remoteAgentService.getEnvironment();return(null==e?void 0:e.os)||ef.OS})(),this.resolveUserHome=(async()=>{var t;let i=await this.remoteAgentService.getEnvironment();return this.maybeUnresolvedUserHome=null!=(t=null==i?void 0:i.userHome)?t:e})()}};eF=t=(0,o.__decorate)([(0,o.__param)(1,el.IRemoteAgentService),(0,o.__param)(2,eT.IWorkbenchEnvironmentService),(0,o.__param)(3,eR.IWorkspaceContextService)],eF);var eK=l;let eW=new class{take(e,t){this.add=i=>t.createInstance(i,e),this.todo.forEach(this.add),this.todo=[]}constructor(){this.todo=[],this.add=e=>{this.todo.push(e)}}},ez=class extends eK.Disposable{markActive(e){if(null==e?void 0:e.whenHeldFor){let t=new eK.DisposableStore;return t.add((0,A.disposableTimeout)(()=>t.add(this.markActive()),e.whenHeldFor)),t}return 1==++this.active&&(this.isActive=!0,this.changeEmitter.fire(!0),this.markInactive.cancel()),(0,eK.toDisposable)(()=>{0==--this.active&&this.markInactive.schedule()})}constructor(e){super(),this.markInactive=this._register(new A.RunOnceScheduler(()=>{this.isActive=!1,this.changeEmitter.fire(!1)},1e4)),this.changeEmitter=this._register(new K.Emitter),this.active=0,this.isActive=!0,this.onDidChangeIsActive=this.changeEmitter.event,this._register((0,A.runWhenGlobalIdle)(()=>eW.take(this,e)))}};ez=(0,o.__decorate)([(0,o.__param)(0,a.IInstantiationService)],ez);var eV=l,eB=e.i(520303),eH=e.i(67064),eU=l;let eG=class extends eU.Disposable{addFileOperationParticipant(e){let t=this.participants.push(e);return(0,eU.toDisposable)(()=>t())}async participate(e,t,i,o){let n=this.configurationService.getValue("files.participants.timeout");if("number"==typeof n&&!(n<=0))for(let r of this.participants)try{await r.participate(e,t,i,n,o)}catch(e){this.logService.warn(e)}}dispose(){this.participants.clear(),super.dispose()}constructor(e,t){super(),this.logService=e,this.configurationService=t,this.participants=new z.LinkedList}};eG=(0,o.__decorate)([(0,o.__param)(0,ep.ILogService),(0,o.__param)(1,er.IConfigurationService)],eG);var eq=e.i(446099),ej=e.i(982534),eQ=l,eY=e.i(39400);let eZ=class extends eQ.Disposable{get length(){return this.saveParticipants.size}addSaveParticipant(e){let t=this.saveParticipants.push(e);return(0,eQ.toDisposable)(()=>t())}async participate(e,t,i,o){var n,r;let s=new j.CancellationTokenSource(o);null==(n=e.model)||n.pushStackElement(),i.report({message:(0,x.localize)(12126,"Running Code Actions and Formatters...")});let a=!1;if(await this.progressService.withProgress({priority:eY.NotificationPriority.URGENT,location:eq.ProgressLocation.Notification,cancellable:(0,x.localize)(12127,"Skip"),delay:e.isDirty()?5e3:3e3},async i=>{for(let o of this.saveParticipants){if(s.token.isCancellationRequested||e.isDisposed())break;try{let n=o.participate(e,t,i,s.token);await (0,A.raceCancellation)(n,s.token)}catch(e){(0,q.isCancellationError)(e)?s.token.isCancellationRequested||(s.cancel(),a=!0):this.logService.error(e)}}},()=>{s.cancel()}),null==(r=e.model)||r.pushStackElement(),s.dispose(),a)throw new q.CancellationError}dispose(){this.saveParticipants.clear(),super.dispose()}constructor(e,t){super(),this.logService=e,this.progressService=t,this.saveParticipants=new z.LinkedList}};eZ=(0,o.__decorate)([(0,o.__param)(0,ep.ILogService),(0,o.__param)(1,ej.IProgressService)],eZ);let eX=class extends eV.Disposable{create(e,t,i){return this.doCreateFileOrFolder(e,!0,t,i)}createFolder(e,t,i){return this.doCreateFileOrFolder(e,!1,t,i)}async doCreateFileOrFolder(e,t,i,o){let n;if(0===e.length)return[];if(t){let t=(await A.Promises.settled(e.map(e=>this.fileService.canCreateFile(e.resource,{overwrite:e.overwrite})))).find(e=>e instanceof Error);if(t instanceof Error)throw t}let r=e.map(e=>({target:e.resource}));await this.runFileOperationParticipants(r,eB.FileOperation.CREATE,o,i);let s={correlationId:this.correlationIds++,operation:eB.FileOperation.CREATE,files:r};await this._onWillRunWorkingCopyFileOperation.fireAsync(s,j.CancellationToken.None);try{n=t?await A.Promises.settled(e.map(e=>this.fileService.createFile(e.resource,e.contents,{overwrite:e.overwrite}))):await A.Promises.settled(e.map(e=>this.fileService.createFolder(e.resource)))}catch(e){throw await this._onDidFailWorkingCopyFileOperation.fireAsync(s,j.CancellationToken.None),e}return await this._onDidRunWorkingCopyFileOperation.fireAsync(s,j.CancellationToken.None),n}async move(e,t,i){return this.doMoveOrCopy(e,!0,t,i)}async copy(e,t,i){return this.doMoveOrCopy(e,!1,t,i)}async doMoveOrCopy(e,t,i,o){let n=[];for(let{file:{source:i,target:o},overwrite:n}of e){let e=await (t?this.fileService.canMove(i,o,n):this.fileService.canCopy(i,o,n));if(e instanceof Error)throw e}let r=e.map(e=>e.file);await this.runFileOperationParticipants(r,t?eB.FileOperation.MOVE:eB.FileOperation.COPY,o,i);let s={correlationId:this.correlationIds++,operation:t?eB.FileOperation.MOVE:eB.FileOperation.COPY,files:r};await this._onWillRunWorkingCopyFileOperation.fireAsync(s,j.CancellationToken.None);try{for(let{file:{source:i,target:o},overwrite:r}of e){if(!this.uriIdentityService.extUri.isEqual(i,o)){let e=t?[...this.getDirty(i),...this.getDirty(o)]:this.getDirty(o);await A.Promises.settled(e.map(e=>e.revert({soft:!0})))}t?n.push(await this.fileService.move(i,o,r)):n.push(await this.fileService.copy(i,o,r))}}catch(e){throw await this._onDidFailWorkingCopyFileOperation.fireAsync(s,j.CancellationToken.None),e}return await this._onDidRunWorkingCopyFileOperation.fireAsync(s,j.CancellationToken.None),n}async delete(e,t,i){for(let t of e){let e=await this.fileService.canDelete(t.resource,{recursive:t.recursive,useTrash:t.useTrash});if(e instanceof Error)throw e}let o=e.map(e=>({target:e.resource}));await this.runFileOperationParticipants(o,eB.FileOperation.DELETE,i,t);let n={correlationId:this.correlationIds++,operation:eB.FileOperation.DELETE,files:o};for(let t of(await this._onWillRunWorkingCopyFileOperation.fireAsync(n,j.CancellationToken.None),e)){let e=this.getDirty(t.resource);await A.Promises.settled(e.map(e=>e.revert({soft:!0})))}try{for(let t of e)await this.fileService.del(t.resource,{recursive:t.recursive,useTrash:t.useTrash})}catch(e){throw await this._onDidFailWorkingCopyFileOperation.fireAsync(n,j.CancellationToken.None),e}await this._onDidRunWorkingCopyFileOperation.fireAsync(n,j.CancellationToken.None)}addFileOperationParticipant(e){return this.fileOperationParticipants.addFileOperationParticipant(e)}runFileOperationParticipants(e,t,i,o){return this.fileOperationParticipants.participate(e,t,i,o)}get hasSaveParticipants(){return this.saveParticipants.length>0}addSaveParticipant(e){return this.saveParticipants.addSaveParticipant(e)}runSaveParticipants(e,t,i,o){return this.saveParticipants.participate(e,t,i,o)}registerWorkingCopyProvider(e){let t=(0,Z.insert)(this.workingCopyProviders,e);return(0,eV.toDisposable)(t)}getDirty(e){let t=new Set;for(let i of this.workingCopyProviders)for(let o of i(e))o.isDirty()&&t.add(o);return Array.from(t)}constructor(e,t,i,o){super(),this.fileService=e,this.workingCopyService=t,this.instantiationService=i,this.uriIdentityService=o,this._onWillRunWorkingCopyFileOperation=this._register(new K.AsyncEmitter),this.onWillRunWorkingCopyFileOperation=this._onWillRunWorkingCopyFileOperation.event,this._onDidFailWorkingCopyFileOperation=this._register(new K.AsyncEmitter),this.onDidFailWorkingCopyFileOperation=this._onDidFailWorkingCopyFileOperation.event,this._onDidRunWorkingCopyFileOperation=this._register(new K.AsyncEmitter),this.onDidRunWorkingCopyFileOperation=this._onDidRunWorkingCopyFileOperation.event,this.correlationIds=0,this.fileOperationParticipants=this._register(this.instantiationService.createInstance(eG)),this.saveParticipants=this._register(this.instantiationService.createInstance(eZ)),this.workingCopyProviders=[],this._register(this.registerWorkingCopyProvider(e=>this.workingCopyService.workingCopies.filter(t=>this.fileService.hasProvider(e)?this.uriIdentityService.extUri.isEqualOrParent(t.resource,e):this.uriIdentityService.extUri.isEqual(t.resource,e))))}};eX=(0,o.__decorate)([(0,o.__param)(0,N.IFileService),(0,o.__param)(1,eH.IWorkingCopyService),(0,o.__param)(2,a.IInstantiationService),(0,o.__param)(3,Y.IUriIdentityService)],eX);var e$=e.i(736758),eJ=e.i(231018),e0=l,e1=e.i(569038),e2=e.i(281034),e3=e.i(977857),e5=e.i(239686),e4=e.i(649849),e6=e.i(542073),e8=e.i(413117),e9=e.i(297334),e7=e.i(604058),te=e.i(681408),tt=e.i(780379),ti=e.i(513482);let to=e6.ExtensionsRegistry.registerExtensionPoint({extensionPoint:"resourceLabelFormatters",jsonSchema:{description:(0,x.localize)(11633,"Contributes resource label formatting rules."),type:"array",items:{type:"object",required:["scheme","formatting"],properties:{scheme:{type:"string",description:(0,x.localize)(11634,'URI scheme on which to match the formatter on. For example "file". Simple glob patterns are supported.')},authority:{type:"string",description:(0,x.localize)(11635,"URI authority on which to match the formatter on. Simple glob patterns are supported.")},formatting:{description:(0,x.localize)(11636,"Rules for formatting uri resource labels."),type:"object",properties:{label:{type:"string",description:(0,x.localize)(11637,"Label rules to display. For example: myLabel:/${path}. ${path}, ${scheme}, ${authority} and ${authoritySuffix} are supported as variables.")},separator:{type:"string",description:(0,x.localize)(11638,"Separator to be used in the uri label display. '/' or '' as an example.")},stripPathStartingSeparator:{type:"boolean",description:(0,x.localize)(11639,"Controls whether `${path}` substitutions should have starting separator characters stripped.")},tildify:{type:"boolean",description:(0,x.localize)(11640,"Controls if the start of the uri label should be tildified when possible.")},workspaceSuffix:{type:"string",description:(0,x.localize)(11641,"Suffix appended to the workspace label.")}}}}}}}),tn=/\//g,tr=/\$\{(scheme|authoritySuffix|authority|path|(query)\.(.+?))\}/g,ts=class{constructor(e){this.formattersDisposables=new Map,to.setHandler((t,i)=>{for(let t of i.added)for(let i of t.value){let o={...i};"string"!=typeof o.formatting.label&&(o.formatting.label="${authority}${path}"),"string"!=typeof o.formatting.separator&&(o.formatting.separator=e_.sep),!(0,te.isProposedApiEnabled)(t.description,"contribLabelFormatterWorkspaceTooltip")&&o.formatting.workspaceTooltip&&(o.formatting.workspaceTooltip=void 0),this.formattersDisposables.set(o,e.registerFormatter(o))}for(let e of i.removed)for(let t of e.value)(0,e0.dispose)(this.formattersDisposables.get(t))})}};ts=(0,o.__decorate)([(0,o.__param)(0,e4.ILabelService)],ts),e1.Registry.as(d.Extensions.Workbench).registerWorkbenchContribution(ts,e9.LifecyclePhase.Restored);let ta=class extends e0.Disposable{async resolveRemoteEnvironment(){var e;let t=await this.remoteAgentService.getEnvironment();this.os=null!=(e=null==t?void 0:t.os)?e:ef.OS,this.userHome=await this.pathService.userHome()}findFormatting(e){let t;for(let i of this.formatters)if(i.scheme===e.scheme){if(!i.authority&&(!t||i.priority)){t=i;continue}if(!i.authority)continue;(0,e8.match)(i.authority.toLowerCase(),e.authority.toLowerCase())&&(!t||!t.authority||i.authority.length>t.authority.length||i.authority.length===t.authority.length&&i.priority)&&(t=i)}return t?t.formatting:void 0}getUriLabel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.findFormatting(e);i&&t.separator&&(i={...i,separator:t.separator});let o=this.doGetUriLabel(e,i,t);return!i&&t.separator?o.replace(tn,t.separator):o}doGetUriLabel(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return(0,e3.getPathLabel)(e,{os:this.os,tildify:this.userHome?{userHome:this.userHome}:void 0,relative:i.relative?{noPrefix:i.noPrefix,getWorkspace:()=>this.contextService.getWorkspace(),getWorkspaceFolder:e=>this.contextService.getWorkspaceFolder(e)}:void 0});if(i.relative&&this.contextService){let n=this.contextService.getWorkspaceFolder(e);if(!n){let t=this.contextService.getWorkspace().folders.at(0);t&&e.scheme!==t.uri.scheme&&e.path.startsWith(e_.posix.sep)&&(n=this.contextService.getWorkspaceFolder(t.uri.with({path:e.path})))}if(n){let r=this.formatUri(n.uri,t,i.noPrefix),s=this.formatUri(e,t,i.noPrefix),a=0;for(;s[a]&&s[a]===r[a];)a++;if(s[a]&&s[a]!==t.separator?a===r.length&&n.uri.path===e_.posix.sep&&(s=s.substring(a)):s=s.substring(1+a),this.contextService.getWorkspace().folders.length>1&&!i.noPrefix){var o;let e=null!=(o=null==n?void 0:n.name)?o:(0,eP.basenameOrAuthority)(n.uri);s=s?"".concat(e," • ").concat(s):e}return s}}return this.formatUri(e,t,i.noPrefix)}getUriBasenameLabel(e){let t=this.findFormatting(e),i=this.doGetUriLabel(e,t);return((null==t?void 0:t.separator)===e_.win32.sep?e_.win32:(null==t?void 0:t.separator)===e_.posix.sep?e_.posix:this.os===ef.OperatingSystem.Windows?e_.win32:e_.posix).basename(i)}getWorkspaceLabel(e,t){if((0,e2.isWorkspace)(e)){let i=(0,e2.toWorkspaceIdentifier)(e);return(0,e2.isSingleFolderWorkspaceIdentifier)(i)||(0,e2.isWorkspaceIdentifier)(i)?this.getWorkspaceLabel(i,t):""}return em.URI.isUri(e)?this.doGetSingleFolderWorkspaceLabel(e,t):(0,e2.isSingleFolderWorkspaceIdentifier)(e)?this.doGetSingleFolderWorkspaceLabel(e.uri,t):(0,e2.isWorkspaceIdentifier)(e)?this.doGetWorkspaceLabel(e.configPath,t):""}doGetWorkspaceLabel(e,t){let i;if((0,e2.isUntitledWorkspace)(e,this.environmentService))return(0,x.localize)(11642,"Untitled (Workspace)");if((0,e2.isTemporaryWorkspace)(e))return(0,x.localize)(11643,"Workspace");let o=(0,eP.basename)(e);switch(o.endsWith(e2.WORKSPACE_EXTENSION)&&(o=o.substr(0,o.length-e2.WORKSPACE_EXTENSION.length-1)),null==t?void 0:t.verbose){case e5.Verbosity.SHORT:i=o;break;case e5.Verbosity.LONG:i=(0,x.localize)(11644,"{0} (Workspace)",this.getUriLabel((0,eP.joinPath)((0,eP.dirname)(e),o)));break;case e5.Verbosity.MEDIUM:default:i=(0,x.localize)(11645,"{0} (Workspace)",o)}return(null==t?void 0:t.verbose)===e5.Verbosity.SHORT?i:this.appendWorkspaceSuffix(i,e)}doGetSingleFolderWorkspaceLabel(e,t){let i;switch(null==t?void 0:t.verbose){case e5.Verbosity.LONG:i=this.getUriLabel(e);break;case e5.Verbosity.SHORT:case e5.Verbosity.MEDIUM:default:i=(0,eP.basename)(e)||e_.posix.sep}return(null==t?void 0:t.verbose)===e5.Verbosity.SHORT?i:this.appendWorkspaceSuffix(i,e)}getSeparator(e,t){let i=this.findFormatting(em.URI.from({scheme:e,authority:t}));return(null==i?void 0:i.separator)||e_.posix.sep}getHostLabel(e,t){let i=this.findFormatting(em.URI.from({scheme:e,authority:t}));return(null==i?void 0:i.workspaceSuffix)||t||""}getHostTooltip(e,t){let i=this.findFormatting(em.URI.from({scheme:e,authority:t}));return null==i?void 0:i.workspaceTooltip}registerCachedFormatter(e){var t,i;let o=null!=(i=(t=this.storedFormatters).formatters)?i:t.formatters=[],n=o.findIndex(t=>t.scheme===e.scheme&&t.authority===e.authority);if(-1===n&&o.length>=50&&(n=49),-1===n)o.unshift(e);else{for(let e=n;e>0;e--)o[e]=o[e-1];o[0]=e}return this.storedFormattersMemento.saveMemento(),this.registerFormatter(e)}registerFormatter(e){return this.formatters.push(e),this._onDidChangeFormatters.fire({scheme:e.scheme}),{dispose:()=>{this.formatters=this.formatters.filter(t=>t!==e),this._onDidChangeFormatters.fire({scheme:e.scheme})}}}formatUri(e,t,i){var o;let n=t.label.replace(tr,(i,o,n,r)=>{switch(o){case"scheme":return e.scheme;case"authority":return e.authority;case"authoritySuffix":{let t=e.authority.indexOf("+");return -1===t?e.authority:e.authority.slice(t+1)}case"path":return t.stripPathStartingSeparator?e.path.slice(+(e.path[0]===t.separator)):e.path;default:if("query"===n){let{query:t}=e;if(t&&"{"===t[0]&&"}"===t[t.length-1])try{return JSON.parse(t)[r]||""}catch(e){}}return""}});return t.normalizeDriveLetter&&(o=n)&&":"===o[2]&&(n=n.charAt(1).toUpperCase()+n.substr(2)),t.tildify&&!i&&this.userHome&&(n=(0,e3.tildify)(n,this.userHome.fsPath,this.os)),t.authorityPrefix&&e.authority&&(n=t.authorityPrefix+n),n.replace(tn,t.separator)}appendWorkspaceSuffix(e,t){let i=this.findFormatting(t),o=i&&"string"==typeof i.workspaceSuffix?i.workspaceSuffix:void 0;return o?"".concat(e," [").concat(o,"]"):e}constructor(e,t,i,o,r,s){var a,l;super(),this.environmentService=e,this.contextService=t,this.pathService=i,this.remoteAgentService=o,this._onDidChangeFormatters=this._register(new K.Emitter({leakWarningThreshold:400})),this.onDidChangeFormatters=this._onDidChangeFormatters.event,this.os=ef.OS,this.userHome=i.defaultUriScheme===eS.Schemas.file?this.pathService.userHome({preferLocal:!0}):void 0;let d=this.storedFormattersMemento=new ti.Memento("cachedResourceLabelFormatters2",r);this.storedFormatters=d.getMemento(n.StorageScope.PROFILE,n.StorageTarget.MACHINE),this.formatters=(null==(l=this.storedFormatters)||null==(a=l.formatters)?void 0:a.slice())||[],this.resolveRemoteEnvironment()}};ta=(0,o.__decorate)([(0,o.__param)(0,eT.IWorkbenchEnvironmentService),(0,o.__param)(1,eR.IWorkspaceContextService),(0,o.__param)(2,eM.IPathService),(0,o.__param)(3,el.IRemoteAgentService),(0,o.__param)(4,tt.IStorageService),(0,o.__param)(5,e7.ILifecycleService)],ta);var tl=e.i(279691),td=e.i(878295),tc=e.i(609941),tu=e.i(720274),th=e.i(544421),tp=e.i(323235),tg=e.i(623947);let tm=class extends tc.EditorWorkerService{constructor(e,t,i,o,n){super(new td.WorkerDescriptor("vs/editor/common/services/editorSimpleWorker","TextEditorWorker"),e,t,i,o,n)}};tm=(0,o.__decorate)([(0,o.__param)(0,tp.IModelService),(0,o.__param)(1,tg.ITextResourceConfigurationService),(0,o.__param)(2,ep.ILogService),(0,o.__param)(3,tu.ILanguageConfigurationService),(0,o.__param)(4,th.ILanguageFeaturesService)],tm);let tv=class extends eF{constructor(e,t,i){var o;super(null!=(o=(0,u.getEnvironmentOverride)().userHome)?o:function(e,t){let i=t.getWorkspace(),o=i.folders.at(0);return o?o.uri:i.configuration?(0,eP.dirname)(i.configuration):em.URI.from({scheme:eF.findDefaultUriScheme(e,t),authority:e.remoteAuthority,path:"/"})}(t,i),e,t,i)}};if(tv=(0,o.__decorate)([(0,o.__param)(0,el.IRemoteAgentService),(0,o.__param)(1,eT.IWorkbenchEnvironmentService),(0,o.__param)(2,eR.IWorkspaceContextService)],tv),e.i(836387),e.i(633921),e.i(578725),e.i(247921),e.i(657170),e.i(68174),e.i(749351),e.i(131060),e.i(268850),e.i(261583),e.i(230632),e.i(380755),e.i(819515),e.i(890696),e.i(677367),e.i(810602),e.i(142968),e.i(71190),e.i(976204),e.i(256120),e.i(103072),e.i(756970),e.i(750364),e.i(886202),e.i(716199),e.i(790728),e.i(970469),e.i(24165),e.i(97201),e.i(43095),e.i(918496),e.i(782024),e.i(812541),e.i(259430),e.i(272137),e.i(390457),e.i(557260),e.i(362507),e.i(430252),e.i(395882),e.i(614535),e.i(928546),e.i(357790),e.i(273199),e.i(595156),e.i(52848),e.i(852656),e.i(395612),e.i(352700),e.i(796635),e.i(961698),null!=(i=window.monacoVscodeApiInitialized)&&i)throw Error("Another version of monaco-vscode-api has already been loaded.");async function t_(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;(0,h.checkServicesNotInitialized)(),(0,u.initialize)(i,o,n);let a=r.StandaloneServices.initialize({[c.IProductService.toString()]:(0,s.mixin)({version:"1.96.4",quality:"stable",commit:"cd4ee3b1c348a13bafd8f9ad8060705f6d4b9cba",nameShort:"Code - OSS",nameLong:"Code - OSS",applicationName:"code-oss",dataFolderName:".vscode-oss",urlProtocol:"code-oss",reportIssueUrl:"https://github.com/microsoft/vscode/issues/new",licenseName:"MIT",licenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt",serverApplicationName:"code-server-oss"},null!=(t=o.productConfiguration)?t:{}),...(0,_.default)(),...(0,v.default)(),...(0,m.default)(),...(0,g.default)(),...(0,p.default)(),...(0,f.default)(),...{[C.IRequestService.toString()]:new y.SyncDescriptor(eg,[],!0),[ek.IDownloadService.toString()]:new y.SyncDescriptor(eA,[],!0),[b.IDecorationsService.toString()]:new y.SyncDescriptor(en,[],!0),[S.IJSONEditingService.toString()]:new y.SyncDescriptor(F,[],!0),[w.ITreeViewsDnDService.toString()]:new y.SyncDescriptor(E.TreeViewsDnDService,[],!0),[I.IURLService.toString()]:new y.SyncDescriptor(eE,[],!0),[ex.ICanonicalUriService.toString()]:new y.SyncDescriptor(eI,[],!1),[eD.IUserActivityService.toString()]:new y.SyncDescriptor(ez,[],!0),[eL.IWorkingCopyFileService.toString()]:new y.SyncDescriptor(eX,[],!1),[eM.IPathService.toString()]:new y.SyncDescriptor(tv,[],!0),[e$.ITrustedDomainService.toString()]:new y.SyncDescriptor(eJ.TrustedDomainService,[],!0),[e4.ILabelService.toString()]:new y.SyncDescriptor(ta,[],!0),[tl.IEditorWorkerService.toString()]:new y.SyncDescriptor(tm,[],!0)},...e});await (0,h.startup)(a)}async function tf(e){return await (0,h.waitServicesReady)(),r.StandaloneServices.get(e)}function ty(e){if(h.serviceInitializedBarrier.isOpen())return r.StandaloneServices.get(a.IInstantiationService).invokeFunction(e);let t=new l.DisposableStore,i=t.add(h.serviceInitializedEmitter.event(()=>{i.dispose(),t.add(r.StandaloneServices.get(a.IInstantiationService).invokeFunction(e))}));return t}window.monacoVscodeApiInitialized=!0,e.s(["getService",()=>tf,"initialize",()=>t_,"withReadyServices",()=>ty],693941)}]);